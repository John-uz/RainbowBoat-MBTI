(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function hg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mg={exports:{}},el={},gg={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fr=Symbol.for("react.element"),MS=Symbol.for("react.portal"),bS=Symbol.for("react.fragment"),DS=Symbol.for("react.strict_mode"),LS=Symbol.for("react.profiler"),FS=Symbol.for("react.provider"),US=Symbol.for("react.context"),VS=Symbol.for("react.forward_ref"),GS=Symbol.for("react.suspense"),BS=Symbol.for("react.memo"),OS=Symbol.for("react.lazy"),of=Symbol.iterator;function HS(e){return e===null||typeof e!="object"?null:(e=of&&e[of]||e["@@iterator"],typeof e=="function"?e:null)}var yg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vg=Object.assign,xg={};function ni(e,t,n){this.props=e,this.context=t,this.refs=xg,this.updater=n||yg}ni.prototype.isReactComponent={};ni.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ni.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sg(){}Sg.prototype=ni.prototype;function ic(e,t,n){this.props=e,this.context=t,this.refs=xg,this.updater=n||yg}var rc=ic.prototype=new Sg;rc.constructor=ic;vg(rc,ni.prototype);rc.isPureReactComponent=!0;var rf=Array.isArray,Tg=Object.prototype.hasOwnProperty,sc={current:null},Eg={key:!0,ref:!0,__self:!0,__source:!0};function wg(e,t,n){var o,i={},r=null,s=null;if(t!=null)for(o in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(r=""+t.key),t)Tg.call(t,o)&&!Eg.hasOwnProperty(o)&&(i[o]=t[o]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(o in a=e.defaultProps,a)i[o]===void 0&&(i[o]=a[o]);return{$$typeof:fr,type:e,key:r,ref:s,props:i,_owner:sc.current}}function zS(e,t){return{$$typeof:fr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lc(e){return typeof e=="object"&&e!==null&&e.$$typeof===fr}function $S(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sf=/\/+/g;function kl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$S(""+e.key):t.toString(36)}function Qr(e,t,n,o,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case fr:case MS:s=!0}}if(s)return s=e,i=i(s),e=o===""?"."+kl(s,0):o,rf(i)?(n="",e!=null&&(n=e.replace(sf,"$&/")+"/"),Qr(i,t,n,"",function(u){return u})):i!=null&&(lc(i)&&(i=zS(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(sf,"$&/")+"/")+e)),t.push(i)),1;if(s=0,o=o===""?".":o+":",rf(e))for(var a=0;a<e.length;a++){r=e[a];var l=o+kl(r,a);s+=Qr(r,t,n,l,i)}else if(l=HS(e),typeof l=="function")for(e=l.call(e),a=0;!(r=e.next()).done;)r=r.value,l=o+kl(r,a++),s+=Qr(r,t,n,l,i);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Tr(e,t,n){if(e==null)return e;var o=[],i=0;return Qr(e,o,"","",function(r){return t.call(n,r,i++)}),o}function qS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},Xr={transition:null},JS={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Xr,ReactCurrentOwner:sc};function Cg(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Tr,forEach:function(e,t,n){Tr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tr(e,function(){t++}),t},toArray:function(e){return Tr(e,function(t){return t})||[]},only:function(e){if(!lc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=ni;Z.Fragment=bS;Z.Profiler=LS;Z.PureComponent=ic;Z.StrictMode=DS;Z.Suspense=GS;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JS;Z.act=Cg;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=vg({},e.props),i=e.key,r=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,s=sc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Tg.call(t,l)&&!Eg.hasOwnProperty(l)&&(o[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}return{$$typeof:fr,type:e.type,key:i,ref:r,props:o,_owner:s}};Z.createContext=function(e){return e={$$typeof:US,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FS,_context:e},e.Consumer=e};Z.createElement=wg;Z.createFactory=function(e){var t=wg.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:VS,render:e}};Z.isValidElement=lc;Z.lazy=function(e){return{$$typeof:OS,_payload:{_status:-1,_result:e},_init:qS}};Z.memo=function(e,t){return{$$typeof:BS,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Xr.transition;Xr.transition={};try{e()}finally{Xr.transition=t}};Z.unstable_act=Cg;Z.useCallback=function(e,t){return Xe.current.useCallback(e,t)};Z.useContext=function(e){return Xe.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Xe.current.useEffect(e,t)};Z.useId=function(){return Xe.current.useId()};Z.useImperativeHandle=function(e,t,n){return Xe.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Xe.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Xe.current.useReducer(e,t,n)};Z.useRef=function(e){return Xe.current.useRef(e)};Z.useState=function(e){return Xe.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Xe.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Xe.current.useTransition()};Z.version="18.3.1";gg.exports=Z;var k=gg.exports;const Ce=hg(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS=k,KS=Symbol.for("react.element"),YS=Symbol.for("react.fragment"),jS=Object.prototype.hasOwnProperty,QS=WS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XS={key:!0,ref:!0,__self:!0,__source:!0};function _g(e,t,n){var o,i={},r=null,s=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(s=t.ref);for(o in t)jS.call(t,o)&&!XS.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)i[o]===void 0&&(i[o]=t[o]);return{$$typeof:KS,type:e,key:r,ref:s,props:i,_owner:QS.current}}el.Fragment=YS;el.jsx=_g;el.jsxs=_g;mg.exports=el;var m=mg.exports,Sa={},Ig={exports:{}},mt={},Ag={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,B){var z=P.length;P.push(B);e:for(;0<z;){var F=z-1>>>1,H=P[F];if(0<i(H,B))P[F]=B,P[z]=H,z=F;else break e}}function n(P){return P.length===0?null:P[0]}function o(P){if(P.length===0)return null;var B=P[0],z=P.pop();if(z!==B){P[0]=z;e:for(var F=0,H=P.length,ie=H>>>1;F<ie;){var Ge=2*(F+1)-1,yt=P[Ge],at=Ge+1,zt=P[at];if(0>i(yt,z))at<H&&0>i(zt,yt)?(P[F]=zt,P[at]=z,F=at):(P[F]=yt,P[Ge]=z,F=Ge);else if(at<H&&0>i(zt,z))P[F]=zt,P[at]=z,F=at;else break e}}return B}function i(P,B){var z=P.sortIndex-B.sortIndex;return z!==0?z:P.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,h=null,p=3,g=!1,v=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var B=n(u);B!==null;){if(B.callback===null)o(u);else if(B.startTime<=P)o(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function w(P){if(T=!1,x(P),!v)if(n(l)!==null)v=!0,se(_);else{var B=n(u);B!==null&&ee(w,B.startTime-P)}}function _(P,B){v=!1,T&&(T=!1,S(A),A=-1),g=!0;var z=p;try{for(x(B),h=n(l);h!==null&&(!(h.expirationTime>B)||P&&!O());){var F=h.callback;if(typeof F=="function"){h.callback=null,p=h.priorityLevel;var H=F(h.expirationTime<=B);B=e.unstable_now(),typeof H=="function"?h.callback=H:h===n(l)&&o(l),x(B)}else o(l);h=n(l)}if(h!==null)var ie=!0;else{var Ge=n(u);Ge!==null&&ee(w,Ge.startTime-B),ie=!1}return ie}finally{h=null,p=z,g=!1}}var C=!1,I=null,A=-1,b=5,D=-1;function O(){return!(e.unstable_now()-D<b)}function de(){if(I!==null){var P=e.unstable_now();D=P;var B=!0;try{B=I(!0,P)}finally{B?Q():(C=!1,I=null)}}else C=!1}var Q;if(typeof y=="function")Q=function(){y(de)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,fe=oe.port2;oe.port1.onmessage=de,Q=function(){fe.postMessage(null)}}else Q=function(){E(de,0)};function se(P){I=P,C||(C=!0,Q())}function ee(P,B){A=E(function(){P(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,se(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var z=p;p=B;try{return P()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var z=p;p=P;try{return B()}finally{p=z}},e.unstable_scheduleCallback=function(P,B,z){var F=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?F+z:F):z=F,P){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,P={id:d++,callback:B,priorityLevel:P,startTime:z,expirationTime:H,sortIndex:-1},z>F?(P.sortIndex=z,t(u,P),n(l)===null&&P===n(u)&&(T?(S(A),A=-1):T=!0,ee(w,z-F))):(P.sortIndex=H,t(l,P),v||g||(v=!0,se(_))),P},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(P){var B=p;return function(){var z=p;p=B;try{return P.apply(this,arguments)}finally{p=z}}}})(Ng);Ag.exports=Ng;var ZS=Ag.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT=k,ht=ZS;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kg=new Set,$i={};function ao(e,t){Wo(e,t),Wo(e+"Capture",t)}function Wo(e,t){for($i[e]=t,e=0;e<t.length;e++)kg.add(t[e])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=Object.prototype.hasOwnProperty,tT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lf={},af={};function nT(e){return Ta.call(af,e)?!0:Ta.call(lf,e)?!1:tT.test(e)?af[e]=!0:(lf[e]=!0,!1)}function oT(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iT(e,t,n,o){if(t===null||typeof t>"u"||oT(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,o,i,r,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var ac=/[\-:]([a-z])/g;function uc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ac,uc);Ve[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ac,uc);Ve[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ac,uc);Ve[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function cc(e,t,n,o){var i=Ve.hasOwnProperty(t)?Ve[t]:null;(i!==null?i.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iT(t,n,i,o)&&(n=null),o||i===null?nT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,o=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var fn=eT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Er=Symbol.for("react.element"),go=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),dc=Symbol.for("react.strict_mode"),Ea=Symbol.for("react.profiler"),Pg=Symbol.for("react.provider"),Rg=Symbol.for("react.context"),fc=Symbol.for("react.forward_ref"),wa=Symbol.for("react.suspense"),Ca=Symbol.for("react.suspense_list"),pc=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),Mg=Symbol.for("react.offscreen"),uf=Symbol.iterator;function fi(e){return e===null||typeof e!="object"?null:(e=uf&&e[uf]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Pl;function wi(e){if(Pl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pl=t&&t[1]||""}return`
`+Pl+e}var Rl=!1;function Ml(e,t){if(!e||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var o=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){o=u}e.call(t.prototype)}else{try{throw Error()}catch(u){o=u}e()}}catch(u){if(u&&o&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=o.stack.split(`
`),s=i.length-1,a=r.length-1;1<=s&&0<=a&&i[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==r[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==r[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wi(e):""}function rT(e){switch(e.tag){case 5:return wi(e.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 2:case 15:return e=Ml(e.type,!1),e;case 11:return e=Ml(e.type.render,!1),e;case 1:return e=Ml(e.type,!0),e;default:return""}}function _a(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yo:return"Fragment";case go:return"Portal";case Ea:return"Profiler";case dc:return"StrictMode";case wa:return"Suspense";case Ca:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rg:return(e.displayName||"Context")+".Consumer";case Pg:return(e._context.displayName||"Context")+".Provider";case fc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pc:return t=e.displayName||null,t!==null?t:_a(e.type)||"Memo";case vn:t=e._payload,e=e._init;try{return _a(e(t))}catch{}}return null}function sT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _a(t);case 8:return t===dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lT(e){var t=bg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){o=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wr(e){e._valueTracker||(e._valueTracker=lT(e))}function Dg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=bg(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ia(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cf(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lg(e,t){t=t.checked,t!=null&&cc(e,"checked",t,!1)}function Aa(e,t){Lg(e,t);var n=bn(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Na(e,t.type,n):t.hasOwnProperty("defaultValue")&&Na(e,t.type,bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function df(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Na(e,t,n){(t!=="number"||ms(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ci=Array.isArray;function Fo(e,t,n,o){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&o&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,o&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ff(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Ci(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bn(n)}}function Fg(e,t){var n=bn(t.value),o=bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function pf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ug(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ug(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cr,Vg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aT=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(e){aT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ki[t]=ki[e]})});function Gg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ki.hasOwnProperty(e)&&ki[e]?(""+t).trim():t+"px"}function Bg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,i=Gg(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,i):e[n]=i}}var uT=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(e,t){if(t){if(uT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ma(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ba=null;function hc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Uo=null,Vo=null;function hf(e){if(e=mr(e)){if(typeof Da!="function")throw Error(L(280));var t=e.stateNode;t&&(t=rl(t),Da(e.stateNode,e.type,t))}}function Og(e){Uo?Vo?Vo.push(e):Vo=[e]:Uo=e}function Hg(){if(Uo){var e=Uo,t=Vo;if(Vo=Uo=null,hf(e),t)for(e=0;e<t.length;e++)hf(t[e])}}function zg(e,t){return e(t)}function $g(){}var bl=!1;function qg(e,t,n){if(bl)return e(t,n);bl=!0;try{return zg(e,t,n)}finally{bl=!1,(Uo!==null||Vo!==null)&&($g(),Hg())}}function Ji(e,t){var n=e.stateNode;if(n===null)return null;var o=rl(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var La=!1;if(rn)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){La=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{La=!1}function cT(e,t,n,o,i,r,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Pi=!1,gs=null,ys=!1,Fa=null,dT={onError:function(e){Pi=!0,gs=e}};function fT(e,t,n,o,i,r,s,a,l){Pi=!1,gs=null,cT.apply(dT,arguments)}function pT(e,t,n,o,i,r,s,a,l){if(fT.apply(this,arguments),Pi){if(Pi){var u=gs;Pi=!1,gs=null}else throw Error(L(198));ys||(ys=!0,Fa=u)}}function uo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mf(e){if(uo(e)!==e)throw Error(L(188))}function hT(e){var t=e.alternate;if(!t){if(t=uo(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(o=i.return,o!==null){n=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return mf(i),e;if(r===o)return mf(i),t;r=r.sibling}throw Error(L(188))}if(n.return!==o.return)n=i,o=r;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,o=r;break}if(a===o){s=!0,o=i,n=r;break}a=a.sibling}if(!s){for(a=r.child;a;){if(a===n){s=!0,n=r,o=i;break}if(a===o){s=!0,o=r,n=i;break}a=a.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==o)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Wg(e){return e=hT(e),e!==null?Kg(e):null}function Kg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kg(e);if(t!==null)return t;e=e.sibling}return null}var Yg=ht.unstable_scheduleCallback,gf=ht.unstable_cancelCallback,mT=ht.unstable_shouldYield,gT=ht.unstable_requestPaint,we=ht.unstable_now,yT=ht.unstable_getCurrentPriorityLevel,mc=ht.unstable_ImmediatePriority,jg=ht.unstable_UserBlockingPriority,vs=ht.unstable_NormalPriority,vT=ht.unstable_LowPriority,Qg=ht.unstable_IdlePriority,tl=null,Yt=null;function xT(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(tl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:ET,ST=Math.log,TT=Math.LN2;function ET(e){return e>>>=0,e===0?32:31-(ST(e)/TT|0)|0}var _r=64,Ir=4194304;function _i(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xs(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,i=e.suspendedLanes,r=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?o=_i(a):(r&=s,r!==0&&(o=_i(r)))}else s=n&~i,s!==0?o=_i(s):r!==0&&(o=_i(r));if(o===0)return 0;if(t!==0&&t!==o&&!(t&i)&&(i=o&-o,r=t&-t,i>=r||i===16&&(r&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-Ut(t),i=1<<n,o|=e[n],t&=~i;return o}function wT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CT(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-Ut(r),a=1<<s,l=i[s];l===-1?(!(a&n)||a&o)&&(i[s]=wT(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}function Ua(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xg(){var e=_r;return _r<<=1,!(_r&4194240)&&(_r=64),e}function Dl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function _T(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ut(n),r=1<<i;t[i]=0,o[i]=-1,e[i]=-1,n&=~r}}function gc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Ut(n),i=1<<o;i&t|e[o]&t&&(e[o]|=t),n&=~i}}var re=0;function Zg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var e0,yc,t0,n0,o0,Va=!1,Ar=[],_n=null,In=null,An=null,Wi=new Map,Ki=new Map,Sn=[],IT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yf(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(t.pointerId)}}function hi(e,t,n,o,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},t!==null&&(t=mr(t),t!==null&&yc(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function AT(e,t,n,o,i){switch(t){case"focusin":return _n=hi(_n,e,t,n,o,i),!0;case"dragenter":return In=hi(In,e,t,n,o,i),!0;case"mouseover":return An=hi(An,e,t,n,o,i),!0;case"pointerover":var r=i.pointerId;return Wi.set(r,hi(Wi.get(r)||null,e,t,n,o,i)),!0;case"gotpointercapture":return r=i.pointerId,Ki.set(r,hi(Ki.get(r)||null,e,t,n,o,i)),!0}return!1}function i0(e){var t=Wn(e.target);if(t!==null){var n=uo(t);if(n!==null){if(t=n.tag,t===13){if(t=Jg(n),t!==null){e.blockedOn=t,o0(e.priority,function(){t0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);ba=o,n.target.dispatchEvent(o),ba=null}else return t=mr(n),t!==null&&yc(t),e.blockedOn=n,!1;t.shift()}return!0}function vf(e,t,n){Zr(e)&&n.delete(t)}function NT(){Va=!1,_n!==null&&Zr(_n)&&(_n=null),In!==null&&Zr(In)&&(In=null),An!==null&&Zr(An)&&(An=null),Wi.forEach(vf),Ki.forEach(vf)}function mi(e,t){e.blockedOn===t&&(e.blockedOn=null,Va||(Va=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,NT)))}function Yi(e){function t(i){return mi(i,e)}if(0<Ar.length){mi(Ar[0],e);for(var n=1;n<Ar.length;n++){var o=Ar[n];o.blockedOn===e&&(o.blockedOn=null)}}for(_n!==null&&mi(_n,e),In!==null&&mi(In,e),An!==null&&mi(An,e),Wi.forEach(t),Ki.forEach(t),n=0;n<Sn.length;n++)o=Sn[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)i0(n),n.blockedOn===null&&Sn.shift()}var Go=fn.ReactCurrentBatchConfig,Ss=!0;function kT(e,t,n,o){var i=re,r=Go.transition;Go.transition=null;try{re=1,vc(e,t,n,o)}finally{re=i,Go.transition=r}}function PT(e,t,n,o){var i=re,r=Go.transition;Go.transition=null;try{re=4,vc(e,t,n,o)}finally{re=i,Go.transition=r}}function vc(e,t,n,o){if(Ss){var i=Ga(e,t,n,o);if(i===null)$l(e,t,o,Ts,n),yf(e,o);else if(AT(i,e,t,n,o))o.stopPropagation();else if(yf(e,o),t&4&&-1<IT.indexOf(e)){for(;i!==null;){var r=mr(i);if(r!==null&&e0(r),r=Ga(e,t,n,o),r===null&&$l(e,t,o,Ts,n),r===i)break;i=r}i!==null&&o.stopPropagation()}else $l(e,t,o,null,n)}}var Ts=null;function Ga(e,t,n,o){if(Ts=null,e=hc(o),e=Wn(e),e!==null)if(t=uo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ts=e,null}function r0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yT()){case mc:return 1;case jg:return 4;case vs:case vT:return 16;case Qg:return 536870912;default:return 16}default:return 16}}var En=null,xc=null,es=null;function s0(){if(es)return es;var e,t=xc,n=t.length,o,i="value"in En?En.value:En.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(o=1;o<=s&&t[n-o]===i[r-o];o++);return es=i.slice(e,1<o?1-o:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nr(){return!0}function xf(){return!1}function gt(e){function t(n,o,i,r,s){this._reactName=n,this._targetInst=i,this.type=o,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Nr:xf,this.isPropagationStopped=xf,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),t}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sc=gt(oi),hr=ve({},oi,{view:0,detail:0}),RT=gt(hr),Ll,Fl,gi,nl=ve({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(Ll=e.screenX-gi.screenX,Fl=e.screenY-gi.screenY):Fl=Ll=0,gi=e),Ll)},movementY:function(e){return"movementY"in e?e.movementY:Fl}}),Sf=gt(nl),MT=ve({},nl,{dataTransfer:0}),bT=gt(MT),DT=ve({},hr,{relatedTarget:0}),Ul=gt(DT),LT=ve({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),FT=gt(LT),UT=ve({},oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VT=gt(UT),GT=ve({},oi,{data:0}),Tf=gt(GT),BT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HT[e])?!!t[e]:!1}function Tc(){return zT}var $T=ve({},hr,{key:function(e){if(e.key){var t=BT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(e){return e.type==="keypress"?ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qT=gt($T),JT=ve({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=gt(JT),WT=ve({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),KT=gt(WT),YT=ve({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),jT=gt(YT),QT=ve({},nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XT=gt(QT),ZT=[9,13,27,32],Ec=rn&&"CompositionEvent"in window,Ri=null;rn&&"documentMode"in document&&(Ri=document.documentMode);var eE=rn&&"TextEvent"in window&&!Ri,l0=rn&&(!Ec||Ri&&8<Ri&&11>=Ri),wf=" ",Cf=!1;function a0(e,t){switch(e){case"keyup":return ZT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vo=!1;function tE(e,t){switch(e){case"compositionend":return u0(t);case"keypress":return t.which!==32?null:(Cf=!0,wf);case"textInput":return e=t.data,e===wf&&Cf?null:e;default:return null}}function nE(e,t){if(vo)return e==="compositionend"||!Ec&&a0(e,t)?(e=s0(),es=xc=En=null,vo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return l0&&t.locale!=="ko"?null:t.data;default:return null}}var oE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _f(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oE[e.type]:t==="textarea"}function c0(e,t,n,o){Og(o),t=Es(t,"onChange"),0<t.length&&(n=new Sc("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Mi=null,ji=null;function iE(e){T0(e,0)}function ol(e){var t=To(e);if(Dg(t))return e}function rE(e,t){if(e==="change")return t}var d0=!1;if(rn){var Vl;if(rn){var Gl="oninput"in document;if(!Gl){var If=document.createElement("div");If.setAttribute("oninput","return;"),Gl=typeof If.oninput=="function"}Vl=Gl}else Vl=!1;d0=Vl&&(!document.documentMode||9<document.documentMode)}function Af(){Mi&&(Mi.detachEvent("onpropertychange",f0),ji=Mi=null)}function f0(e){if(e.propertyName==="value"&&ol(ji)){var t=[];c0(t,ji,e,hc(e)),qg(iE,t)}}function sE(e,t,n){e==="focusin"?(Af(),Mi=t,ji=n,Mi.attachEvent("onpropertychange",f0)):e==="focusout"&&Af()}function lE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(ji)}function aE(e,t){if(e==="click")return ol(t)}function uE(e,t){if(e==="input"||e==="change")return ol(t)}function cE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:cE;function Qi(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!Ta.call(t,i)||!Ot(e[i],t[i]))return!1}return!0}function Nf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kf(e,t){var n=Nf(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nf(n)}}function p0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?p0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h0(){for(var e=window,t=ms();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ms(e.document)}return t}function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dE(e){var t=h0(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&p0(n.ownerDocument.documentElement,n)){if(o!==null&&wc(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,r=Math.min(o.start,i);o=o.end===void 0?r:Math.min(o.end,i),!e.extend&&r>o&&(i=o,o=r,r=i),i=kf(n,r);var s=kf(n,o);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),r>o?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fE=rn&&"documentMode"in document&&11>=document.documentMode,xo=null,Ba=null,bi=null,Oa=!1;function Pf(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oa||xo==null||xo!==ms(o)||(o=xo,"selectionStart"in o&&wc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),bi&&Qi(bi,o)||(bi=o,o=Es(Ba,"onSelect"),0<o.length&&(t=new Sc("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=xo)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var So={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Bl={},m0={};rn&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function il(e){if(Bl[e])return Bl[e];if(!So[e])return e;var t=So[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in m0)return Bl[e]=t[n];return e}var g0=il("animationend"),y0=il("animationiteration"),v0=il("animationstart"),x0=il("transitionend"),S0=new Map,Rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){S0.set(e,t),ao(t,[e])}for(var Ol=0;Ol<Rf.length;Ol++){var Hl=Rf[Ol],pE=Hl.toLowerCase(),hE=Hl[0].toUpperCase()+Hl.slice(1);Un(pE,"on"+hE)}Un(g0,"onAnimationEnd");Un(y0,"onAnimationIteration");Un(v0,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(x0,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function Mf(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,pT(o,t,void 0,e),e.currentTarget=null}function T0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],i=o.event;o=o.listeners;e:{var r=void 0;if(t)for(var s=o.length-1;0<=s;s--){var a=o[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;Mf(i,a,u),r=l}else for(s=0;s<o.length;s++){if(a=o[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;Mf(i,a,u),r=l}}}if(ys)throw e=Fa,ys=!1,Fa=null,e}function ue(e,t){var n=t[Ja];n===void 0&&(n=t[Ja]=new Set);var o=e+"__bubble";n.has(o)||(E0(t,e,2,!1),n.add(o))}function zl(e,t,n){var o=0;t&&(o|=4),E0(n,e,o,t)}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Xi(e){if(!e[Pr]){e[Pr]=!0,kg.forEach(function(n){n!=="selectionchange"&&(mE.has(n)||zl(n,!1,e),zl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pr]||(t[Pr]=!0,zl("selectionchange",!1,t))}}function E0(e,t,n,o){switch(r0(t)){case 1:var i=kT;break;case 4:i=PT;break;default:i=vc}n=i.bind(null,t,n,e),i=void 0,!La||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),o?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $l(e,t,n,o,i){var r=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var a=o.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=o.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Wn(a),s===null)return;if(l=s.tag,l===5||l===6){o=r=s;continue e}a=a.parentNode}}o=o.return}qg(function(){var u=r,d=hc(n),h=[];e:{var p=S0.get(e);if(p!==void 0){var g=Sc,v=e;switch(e){case"keypress":if(ts(n)===0)break e;case"keydown":case"keyup":g=qT;break;case"focusin":v="focus",g=Ul;break;case"focusout":v="blur",g=Ul;break;case"beforeblur":case"afterblur":g=Ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=bT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=KT;break;case g0:case y0:case v0:g=FT;break;case x0:g=jT;break;case"scroll":g=RT;break;case"wheel":g=XT;break;case"copy":case"cut":case"paste":g=VT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ef}var T=(t&4)!==0,E=!T&&e==="scroll",S=T?p!==null?p+"Capture":null:p;T=[];for(var y=u,x;y!==null;){x=y;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,S!==null&&(w=Ji(y,S),w!=null&&T.push(Zi(y,w,x)))),E)break;y=y.return}0<T.length&&(p=new g(p,v,null,n,d),h.push({event:p,listeners:T}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==ba&&(v=n.relatedTarget||n.fromElement)&&(Wn(v)||v[sn]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Wn(v):null,v!==null&&(E=uo(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(T=Sf,w="onMouseLeave",S="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(T=Ef,w="onPointerLeave",S="onPointerEnter",y="pointer"),E=g==null?p:To(g),x=v==null?p:To(v),p=new T(w,y+"leave",g,n,d),p.target=E,p.relatedTarget=x,w=null,Wn(d)===u&&(T=new T(S,y+"enter",v,n,d),T.target=x,T.relatedTarget=E,w=T),E=w,g&&v)t:{for(T=g,S=v,y=0,x=T;x;x=fo(x))y++;for(x=0,w=S;w;w=fo(w))x++;for(;0<y-x;)T=fo(T),y--;for(;0<x-y;)S=fo(S),x--;for(;y--;){if(T===S||S!==null&&T===S.alternate)break t;T=fo(T),S=fo(S)}T=null}else T=null;g!==null&&bf(h,p,g,T,!1),v!==null&&E!==null&&bf(h,E,v,T,!0)}}e:{if(p=u?To(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var _=rE;else if(_f(p))if(d0)_=uE;else{_=lE;var C=sE}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=aE);if(_&&(_=_(e,u))){c0(h,_,n,d);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Na(p,"number",p.value)}switch(C=u?To(u):window,e){case"focusin":(_f(C)||C.contentEditable==="true")&&(xo=C,Ba=u,bi=null);break;case"focusout":bi=Ba=xo=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,Pf(h,n,d);break;case"selectionchange":if(fE)break;case"keydown":case"keyup":Pf(h,n,d)}var I;if(Ec)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else vo?a0(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(l0&&n.locale!=="ko"&&(vo||A!=="onCompositionStart"?A==="onCompositionEnd"&&vo&&(I=s0()):(En=d,xc="value"in En?En.value:En.textContent,vo=!0)),C=Es(u,A),0<C.length&&(A=new Tf(A,e,null,n,d),h.push({event:A,listeners:C}),I?A.data=I:(I=u0(n),I!==null&&(A.data=I)))),(I=eE?tE(e,n):nE(e,n))&&(u=Es(u,"onBeforeInput"),0<u.length&&(d=new Tf("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}T0(h,t)})}function Zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Es(e,t){for(var n=t+"Capture",o=[];e!==null;){var i=e,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Ji(e,n),r!=null&&o.unshift(Zi(e,r,i)),r=Ji(e,t),r!=null&&o.push(Zi(e,r,i))),e=e.return}return o}function fo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bf(e,t,n,o,i){for(var r=t._reactName,s=[];n!==null&&n!==o;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===o)break;a.tag===5&&u!==null&&(a=u,i?(l=Ji(n,r),l!=null&&s.unshift(Zi(n,l,a))):i||(l=Ji(n,r),l!=null&&s.push(Zi(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var gE=/\r\n?/g,yE=/\u0000|\uFFFD/g;function Df(e){return(typeof e=="string"?e:""+e).replace(gE,`
`).replace(yE,"")}function Rr(e,t,n){if(t=Df(t),Df(e)!==t&&n)throw Error(L(425))}function ws(){}var Ha=null,za=null;function $a(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qa=typeof setTimeout=="function"?setTimeout:void 0,vE=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(e){return Lf.resolve(null).then(e).catch(SE)}:qa;function SE(e){setTimeout(function(){throw e})}function ql(e,t){var n=t,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(o===0){e.removeChild(i),Yi(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=i}while(n);Yi(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ff(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),Wt="__reactFiber$"+ii,er="__reactProps$"+ii,sn="__reactContainer$"+ii,Ja="__reactEvents$"+ii,TE="__reactListeners$"+ii,EE="__reactHandles$"+ii;function Wn(e){var t=e[Wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ff(e);e!==null;){if(n=e[Wt])return n;e=Ff(e)}return t}e=n,n=e.parentNode}return null}function mr(e){return e=e[Wt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function To(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function rl(e){return e[er]||null}var Wa=[],Eo=-1;function Vn(e){return{current:e}}function ce(e){0>Eo||(e.current=Wa[Eo],Wa[Eo]=null,Eo--)}function ae(e,t){Eo++,Wa[Eo]=e.current,e.current=t}var Dn={},Je=Vn(Dn),rt=Vn(!1),no=Dn;function Ko(e,t){var n=e.type.contextTypes;if(!n)return Dn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=t[r];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function st(e){return e=e.childContextTypes,e!=null}function Cs(){ce(rt),ce(Je)}function Uf(e,t,n){if(Je.current!==Dn)throw Error(L(168));ae(Je,t),ae(rt,n)}function w0(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var i in o)if(!(i in t))throw Error(L(108,sT(e)||"Unknown",i));return ve({},n,o)}function _s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,no=Je.current,ae(Je,e),ae(rt,rt.current),!0}function Vf(e,t,n){var o=e.stateNode;if(!o)throw Error(L(169));n?(e=w0(e,t,no),o.__reactInternalMemoizedMergedChildContext=e,ce(rt),ce(Je),ae(Je,e)):ce(rt),ae(rt,n)}var en=null,sl=!1,Jl=!1;function C0(e){en===null?en=[e]:en.push(e)}function wE(e){sl=!0,C0(e)}function Gn(){if(!Jl&&en!==null){Jl=!0;var e=0,t=re;try{var n=en;for(re=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}en=null,sl=!1}catch(i){throw en!==null&&(en=en.slice(e+1)),Yg(mc,Gn),i}finally{re=t,Jl=!1}}return null}var wo=[],Co=0,Is=null,As=0,St=[],Tt=0,oo=null,tn=1,nn="";function zn(e,t){wo[Co++]=As,wo[Co++]=Is,Is=e,As=t}function _0(e,t,n){St[Tt++]=tn,St[Tt++]=nn,St[Tt++]=oo,oo=e;var o=tn;e=nn;var i=32-Ut(o)-1;o&=~(1<<i),n+=1;var r=32-Ut(t)+i;if(30<r){var s=i-i%5;r=(o&(1<<s)-1).toString(32),o>>=s,i-=s,tn=1<<32-Ut(t)+i|n<<i|o,nn=r+e}else tn=1<<r|n<<i|o,nn=e}function Cc(e){e.return!==null&&(zn(e,1),_0(e,1,0))}function _c(e){for(;e===Is;)Is=wo[--Co],wo[Co]=null,As=wo[--Co],wo[Co]=null;for(;e===oo;)oo=St[--Tt],St[Tt]=null,nn=St[--Tt],St[Tt]=null,tn=St[--Tt],St[Tt]=null}var ft=null,dt=null,pe=!1,Ft=null;function I0(e,t){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,dt=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=oo!==null?{id:tn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ft=e,dt=null,!0):!1;default:return!1}}function Ka(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ya(e){if(pe){var t=dt;if(t){var n=t;if(!Gf(e,t)){if(Ka(e))throw Error(L(418));t=Nn(n.nextSibling);var o=ft;t&&Gf(e,t)?I0(o,n):(e.flags=e.flags&-4097|2,pe=!1,ft=e)}}else{if(Ka(e))throw Error(L(418));e.flags=e.flags&-4097|2,pe=!1,ft=e}}}function Bf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function Mr(e){if(e!==ft)return!1;if(!pe)return Bf(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$a(e.type,e.memoizedProps)),t&&(t=dt)){if(Ka(e))throw A0(),Error(L(418));for(;t;)I0(e,t),t=Nn(t.nextSibling)}if(Bf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=Nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ft?Nn(e.stateNode.nextSibling):null;return!0}function A0(){for(var e=dt;e;)e=Nn(e.nextSibling)}function Yo(){dt=ft=null,pe=!1}function Ic(e){Ft===null?Ft=[e]:Ft.push(e)}var CE=fn.ReactCurrentBatchConfig;function yi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var o=n.stateNode}if(!o)throw Error(L(147,e));var i=o,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(s){var a=i.refs;s===null?delete a[r]:a[r]=s},t._stringRef=r,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function br(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Of(e){var t=e._init;return t(e._payload)}function N0(e){function t(S,y){if(e){var x=S.deletions;x===null?(S.deletions=[y],S.flags|=16):x.push(y)}}function n(S,y){if(!e)return null;for(;y!==null;)t(S,y),y=y.sibling;return null}function o(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function i(S,y){return S=Mn(S,y),S.index=0,S.sibling=null,S}function r(S,y,x){return S.index=x,e?(x=S.alternate,x!==null?(x=x.index,x<y?(S.flags|=2,y):x):(S.flags|=2,y)):(S.flags|=1048576,y)}function s(S){return e&&S.alternate===null&&(S.flags|=2),S}function a(S,y,x,w){return y===null||y.tag!==6?(y=Zl(x,S.mode,w),y.return=S,y):(y=i(y,x),y.return=S,y)}function l(S,y,x,w){var _=x.type;return _===yo?d(S,y,x.props.children,w,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===vn&&Of(_)===y.type)?(w=i(y,x.props),w.ref=yi(S,y,x),w.return=S,w):(w=as(x.type,x.key,x.props,null,S.mode,w),w.ref=yi(S,y,x),w.return=S,w)}function u(S,y,x,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=ea(x,S.mode,w),y.return=S,y):(y=i(y,x.children||[]),y.return=S,y)}function d(S,y,x,w,_){return y===null||y.tag!==7?(y=Zn(x,S.mode,w,_),y.return=S,y):(y=i(y,x),y.return=S,y)}function h(S,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zl(""+y,S.mode,x),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Er:return x=as(y.type,y.key,y.props,null,S.mode,x),x.ref=yi(S,null,y),x.return=S,x;case go:return y=ea(y,S.mode,x),y.return=S,y;case vn:var w=y._init;return h(S,w(y._payload),x)}if(Ci(y)||fi(y))return y=Zn(y,S.mode,x,null),y.return=S,y;br(S,y)}return null}function p(S,y,x,w){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(S,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Er:return x.key===_?l(S,y,x,w):null;case go:return x.key===_?u(S,y,x,w):null;case vn:return _=x._init,p(S,y,_(x._payload),w)}if(Ci(x)||fi(x))return _!==null?null:d(S,y,x,w,null);br(S,x)}return null}function g(S,y,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return S=S.get(x)||null,a(y,S,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Er:return S=S.get(w.key===null?x:w.key)||null,l(y,S,w,_);case go:return S=S.get(w.key===null?x:w.key)||null,u(y,S,w,_);case vn:var C=w._init;return g(S,y,x,C(w._payload),_)}if(Ci(w)||fi(w))return S=S.get(x)||null,d(y,S,w,_,null);br(y,w)}return null}function v(S,y,x,w){for(var _=null,C=null,I=y,A=y=0,b=null;I!==null&&A<x.length;A++){I.index>A?(b=I,I=null):b=I.sibling;var D=p(S,I,x[A],w);if(D===null){I===null&&(I=b);break}e&&I&&D.alternate===null&&t(S,I),y=r(D,y,A),C===null?_=D:C.sibling=D,C=D,I=b}if(A===x.length)return n(S,I),pe&&zn(S,A),_;if(I===null){for(;A<x.length;A++)I=h(S,x[A],w),I!==null&&(y=r(I,y,A),C===null?_=I:C.sibling=I,C=I);return pe&&zn(S,A),_}for(I=o(S,I);A<x.length;A++)b=g(I,S,A,x[A],w),b!==null&&(e&&b.alternate!==null&&I.delete(b.key===null?A:b.key),y=r(b,y,A),C===null?_=b:C.sibling=b,C=b);return e&&I.forEach(function(O){return t(S,O)}),pe&&zn(S,A),_}function T(S,y,x,w){var _=fi(x);if(typeof _!="function")throw Error(L(150));if(x=_.call(x),x==null)throw Error(L(151));for(var C=_=null,I=y,A=y=0,b=null,D=x.next();I!==null&&!D.done;A++,D=x.next()){I.index>A?(b=I,I=null):b=I.sibling;var O=p(S,I,D.value,w);if(O===null){I===null&&(I=b);break}e&&I&&O.alternate===null&&t(S,I),y=r(O,y,A),C===null?_=O:C.sibling=O,C=O,I=b}if(D.done)return n(S,I),pe&&zn(S,A),_;if(I===null){for(;!D.done;A++,D=x.next())D=h(S,D.value,w),D!==null&&(y=r(D,y,A),C===null?_=D:C.sibling=D,C=D);return pe&&zn(S,A),_}for(I=o(S,I);!D.done;A++,D=x.next())D=g(I,S,A,D.value,w),D!==null&&(e&&D.alternate!==null&&I.delete(D.key===null?A:D.key),y=r(D,y,A),C===null?_=D:C.sibling=D,C=D);return e&&I.forEach(function(de){return t(S,de)}),pe&&zn(S,A),_}function E(S,y,x,w){if(typeof x=="object"&&x!==null&&x.type===yo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Er:e:{for(var _=x.key,C=y;C!==null;){if(C.key===_){if(_=x.type,_===yo){if(C.tag===7){n(S,C.sibling),y=i(C,x.props.children),y.return=S,S=y;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===vn&&Of(_)===C.type){n(S,C.sibling),y=i(C,x.props),y.ref=yi(S,C,x),y.return=S,S=y;break e}n(S,C);break}else t(S,C);C=C.sibling}x.type===yo?(y=Zn(x.props.children,S.mode,w,x.key),y.return=S,S=y):(w=as(x.type,x.key,x.props,null,S.mode,w),w.ref=yi(S,y,x),w.return=S,S=w)}return s(S);case go:e:{for(C=x.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(S,y.sibling),y=i(y,x.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else t(S,y);y=y.sibling}y=ea(x,S.mode,w),y.return=S,S=y}return s(S);case vn:return C=x._init,E(S,y,C(x._payload),w)}if(Ci(x))return v(S,y,x,w);if(fi(x))return T(S,y,x,w);br(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(S,y.sibling),y=i(y,x),y.return=S,S=y):(n(S,y),y=Zl(x,S.mode,w),y.return=S,S=y),s(S)):n(S,y)}return E}var jo=N0(!0),k0=N0(!1),Ns=Vn(null),ks=null,_o=null,Ac=null;function Nc(){Ac=_o=ks=null}function kc(e){var t=Ns.current;ce(Ns),e._currentValue=t}function ja(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Bo(e,t){ks=e,Ac=_o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Ac!==e)if(e={context:e,memoizedValue:t,next:null},_o===null){if(ks===null)throw Error(L(308));_o=e,ks.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Kn=null;function Pc(e){Kn===null?Kn=[e]:Kn.push(e)}function P0(e,t,n,o){var i=t.interleaved;return i===null?(n.next=n,Pc(t)):(n.next=i.next,i.next=n),t.interleaved=n,ln(e,o)}function ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xn=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,te&2){var i=o.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),o.pending=t,ln(e,n)}return i=o.interleaved,i===null?(t.next=t,Pc(o)):(t.next=i.next,i.next=t),o.interleaved=t,ln(e,n)}function ns(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,gc(e,n)}}function Hf(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ps(e,t,n,o){var i=e.updateQueue;xn=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?r=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(r!==null){var h=i.baseState;s=0,d=u=l=null,a=r;do{var p=a.lane,g=a.eventTime;if((o&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,T=a;switch(p=t,g=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){h=v.call(g,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,p=typeof v=="function"?v.call(g,h,p):v,p==null)break e;h=ve({},h,p);break e;case 2:xn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else r===null&&(i.shared.lanes=0);ro|=s,e.lanes=s,e.memoizedState=h}}function zf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(i!==null){if(o.callback=null,o=n,typeof i!="function")throw Error(L(191,i));i.call(o)}}}var gr={},jt=Vn(gr),tr=Vn(gr),nr=Vn(gr);function Yn(e){if(e===gr)throw Error(L(174));return e}function Mc(e,t){switch(ae(nr,t),ae(tr,e),ae(jt,gr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pa(t,e)}ce(jt),ae(jt,t)}function Qo(){ce(jt),ce(tr),ce(nr)}function M0(e){Yn(nr.current);var t=Yn(jt.current),n=Pa(t,e.type);t!==n&&(ae(tr,e),ae(jt,n))}function bc(e){tr.current===e&&(ce(jt),ce(tr))}var me=Vn(0);function Rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wl=[];function Dc(){for(var e=0;e<Wl.length;e++)Wl[e]._workInProgressVersionPrimary=null;Wl.length=0}var os=fn.ReactCurrentDispatcher,Kl=fn.ReactCurrentBatchConfig,io=0,ye=null,ke=null,Re=null,Ms=!1,Di=!1,or=0,_E=0;function Oe(){throw Error(L(321))}function Lc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function Fc(e,t,n,o,i,r){if(io=r,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=e===null||e.memoizedState===null?kE:PE,e=n(o,i),Di){r=0;do{if(Di=!1,or=0,25<=r)throw Error(L(301));r+=1,Re=ke=null,t.updateQueue=null,os.current=RE,e=n(o,i)}while(Di)}if(os.current=bs,t=ke!==null&&ke.next!==null,io=0,Re=ke=ye=null,Ms=!1,t)throw Error(L(300));return e}function Uc(){var e=or!==0;return or=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ye.memoizedState=Re=e:Re=Re.next=e,Re}function Nt(){if(ke===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Re===null?ye.memoizedState:Re.next;if(t!==null)Re=t,ke=e;else{if(e===null)throw Error(L(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Re===null?ye.memoizedState=Re=e:Re=Re.next=e}return Re}function ir(e,t){return typeof t=="function"?t(e):t}function Yl(e){var t=Nt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var o=ke,i=o.baseQueue,r=n.pending;if(r!==null){if(i!==null){var s=i.next;i.next=r.next,r.next=s}o.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,o=o.baseState;var a=s=null,l=null,u=r;do{var d=u.lane;if((io&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),o=u.hasEagerState?u.eagerState:e(o,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=o):l=l.next=h,ye.lanes|=d,ro|=d}u=u.next}while(u!==null&&u!==r);l===null?s=o:l.next=a,Ot(o,t.memoizedState)||(ot=!0),t.memoizedState=o,t.baseState=s,t.baseQueue=l,n.lastRenderedState=o}if(e=n.interleaved,e!==null){i=e;do r=i.lane,ye.lanes|=r,ro|=r,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=Nt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do r=e(r,s.action),s=s.next;while(s!==i);Ot(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,o]}function b0(){}function D0(e,t){var n=ye,o=Nt(),i=t(),r=!Ot(o.memoizedState,i);if(r&&(o.memoizedState=i,ot=!0),o=o.queue,Vc(U0.bind(null,n,o,e),[e]),o.getSnapshot!==t||r||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,rr(9,F0.bind(null,n,o,i,t),void 0,null),Me===null)throw Error(L(349));io&30||L0(n,t,i)}return i}function L0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function F0(e,t,n,o){t.value=n,t.getSnapshot=o,V0(t)&&G0(e)}function U0(e,t,n){return n(function(){V0(t)&&G0(e)})}function V0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function G0(e){var t=ln(e,1);t!==null&&Vt(t,e,1,-1)}function $f(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:e},t.queue=e,e=e.dispatch=NE.bind(null,ye,e),[t.memoizedState,e]}function rr(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function B0(){return Nt().memoizedState}function is(e,t,n,o){var i=qt();ye.flags|=e,i.memoizedState=rr(1|t,n,void 0,o===void 0?null:o)}function ll(e,t,n,o){var i=Nt();o=o===void 0?null:o;var r=void 0;if(ke!==null){var s=ke.memoizedState;if(r=s.destroy,o!==null&&Lc(o,s.deps)){i.memoizedState=rr(t,n,r,o);return}}ye.flags|=e,i.memoizedState=rr(1|t,n,r,o)}function qf(e,t){return is(8390656,8,e,t)}function Vc(e,t){return ll(2048,8,e,t)}function O0(e,t){return ll(4,2,e,t)}function H0(e,t){return ll(4,4,e,t)}function z0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $0(e,t,n){return n=n!=null?n.concat([e]):null,ll(4,4,z0.bind(null,t,e),n)}function Gc(){}function q0(e,t){var n=Nt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Lc(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function J0(e,t){var n=Nt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Lc(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function W0(e,t,n){return io&21?(Ot(n,t)||(n=Xg(),ye.lanes|=n,ro|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n)}function IE(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var o=Kl.transition;Kl.transition={};try{e(!1),t()}finally{re=n,Kl.transition=o}}function K0(){return Nt().memoizedState}function AE(e,t,n){var o=Rn(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Y0(e))j0(t,n);else if(n=P0(e,t,n,o),n!==null){var i=je();Vt(n,e,o,i),Q0(n,t,o)}}function NE(e,t,n){var o=Rn(e),i={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Y0(e))j0(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,a=r(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ot(a,s)){var l=t.interleaved;l===null?(i.next=i,Pc(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=P0(e,t,i,o),n!==null&&(i=je(),Vt(n,e,o,i),Q0(n,t,o))}}function Y0(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function j0(e,t){Di=Ms=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Q0(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,gc(e,n)}}var bs={readContext:At,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},kE={readContext:At,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:qf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,is(4194308,4,z0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return is(4194308,4,e,t)},useInsertionEffect:function(e,t){return is(4,2,e,t)},useMemo:function(e,t){var n=qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=qt();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=AE.bind(null,ye,e),[o.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:$f,useDebugValue:Gc,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=$f(!1),t=e[0];return e=IE.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=ye,i=qt();if(pe){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Me===null)throw Error(L(349));io&30||L0(o,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,qf(U0.bind(null,o,r,e),[e]),o.flags|=2048,rr(9,F0.bind(null,o,r,n,t),void 0,null),n},useId:function(){var e=qt(),t=Me.identifierPrefix;if(pe){var n=nn,o=tn;n=(o&~(1<<32-Ut(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_E++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PE={readContext:At,useCallback:q0,useContext:At,useEffect:Vc,useImperativeHandle:$0,useInsertionEffect:O0,useLayoutEffect:H0,useMemo:J0,useReducer:Yl,useRef:B0,useState:function(){return Yl(ir)},useDebugValue:Gc,useDeferredValue:function(e){var t=Nt();return W0(t,ke.memoizedState,e)},useTransition:function(){var e=Yl(ir)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:b0,useSyncExternalStore:D0,useId:K0,unstable_isNewReconciler:!1},RE={readContext:At,useCallback:q0,useContext:At,useEffect:Vc,useImperativeHandle:$0,useInsertionEffect:O0,useLayoutEffect:H0,useMemo:J0,useReducer:jl,useRef:B0,useState:function(){return jl(ir)},useDebugValue:Gc,useDeferredValue:function(e){var t=Nt();return ke===null?t.memoizedState=e:W0(t,ke.memoizedState,e)},useTransition:function(){var e=jl(ir)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:b0,useSyncExternalStore:D0,useId:K0,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qa(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var al={isMounted:function(e){return(e=e._reactInternals)?uo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=je(),i=Rn(e),r=on(o,i);r.payload=t,n!=null&&(r.callback=n),t=kn(e,r,i),t!==null&&(Vt(t,e,i,o),ns(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=je(),i=Rn(e),r=on(o,i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=kn(e,r,i),t!==null&&(Vt(t,e,i,o),ns(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=je(),o=Rn(e),i=on(n,o);i.tag=2,t!=null&&(i.callback=t),t=kn(e,i,o),t!==null&&(Vt(t,e,o,n),ns(t,e,o))}};function Jf(e,t,n,o,i,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,r,s):t.prototype&&t.prototype.isPureReactComponent?!Qi(n,o)||!Qi(i,r):!0}function X0(e,t,n){var o=!1,i=Dn,r=t.contextType;return typeof r=="object"&&r!==null?r=At(r):(i=st(t)?no:Je.current,o=t.contextTypes,r=(o=o!=null)?Ko(e,i):Dn),t=new t(n,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function Wf(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function Xa(e,t,n,o){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Rc(e);var r=t.contextType;typeof r=="object"&&r!==null?i.context=At(r):(r=st(t)?no:Je.current,i.context=Ko(e,r)),i.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(Qa(e,t,r,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&al.enqueueReplaceState(i,i.state,null),Ps(e,n,i,o),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xo(e,t){try{var n="",o=t;do n+=rT(o),o=o.return;while(o);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:i,digest:null}}function Ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Za(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ME=typeof WeakMap=="function"?WeakMap:Map;function Z0(e,t,n){n=on(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Ls||(Ls=!0,uu=o),Za(e,t)},n}function ey(e,t,n){n=on(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var i=t.value;n.payload=function(){return o(i)},n.callback=function(){Za(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Za(e,t),typeof o!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Kf(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new ME;var i=new Set;o.set(t,i)}else i=o.get(t),i===void 0&&(i=new Set,o.set(t,i));i.has(n)||(i.add(n),e=JE.bind(null,e,t,n),t.then(e,e))}function Yf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jf(e,t,n,o,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=on(-1,1),t.tag=2,kn(n,t,1))),n.lanes|=1),e)}var bE=fn.ReactCurrentOwner,ot=!1;function Ke(e,t,n,o){t.child=e===null?k0(t,null,n,o):jo(t,e.child,n,o)}function Qf(e,t,n,o,i){n=n.render;var r=t.ref;return Bo(t,i),o=Fc(e,t,n,o,r,i),n=Uc(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,an(e,t,i)):(pe&&n&&Cc(t),t.flags|=1,Ke(e,t,o,i),t.child)}function Xf(e,t,n,o,i){if(e===null){var r=n.type;return typeof r=="function"&&!Wc(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=r,ty(e,t,r,o,i)):(e=as(n.type,null,o,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&i)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:Qi,n(s,o)&&e.ref===t.ref)return an(e,t,i)}return t.flags|=1,e=Mn(r,o),e.ref=t.ref,e.return=t,t.child=e}function ty(e,t,n,o,i){if(e!==null){var r=e.memoizedProps;if(Qi(r,o)&&e.ref===t.ref)if(ot=!1,t.pendingProps=o=r,(e.lanes&i)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,an(e,t,i)}return eu(e,t,n,o,i)}function ny(e,t,n){var o=t.pendingProps,i=o.children,r=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Ao,ct),ct|=n;else{if(!(n&1073741824))return e=r!==null?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(Ao,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=r!==null?r.baseLanes:n,ae(Ao,ct),ct|=o}else r!==null?(o=r.baseLanes|n,t.memoizedState=null):o=n,ae(Ao,ct),ct|=o;return Ke(e,t,i,n),t.child}function oy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function eu(e,t,n,o,i){var r=st(n)?no:Je.current;return r=Ko(t,r),Bo(t,i),n=Fc(e,t,n,o,r,i),o=Uc(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,an(e,t,i)):(pe&&o&&Cc(t),t.flags|=1,Ke(e,t,n,i),t.child)}function Zf(e,t,n,o,i){if(st(n)){var r=!0;_s(t)}else r=!1;if(Bo(t,i),t.stateNode===null)rs(e,t),X0(t,n,o),Xa(t,n,o,i),o=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=st(n)?no:Je.current,u=Ko(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==o||l!==u)&&Wf(t,s,o,u),xn=!1;var p=t.memoizedState;s.state=p,Ps(t,o,s,i),l=t.memoizedState,a!==o||p!==l||rt.current||xn?(typeof d=="function"&&(Qa(t,n,d,o),l=t.memoizedState),(a=xn||Jf(t,n,a,o,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=l),s.props=o,s.state=l,s.context=u,o=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,R0(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Dt(t.type,a),s.props=u,h=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=At(l):(l=st(n)?no:Je.current,l=Ko(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Wf(t,s,o,l),xn=!1,p=t.memoizedState,s.state=p,Ps(t,o,s,i);var v=t.memoizedState;a!==h||p!==v||rt.current||xn?(typeof g=="function"&&(Qa(t,n,g,o),v=t.memoizedState),(u=xn||Jf(t,n,u,o,p,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=v),s.props=o,s.state=v,s.context=l,o=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return tu(e,t,n,o,r,i)}function tu(e,t,n,o,i,r){oy(e,t);var s=(t.flags&128)!==0;if(!o&&!s)return i&&Vf(t,n,!1),an(e,t,r);o=t.stateNode,bE.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&s?(t.child=jo(t,e.child,null,r),t.child=jo(t,null,a,r)):Ke(e,t,a,r),t.memoizedState=o.state,i&&Vf(t,n,!0),t.child}function iy(e){var t=e.stateNode;t.pendingContext?Uf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uf(e,t.context,!1),Mc(e,t.containerInfo)}function ep(e,t,n,o,i){return Yo(),Ic(i),t.flags|=256,Ke(e,t,n,o),t.child}var nu={dehydrated:null,treeContext:null,retryLane:0};function ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function ry(e,t,n){var o=t.pendingProps,i=me.current,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ae(me,i&1),e===null)return Ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,r?(o=t.mode,r=t.child,s={mode:"hidden",children:s},!(o&1)&&r!==null?(r.childLanes=0,r.pendingProps=s):r=dl(s,o,0,null),e=Zn(e,o,n,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=ou(n),t.memoizedState=nu,e):Bc(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return DE(e,t,s,o,a,i,n);if(r){r=o.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:o.children};return!(s&1)&&t.child!==i?(o=t.child,o.childLanes=0,o.pendingProps=l,t.deletions=null):(o=Mn(i,l),o.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=Mn(a,r):(r=Zn(r,s,n,null),r.flags|=2),r.return=t,o.return=t,o.sibling=r,t.child=o,o=r,r=t.child,s=e.child.memoizedState,s=s===null?ou(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},r.memoizedState=s,r.childLanes=e.childLanes&~n,t.memoizedState=nu,o}return r=e.child,e=r.sibling,o=Mn(r,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Bc(e,t){return t=dl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dr(e,t,n,o){return o!==null&&Ic(o),jo(t,e.child,null,n),e=Bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function DE(e,t,n,o,i,r,s){if(n)return t.flags&256?(t.flags&=-257,o=Ql(Error(L(422))),Dr(e,t,s,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=o.fallback,i=t.mode,o=dl({mode:"visible",children:o.children},i,0,null),r=Zn(r,i,s,null),r.flags|=2,o.return=t,r.return=t,o.sibling=r,t.child=o,t.mode&1&&jo(t,e.child,null,s),t.child.memoizedState=ou(s),t.memoizedState=nu,r);if(!(t.mode&1))return Dr(e,t,s,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var a=o.dgst;return o=a,r=Error(L(419)),o=Ql(r,o,void 0),Dr(e,t,s,o)}if(a=(s&e.childLanes)!==0,ot||a){if(o=Me,o!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|s)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,ln(e,i),Vt(o,e,i,-1))}return Jc(),o=Ql(Error(L(421))),Dr(e,t,s,o)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=WE.bind(null,e),i._reactRetry=t,null):(e=r.treeContext,dt=Nn(i.nextSibling),ft=t,pe=!0,Ft=null,e!==null&&(St[Tt++]=tn,St[Tt++]=nn,St[Tt++]=oo,tn=e.id,nn=e.overflow,oo=t),t=Bc(t,o.children),t.flags|=4096,t)}function tp(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),ja(e.return,t,n)}function Xl(e,t,n,o,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=n,r.tailMode=i)}function sy(e,t,n){var o=t.pendingProps,i=o.revealOrder,r=o.tail;if(Ke(e,t,o.children,n),o=me.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tp(e,n,t);else if(e.tag===19)tp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ae(me,o),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Rs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xl(t,!1,i,n,r);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Rs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xl(t,!0,n,null,r);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ro|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LE(e,t,n){switch(t.tag){case 3:iy(t),Yo();break;case 5:M0(t);break;case 1:st(t.type)&&_s(t);break;case 4:Mc(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,i=t.memoizedProps.value;ae(Ns,o._currentValue),o._currentValue=i;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ae(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?ry(e,t,n):(ae(me,me.current&1),e=an(e,t,n),e!==null?e.sibling:null);ae(me,me.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return sy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(me,me.current),o)break;return null;case 22:case 23:return t.lanes=0,ny(e,t,n)}return an(e,t,n)}var ly,iu,ay,uy;ly=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iu=function(){};ay=function(e,t,n,o){var i=e.memoizedProps;if(i!==o){e=t.stateNode,Yn(jt.current);var r=null;switch(n){case"input":i=Ia(e,i),o=Ia(e,o),r=[];break;case"select":i=ve({},i,{value:void 0}),o=ve({},o,{value:void 0}),r=[];break;case"textarea":i=ka(e,i),o=ka(e,o),r=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=ws)}Ra(n,o);var s;n=null;for(u in i)if(!o.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($i.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in o){var l=o[u];if(a=i!=null?i[u]:void 0,o.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(r||(r=[]),r.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($i.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ue("scroll",e),r||a===l||(r=[])):(r=r||[]).push(u,l))}n&&(r=r||[]).push("style",n);var u=r;(t.updateQueue=u)&&(t.flags|=4)}};uy=function(e,t,n,o){n!==o&&(t.flags|=4)};function vi(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function FE(e,t,n){var o=t.pendingProps;switch(_c(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return st(t.type)&&Cs(),He(t),null;case 3:return o=t.stateNode,Qo(),ce(rt),ce(Je),Dc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Mr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(fu(Ft),Ft=null))),iu(e,t),He(t),null;case 5:bc(t);var i=Yn(nr.current);if(n=t.type,e!==null&&t.stateNode!=null)ay(e,t,n,o,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(L(166));return He(t),null}if(e=Yn(jt.current),Mr(t)){o=t.stateNode,n=t.type;var r=t.memoizedProps;switch(o[Wt]=t,o[er]=r,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",o),ue("close",o);break;case"iframe":case"object":case"embed":ue("load",o);break;case"video":case"audio":for(i=0;i<Ii.length;i++)ue(Ii[i],o);break;case"source":ue("error",o);break;case"img":case"image":case"link":ue("error",o),ue("load",o);break;case"details":ue("toggle",o);break;case"input":cf(o,r),ue("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!r.multiple},ue("invalid",o);break;case"textarea":ff(o,r),ue("invalid",o)}Ra(n,r),i=null;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];s==="children"?typeof a=="string"?o.textContent!==a&&(r.suppressHydrationWarning!==!0&&Rr(o.textContent,a,e),i=["children",a]):typeof a=="number"&&o.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Rr(o.textContent,a,e),i=["children",""+a]):$i.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ue("scroll",o)}switch(n){case"input":wr(o),df(o,r,!0);break;case"textarea":wr(o),pf(o);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(o.onclick=ws)}o=i,t.updateQueue=o,o!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ug(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=s.createElement(n,{is:o.is}):(e=s.createElement(n),n==="select"&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,n),e[Wt]=t,e[er]=o,ly(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ma(n,o),n){case"dialog":ue("cancel",e),ue("close",e),i=o;break;case"iframe":case"object":case"embed":ue("load",e),i=o;break;case"video":case"audio":for(i=0;i<Ii.length;i++)ue(Ii[i],e);i=o;break;case"source":ue("error",e),i=o;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=o;break;case"details":ue("toggle",e),i=o;break;case"input":cf(e,o),i=Ia(e,o),ue("invalid",e);break;case"option":i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=ve({},o,{value:void 0}),ue("invalid",e);break;case"textarea":ff(e,o),i=ka(e,o),ue("invalid",e);break;default:i=o}Ra(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?Bg(e,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vg(e,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qi(e,l):typeof l=="number"&&qi(e,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&($i.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ue("scroll",e):l!=null&&cc(e,r,l,s))}switch(n){case"input":wr(e),df(e,o,!1);break;case"textarea":wr(e),pf(e);break;case"option":o.value!=null&&e.setAttribute("value",""+bn(o.value));break;case"select":e.multiple=!!o.multiple,r=o.value,r!=null?Fo(e,!!o.multiple,r,!1):o.defaultValue!=null&&Fo(e,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ws)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)uy(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(L(166));if(n=Yn(nr.current),Yn(jt.current),Mr(t)){if(o=t.stateNode,n=t.memoizedProps,o[Wt]=t,(r=o.nodeValue!==n)&&(e=ft,e!==null))switch(e.tag){case 3:Rr(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rr(o.nodeValue,n,(e.mode&1)!==0)}r&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Wt]=t,t.stateNode=o}return He(t),null;case 13:if(ce(me),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&dt!==null&&t.mode&1&&!(t.flags&128))A0(),Yo(),t.flags|=98560,r=!1;else if(r=Mr(t),o!==null&&o.dehydrated!==null){if(e===null){if(!r)throw Error(L(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[Wt]=t}else Yo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),r=!1}else Ft!==null&&(fu(Ft),Ft=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Pe===0&&(Pe=3):Jc())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Qo(),iu(e,t),e===null&&Xi(t.stateNode.containerInfo),He(t),null;case 10:return kc(t.type._context),He(t),null;case 17:return st(t.type)&&Cs(),He(t),null;case 19:if(ce(me),r=t.memoizedState,r===null)return He(t),null;if(o=(t.flags&128)!==0,s=r.rendering,s===null)if(o)vi(r,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Rs(e),s!==null){for(t.flags|=128,vi(r,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)r=n,e=o,r.flags&=14680066,s=r.alternate,s===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,e=s.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(me,me.current&1|2),t.child}e=e.sibling}r.tail!==null&&we()>Zo&&(t.flags|=128,o=!0,vi(r,!1),t.lanes=4194304)}else{if(!o)if(e=Rs(s),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!pe)return He(t),null}else 2*we()-r.renderingStartTime>Zo&&n!==1073741824&&(t.flags|=128,o=!0,vi(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,n!==null?n.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=we(),t.sibling=null,n=me.current,ae(me,o?n&1|2:n&1),t):(He(t),null);case 22:case 23:return qc(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?ct&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function UE(e,t){switch(_c(t),t.tag){case 1:return st(t.type)&&Cs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qo(),ce(rt),ce(Je),Dc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bc(t),null;case 13:if(ce(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Yo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(me),null;case 4:return Qo(),null;case 10:return kc(t.type._context),null;case 22:case 23:return qc(),null;case 24:return null;default:return null}}var Lr=!1,ze=!1,VE=typeof WeakSet=="function"?WeakSet:Set,G=null;function Io(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Te(e,t,o)}else n.current=null}function ru(e,t,n){try{n()}catch(o){Te(e,t,o)}}var np=!1;function GE(e,t){if(Ha=Ss,e=h0(),wc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var i=o.anchorOffset,r=o.focusNode;o=o.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==r||o!==0&&h.nodeType!==3||(l=s+o),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===e)break t;if(p===n&&++u===i&&(a=s),p===r&&++d===o&&(l=s),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(za={focusedElem:e,selectionRange:n},Ss=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,E=v.memoizedState,S=t.stateNode,y=S.getSnapshotBeforeUpdate(t.elementType===t.type?T:Dt(t.type,T),E);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(w){Te(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return v=np,np=!1,v}function Li(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,r!==void 0&&ru(t,n,r)}i=i.next}while(i!==o)}}function ul(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function su(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cy(e){var t=e.alternate;t!==null&&(e.alternate=null,cy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[er],delete t[Ja],delete t[TE],delete t[EE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dy(e){return e.tag===5||e.tag===3||e.tag===4}function op(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lu(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ws));else if(o!==4&&(e=e.child,e!==null))for(lu(e,t,n),e=e.sibling;e!==null;)lu(e,t,n),e=e.sibling}function au(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(au(e,t,n),e=e.sibling;e!==null;)au(e,t,n),e=e.sibling}var De=null,Lt=!1;function gn(e,t,n){for(n=n.child;n!==null;)fy(e,t,n),n=n.sibling}function fy(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(tl,n)}catch{}switch(n.tag){case 5:ze||Io(n,t);case 6:var o=De,i=Lt;De=null,gn(e,t,n),De=o,Lt=i,De!==null&&(Lt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Lt?(e=De,n=n.stateNode,e.nodeType===8?ql(e.parentNode,n):e.nodeType===1&&ql(e,n),Yi(e)):ql(De,n.stateNode));break;case 4:o=De,i=Lt,De=n.stateNode.containerInfo,Lt=!0,gn(e,t,n),De=o,Lt=i;break;case 0:case 11:case 14:case 15:if(!ze&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var r=i,s=r.destroy;r=r.tag,s!==void 0&&(r&2||r&4)&&ru(n,t,s),i=i.next}while(i!==o)}gn(e,t,n);break;case 1:if(!ze&&(Io(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(a){Te(n,t,a)}gn(e,t,n);break;case 21:gn(e,t,n);break;case 22:n.mode&1?(ze=(o=ze)||n.memoizedState!==null,gn(e,t,n),ze=o):gn(e,t,n);break;default:gn(e,t,n)}}function ip(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new VE),t.forEach(function(o){var i=KE.bind(null,e,o);n.has(o)||(n.add(o),o.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];try{var r=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:De=a.stateNode,Lt=!1;break e;case 3:De=a.stateNode.containerInfo,Lt=!0;break e;case 4:De=a.stateNode.containerInfo,Lt=!0;break e}a=a.return}if(De===null)throw Error(L(160));fy(r,s,i),De=null,Lt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Te(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)py(t,e),t=t.sibling}function py(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),$t(e),o&4){try{Li(3,e,e.return),ul(3,e)}catch(T){Te(e,e.return,T)}try{Li(5,e,e.return)}catch(T){Te(e,e.return,T)}}break;case 1:Rt(t,e),$t(e),o&512&&n!==null&&Io(n,n.return);break;case 5:if(Rt(t,e),$t(e),o&512&&n!==null&&Io(n,n.return),e.flags&32){var i=e.stateNode;try{qi(i,"")}catch(T){Te(e,e.return,T)}}if(o&4&&(i=e.stateNode,i!=null)){var r=e.memoizedProps,s=n!==null?n.memoizedProps:r,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Lg(i,r),Ma(a,s);var u=Ma(a,r);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?Bg(i,h):d==="dangerouslySetInnerHTML"?Vg(i,h):d==="children"?qi(i,h):cc(i,d,h,u)}switch(a){case"input":Aa(i,r);break;case"textarea":Fg(i,r);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?Fo(i,!!r.multiple,g,!1):p!==!!r.multiple&&(r.defaultValue!=null?Fo(i,!!r.multiple,r.defaultValue,!0):Fo(i,!!r.multiple,r.multiple?[]:"",!1))}i[er]=r}catch(T){Te(e,e.return,T)}}break;case 6:if(Rt(t,e),$t(e),o&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,r=e.memoizedProps;try{i.nodeValue=r}catch(T){Te(e,e.return,T)}}break;case 3:if(Rt(t,e),$t(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Yi(t.containerInfo)}catch(T){Te(e,e.return,T)}break;case 4:Rt(t,e),$t(e);break;case 13:Rt(t,e),$t(e),i=e.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(zc=we())),o&4&&ip(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(u=ze)||d,Rt(t,e),ze=u):Rt(t,e),$t(e),o&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(h=G=d;G!==null;){switch(p=G,g=p.child,p.tag){case 0:case 11:case 14:case 15:Li(4,p,p.return);break;case 1:Io(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){o=p,n=p.return;try{t=o,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(T){Te(o,n,T)}}break;case 5:Io(p,p.return);break;case 22:if(p.memoizedState!==null){sp(h);continue}}g!==null?(g.return=p,G=g):sp(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gg("display",s))}catch(T){Te(e,e.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(T){Te(e,e.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rt(t,e),$t(e),o&4&&ip(e);break;case 21:break;default:Rt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dy(n)){var o=n;break e}n=n.return}throw Error(L(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(qi(i,""),o.flags&=-33);var r=op(e);au(e,r,i);break;case 3:case 4:var s=o.stateNode.containerInfo,a=op(e);lu(e,a,s);break;default:throw Error(L(161))}}catch(l){Te(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BE(e,t,n){G=e,hy(e)}function hy(e,t,n){for(var o=(e.mode&1)!==0;G!==null;){var i=G,r=i.child;if(i.tag===22&&o){var s=i.memoizedState!==null||Lr;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ze;a=Lr;var u=ze;if(Lr=s,(ze=l)&&!u)for(G=i;G!==null;)s=G,l=s.child,s.tag===22&&s.memoizedState!==null?lp(i):l!==null?(l.return=s,G=l):lp(i);for(;r!==null;)G=r,hy(r),r=r.sibling;G=i,Lr=a,ze=u}rp(e)}else i.subtreeFlags&8772&&r!==null?(r.return=i,G=r):rp(e)}}function rp(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||ul(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!ze)if(n===null)o.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);o.componentDidUpdate(i,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&zf(t,r,o);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zf(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}ze||t.flags&512&&su(t)}catch(p){Te(t,t.return,p)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function sp(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function lp(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ul(4,t)}catch(l){Te(t,n,l)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var i=t.return;try{o.componentDidMount()}catch(l){Te(t,i,l)}}var r=t.return;try{su(t)}catch(l){Te(t,r,l)}break;case 5:var s=t.return;try{su(t)}catch(l){Te(t,s,l)}}}catch(l){Te(t,t.return,l)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var OE=Math.ceil,Ds=fn.ReactCurrentDispatcher,Oc=fn.ReactCurrentOwner,Ct=fn.ReactCurrentBatchConfig,te=0,Me=null,Ie=null,Ue=0,ct=0,Ao=Vn(0),Pe=0,sr=null,ro=0,cl=0,Hc=0,Fi=null,nt=null,zc=0,Zo=1/0,Zt=null,Ls=!1,uu=null,Pn=null,Fr=!1,wn=null,Fs=0,Ui=0,cu=null,ss=-1,ls=0;function je(){return te&6?we():ss!==-1?ss:ss=we()}function Rn(e){return e.mode&1?te&2&&Ue!==0?Ue&-Ue:CE.transition!==null?(ls===0&&(ls=Xg()),ls):(e=re,e!==0||(e=window.event,e=e===void 0?16:r0(e.type)),e):1}function Vt(e,t,n,o){if(50<Ui)throw Ui=0,cu=null,Error(L(185));pr(e,n,o),(!(te&2)||e!==Me)&&(e===Me&&(!(te&2)&&(cl|=n),Pe===4&&Tn(e,Ue)),lt(e,o),n===1&&te===0&&!(t.mode&1)&&(Zo=we()+500,sl&&Gn()))}function lt(e,t){var n=e.callbackNode;CT(e,t);var o=xs(e,e===Me?Ue:0);if(o===0)n!==null&&gf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&gf(n),t===1)e.tag===0?wE(ap.bind(null,e)):C0(ap.bind(null,e)),xE(function(){!(te&6)&&Gn()}),n=null;else{switch(Zg(o)){case 1:n=mc;break;case 4:n=jg;break;case 16:n=vs;break;case 536870912:n=Qg;break;default:n=vs}n=Ey(n,my.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function my(e,t){if(ss=-1,ls=0,te&6)throw Error(L(327));var n=e.callbackNode;if(Oo()&&e.callbackNode!==n)return null;var o=xs(e,e===Me?Ue:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=Us(e,o);else{t=o;var i=te;te|=2;var r=yy();(Me!==e||Ue!==t)&&(Zt=null,Zo=we()+500,Xn(e,t));do try{$E();break}catch(a){gy(e,a)}while(!0);Nc(),Ds.current=r,te=i,Ie!==null?t=0:(Me=null,Ue=0,t=Pe)}if(t!==0){if(t===2&&(i=Ua(e),i!==0&&(o=i,t=du(e,i))),t===1)throw n=sr,Xn(e,0),Tn(e,o),lt(e,we()),n;if(t===6)Tn(e,o);else{if(i=e.current.alternate,!(o&30)&&!HE(i)&&(t=Us(e,o),t===2&&(r=Ua(e),r!==0&&(o=r,t=du(e,r))),t===1))throw n=sr,Xn(e,0),Tn(e,o),lt(e,we()),n;switch(e.finishedWork=i,e.finishedLanes=o,t){case 0:case 1:throw Error(L(345));case 2:$n(e,nt,Zt);break;case 3:if(Tn(e,o),(o&130023424)===o&&(t=zc+500-we(),10<t)){if(xs(e,0)!==0)break;if(i=e.suspendedLanes,(i&o)!==o){je(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qa($n.bind(null,e,nt,Zt),t);break}$n(e,nt,Zt);break;case 4:if(Tn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,i=-1;0<o;){var s=31-Ut(o);r=1<<s,s=t[s],s>i&&(i=s),o&=~r}if(o=i,o=we()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*OE(o/1960))-o,10<o){e.timeoutHandle=qa($n.bind(null,e,nt,Zt),o);break}$n(e,nt,Zt);break;case 5:$n(e,nt,Zt);break;default:throw Error(L(329))}}}return lt(e,we()),e.callbackNode===n?my.bind(null,e):null}function du(e,t){var n=Fi;return e.current.memoizedState.isDehydrated&&(Xn(e,t).flags|=256),e=Us(e,t),e!==2&&(t=nt,nt=n,t!==null&&fu(t)),e}function fu(e){nt===null?nt=e:nt.push.apply(nt,e)}function HE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var i=n[o],r=i.getSnapshot;i=i.value;try{if(!Ot(r(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~Hc,t&=~cl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),o=1<<n;e[n]=-1,t&=~o}}function ap(e){if(te&6)throw Error(L(327));Oo();var t=xs(e,0);if(!(t&1))return lt(e,we()),null;var n=Us(e,t);if(e.tag!==0&&n===2){var o=Ua(e);o!==0&&(t=o,n=du(e,o))}if(n===1)throw n=sr,Xn(e,0),Tn(e,t),lt(e,we()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,nt,Zt),lt(e,we()),null}function $c(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(Zo=we()+500,sl&&Gn())}}function so(e){wn!==null&&wn.tag===0&&!(te&6)&&Oo();var t=te;te|=1;var n=Ct.transition,o=re;try{if(Ct.transition=null,re=1,e)return e()}finally{re=o,Ct.transition=n,te=t,!(te&6)&&Gn()}}function qc(){ct=Ao.current,ce(Ao)}function Xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vE(n)),Ie!==null)for(n=Ie.return;n!==null;){var o=n;switch(_c(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Cs();break;case 3:Qo(),ce(rt),ce(Je),Dc();break;case 5:bc(o);break;case 4:Qo();break;case 13:ce(me);break;case 19:ce(me);break;case 10:kc(o.type._context);break;case 22:case 23:qc()}n=n.return}if(Me=e,Ie=e=Mn(e.current,null),Ue=ct=t,Pe=0,sr=null,Hc=cl=ro=0,nt=Fi=null,Kn!==null){for(t=0;t<Kn.length;t++)if(n=Kn[t],o=n.interleaved,o!==null){n.interleaved=null;var i=o.next,r=n.pending;if(r!==null){var s=r.next;r.next=i,o.next=s}n.pending=o}Kn=null}return e}function gy(e,t){do{var n=Ie;try{if(Nc(),os.current=bs,Ms){for(var o=ye.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}Ms=!1}if(io=0,Re=ke=ye=null,Di=!1,or=0,Oc.current=null,n===null||n.return===null){Pe=1,sr=t,Ie=null;break}e:{var r=e,s=n.return,a=n,l=t;if(t=Ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Yf(s);if(g!==null){g.flags&=-257,jf(g,s,a,r,t),g.mode&1&&Kf(r,u,t),t=g,l=u;var v=t.updateQueue;if(v===null){var T=new Set;T.add(l),t.updateQueue=T}else v.add(l);break e}else{if(!(t&1)){Kf(r,u,t),Jc();break e}l=Error(L(426))}}else if(pe&&a.mode&1){var E=Yf(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),jf(E,s,a,r,t),Ic(Xo(l,a));break e}}r=l=Xo(l,a),Pe!==4&&(Pe=2),Fi===null?Fi=[r]:Fi.push(r),r=s;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var S=Z0(r,l,t);Hf(r,S);break e;case 1:a=l;var y=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Pn===null||!Pn.has(x)))){r.flags|=65536,t&=-t,r.lanes|=t;var w=ey(r,a,t);Hf(r,w);break e}}r=r.return}while(r!==null)}xy(n)}catch(_){t=_,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function yy(){var e=Ds.current;return Ds.current=bs,e===null?bs:e}function Jc(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Me===null||!(ro&268435455)&&!(cl&268435455)||Tn(Me,Ue)}function Us(e,t){var n=te;te|=2;var o=yy();(Me!==e||Ue!==t)&&(Zt=null,Xn(e,t));do try{zE();break}catch(i){gy(e,i)}while(!0);if(Nc(),te=n,Ds.current=o,Ie!==null)throw Error(L(261));return Me=null,Ue=0,Pe}function zE(){for(;Ie!==null;)vy(Ie)}function $E(){for(;Ie!==null&&!mT();)vy(Ie)}function vy(e){var t=Ty(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?xy(e):Ie=t,Oc.current=null}function xy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=UE(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Ie=null;return}}else if(n=FE(n,t,ct),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Pe===0&&(Pe=5)}function $n(e,t,n){var o=re,i=Ct.transition;try{Ct.transition=null,re=1,qE(e,t,n,o)}finally{Ct.transition=i,re=o}return null}function qE(e,t,n,o){do Oo();while(wn!==null);if(te&6)throw Error(L(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(_T(e,r),e===Me&&(Ie=Me=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fr||(Fr=!0,Ey(vs,function(){return Oo(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Ct.transition,Ct.transition=null;var s=re;re=1;var a=te;te|=4,Oc.current=null,GE(e,n),py(n,e),dE(za),Ss=!!Ha,za=Ha=null,e.current=n,BE(n),gT(),te=a,re=s,Ct.transition=r}else e.current=n;if(Fr&&(Fr=!1,wn=e,Fs=i),r=e.pendingLanes,r===0&&(Pn=null),xT(n.stateNode),lt(e,we()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],o(i.value,{componentStack:i.stack,digest:i.digest});if(Ls)throw Ls=!1,e=uu,uu=null,e;return Fs&1&&e.tag!==0&&Oo(),r=e.pendingLanes,r&1?e===cu?Ui++:(Ui=0,cu=e):Ui=0,Gn(),null}function Oo(){if(wn!==null){var e=Zg(Fs),t=Ct.transition,n=re;try{if(Ct.transition=null,re=16>e?16:e,wn===null)var o=!1;else{if(e=wn,wn=null,Fs=0,te&6)throw Error(L(331));var i=te;for(te|=4,G=e.current;G!==null;){var r=G,s=r.child;if(G.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:Li(8,d,r)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var p=d.sibling,g=d.return;if(cy(d),d===u){G=null;break}if(p!==null){p.return=g,G=p;break}G=g}}}var v=r.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var E=T.sibling;T.sibling=null,T=E}while(T!==null)}}G=r}}if(r.subtreeFlags&2064&&s!==null)s.return=r,G=s;else e:for(;G!==null;){if(r=G,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Li(9,r,r.return)}var S=r.sibling;if(S!==null){S.return=r.return,G=S;break e}G=r.return}}var y=e.current;for(G=y;G!==null;){s=G;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,G=x;else e:for(s=y;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ul(9,a)}}catch(_){Te(a,a.return,_)}if(a===s){G=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,G=w;break e}G=a.return}}if(te=i,Gn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(tl,e)}catch{}o=!0}return o}finally{re=n,Ct.transition=t}}return!1}function up(e,t,n){t=Xo(n,t),t=Z0(e,t,1),e=kn(e,t,1),t=je(),e!==null&&(pr(e,1,t),lt(e,t))}function Te(e,t,n){if(e.tag===3)up(e,e,n);else for(;t!==null;){if(t.tag===3){up(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Pn===null||!Pn.has(o))){e=Xo(n,e),e=ey(t,e,1),t=kn(t,e,1),e=je(),t!==null&&(pr(t,1,e),lt(t,e));break}}t=t.return}}function JE(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Ue&n)===n&&(Pe===4||Pe===3&&(Ue&130023424)===Ue&&500>we()-zc?Xn(e,0):Hc|=n),lt(e,t)}function Sy(e,t){t===0&&(e.mode&1?(t=Ir,Ir<<=1,!(Ir&130023424)&&(Ir=4194304)):t=1);var n=je();e=ln(e,t),e!==null&&(pr(e,t,n),lt(e,n))}function WE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sy(e,n)}function KE(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(L(314))}o!==null&&o.delete(t),Sy(e,n)}var Ty;Ty=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ot=!1,LE(e,t,n);ot=!!(e.flags&131072)}else ot=!1,pe&&t.flags&1048576&&_0(t,As,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;rs(e,t),e=t.pendingProps;var i=Ko(t,Je.current);Bo(t,n),i=Fc(null,t,o,e,i,n);var r=Uc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(o)?(r=!0,_s(t)):r=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rc(t),i.updater=al,t.stateNode=i,i._reactInternals=t,Xa(t,o,e,n),t=tu(null,t,o,!0,r,n)):(t.tag=0,pe&&r&&Cc(t),Ke(null,t,i,n),t=t.child),t;case 16:o=t.elementType;e:{switch(rs(e,t),e=t.pendingProps,i=o._init,o=i(o._payload),t.type=o,i=t.tag=jE(o),e=Dt(o,e),i){case 0:t=eu(null,t,o,e,n);break e;case 1:t=Zf(null,t,o,e,n);break e;case 11:t=Qf(null,t,o,e,n);break e;case 14:t=Xf(null,t,o,Dt(o.type,e),n);break e}throw Error(L(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Dt(o,i),eu(e,t,o,i,n);case 1:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Dt(o,i),Zf(e,t,o,i,n);case 3:e:{if(iy(t),e===null)throw Error(L(387));o=t.pendingProps,r=t.memoizedState,i=r.element,R0(e,t),Ps(t,o,null,n);var s=t.memoizedState;if(o=s.element,r.isDehydrated)if(r={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){i=Xo(Error(L(423)),t),t=ep(e,t,o,n,i);break e}else if(o!==i){i=Xo(Error(L(424)),t),t=ep(e,t,o,n,i);break e}else for(dt=Nn(t.stateNode.containerInfo.firstChild),ft=t,pe=!0,Ft=null,n=k0(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yo(),o===i){t=an(e,t,n);break e}Ke(e,t,o,n)}t=t.child}return t;case 5:return M0(t),e===null&&Ya(t),o=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,s=i.children,$a(o,i)?s=null:r!==null&&$a(o,r)&&(t.flags|=32),oy(e,t),Ke(e,t,s,n),t.child;case 6:return e===null&&Ya(t),null;case 13:return ry(e,t,n);case 4:return Mc(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=jo(t,null,o,n):Ke(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Dt(o,i),Qf(e,t,o,i,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,r=t.memoizedProps,s=i.value,ae(Ns,o._currentValue),o._currentValue=s,r!==null)if(Ot(r.value,s)){if(r.children===i.children&&!rt.current){t=an(e,t,n);break e}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){s=r.child;for(var l=a.firstContext;l!==null;){if(l.context===o){if(r.tag===1){l=on(-1,n&-n),l.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),ja(r.return,n,t),a.lanes|=n;break}l=l.next}}else if(r.tag===10)s=r.type===t.type?null:r.child;else if(r.tag===18){if(s=r.return,s===null)throw Error(L(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ja(s,n,t),s=r.sibling}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===t){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}Ke(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,Bo(t,n),i=At(i),o=o(i),t.flags|=1,Ke(e,t,o,n),t.child;case 14:return o=t.type,i=Dt(o,t.pendingProps),i=Dt(o.type,i),Xf(e,t,o,i,n);case 15:return ty(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Dt(o,i),rs(e,t),t.tag=1,st(o)?(e=!0,_s(t)):e=!1,Bo(t,n),X0(t,o,i),Xa(t,o,i,n),tu(null,t,o,!0,e,n);case 19:return sy(e,t,n);case 22:return ny(e,t,n)}throw Error(L(156,t.tag))};function Ey(e,t){return Yg(e,t)}function YE(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,o){return new YE(e,t,n,o)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jE(e){if(typeof e=="function")return Wc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fc)return 11;if(e===pc)return 14}return 2}function Mn(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function as(e,t,n,o,i,r){var s=2;if(o=e,typeof e=="function")Wc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case yo:return Zn(n.children,i,r,t);case dc:s=8,i|=8;break;case Ea:return e=Et(12,n,t,i|2),e.elementType=Ea,e.lanes=r,e;case wa:return e=Et(13,n,t,i),e.elementType=wa,e.lanes=r,e;case Ca:return e=Et(19,n,t,i),e.elementType=Ca,e.lanes=r,e;case Mg:return dl(n,i,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pg:s=10;break e;case Rg:s=9;break e;case fc:s=11;break e;case pc:s=14;break e;case vn:s=16,o=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Et(s,n,t,i),t.elementType=e,t.type=o,t.lanes=r,t}function Zn(e,t,n,o){return e=Et(7,e,o,t),e.lanes=n,e}function dl(e,t,n,o){return e=Et(22,e,o,t),e.elementType=Mg,e.lanes=n,e.stateNode={isHidden:!1},e}function Zl(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function ea(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QE(e,t,n,o,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kc(e,t,n,o,i,r,s,a,l){return e=new QE(e,t,n,a,l),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Et(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(r),e}function XE(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:go,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function wy(e){if(!e)return Dn;e=e._reactInternals;e:{if(uo(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(st(n))return w0(e,n,t)}return t}function Cy(e,t,n,o,i,r,s,a,l){return e=Kc(n,o,!0,e,i,r,s,a,l),e.context=wy(null),n=e.current,o=je(),i=Rn(n),r=on(o,i),r.callback=t??null,kn(n,r,i),e.current.lanes=i,pr(e,i,o),lt(e,o),e}function fl(e,t,n,o){var i=t.current,r=je(),s=Rn(i);return n=wy(n),t.context===null?t.context=n:t.pendingContext=n,t=on(r,s),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=kn(i,t,s),e!==null&&(Vt(e,i,s,r),ns(e,i,s)),s}function Vs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yc(e,t){cp(e,t),(e=e.alternate)&&cp(e,t)}function ZE(){return null}var _y=typeof reportError=="function"?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}pl.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));fl(e,t,null,null)};pl.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;so(function(){fl(null,e,null,null)}),t[sn]=null}};function pl(e){this._internalRoot=e}pl.prototype.unstable_scheduleHydration=function(e){if(e){var t=n0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&i0(e)}};function Qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dp(){}function ew(e,t,n,o,i){if(i){if(typeof o=="function"){var r=o;o=function(){var u=Vs(s);r.call(u)}}var s=Cy(t,o,e,0,null,!1,!1,"",dp);return e._reactRootContainer=s,e[sn]=s.current,Xi(e.nodeType===8?e.parentNode:e),so(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof o=="function"){var a=o;o=function(){var u=Vs(l);a.call(u)}}var l=Kc(e,0,!1,null,null,!1,!1,"",dp);return e._reactRootContainer=l,e[sn]=l.current,Xi(e.nodeType===8?e.parentNode:e),so(function(){fl(t,l,n,o)}),l}function ml(e,t,n,o,i){var r=n._reactRootContainer;if(r){var s=r;if(typeof i=="function"){var a=i;i=function(){var l=Vs(s);a.call(l)}}fl(t,s,e,i)}else s=ew(n,t,e,i,o);return Vs(s)}e0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_i(t.pendingLanes);n!==0&&(gc(t,n|1),lt(t,we()),!(te&6)&&(Zo=we()+500,Gn()))}break;case 13:so(function(){var o=ln(e,1);if(o!==null){var i=je();Vt(o,e,1,i)}}),Yc(e,1)}};yc=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var n=je();Vt(t,e,134217728,n)}Yc(e,134217728)}};t0=function(e){if(e.tag===13){var t=Rn(e),n=ln(e,t);if(n!==null){var o=je();Vt(n,e,t,o)}Yc(e,t)}};n0=function(){return re};o0=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Da=function(e,t,n){switch(t){case"input":if(Aa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=rl(o);if(!i)throw Error(L(90));Dg(o),Aa(o,i)}}}break;case"textarea":Fg(e,n);break;case"select":t=n.value,t!=null&&Fo(e,!!n.multiple,t,!1)}};zg=$c;$g=so;var tw={usingClientEntryPoint:!1,Events:[mr,To,rl,Og,Hg,$c]},xi={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nw={bundleType:xi.bundleType,version:xi.version,rendererPackageName:xi.rendererPackageName,rendererConfig:xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wg(e),e===null?null:e.stateNode},findFiberByHostInstance:xi.findFiberByHostInstance||ZE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ur.isDisabled&&Ur.supportsFiber)try{tl=Ur.inject(nw),Yt=Ur}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tw;mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(t))throw Error(L(200));return XE(e,t,null,n)};mt.createRoot=function(e,t){if(!Qc(e))throw Error(L(299));var n=!1,o="",i=_y;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Kc(e,1,!1,null,null,n,!1,o,i),e[sn]=t.current,Xi(e.nodeType===8?e.parentNode:e),new jc(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Wg(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return so(e)};mt.hydrate=function(e,t,n){if(!hl(t))throw Error(L(200));return ml(null,e,t,!0,n)};mt.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(L(405));var o=n!=null&&n.hydratedSources||null,i=!1,r="",s=_y;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Cy(t,null,e,1,n??null,i,!1,r,s),e[sn]=t.current,Xi(e),o)for(e=0;e<o.length;e++)n=o[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new pl(t)};mt.render=function(e,t,n){if(!hl(t))throw Error(L(200));return ml(null,e,t,!1,n)};mt.unmountComponentAtNode=function(e){if(!hl(e))throw Error(L(40));return e._reactRootContainer?(so(function(){ml(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};mt.unstable_batchedUpdates=$c;mt.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!hl(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return ml(e,t,n,!1,o)};mt.version="18.3.1-next-f1338f8080-20240426";function Iy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iy)}catch(e){console.error(e)}}Iy(),Ig.exports=mt;var ow=Ig.exports,fp=ow;Sa.createRoot=fp.createRoot,Sa.hydrateRoot=fp.hydrateRoot;var Ee=(e=>(e.MBTI_16="MBTI_16",e.JUNG_8="JUNG_8",e))(Ee||{});const Vi={standard:{name:"",multiplier:1,icon:"",color:"bg-emerald-600/90 border-emerald-400"},truth:{name:"",multiplier:1.2,icon:"",color:"bg-sky-600/90 border-sky-400"},dare:{name:"",multiplier:1.2,icon:"",color:"bg-amber-600/90 border-amber-400"},deep:{name:"",multiplier:1.5,icon:"",color:"bg-indigo-600/90 border-indigo-400"}},pu=["INTJ","INTP","ENTJ","ENTP","INFJ","INFP","ENFJ","ENFP","ISTJ","ISFJ","ESTJ","ESFJ","ISTP","ISFP","ESTP","ESFP"],Kt={" (NT)":{types:["INTJ","INTP","ENTJ","ENTP"],color:"bg-purple-100 dark:bg-purple-900/40 border-purple-200 dark:border-purple-500/50 text-purple-800 dark:text-purple-200",hexColor:"#a855f7"}," (NF)":{types:["INFJ","INFP","ENFJ","ENFP"],color:"bg-green-100 dark:bg-green-900/40 border-green-200 dark:border-green-500/50 text-green-800 dark:text-green-200",hexColor:"#22c55e"}," (SJ)":{types:["ISTJ","ISFJ","ESTJ","ESFJ"],color:"bg-blue-100 dark:bg-blue-900/40 border-blue-200 dark:border-blue-500/50 text-blue-800 dark:text-blue-200",hexColor:"#3b82f6"}," (SP)":{types:["ISTP","ISFP","ESTP","ESFP"],color:"bg-amber-100 dark:bg-yellow-900/40 border-amber-200 dark:border-yellow-500/50 text-amber-800 dark:text-yellow-200",hexColor:"#eab308"}},hu={INTJ:"",INTP:"",ENTJ:"",ENTP:"",INFJ:"",INFP:"",ENFJ:"",ENFP:"",ISTJ:"",ISFJ:"",ESTJ:"",ESFJ:"",ISTP:"",ISFP:"",ESTP:"",ESFP:"",Hub:""},iw={INTJ:["",""],INTP:["",""],ENTJ:["",""],ENTP:["",""],INFJ:["",""],INFP:["",""],ENFJ:["",""],ENFP:["",""],ISTJ:["",""],ISFJ:["",""],ESTJ:["",""],ESFJ:["",""],ISTP:["",""],ISFP:["",""],ESTP:["",""],ESFP:["",""]},ta={INTJ:["Ni","Te","Fi","Se","Ne","Ti","Fe","Si"],INTP:["Ti","Ne","Si","Fe","Te","Ni","Se","Fi"],ENTJ:["Te","Ni","Se","Fi","Ti","Ne","Si","Fe"],ENTP:["Ne","Ti","Fe","Si","Ni","Te","Fi","Se"],INFJ:["Ni","Fe","Ti","Se","Ne","Fi","Te","Si"],INFP:["Fi","Ne","Si","Te","Fe","Ni","Se","Ti"],ENFJ:["Fe","Ni","Se","Ti","Fi","Ne","Si","Te"],ENFP:["Ne","Fi","Te","Si","Ni","Fe","Ti","Se"],ISTJ:["Si","Te","Fi","Ne","Se","Ti","Fe","Ni"],ISFJ:["Si","Fe","Ti","Ne","Se","Fi","Te","Ni"],ESTJ:["Te","Si","Ne","Fi","Ti","Se","Ni","Fe"],ESFJ:["Fe","Si","Ne","Ti","Fi","Se","Ni","Te"],ISTP:["Ti","Se","Ni","Fe","Te","Si","Ne","Fi"],ISFP:["Fi","Se","Ni","Te","Fe","Si","Ne","Ti"],ESTP:["Se","Ti","Fe","Ni","Si","Te","Fi","Ne"],ESFP:["Se","Fi","Te","Ni","Si","Fe","Ti","Ne"]},rw=[{id:"Te",name:"",color:"#3b82f6",desc:"",textColor:"text-blue-100",borderColor:"border-blue-500",bgColor:"bg-blue-600"},{id:"Ti",name:"",color:"#0ea5e9",desc:"",textColor:"text-sky-100",borderColor:"border-sky-500",bgColor:"bg-sky-600"},{id:"Fe",name:"",color:"#ec4899",desc:"",textColor:"text-pink-100",borderColor:"border-pink-500",bgColor:"bg-pink-600"},{id:"Fi",name:"",color:"#f43f5e",desc:"",textColor:"text-rose-100",borderColor:"border-rose-500",bgColor:"bg-rose-600"},{id:"Se",name:"",color:"#eab308",desc:"",textColor:"text-yellow-100",borderColor:"border-yellow-500",bgColor:"bg-yellow-600"},{id:"Si",name:"",color:"#f97316",desc:"",textColor:"text-orange-100",borderColor:"border-orange-500",bgColor:"bg-orange-600"},{id:"Ne",name:"",color:"#a855f7",desc:"",textColor:"text-purple-100",borderColor:"border-purple-500",bgColor:"bg-purple-600"},{id:"Ni",name:"",color:"#6366f1",desc:"",textColor:"text-indigo-100",borderColor:"border-indigo-500",bgColor:"bg-indigo-600"},{id:"?",name:"",color:"#ffffff",desc:"",textColor:"text-slate-900",borderColor:"border-white",bgColor:"bg-white"}],sw=(e,t)=>[{q:1,r:0},{q:-1,r:0},{q:0,r:1},{q:0,r:-1}].map(o=>t.find(i=>i.q===e.q+o.q&&i.r===e.r+o.r)).filter(o=>o!==void 0),lw=(e,t)=>[{q:1,r:0},{q:-1,r:0},{q:0,r:1},{q:0,r:-1},{q:1,r:-1},{q:-1,r:1}].map(o=>t.find(i=>i.q===e.q+o.q&&i.r===e.r+o.r)).filter(o=>o!==void 0);var aw={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uw,cw;function dw(){return{geminiUrl:uw,vertexUrl:cw}}function fw(e,t,n,o){var i,r;if(!(e!=null&&e.baseUrl)){const s=dw();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(r=s.geminiUrl)!==null&&r!==void 0?r:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pn{}function U(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function f(e,t,n){for(let r=0;r<t.length-1;r++){const s=t[r];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in e))if(Array.isArray(n))e[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[a])){const l=e[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const d=l[u];f(d,t.slice(r+1),n[u])}else for(const u of l)f(u,t.slice(r+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in e||(e[a]=[{}]);const l=e[a];f(l[0],t.slice(r+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const o=t[t.length-1],i=e[o];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function c(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const i=t[o];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in e){const s=e[r];return Array.isArray(s)?s.map(a=>c(a,t.slice(o+1),n)):n}else return n}else e=e[i]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function pw(e,t){for(const[n,o]of Object.entries(t)){const i=n.split("."),r=o.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&r.length>a)for(let l=a;l<r.length;l++){const u=r[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}mu(e,i,r,0,s)}}function mu(e,t,n,o,i){if(o>=t.length||typeof e!="object"||e===null)return;const r=t[o];if(r.endsWith("[]")){const s=r.slice(0,-2),a=e;if(s in a&&Array.isArray(a[s]))for(const l of a[s])mu(l,t,n,o+1,i)}else if(r==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,d]of Object.entries(l)){const h=[];for(const p of n.slice(o))p==="*"?h.push(u):h.push(p);f(s,h,d)}for(const u of a)delete s[u]}}else{const s=e;r in s&&mu(s[r],t,n,o+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xc(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hw(e){const t={},n=c(e,["operationName"]);n!=null&&f(t,["operationName"],n);const o=c(e,["resourceName"]);return o!=null&&f(t,["_url","resourceName"],o),t}function mw(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response","generateVideoResponse"]);return s!=null&&f(t,["response"],yw(s)),t}function gw(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response"]);return s!=null&&f(t,["response"],vw(s)),t}function yw(e){const t={},n=c(e,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>xw(s))),f(t,["generatedVideos"],r)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function vw(e){const t={},n=c(e,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Sw(s))),f(t,["generatedVideos"],r)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function xw(e){const t={},n=c(e,["video"]);return n!=null&&f(t,["video"],Iw(n)),t}function Sw(e){const t={},n=c(e,["_self"]);return n!=null&&f(t,["video"],Aw(n)),t}function Tw(e){const t={},n=c(e,["operationName"]);return n!=null&&f(t,["_url","operationName"],n),t}function Ew(e){const t={},n=c(e,["operationName"]);return n!=null&&f(t,["_url","operationName"],n),t}function ww(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response"]);return s!=null&&f(t,["response"],Cw(s)),t}function Cw(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["parent"]);o!=null&&f(t,["parent"],o);const i=c(e,["documentName"]);return i!=null&&f(t,["documentName"],i),t}function Ay(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response"]);return s!=null&&f(t,["response"],_w(s)),t}function _w(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["parent"]);o!=null&&f(t,["parent"],o);const i=c(e,["documentName"]);return i!=null&&f(t,["documentName"],i),t}function Iw(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const o=c(e,["encodedVideo"]);o!=null&&f(t,["videoBytes"],Xc(o));const i=c(e,["encoding"]);return i!=null&&f(t,["mimeType"],i),t}function Aw(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["uri"],n);const o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["videoBytes"],Xc(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pp;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(pp||(pp={}));var hp;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(hp||(hp={}));var mp;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(mp||(mp={}));var Cn;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Cn||(Cn={}));var gp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(gp||(gp={}));var yp;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(yp||(yp={}));var vp;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(vp||(vp={}));var xp;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(xp||(xp={}));var Sp;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Sp||(Sp={}));var Tp;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(Tp||(Tp={}));var Ep;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ep||(Ep={}));var wp;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(wp||(wp={}));var Cp;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Cp||(Cp={}));var _p;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(_p||(_p={}));var Ip;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Ip||(Ip={}));var Ap;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ap||(Ap={}));var Np;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Np||(Np={}));var kp;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(kp||(kp={}));var Pp;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Pp||(Pp={}));var Gs;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Gs||(Gs={}));var Rp;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Rp||(Rp={}));var Mp;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Mp||(Mp={}));var bp;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(bp||(bp={}));var gu;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(gu||(gu={}));var Dp;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Dp||(Dp={}));var Lp;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Lp||(Lp={}));var Fp;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Fp||(Fp={}));var Up;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Up||(Up={}));var Vp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Vp||(Vp={}));var Gp;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Gp||(Gp={}));var Bp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Bp||(Bp={}));var Op;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Op||(Op={}));var Hp;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Hp||(Hp={}));var zp;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(zp||(zp={}));var $p;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($p||($p={}));var qp;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(qp||(qp={}));var Jp;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Jp||(Jp={}));var Wp;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Wp||(Wp={}));var Kp;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Kp||(Kp={}));var Yp;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Yp||(Yp={}));var jp;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(jp||(jp={}));var Qp;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Qp||(Qp={}));var Xp;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Xp||(Xp={}));var Zp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Zp||(Zp={}));var eh;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(eh||(eh={}));var th;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(th||(th={}));var nh;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(nh||(nh={}));var oh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(oh||(oh={}));var ih;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ih||(ih={}));var rh;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(rh||(rh={}));var sh;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sh||(sh={}));var lh;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(lh||(lh={}));var ah;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ah||(ah={}));var uh;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(uh||(uh={}));var ch;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(ch||(ch={}));var No;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(No||(No={}));class yu{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Si{get text(){var t,n,o,i,r,s,a,l;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const p of(l=(a=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&h.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,u+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,n,o,i,r,s,a,l;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(a=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[p,g]of Object.entries(h))p!=="inlineData"&&(g!==null||g!==void 0)&&d.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,o,i,r,s,a,l;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,o,i,r,s,a,l,u;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(a=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,o,i,r,s,a,l,u;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(a=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class dh{}class fh{}class Nw{}class kw{}class Pw{}class Rw{}class ph{}class hh{}class mh{}class Mw{}class Bs{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Bs;let i;const r=t;return n?i=gw(r):i=mw(r),Object.assign(o,i),o}}class gh{}class yh{}class vh{}class xh{}class bw{}class Dw{}class Lw{}class Zc{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Zc,r=ww(t);return Object.assign(o,r),o}}class Fw{}class Uw{}class Vw{}class Sh{}class Gw{get text(){var t,n,o;let i="",r=!1;const s=[];for(const a of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;r=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var t,n,o;let i="";const r=[];for(const s of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&r.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Bw{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ed{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new ed,r=Ay(t);return Object.assign(o,r),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ne(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ny(e,t){const n=ne(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function ky(e){return Array.isArray(e)?e.map(t=>Os(t)):[Os(e)]}function Os(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Py(e){const t=Os(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Ry(e){const t=Os(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Th(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function My(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Th(t)):[Th(e)]}function vu(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Eh(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function wh(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function $e(e){if(e==null)throw new Error("ContentUnion is required");return vu(e)?e:{role:"user",parts:My(e)}}function td(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=$e(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=$e(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>$e(n)):[$e(t)]}function _t(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Eh(e)||wh(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$e(e)]}const t=[],n=[],o=vu(e[0]);for(const i of e){const r=vu(i);if(r!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)t.push(i);else{if(Eh(i)||wh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return o||t.push({role:"user",parts:My(n)}),t}function Ow(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(Cn).includes(n[0].toUpperCase())?n[0].toUpperCase():Cn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(Cn).includes(o.toUpperCase())?o.toUpperCase():Cn.TYPE_UNSPECIFIED})}}function Ho(e){const t={},n=["items"],o=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=e.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(t.nullable=!0,e=r[1]):r[1].type==="null"&&(t.nullable=!0,e=r[0])),e.type instanceof Array&&Ow(e.type,t);for(const[s,a]of Object.entries(e))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(Cn).includes(a.toUpperCase())?a.toUpperCase():Cn.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Ho(a);else if(o.includes(s)){const l=[];for(const u of a){if(u.type=="null"){t.nullable=!0;continue}l.push(Ho(u))}t[s]=l}else if(i.includes(s)){const l={};for(const[u,d]of Object.entries(a))l[u]=Ho(d);t[s]=l}else{if(s==="additionalProperties")continue;t[s]=a}return t}function nd(e){return Ho(e)}function od(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function id(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ri(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ho(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ho(t.response));return e}function si(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Hw(e,t,n,o=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function hn(e,t){if(typeof t!="string")throw new Error("name must be a string");return Hw(e,t,"cachedContents")}function by(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Bn(e){return Xc(e)}function zw(e){return e!=null&&typeof e=="object"&&"name"in e}function $w(e){return e!=null&&typeof e=="object"&&"video"in e}function qw(e){return e!=null&&typeof e=="object"&&"uri"in e}function Dy(e){var t;let n;if(zw(e)&&(n=e.name),!(qw(e)&&(n=e.uri,n===void 0))&&!($w(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Ly(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Fy(e){for(const t of["models","tunedModels","publisherModels"])if(Jw(e,t))return e[t];return[]}function Jw(e,t){return e!==null&&typeof e=="object"&&t in e}function Ww(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function Kw(e,t={}){const n=[],o=new Set;for(const i of e){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const s=Ww(i,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Uy(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Yw(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Vy(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let r=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){r=!0;break}}return r&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function li(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Gy(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jw(e){const t={},n=c(e,["responsesFile"]);n!=null&&f(t,["fileName"],n);const o=c(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>PC(s))),f(t,["inlinedResponses"],r)}const i=c(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["inlinedEmbedContentResponses"],r)}return t}function Qw(e){const t={},n=c(e,["predictionsFormat"]);n!=null&&f(t,["format"],n);const o=c(e,["gcsDestination","outputUriPrefix"]);o!=null&&f(t,["gcsUri"],o);const i=c(e,["bigqueryDestination","outputUri"]);return i!=null&&f(t,["bigqueryUri"],i),t}function Xw(e){const t={},n=c(e,["format"]);n!=null&&f(t,["predictionsFormat"],n);const o=c(e,["gcsUri"]);o!=null&&f(t,["gcsDestination","outputUriPrefix"],o);const i=c(e,["bigqueryUri"]);if(i!=null&&f(t,["bigqueryDestination","outputUri"],i),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function us(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata","displayName"]);o!=null&&f(t,["displayName"],o);const i=c(e,["metadata","state"]);i!=null&&f(t,["state"],Gy(i));const r=c(e,["metadata","createTime"]);r!=null&&f(t,["createTime"],r);const s=c(e,["metadata","endTime"]);s!=null&&f(t,["endTime"],s);const a=c(e,["metadata","updateTime"]);a!=null&&f(t,["updateTime"],a);const l=c(e,["metadata","model"]);l!=null&&f(t,["model"],l);const u=c(e,["metadata","output"]);return u!=null&&f(t,["dest"],jw(Vy(u))),t}function xu(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const i=c(e,["state"]);i!=null&&f(t,["state"],Gy(i));const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["createTime"]);s!=null&&f(t,["createTime"],s);const a=c(e,["startTime"]);a!=null&&f(t,["startTime"],a);const l=c(e,["endTime"]);l!=null&&f(t,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&f(t,["updateTime"],u);const d=c(e,["model"]);d!=null&&f(t,["model"],d);const h=c(e,["inputConfig"]);h!=null&&f(t,["src"],Zw(h));const p=c(e,["outputConfig"]);p!=null&&f(t,["dest"],Qw(Vy(p)));const g=c(e,["completionStats"]);return g!=null&&f(t,["completionStats"],g),t}function Zw(e){const t={},n=c(e,["instancesFormat"]);n!=null&&f(t,["format"],n);const o=c(e,["gcsSource","uris"]);o!=null&&f(t,["gcsUri"],o);const i=c(e,["bigquerySource","inputUri"]);return i!=null&&f(t,["bigqueryUri"],i),t}function eC(e,t){const n={};if(c(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=c(t,["fileName"]);o!=null&&f(n,["fileName"],o);const i=c(t,["inlinedRequests"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>kC(e,s))),f(n,["requests","requests"],r)}return n}function tC(e){const t={},n=c(e,["format"]);n!=null&&f(t,["instancesFormat"],n);const o=c(e,["gcsUri"]);o!=null&&f(t,["gcsSource","uris"],o);const i=c(e,["bigqueryUri"]);if(i!=null&&f(t,["bigquerySource","inputUri"],i),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function nC(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function oC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],li(e,o)),n}function iC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],li(e,o)),n}function rC(e){const t={},n=c(e,["content"]);n!=null&&f(t,["content"],n);const o=c(e,["citationMetadata"]);o!=null&&f(t,["citationMetadata"],sC(o));const i=c(e,["tokenCount"]);i!=null&&f(t,["tokenCount"],i);const r=c(e,["finishReason"]);r!=null&&f(t,["finishReason"],r);const s=c(e,["avgLogprobs"]);s!=null&&f(t,["avgLogprobs"],s);const a=c(e,["groundingMetadata"]);a!=null&&f(t,["groundingMetadata"],a);const l=c(e,["index"]);l!=null&&f(t,["index"],l);const u=c(e,["logprobsResult"]);u!=null&&f(t,["logprobsResult"],u);const d=c(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),f(t,["safetyRatings"],p)}const h=c(e,["urlContextMetadata"]);return h!=null&&f(t,["urlContextMetadata"],h),t}function sC(e){const t={},n=c(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),f(t,["citations"],o)}return t}function By(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>UC(r))),f(t,["parts"],i)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function lC(e,t){const n={},o=c(e,["displayName"]);if(t!==void 0&&o!=null&&f(t,["batch","displayName"],o),c(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function aC(e,t){const n={},o=c(e,["displayName"]);t!==void 0&&o!=null&&f(t,["displayName"],o);const i=c(e,["dest"]);return t!==void 0&&i!=null&&f(t,["outputConfig"],Xw(Yw(i))),n}function Ch(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["src"]);i!=null&&f(n,["batch","inputConfig"],eC(e,Uy(e,i)));const r=c(t,["config"]);return r!=null&&lC(r,n),n}function uC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["model"],ne(e,o));const i=c(t,["src"]);i!=null&&f(n,["inputConfig"],tC(Uy(e,i)));const r=c(t,["config"]);return r!=null&&aC(r,n),n}function cC(e,t){const n={},o=c(e,["displayName"]);return t!==void 0&&o!=null&&f(t,["batch","displayName"],o),n}function dC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["src"]);i!=null&&f(n,["batch","inputConfig"],vC(e,i));const r=c(t,["config"]);return r!=null&&cC(r,n),n}function fC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],li(e,o)),n}function pC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],li(e,o)),n}function hC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);return r!=null&&f(t,["error"],r),t}function mC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);return r!=null&&f(t,["error"],r),t}function gC(e,t){const n={},o=c(t,["contents"]);if(o!=null){let r=td(e,o);Array.isArray(r)&&(r=r.map(s=>s)),f(n,["requests[]","request","content"],r)}const i=c(t,["config"]);return i!=null&&(f(n,["_self"],yC(i,n)),pw(n,{"requests[].*":"requests[].request.*"})),n}function yC(e,t){const n={},o=c(e,["taskType"]);t!==void 0&&o!=null&&f(t,["requests[]","taskType"],o);const i=c(e,["title"]);t!==void 0&&i!=null&&f(t,["requests[]","title"],i);const r=c(e,["outputDimensionality"]);if(t!==void 0&&r!=null&&f(t,["requests[]","outputDimensionality"],r),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vC(e,t){const n={},o=c(t,["fileName"]);o!=null&&f(n,["file_name"],o);const i=c(t,["inlinedRequests"]);return i!=null&&f(n,["requests"],gC(e,i)),n}function xC(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function SC(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function TC(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const o=c(e,["allowedFunctionNames"]);if(o!=null&&f(t,["allowedFunctionNames"],o),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function EC(e,t,n){const o={},i=c(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],By($e(i)));const r=c(t,["temperature"]);r!=null&&f(o,["temperature"],r);const s=c(t,["topP"]);s!=null&&f(o,["topP"],s);const a=c(t,["topK"]);a!=null&&f(o,["topK"],a);const l=c(t,["candidateCount"]);l!=null&&f(o,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&f(o,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(o,["stopSequences"],d);const h=c(t,["responseLogprobs"]);h!=null&&f(o,["responseLogprobs"],h);const p=c(t,["logprobs"]);p!=null&&f(o,["logprobs"],p);const g=c(t,["presencePenalty"]);g!=null&&f(o,["presencePenalty"],g);const v=c(t,["frequencyPenalty"]);v!=null&&f(o,["frequencyPenalty"],v);const T=c(t,["seed"]);T!=null&&f(o,["seed"],T);const E=c(t,["responseMimeType"]);E!=null&&f(o,["responseMimeType"],E);const S=c(t,["responseSchema"]);S!=null&&f(o,["responseSchema"],nd(S));const y=c(t,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=c(t,["safetySettings"]);if(n!==void 0&&x!=null){let Q=x;Array.isArray(Q)&&(Q=Q.map(oe=>VC(oe))),f(n,["safetySettings"],Q)}const w=c(t,["tools"]);if(n!==void 0&&w!=null){let Q=si(w);Array.isArray(Q)&&(Q=Q.map(oe=>BC(ri(oe)))),f(n,["tools"],Q)}const _=c(t,["toolConfig"]);if(n!==void 0&&_!=null&&f(n,["toolConfig"],GC(_)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=c(t,["cachedContent"]);n!==void 0&&C!=null&&f(n,["cachedContent"],hn(e,C));const I=c(t,["responseModalities"]);I!=null&&f(o,["responseModalities"],I);const A=c(t,["mediaResolution"]);A!=null&&f(o,["mediaResolution"],A);const b=c(t,["speechConfig"]);if(b!=null&&f(o,["speechConfig"],od(b)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=c(t,["thinkingConfig"]);D!=null&&f(o,["thinkingConfig"],D);const O=c(t,["imageConfig"]);O!=null&&f(o,["imageConfig"],NC(O));const de=c(t,["enableEnhancedCivicAnswers"]);return de!=null&&f(o,["enableEnhancedCivicAnswers"],de),o}function wC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["candidates"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>rC(u))),f(t,["candidates"],l)}const i=c(e,["modelVersion"]);i!=null&&f(t,["modelVersion"],i);const r=c(e,["promptFeedback"]);r!=null&&f(t,["promptFeedback"],r);const s=c(e,["responseId"]);s!=null&&f(t,["responseId"],s);const a=c(e,["usageMetadata"]);return a!=null&&f(t,["usageMetadata"],a),t}function CC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],li(e,o)),n}function _C(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],li(e,o)),n}function IC(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function AC(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function NC(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const o=c(e,["imageSize"]);if(o!=null&&f(t,["imageSize"],o),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function kC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["request","model"],ne(e,o));const i=c(t,["contents"]);if(i!=null){let a=_t(i);Array.isArray(a)&&(a=a.map(l=>By(l))),f(n,["request","contents"],a)}const r=c(t,["metadata"]);r!=null&&f(n,["metadata"],r);const s=c(t,["config"]);return s!=null&&f(n,["request","generationConfig"],EC(e,s,c(n,["request"],{}))),n}function PC(e){const t={},n=c(e,["response"]);n!=null&&f(t,["response"],wC(n));const o=c(e,["error"]);return o!=null&&f(t,["error"],o),t}function RC(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);if(t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),c(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function MC(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);t!==void 0&&i!=null&&f(t,["_query","pageToken"],i);const r=c(e,["filter"]);return t!==void 0&&r!=null&&f(t,["_query","filter"],r),n}function bC(e){const t={},n=c(e,["config"]);return n!=null&&RC(n,t),t}function DC(e){const t={},n=c(e,["config"]);return n!=null&&MC(n,t),t}function LC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["operations"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>us(s))),f(t,["batchJobs"],r)}return t}function FC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["batchPredictionJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>xu(s))),f(t,["batchJobs"],r)}return t}function UC(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const r=c(e,["fileData"]);r!=null&&f(t,["fileData"],xC(r));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],SC(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],nC(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const p=c(e,["videoMetadata"]);return p!=null&&f(t,["videoMetadata"],p),t}function VC(e){const t={},n=c(e,["category"]);if(n!=null&&f(t,["category"],n),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(e,["threshold"]);return o!=null&&f(t,["threshold"],o),t}function GC(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],TC(n));const o=c(e,["retrievalConfig"]);return o!=null&&f(t,["retrievalConfig"],o),t}function BC(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const r=c(e,["fileSearch"]);r!=null&&f(t,["fileSearch"],r);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],IC(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],AC(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var un;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(un||(un={}));class co{constructor(t,n,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,i)}init(t,n,o){var i,r;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(r=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OC extends pn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new co(un.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Ch(this.apiClient,t),o=n._url,i=U("{model}:batchGenerateContent",o),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=p,h.request=g}u.push(h)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const r=this.getGcsUri(t),s=this.getBigqueryUri(t);if(r)r.endsWith(".jsonl")?o.dest=`${r.slice(0,-6)}/dest`:o.dest=`${r}_dest_${i}`;else if(s)o.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=uC(this.apiClient,t);return a=U("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>xu(d))}else{const u=Ch(this.apiClient,t);return a=U("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>us(d))}}async createEmbeddingsInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dC(this.apiClient,t);return r=U("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>us(l))}}async get(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_C(this.apiClient,t);return a=U("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>xu(d))}else{const u=CC(this.apiClient,t);return a=U("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>us(d))}}async cancel(t){var n,o,i,r;let s="",a={};if(this.apiClient.isVertexAI()){const l=iC(this.apiClient,t);s=U("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const l=oC(this.apiClient,t);s=U("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=DC(t);return a=U("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=FC(d),p=new Sh;return Object.assign(p,h),p})}else{const u=bC(t);return a=U("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=LC(d),p=new Sh;return Object.assign(p,h),p})}}async delete(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pC(this.apiClient,t);return a=U("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>mC(d))}else{const u=fC(this.apiClient,t);return a=U("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>hC(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HC(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function _h(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>d1(r))),f(t,["parts"],i)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function zC(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const i=c(e,["expireTime"]);t!==void 0&&i!=null&&f(t,["expireTime"],i);const r=c(e,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const s=c(e,["contents"]);if(t!==void 0&&s!=null){let d=_t(s);Array.isArray(d)&&(d=d.map(h=>_h(h))),f(t,["contents"],d)}const a=c(e,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],_h($e(a)));const l=c(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>p1(h))),f(t,["tools"],d)}const u=c(e,["toolConfig"]);if(t!==void 0&&u!=null&&f(t,["toolConfig"],f1(u)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function $C(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const i=c(e,["expireTime"]);t!==void 0&&i!=null&&f(t,["expireTime"],i);const r=c(e,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const s=c(e,["contents"]);if(t!==void 0&&s!=null){let h=_t(s);Array.isArray(h)&&(h=h.map(p=>p)),f(t,["contents"],h)}const a=c(e,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],$e(a));const l=c(e,["tools"]);if(t!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>h1(p))),f(t,["tools"],h)}const u=c(e,["toolConfig"]);t!==void 0&&u!=null&&f(t,["toolConfig"],u);const d=c(e,["kmsKeyName"]);return t!==void 0&&d!=null&&f(t,["encryption_spec","kmsKeyName"],d),n}function qC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["model"],Ny(e,o));const i=c(t,["config"]);return i!=null&&zC(i,n),n}function JC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["model"],Ny(e,o));const i=c(t,["config"]);return i!=null&&$C(i,n),n}function WC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],hn(e,o)),n}function KC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],hn(e,o)),n}function YC(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function jC(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function QC(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function XC(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ZC(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const o=c(e,["allowedFunctionNames"]);if(o!=null&&f(t,["allowedFunctionNames"],o),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function e1(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const i=c(e,["parameters"]);i!=null&&f(t,["parameters"],i);const r=c(e,["parametersJsonSchema"]);r!=null&&f(t,["parametersJsonSchema"],r);const s=c(e,["response"]);s!=null&&f(t,["response"],s);const a=c(e,["responseJsonSchema"]);return a!=null&&f(t,["responseJsonSchema"],a),t}function t1(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],hn(e,o)),n}function n1(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],hn(e,o)),n}function o1(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function i1(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function r1(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function s1(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function l1(e){const t={},n=c(e,["config"]);return n!=null&&r1(n,t),t}function a1(e){const t={},n=c(e,["config"]);return n!=null&&s1(n,t),t}function u1(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["cachedContents"],r)}return t}function c1(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["cachedContents"],r)}return t}function d1(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const r=c(e,["fileData"]);r!=null&&f(t,["fileData"],QC(r));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],XC(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],HC(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const p=c(e,["videoMetadata"]);return p!=null&&f(t,["videoMetadata"],p),t}function f1(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],ZC(n));const o=c(e,["retrievalConfig"]);return o!=null&&f(t,["retrievalConfig"],o),t}function p1(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const r=c(e,["fileSearch"]);r!=null&&f(t,["fileSearch"],r);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],o1(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],i1(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function h1(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>e1(p))),f(t,["functionDeclarations"],h)}const o=c(e,["retrieval"]);o!=null&&f(t,["retrieval"],o);const i=c(e,["googleSearchRetrieval"]);i!=null&&f(t,["googleSearchRetrieval"],i);const r=c(e,["computerUse"]);if(r!=null&&f(t,["computerUse"],r),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(e,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const a=c(e,["enterpriseWebSearch"]);a!=null&&f(t,["enterpriseWebSearch"],a);const l=c(e,["googleMaps"]);l!=null&&f(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function m1(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const i=c(e,["expireTime"]);return t!==void 0&&i!=null&&f(t,["expireTime"],i),n}function g1(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const i=c(e,["expireTime"]);return t!==void 0&&i!=null&&f(t,["expireTime"],i),n}function y1(e,t){const n={},o=c(t,["name"]);o!=null&&f(n,["_url","name"],hn(e,o));const i=c(t,["config"]);return i!=null&&m1(i,n),n}function v1(e,t){const n={},o=c(t,["name"]);o!=null&&f(n,["_url","name"],hn(e,o));const i=c(t,["config"]);return i!=null&&g1(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x1 extends pn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new co(un.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=JC(this.apiClient,t);return a=U("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=qC(this.apiClient,t);return a=U("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=n1(this.apiClient,t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=t1(this.apiClient,t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=KC(this.apiClient,t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=jC(d),p=new vh;return Object.assign(p,h),p})}else{const u=WC(this.apiClient,t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=YC(d),p=new vh;return Object.assign(p,h),p})}}async update(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=v1(this.apiClient,t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=y1(this.apiClient,t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=a1(t);return a=U("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=c1(d),p=new xh;return Object.assign(p,h),p})}else{const u=l1(t);return a=U("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=u1(d),p=new xh;return Object.assign(p,h),p})}}}function Hs(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n}function Ih(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(e){return this instanceof W?(this.v=e,this):new W(e)}function Gt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(v){return Promise.resolve(v).then(g,h)}}function a(g,v){o[g]&&(i[g]=function(T){return new Promise(function(E,S){r.push([g,T,E,S])>1||l(g,T)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(o[g](v))}catch(T){p(r[0][3],T)}}function u(g){g.value instanceof W?Promise.resolve(g.value.v).then(d,h):p(r[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function p(g,v){g(v),r.shift(),r.length&&l(r[0][0],r[0][1])}}function Bt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ih=="function"?Ih(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(r){n[r]=e[r]&&function(s){return new Promise(function(a,l){s=e[r](s),i(a,l,s.done,s.value)})}}function i(r,s,a,l){Promise.resolve(l).then(function(u){r({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S1(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Oy(n)}function Oy(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function T1(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Ah(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const i=[];let r=!0;for(;o<n&&e[o].role==="model";)i.push(e[o]),r&&!Oy(e[o])&&(r=!1),o++;r?t.push(...i):t.pop()}return t}class E1{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new w1(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class w1{constructor(t,n,o,i={},r=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),T1(r)}async sendMessage(t){var n;await this.sendPromise;const o=$e(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,s,a;const l=await i,u=(s=(r=l.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];d!=null&&(p=(a=d.slice(h))!==null&&a!==void 0?a:[]);const g=u?[u]:[];this.recordHistory(o,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const o=$e(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(t=!1){const n=t?Ah(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Gt(this,arguments,function*(){var i,r,s,a,l,u;const d=[];try{for(var h=!0,p=Bt(t),g;g=yield W(p.next()),i=g.done,!i;h=!0){a=g.value,h=!1;const v=a;if(S1(v)){const T=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;T!==void 0&&d.push(T)}yield yield W(v)}}catch(v){r={error:v}}finally{try{!h&&!i&&(s=p.return)&&(yield W(s.call(p)))}finally{if(r)throw r.error}}this.recordHistory(n,d)})}recordHistory(t,n,o){let i=[];n.length>0&&n.every(r=>r.role!==void 0)?i=n:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Ah(o)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,gl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C1(e){const t={},n=c(e,["file"]);return n!=null&&f(t,["file"],n),t}function _1(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function I1(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","file"],Dy(n)),t}function A1(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function N1(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","file"],Dy(n)),t}function k1(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function P1(e){const t={},n=c(e,["config"]);return n!=null&&k1(n,t),t}function R1(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M1 extends pn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new co(un.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=P1(t);return r=U("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=R1(l),d=new Fw;return Object.assign(d,u),d})}}async createInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=C1(t);return r=U("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=_1(l),d=new Uw;return Object.assign(d,u),d})}}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=N1(t);return r=U("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=I1(t);return r=U("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=A1(l),d=new Vw;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cs(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function b1(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Y1(r))),f(t,["parts"],i)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function D1(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function L1(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function F1(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const i=c(e,["parameters"]);i!=null&&f(t,["parameters"],i);const r=c(e,["parametersJsonSchema"]);r!=null&&f(t,["parametersJsonSchema"],r);const s=c(e,["response"]);s!=null&&f(t,["response"],s);const a=c(e,["responseJsonSchema"]);return a!=null&&f(t,["responseJsonSchema"],a),t}function U1(e){const t={},n=c(e,["modelSelectionConfig"]);n!=null&&f(t,["modelConfig"],n);const o=c(e,["responseJsonSchema"]);o!=null&&f(t,["responseJsonSchema"],o);const i=c(e,["audioTimestamp"]);i!=null&&f(t,["audioTimestamp"],i);const r=c(e,["candidateCount"]);r!=null&&f(t,["candidateCount"],r);const s=c(e,["enableAffectiveDialog"]);s!=null&&f(t,["enableAffectiveDialog"],s);const a=c(e,["frequencyPenalty"]);a!=null&&f(t,["frequencyPenalty"],a);const l=c(e,["logprobs"]);l!=null&&f(t,["logprobs"],l);const u=c(e,["maxOutputTokens"]);u!=null&&f(t,["maxOutputTokens"],u);const d=c(e,["mediaResolution"]);d!=null&&f(t,["mediaResolution"],d);const h=c(e,["presencePenalty"]);h!=null&&f(t,["presencePenalty"],h);const p=c(e,["responseLogprobs"]);p!=null&&f(t,["responseLogprobs"],p);const g=c(e,["responseMimeType"]);g!=null&&f(t,["responseMimeType"],g);const v=c(e,["responseModalities"]);v!=null&&f(t,["responseModalities"],v);const T=c(e,["responseSchema"]);T!=null&&f(t,["responseSchema"],T);const E=c(e,["routingConfig"]);E!=null&&f(t,["routingConfig"],E);const S=c(e,["seed"]);S!=null&&f(t,["seed"],S);const y=c(e,["speechConfig"]);y!=null&&f(t,["speechConfig"],y);const x=c(e,["stopSequences"]);x!=null&&f(t,["stopSequences"],x);const w=c(e,["temperature"]);w!=null&&f(t,["temperature"],w);const _=c(e,["thinkingConfig"]);_!=null&&f(t,["thinkingConfig"],_);const C=c(e,["topK"]);C!=null&&f(t,["topK"],C);const I=c(e,["topP"]);if(I!=null&&f(t,["topP"],I),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function V1(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function G1(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function B1(e,t){const n={},o=c(e,["generationConfig"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig"],o);const i=c(e,["responseModalities"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","responseModalities"],i);const r=c(e,["temperature"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","temperature"],r);const s=c(e,["topP"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topP"],s);const a=c(e,["topK"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","topK"],a);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const h=c(e,["speechConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","speechConfig"],id(h));const p=c(e,["thinkingConfig"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","thinkingConfig"],p);const g=c(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=c(e,["systemInstruction"]);t!==void 0&&v!=null&&f(t,["setup","systemInstruction"],b1($e(v)));const T=c(e,["tools"]);if(t!==void 0&&T!=null){let C=si(T);Array.isArray(C)&&(C=C.map(I=>Q1(ri(I)))),f(t,["setup","tools"],C)}const E=c(e,["sessionResumption"]);t!==void 0&&E!=null&&f(t,["setup","sessionResumption"],j1(E));const S=c(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&f(t,["setup","inputAudioTranscription"],S);const y=c(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&f(t,["setup","outputAudioTranscription"],y);const x=c(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&f(t,["setup","realtimeInputConfig"],x);const w=c(e,["contextWindowCompression"]);t!==void 0&&w!=null&&f(t,["setup","contextWindowCompression"],w);const _=c(e,["proactivity"]);if(t!==void 0&&_!=null&&f(t,["setup","proactivity"],_),c(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function O1(e,t){const n={},o=c(e,["generationConfig"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig"],U1(o));const i=c(e,["responseModalities"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","responseModalities"],i);const r=c(e,["temperature"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","temperature"],r);const s=c(e,["topP"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topP"],s);const a=c(e,["topK"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","topK"],a);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const h=c(e,["speechConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","speechConfig"],id(h));const p=c(e,["thinkingConfig"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","thinkingConfig"],p);const g=c(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=c(e,["systemInstruction"]);t!==void 0&&v!=null&&f(t,["setup","systemInstruction"],$e(v));const T=c(e,["tools"]);if(t!==void 0&&T!=null){let I=si(T);Array.isArray(I)&&(I=I.map(A=>X1(ri(A)))),f(t,["setup","tools"],I)}const E=c(e,["sessionResumption"]);t!==void 0&&E!=null&&f(t,["setup","sessionResumption"],E);const S=c(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&f(t,["setup","inputAudioTranscription"],S);const y=c(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&f(t,["setup","outputAudioTranscription"],y);const x=c(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&f(t,["setup","realtimeInputConfig"],x);const w=c(e,["contextWindowCompression"]);t!==void 0&&w!=null&&f(t,["setup","contextWindowCompression"],w);const _=c(e,["proactivity"]);t!==void 0&&_!=null&&f(t,["setup","proactivity"],_);const C=c(e,["explicitVadSignal"]);return t!==void 0&&C!=null&&f(t,["setup","explicitVadSignal"],C),n}function H1(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["setup","model"],ne(e,o));const i=c(t,["config"]);return i!=null&&f(n,["config"],B1(i,n)),n}function z1(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["setup","model"],ne(e,o));const i=c(t,["config"]);return i!=null&&f(n,["config"],O1(i,n)),n}function $1(e){const t={},n=c(e,["musicGenerationConfig"]);return n!=null&&f(t,["musicGenerationConfig"],n),t}function q1(e){const t={},n=c(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),f(t,["weightedPrompts"],o)}return t}function J1(e){const t={},n=c(e,["media"]);if(n!=null){let u=ky(n);Array.isArray(u)&&(u=u.map(d=>cs(d))),f(t,["mediaChunks"],u)}const o=c(e,["audio"]);o!=null&&f(t,["audio"],cs(Ry(o)));const i=c(e,["audioStreamEnd"]);i!=null&&f(t,["audioStreamEnd"],i);const r=c(e,["video"]);r!=null&&f(t,["video"],cs(Py(r)));const s=c(e,["text"]);s!=null&&f(t,["text"],s);const a=c(e,["activityStart"]);a!=null&&f(t,["activityStart"],a);const l=c(e,["activityEnd"]);return l!=null&&f(t,["activityEnd"],l),t}function W1(e){const t={},n=c(e,["media"]);if(n!=null){let u=ky(n);Array.isArray(u)&&(u=u.map(d=>d)),f(t,["mediaChunks"],u)}const o=c(e,["audio"]);o!=null&&f(t,["audio"],Ry(o));const i=c(e,["audioStreamEnd"]);i!=null&&f(t,["audioStreamEnd"],i);const r=c(e,["video"]);r!=null&&f(t,["video"],Py(r));const s=c(e,["text"]);s!=null&&f(t,["text"],s);const a=c(e,["activityStart"]);a!=null&&f(t,["activityStart"],a);const l=c(e,["activityEnd"]);return l!=null&&f(t,["activityEnd"],l),t}function K1(e){const t={},n=c(e,["setupComplete"]);n!=null&&f(t,["setupComplete"],n);const o=c(e,["serverContent"]);o!=null&&f(t,["serverContent"],o);const i=c(e,["toolCall"]);i!=null&&f(t,["toolCall"],i);const r=c(e,["toolCallCancellation"]);r!=null&&f(t,["toolCallCancellation"],r);const s=c(e,["usageMetadata"]);s!=null&&f(t,["usageMetadata"],Z1(s));const a=c(e,["goAway"]);a!=null&&f(t,["goAway"],a);const l=c(e,["sessionResumptionUpdate"]);l!=null&&f(t,["sessionResumptionUpdate"],l);const u=c(e,["voiceActivityDetectionSignal"]);return u!=null&&f(t,["voiceActivityDetectionSignal"],u),t}function Y1(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const r=c(e,["fileData"]);r!=null&&f(t,["fileData"],D1(r));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],L1(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],cs(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const p=c(e,["videoMetadata"]);return p!=null&&f(t,["videoMetadata"],p),t}function j1(e){const t={},n=c(e,["handle"]);if(n!=null&&f(t,["handle"],n),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Q1(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const r=c(e,["fileSearch"]);r!=null&&f(t,["fileSearch"],r);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],V1(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],G1(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function X1(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>F1(p))),f(t,["functionDeclarations"],h)}const o=c(e,["retrieval"]);o!=null&&f(t,["retrieval"],o);const i=c(e,["googleSearchRetrieval"]);i!=null&&f(t,["googleSearchRetrieval"],i);const r=c(e,["computerUse"]);if(r!=null&&f(t,["computerUse"],r),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(e,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const a=c(e,["enterpriseWebSearch"]);a!=null&&f(t,["enterpriseWebSearch"],a);const l=c(e,["googleMaps"]);l!=null&&f(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function Z1(e){const t={},n=c(e,["promptTokenCount"]);n!=null&&f(t,["promptTokenCount"],n);const o=c(e,["cachedContentTokenCount"]);o!=null&&f(t,["cachedContentTokenCount"],o);const i=c(e,["candidatesTokenCount"]);i!=null&&f(t,["responseTokenCount"],i);const r=c(e,["toolUsePromptTokenCount"]);r!=null&&f(t,["toolUsePromptTokenCount"],r);const s=c(e,["thoughtsTokenCount"]);s!=null&&f(t,["thoughtsTokenCount"],s);const a=c(e,["totalTokenCount"]);a!=null&&f(t,["totalTokenCount"],a);const l=c(e,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),f(t,["promptTokensDetails"],g)}const u=c(e,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),f(t,["cacheTokensDetails"],g)}const d=c(e,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),f(t,["responseTokensDetails"],g)}const h=c(e,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),f(t,["toolUsePromptTokensDetails"],g)}const p=c(e,["trafficType"]);return p!=null&&f(t,["trafficType"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function t_(e){const t={},n=c(e,["content"]);n!=null&&f(t,["content"],n);const o=c(e,["citationMetadata"]);o!=null&&f(t,["citationMetadata"],n_(o));const i=c(e,["tokenCount"]);i!=null&&f(t,["tokenCount"],i);const r=c(e,["finishReason"]);r!=null&&f(t,["finishReason"],r);const s=c(e,["avgLogprobs"]);s!=null&&f(t,["avgLogprobs"],s);const a=c(e,["groundingMetadata"]);a!=null&&f(t,["groundingMetadata"],a);const l=c(e,["index"]);l!=null&&f(t,["index"],l);const u=c(e,["logprobsResult"]);u!=null&&f(t,["logprobsResult"],u);const d=c(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),f(t,["safetyRatings"],p)}const h=c(e,["urlContextMetadata"]);return h!=null&&f(t,["urlContextMetadata"],h),t}function n_(e){const t={},n=c(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),f(t,["citations"],o)}return t}function o_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["contents"]);if(i!=null){let r=_t(i);Array.isArray(r)&&(r=r.map(s=>s)),f(n,["contents"],r)}return n}function i_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["tokensInfo"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),f(t,["tokensInfo"],i)}return t}function r_(e){const t={},n=c(e,["values"]);n!=null&&f(t,["values"],n);const o=c(e,["statistics"]);return o!=null&&f(t,["statistics"],s_(o)),t}function s_(e){const t={},n=c(e,["truncated"]);n!=null&&f(t,["truncated"],n);const o=c(e,["token_count"]);return o!=null&&f(t,["tokenCount"],o),t}function yl(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>mI(r))),f(t,["parts"],i)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function l_(e){const t={},n=c(e,["controlType"]);n!=null&&f(t,["controlType"],n);const o=c(e,["enableControlImageComputation"]);return o!=null&&f(t,["computeControl"],o),t}function a_(e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function u_(e,t){const n={},o=c(e,["systemInstruction"]);t!==void 0&&o!=null&&f(t,["systemInstruction"],$e(o));const i=c(e,["tools"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>qy(a))),f(t,["tools"],s)}const r=c(e,["generationConfig"]);return t!==void 0&&r!=null&&f(t,["generationConfig"],eI(r)),n}function c_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["contents"]);if(i!=null){let s=_t(i);Array.isArray(s)&&(s=s.map(a=>yl(a))),f(n,["contents"],s)}const r=c(t,["config"]);return r!=null&&a_(r),n}function d_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["contents"]);if(i!=null){let s=_t(i);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["contents"],s)}const r=c(t,["config"]);return r!=null&&u_(r,n),n}function f_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["totalTokens"]);o!=null&&f(t,["totalTokens"],o);const i=c(e,["cachedContentTokenCount"]);return i!=null&&f(t,["cachedContentTokenCount"],i),t}function p_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["totalTokens"]);return o!=null&&f(t,["totalTokens"],o),t}function h_(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],ne(e,o)),n}function m_(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],ne(e,o)),n}function g_(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function y_(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function v_(e,t){const n={},o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&f(t,["parameters","storageUri"],o);const i=c(e,["negativePrompt"]);t!==void 0&&i!=null&&f(t,["parameters","negativePrompt"],i);const r=c(e,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const s=c(e,["aspectRatio"]);t!==void 0&&s!=null&&f(t,["parameters","aspectRatio"],s);const a=c(e,["guidanceScale"]);t!==void 0&&a!=null&&f(t,["parameters","guidanceScale"],a);const l=c(e,["seed"]);t!==void 0&&l!=null&&f(t,["parameters","seed"],l);const u=c(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&f(t,["parameters","safetySetting"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=c(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&f(t,["parameters","includeSafetyAttributes"],h);const p=c(e,["includeRaiReason"]);t!==void 0&&p!=null&&f(t,["parameters","includeRaiReason"],p);const g=c(e,["language"]);t!==void 0&&g!=null&&f(t,["parameters","language"],g);const v=c(e,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const T=c(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","compressionQuality"],T);const E=c(e,["addWatermark"]);t!==void 0&&E!=null&&f(t,["parameters","addWatermark"],E);const S=c(e,["labels"]);t!==void 0&&S!=null&&f(t,["labels"],S);const y=c(e,["editMode"]);t!==void 0&&y!=null&&f(t,["parameters","editMode"],y);const x=c(e,["baseSteps"]);return t!==void 0&&x!=null&&f(t,["parameters","editConfig","baseSteps"],x),n}function x_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const r=c(t,["referenceImages"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>TI(l))),f(n,["instances[0]","referenceImages"],a)}const s=c(t,["config"]);return s!=null&&v_(s,n),n}function S_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>vl(r))),f(t,["generatedImages"],i)}return t}function T_(e,t){const n={},o=c(e,["taskType"]);t!==void 0&&o!=null&&f(t,["requests[]","taskType"],o);const i=c(e,["title"]);t!==void 0&&i!=null&&f(t,["requests[]","title"],i);const r=c(e,["outputDimensionality"]);if(t!==void 0&&r!=null&&f(t,["requests[]","outputDimensionality"],r),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function E_(e,t){const n={},o=c(e,["taskType"]);t!==void 0&&o!=null&&f(t,["instances[]","task_type"],o);const i=c(e,["title"]);t!==void 0&&i!=null&&f(t,["instances[]","title"],i);const r=c(e,["outputDimensionality"]);t!==void 0&&r!=null&&f(t,["parameters","outputDimensionality"],r);const s=c(e,["mimeType"]);t!==void 0&&s!=null&&f(t,["instances[]","mimeType"],s);const a=c(e,["autoTruncate"]);return t!==void 0&&a!=null&&f(t,["parameters","autoTruncate"],a),n}function w_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["contents"]);if(i!=null){let a=td(e,i);Array.isArray(a)&&(a=a.map(l=>l)),f(n,["requests[]","content"],a)}const r=c(t,["config"]);r!=null&&T_(r,n);const s=c(t,["model"]);return s!==void 0&&f(n,["requests[]","model"],ne(e,s)),n}function C_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["contents"]);if(i!=null){let s=td(e,i);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["instances[]","content"],s)}const r=c(t,["config"]);return r!=null&&E_(r,n),n}function __(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["embeddings"],r)}const i=c(e,["metadata"]);return i!=null&&f(t,["metadata"],i),t}function I_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>r_(s))),f(t,["embeddings"],r)}const i=c(e,["metadata"]);return i!=null&&f(t,["metadata"],i),t}function A_(e){const t={},n=c(e,["endpoint"]);n!=null&&f(t,["name"],n);const o=c(e,["deployedModelId"]);return o!=null&&f(t,["deployedModelId"],o),t}function N_(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function k_(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function P_(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const o=c(e,["allowedFunctionNames"]);if(o!=null&&f(t,["allowedFunctionNames"],o),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function R_(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const i=c(e,["parameters"]);i!=null&&f(t,["parameters"],i);const r=c(e,["parametersJsonSchema"]);r!=null&&f(t,["parametersJsonSchema"],r);const s=c(e,["response"]);s!=null&&f(t,["response"],s);const a=c(e,["responseJsonSchema"]);return a!=null&&f(t,["responseJsonSchema"],a),t}function M_(e,t,n){const o={},i=c(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],yl($e(i)));const r=c(t,["temperature"]);r!=null&&f(o,["temperature"],r);const s=c(t,["topP"]);s!=null&&f(o,["topP"],s);const a=c(t,["topK"]);a!=null&&f(o,["topK"],a);const l=c(t,["candidateCount"]);l!=null&&f(o,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&f(o,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(o,["stopSequences"],d);const h=c(t,["responseLogprobs"]);h!=null&&f(o,["responseLogprobs"],h);const p=c(t,["logprobs"]);p!=null&&f(o,["logprobs"],p);const g=c(t,["presencePenalty"]);g!=null&&f(o,["presencePenalty"],g);const v=c(t,["frequencyPenalty"]);v!=null&&f(o,["frequencyPenalty"],v);const T=c(t,["seed"]);T!=null&&f(o,["seed"],T);const E=c(t,["responseMimeType"]);E!=null&&f(o,["responseMimeType"],E);const S=c(t,["responseSchema"]);S!=null&&f(o,["responseSchema"],nd(S));const y=c(t,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=c(t,["safetySettings"]);if(n!==void 0&&x!=null){let Q=x;Array.isArray(Q)&&(Q=Q.map(oe=>EI(oe))),f(n,["safetySettings"],Q)}const w=c(t,["tools"]);if(n!==void 0&&w!=null){let Q=si(w);Array.isArray(Q)&&(Q=Q.map(oe=>kI(ri(oe)))),f(n,["tools"],Q)}const _=c(t,["toolConfig"]);if(n!==void 0&&_!=null&&f(n,["toolConfig"],NI(_)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=c(t,["cachedContent"]);n!==void 0&&C!=null&&f(n,["cachedContent"],hn(e,C));const I=c(t,["responseModalities"]);I!=null&&f(o,["responseModalities"],I);const A=c(t,["mediaResolution"]);A!=null&&f(o,["mediaResolution"],A);const b=c(t,["speechConfig"]);if(b!=null&&f(o,["speechConfig"],od(b)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=c(t,["thinkingConfig"]);D!=null&&f(o,["thinkingConfig"],D);const O=c(t,["imageConfig"]);O!=null&&f(o,["imageConfig"],rI(O));const de=c(t,["enableEnhancedCivicAnswers"]);return de!=null&&f(o,["enableEnhancedCivicAnswers"],de),o}function b_(e,t,n){const o={},i=c(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],$e(i));const r=c(t,["temperature"]);r!=null&&f(o,["temperature"],r);const s=c(t,["topP"]);s!=null&&f(o,["topP"],s);const a=c(t,["topK"]);a!=null&&f(o,["topK"],a);const l=c(t,["candidateCount"]);l!=null&&f(o,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&f(o,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(o,["stopSequences"],d);const h=c(t,["responseLogprobs"]);h!=null&&f(o,["responseLogprobs"],h);const p=c(t,["logprobs"]);p!=null&&f(o,["logprobs"],p);const g=c(t,["presencePenalty"]);g!=null&&f(o,["presencePenalty"],g);const v=c(t,["frequencyPenalty"]);v!=null&&f(o,["frequencyPenalty"],v);const T=c(t,["seed"]);T!=null&&f(o,["seed"],T);const E=c(t,["responseMimeType"]);E!=null&&f(o,["responseMimeType"],E);const S=c(t,["responseSchema"]);S!=null&&f(o,["responseSchema"],nd(S));const y=c(t,["responseJsonSchema"]);y!=null&&f(o,["responseJsonSchema"],y);const x=c(t,["routingConfig"]);x!=null&&f(o,["routingConfig"],x);const w=c(t,["modelSelectionConfig"]);w!=null&&f(o,["modelConfig"],w);const _=c(t,["safetySettings"]);if(n!==void 0&&_!=null){let se=_;Array.isArray(se)&&(se=se.map(ee=>ee)),f(n,["safetySettings"],se)}const C=c(t,["tools"]);if(n!==void 0&&C!=null){let se=si(C);Array.isArray(se)&&(se=se.map(ee=>qy(ri(ee)))),f(n,["tools"],se)}const I=c(t,["toolConfig"]);n!==void 0&&I!=null&&f(n,["toolConfig"],I);const A=c(t,["labels"]);n!==void 0&&A!=null&&f(n,["labels"],A);const b=c(t,["cachedContent"]);n!==void 0&&b!=null&&f(n,["cachedContent"],hn(e,b));const D=c(t,["responseModalities"]);D!=null&&f(o,["responseModalities"],D);const O=c(t,["mediaResolution"]);O!=null&&f(o,["mediaResolution"],O);const de=c(t,["speechConfig"]);de!=null&&f(o,["speechConfig"],od(de));const Q=c(t,["audioTimestamp"]);Q!=null&&f(o,["audioTimestamp"],Q);const oe=c(t,["thinkingConfig"]);oe!=null&&f(o,["thinkingConfig"],oe);const fe=c(t,["imageConfig"]);if(fe!=null&&f(o,["imageConfig"],sI(fe)),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Nh(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["contents"]);if(i!=null){let s=_t(i);Array.isArray(s)&&(s=s.map(a=>yl(a))),f(n,["contents"],s)}const r=c(t,["config"]);return r!=null&&f(n,["generationConfig"],M_(e,r,n)),n}function kh(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["contents"]);if(i!=null){let s=_t(i);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["contents"],s)}const r=c(t,["config"]);return r!=null&&f(n,["generationConfig"],b_(e,r,n)),n}function Ph(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["candidates"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>t_(u))),f(t,["candidates"],l)}const i=c(e,["modelVersion"]);i!=null&&f(t,["modelVersion"],i);const r=c(e,["promptFeedback"]);r!=null&&f(t,["promptFeedback"],r);const s=c(e,["responseId"]);s!=null&&f(t,["responseId"],s);const a=c(e,["usageMetadata"]);return a!=null&&f(t,["usageMetadata"],a),t}function Rh(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["candidates"],u)}const i=c(e,["createTime"]);i!=null&&f(t,["createTime"],i);const r=c(e,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const s=c(e,["promptFeedback"]);s!=null&&f(t,["promptFeedback"],s);const a=c(e,["responseId"]);a!=null&&f(t,["responseId"],a);const l=c(e,["usageMetadata"]);return l!=null&&f(t,["usageMetadata"],l),t}function D_(e,t){const n={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=c(e,["numberOfImages"]);t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o);const i=c(e,["aspectRatio"]);t!==void 0&&i!=null&&f(t,["parameters","aspectRatio"],i);const r=c(e,["guidanceScale"]);if(t!==void 0&&r!=null&&f(t,["parameters","guidanceScale"],r),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=c(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&f(t,["parameters","safetySetting"],s);const a=c(e,["personGeneration"]);t!==void 0&&a!=null&&f(t,["parameters","personGeneration"],a);const l=c(e,["includeSafetyAttributes"]);t!==void 0&&l!=null&&f(t,["parameters","includeSafetyAttributes"],l);const u=c(e,["includeRaiReason"]);t!==void 0&&u!=null&&f(t,["parameters","includeRaiReason"],u);const d=c(e,["language"]);t!==void 0&&d!=null&&f(t,["parameters","language"],d);const h=c(e,["outputMimeType"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","mimeType"],h);const p=c(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&f(t,["parameters","outputOptions","compressionQuality"],p),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=c(e,["imageSize"]);if(t!==void 0&&g!=null&&f(t,["parameters","sampleImageSize"],g),c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function L_(e,t){const n={},o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&f(t,["parameters","storageUri"],o);const i=c(e,["negativePrompt"]);t!==void 0&&i!=null&&f(t,["parameters","negativePrompt"],i);const r=c(e,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const s=c(e,["aspectRatio"]);t!==void 0&&s!=null&&f(t,["parameters","aspectRatio"],s);const a=c(e,["guidanceScale"]);t!==void 0&&a!=null&&f(t,["parameters","guidanceScale"],a);const l=c(e,["seed"]);t!==void 0&&l!=null&&f(t,["parameters","seed"],l);const u=c(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&f(t,["parameters","safetySetting"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=c(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&f(t,["parameters","includeSafetyAttributes"],h);const p=c(e,["includeRaiReason"]);t!==void 0&&p!=null&&f(t,["parameters","includeRaiReason"],p);const g=c(e,["language"]);t!==void 0&&g!=null&&f(t,["parameters","language"],g);const v=c(e,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const T=c(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","compressionQuality"],T);const E=c(e,["addWatermark"]);t!==void 0&&E!=null&&f(t,["parameters","addWatermark"],E);const S=c(e,["labels"]);t!==void 0&&S!=null&&f(t,["labels"],S);const y=c(e,["imageSize"]);t!==void 0&&y!=null&&f(t,["parameters","sampleImageSize"],y);const x=c(e,["enhancePrompt"]);return t!==void 0&&x!=null&&f(t,["parameters","enhancePrompt"],x),n}function F_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const r=c(t,["config"]);return r!=null&&D_(r,n),n}function U_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const r=c(t,["config"]);return r!=null&&L_(r,n),n}function V_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>j_(s))),f(t,["generatedImages"],r)}const i=c(e,["positivePromptSafetyAttributes"]);return i!=null&&f(t,["positivePromptSafetyAttributes"],zy(i)),t}function G_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>vl(s))),f(t,["generatedImages"],r)}const i=c(e,["positivePromptSafetyAttributes"]);return i!=null&&f(t,["positivePromptSafetyAttributes"],$y(i)),t}function B_(e,t){const n={},o=c(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=c(e,["durationSeconds"]);if(t!==void 0&&i!=null&&f(t,["parameters","durationSeconds"],i),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=c(e,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const s=c(e,["resolution"]);t!==void 0&&s!=null&&f(t,["parameters","resolution"],s);const a=c(e,["personGeneration"]);if(t!==void 0&&a!=null&&f(t,["parameters","personGeneration"],a),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=c(e,["negativePrompt"]);t!==void 0&&l!=null&&f(t,["parameters","negativePrompt"],l);const u=c(e,["enhancePrompt"]);if(t!==void 0&&u!=null&&f(t,["parameters","enhancePrompt"],u),c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=c(e,["lastFrame"]);t!==void 0&&d!=null&&f(t,["instances[0]","lastFrame"],xl(d));const h=c(e,["referenceImages"]);if(t!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>HI(g))),f(t,["instances[0]","referenceImages"],p)}if(c(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function O_(e,t){const n={},o=c(e,["numberOfVideos"]);t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o);const i=c(e,["outputGcsUri"]);t!==void 0&&i!=null&&f(t,["parameters","storageUri"],i);const r=c(e,["fps"]);t!==void 0&&r!=null&&f(t,["parameters","fps"],r);const s=c(e,["durationSeconds"]);t!==void 0&&s!=null&&f(t,["parameters","durationSeconds"],s);const a=c(e,["seed"]);t!==void 0&&a!=null&&f(t,["parameters","seed"],a);const l=c(e,["aspectRatio"]);t!==void 0&&l!=null&&f(t,["parameters","aspectRatio"],l);const u=c(e,["resolution"]);t!==void 0&&u!=null&&f(t,["parameters","resolution"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=c(e,["pubsubTopic"]);t!==void 0&&h!=null&&f(t,["parameters","pubsubTopic"],h);const p=c(e,["negativePrompt"]);t!==void 0&&p!=null&&f(t,["parameters","negativePrompt"],p);const g=c(e,["enhancePrompt"]);t!==void 0&&g!=null&&f(t,["parameters","enhancePrompt"],g);const v=c(e,["generateAudio"]);t!==void 0&&v!=null&&f(t,["parameters","generateAudio"],v);const T=c(e,["lastFrame"]);t!==void 0&&T!=null&&f(t,["instances[0]","lastFrame"],Ht(T));const E=c(e,["referenceImages"]);if(t!==void 0&&E!=null){let x=E;Array.isArray(x)&&(x=x.map(w=>zI(w))),f(t,["instances[0]","referenceImages"],x)}const S=c(e,["mask"]);t!==void 0&&S!=null&&f(t,["instances[0]","mask"],OI(S));const y=c(e,["compressionQuality"]);return t!==void 0&&y!=null&&f(t,["parameters","compressionQuality"],y),n}function H_(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response","generateVideoResponse"]);return s!=null&&f(t,["response"],J_(s)),t}function z_(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response"]);return s!=null&&f(t,["response"],W_(s)),t}function $_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const r=c(t,["image"]);r!=null&&f(n,["instances[0]","image"],xl(r));const s=c(t,["video"]);s!=null&&f(n,["instances[0]","video"],Jy(s));const a=c(t,["source"]);a!=null&&K_(a,n);const l=c(t,["config"]);return l!=null&&B_(l,n),n}function q_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const r=c(t,["image"]);r!=null&&f(n,["instances[0]","image"],Ht(r));const s=c(t,["video"]);s!=null&&f(n,["instances[0]","video"],Wy(s));const a=c(t,["source"]);a!=null&&Y_(a,n);const l=c(t,["config"]);return l!=null&&O_(l,n),n}function J_(e){const t={},n=c(e,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>X_(s))),f(t,["generatedVideos"],r)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function W_(e){const t={},n=c(e,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Z_(s))),f(t,["generatedVideos"],r)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function K_(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const i=c(e,["image"]);t!==void 0&&i!=null&&f(t,["instances[0]","image"],xl(i));const r=c(e,["video"]);return t!==void 0&&r!=null&&f(t,["instances[0]","video"],Jy(r)),n}function Y_(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const i=c(e,["image"]);t!==void 0&&i!=null&&f(t,["instances[0]","image"],Ht(i));const r=c(e,["video"]);return t!==void 0&&r!=null&&f(t,["instances[0]","video"],Wy(r)),n}function j_(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["image"],lI(n));const o=c(e,["raiFilteredReason"]);o!=null&&f(t,["raiFilteredReason"],o);const i=c(e,["_self"]);return i!=null&&f(t,["safetyAttributes"],zy(i)),t}function vl(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["image"],Hy(n));const o=c(e,["raiFilteredReason"]);o!=null&&f(t,["raiFilteredReason"],o);const i=c(e,["_self"]);i!=null&&f(t,["safetyAttributes"],$y(i));const r=c(e,["prompt"]);return r!=null&&f(t,["enhancedPrompt"],r),t}function Q_(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["mask"],Hy(n));const o=c(e,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),f(t,["labels"],i)}return t}function X_(e){const t={},n=c(e,["video"]);return n!=null&&f(t,["video"],GI(n)),t}function Z_(e){const t={},n=c(e,["_self"]);return n!=null&&f(t,["video"],BI(n)),t}function eI(e){const t={},n=c(e,["modelSelectionConfig"]);n!=null&&f(t,["modelConfig"],n);const o=c(e,["responseJsonSchema"]);o!=null&&f(t,["responseJsonSchema"],o);const i=c(e,["audioTimestamp"]);i!=null&&f(t,["audioTimestamp"],i);const r=c(e,["candidateCount"]);r!=null&&f(t,["candidateCount"],r);const s=c(e,["enableAffectiveDialog"]);s!=null&&f(t,["enableAffectiveDialog"],s);const a=c(e,["frequencyPenalty"]);a!=null&&f(t,["frequencyPenalty"],a);const l=c(e,["logprobs"]);l!=null&&f(t,["logprobs"],l);const u=c(e,["maxOutputTokens"]);u!=null&&f(t,["maxOutputTokens"],u);const d=c(e,["mediaResolution"]);d!=null&&f(t,["mediaResolution"],d);const h=c(e,["presencePenalty"]);h!=null&&f(t,["presencePenalty"],h);const p=c(e,["responseLogprobs"]);p!=null&&f(t,["responseLogprobs"],p);const g=c(e,["responseMimeType"]);g!=null&&f(t,["responseMimeType"],g);const v=c(e,["responseModalities"]);v!=null&&f(t,["responseModalities"],v);const T=c(e,["responseSchema"]);T!=null&&f(t,["responseSchema"],T);const E=c(e,["routingConfig"]);E!=null&&f(t,["routingConfig"],E);const S=c(e,["seed"]);S!=null&&f(t,["seed"],S);const y=c(e,["speechConfig"]);y!=null&&f(t,["speechConfig"],y);const x=c(e,["stopSequences"]);x!=null&&f(t,["stopSequences"],x);const w=c(e,["temperature"]);w!=null&&f(t,["temperature"],w);const _=c(e,["thinkingConfig"]);_!=null&&f(t,["thinkingConfig"],_);const C=c(e,["topK"]);C!=null&&f(t,["topK"],C);const I=c(e,["topP"]);if(I!=null&&f(t,["topP"],I),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function tI(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],ne(e,o)),n}function nI(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],ne(e,o)),n}function oI(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function iI(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function rI(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const o=c(e,["imageSize"]);if(o!=null&&f(t,["imageSize"],o),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function sI(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const o=c(e,["imageSize"]);o!=null&&f(t,["imageSize"],o);const i=c(e,["outputMimeType"]);i!=null&&f(t,["imageOutputOptions","mimeType"],i);const r=c(e,["outputCompressionQuality"]);return r!=null&&f(t,["imageOutputOptions","compressionQuality"],r),t}function lI(e){const t={},n=c(e,["bytesBase64Encoded"]);n!=null&&f(t,["imageBytes"],Bn(n));const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function Hy(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["gcsUri"],n);const o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["imageBytes"],Bn(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}function xl(e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(e,["imageBytes"]);n!=null&&f(t,["bytesBase64Encoded"],Bn(n));const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function Ht(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["gcsUri"],n);const o=c(e,["imageBytes"]);o!=null&&f(t,["bytesBase64Encoded"],Bn(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}function aI(e,t,n){const o={},i=c(t,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);const r=c(t,["pageToken"]);n!==void 0&&r!=null&&f(n,["_query","pageToken"],r);const s=c(t,["filter"]);n!==void 0&&s!=null&&f(n,["_query","filter"],s);const a=c(t,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],Ly(e,a)),o}function uI(e,t,n){const o={},i=c(t,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);const r=c(t,["pageToken"]);n!==void 0&&r!=null&&f(n,["_query","pageToken"],r);const s=c(t,["filter"]);n!==void 0&&s!=null&&f(n,["_query","filter"],s);const a=c(t,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],Ly(e,a)),o}function cI(e,t){const n={},o=c(t,["config"]);return o!=null&&aI(e,o,n),n}function dI(e,t){const n={},o=c(t,["config"]);return o!=null&&uI(e,o,n),n}function fI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["_self"]);if(i!=null){let r=Fy(i);Array.isArray(r)&&(r=r.map(s=>Su(s))),f(t,["models"],r)}return t}function pI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["_self"]);if(i!=null){let r=Fy(i);Array.isArray(r)&&(r=r.map(s=>Tu(s))),f(t,["models"],r)}return t}function hI(e){const t={},n=c(e,["maskMode"]);n!=null&&f(t,["maskMode"],n);const o=c(e,["segmentationClasses"]);o!=null&&f(t,["maskClasses"],o);const i=c(e,["maskDilation"]);return i!=null&&f(t,["dilation"],i),t}function Su(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const i=c(e,["description"]);i!=null&&f(t,["description"],i);const r=c(e,["version"]);r!=null&&f(t,["version"],r);const s=c(e,["_self"]);s!=null&&f(t,["tunedModelInfo"],PI(s));const a=c(e,["inputTokenLimit"]);a!=null&&f(t,["inputTokenLimit"],a);const l=c(e,["outputTokenLimit"]);l!=null&&f(t,["outputTokenLimit"],l);const u=c(e,["supportedGenerationMethods"]);u!=null&&f(t,["supportedActions"],u);const d=c(e,["temperature"]);d!=null&&f(t,["temperature"],d);const h=c(e,["maxTemperature"]);h!=null&&f(t,["maxTemperature"],h);const p=c(e,["topP"]);p!=null&&f(t,["topP"],p);const g=c(e,["topK"]);g!=null&&f(t,["topK"],g);const v=c(e,["thinking"]);return v!=null&&f(t,["thinking"],v),t}function Tu(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const i=c(e,["description"]);i!=null&&f(t,["description"],i);const r=c(e,["versionId"]);r!=null&&f(t,["version"],r);const s=c(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>A_(p))),f(t,["endpoints"],h)}const a=c(e,["labels"]);a!=null&&f(t,["labels"],a);const l=c(e,["_self"]);l!=null&&f(t,["tunedModelInfo"],RI(l));const u=c(e,["defaultCheckpointId"]);u!=null&&f(t,["defaultCheckpointId"],u);const d=c(e,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>p)),f(t,["checkpoints"],h)}return t}function mI(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const r=c(e,["fileData"]);r!=null&&f(t,["fileData"],N_(r));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],k_(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],e_(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const p=c(e,["videoMetadata"]);return p!=null&&f(t,["videoMetadata"],p),t}function gI(e){const t={},n=c(e,["productImage"]);return n!=null&&f(t,["image"],Ht(n)),t}function yI(e,t){const n={},o=c(e,["numberOfImages"]);t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o);const i=c(e,["baseSteps"]);t!==void 0&&i!=null&&f(t,["parameters","baseSteps"],i);const r=c(e,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const s=c(e,["seed"]);t!==void 0&&s!=null&&f(t,["parameters","seed"],s);const a=c(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&f(t,["parameters","safetySetting"],a);const l=c(e,["personGeneration"]);t!==void 0&&l!=null&&f(t,["parameters","personGeneration"],l);const u=c(e,["addWatermark"]);t!==void 0&&u!=null&&f(t,["parameters","addWatermark"],u);const d=c(e,["outputMimeType"]);t!==void 0&&d!=null&&f(t,["parameters","outputOptions","mimeType"],d);const h=c(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","compressionQuality"],h);const p=c(e,["enhancePrompt"]);t!==void 0&&p!=null&&f(t,["parameters","enhancePrompt"],p);const g=c(e,["labels"]);return t!==void 0&&g!=null&&f(t,["labels"],g),n}function vI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["source"]);i!=null&&SI(i,n);const r=c(t,["config"]);return r!=null&&yI(r,n),n}function xI(e){const t={},n=c(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>vl(i))),f(t,["generatedImages"],o)}return t}function SI(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const i=c(e,["personImage"]);t!==void 0&&i!=null&&f(t,["instances[0]","personImage","image"],Ht(i));const r=c(e,["productImages"]);if(t!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>gI(a))),f(t,["instances[0]","productImages"],s)}return n}function TI(e){const t={},n=c(e,["referenceImage"]);n!=null&&f(t,["referenceImage"],Ht(n));const o=c(e,["referenceId"]);o!=null&&f(t,["referenceId"],o);const i=c(e,["referenceType"]);i!=null&&f(t,["referenceType"],i);const r=c(e,["maskImageConfig"]);r!=null&&f(t,["maskImageConfig"],hI(r));const s=c(e,["controlImageConfig"]);s!=null&&f(t,["controlImageConfig"],l_(s));const a=c(e,["styleImageConfig"]);a!=null&&f(t,["styleImageConfig"],a);const l=c(e,["subjectImageConfig"]);return l!=null&&f(t,["subjectImageConfig"],l),t}function zy(e){const t={},n=c(e,["safetyAttributes","categories"]);n!=null&&f(t,["categories"],n);const o=c(e,["safetyAttributes","scores"]);o!=null&&f(t,["scores"],o);const i=c(e,["contentType"]);return i!=null&&f(t,["contentType"],i),t}function $y(e){const t={},n=c(e,["safetyAttributes","categories"]);n!=null&&f(t,["categories"],n);const o=c(e,["safetyAttributes","scores"]);o!=null&&f(t,["scores"],o);const i=c(e,["contentType"]);return i!=null&&f(t,["contentType"],i),t}function EI(e){const t={},n=c(e,["category"]);if(n!=null&&f(t,["category"],n),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(e,["threshold"]);return o!=null&&f(t,["threshold"],o),t}function wI(e){const t={},n=c(e,["image"]);return n!=null&&f(t,["image"],Ht(n)),t}function CI(e,t){const n={},o=c(e,["mode"]);t!==void 0&&o!=null&&f(t,["parameters","mode"],o);const i=c(e,["maxPredictions"]);t!==void 0&&i!=null&&f(t,["parameters","maxPredictions"],i);const r=c(e,["confidenceThreshold"]);t!==void 0&&r!=null&&f(t,["parameters","confidenceThreshold"],r);const s=c(e,["maskDilation"]);t!==void 0&&s!=null&&f(t,["parameters","maskDilation"],s);const a=c(e,["binaryColorThreshold"]);t!==void 0&&a!=null&&f(t,["parameters","binaryColorThreshold"],a);const l=c(e,["labels"]);return t!==void 0&&l!=null&&f(t,["labels"],l),n}function _I(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["source"]);i!=null&&AI(i,n);const r=c(t,["config"]);return r!=null&&CI(r,n),n}function II(e){const t={},n=c(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Q_(i))),f(t,["generatedMasks"],o)}return t}function AI(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const i=c(e,["image"]);t!==void 0&&i!=null&&f(t,["instances[0]","image"],Ht(i));const r=c(e,["scribbleImage"]);return t!==void 0&&r!=null&&f(t,["instances[0]","scribble"],wI(r)),n}function NI(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],P_(n));const o=c(e,["retrievalConfig"]);return o!=null&&f(t,["retrievalConfig"],o),t}function kI(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const r=c(e,["fileSearch"]);r!=null&&f(t,["fileSearch"],r);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],oI(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],iI(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function qy(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>R_(p))),f(t,["functionDeclarations"],h)}const o=c(e,["retrieval"]);o!=null&&f(t,["retrieval"],o);const i=c(e,["googleSearchRetrieval"]);i!=null&&f(t,["googleSearchRetrieval"],i);const r=c(e,["computerUse"]);if(r!=null&&f(t,["computerUse"],r),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(e,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const a=c(e,["enterpriseWebSearch"]);a!=null&&f(t,["enterpriseWebSearch"],a);const l=c(e,["googleMaps"]);l!=null&&f(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function PI(e){const t={},n=c(e,["baseModel"]);n!=null&&f(t,["baseModel"],n);const o=c(e,["createTime"]);o!=null&&f(t,["createTime"],o);const i=c(e,["updateTime"]);return i!=null&&f(t,["updateTime"],i),t}function RI(e){const t={},n=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(t,["baseModel"],n);const o=c(e,["createTime"]);o!=null&&f(t,["createTime"],o);const i=c(e,["updateTime"]);return i!=null&&f(t,["updateTime"],i),t}function MI(e,t){const n={},o=c(e,["displayName"]);t!==void 0&&o!=null&&f(t,["displayName"],o);const i=c(e,["description"]);t!==void 0&&i!=null&&f(t,["description"],i);const r=c(e,["defaultCheckpointId"]);return t!==void 0&&r!=null&&f(t,["defaultCheckpointId"],r),n}function bI(e,t){const n={},o=c(e,["displayName"]);t!==void 0&&o!=null&&f(t,["displayName"],o);const i=c(e,["description"]);t!==void 0&&i!=null&&f(t,["description"],i);const r=c(e,["defaultCheckpointId"]);return t!==void 0&&r!=null&&f(t,["defaultCheckpointId"],r),n}function DI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","name"],ne(e,o));const i=c(t,["config"]);return i!=null&&MI(i,n),n}function LI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["config"]);return i!=null&&bI(i,n),n}function FI(e,t){const n={},o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&f(t,["parameters","storageUri"],o);const i=c(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&f(t,["parameters","safetySetting"],i);const r=c(e,["personGeneration"]);t!==void 0&&r!=null&&f(t,["parameters","personGeneration"],r);const s=c(e,["includeRaiReason"]);t!==void 0&&s!=null&&f(t,["parameters","includeRaiReason"],s);const a=c(e,["outputMimeType"]);t!==void 0&&a!=null&&f(t,["parameters","outputOptions","mimeType"],a);const l=c(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&f(t,["parameters","outputOptions","compressionQuality"],l);const u=c(e,["enhanceInputImage"]);t!==void 0&&u!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],u);const d=c(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=c(e,["labels"]);t!==void 0&&h!=null&&f(t,["labels"],h);const p=c(e,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const g=c(e,["mode"]);return t!==void 0&&g!=null&&f(t,["parameters","mode"],g),n}function UI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],ne(e,o));const i=c(t,["image"]);i!=null&&f(n,["instances[0]","image"],Ht(i));const r=c(t,["upscaleFactor"]);r!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],r);const s=c(t,["config"]);return s!=null&&FI(s,n),n}function VI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>vl(r))),f(t,["generatedImages"],i)}return t}function GI(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const o=c(e,["encodedVideo"]);o!=null&&f(t,["videoBytes"],Bn(o));const i=c(e,["encoding"]);return i!=null&&f(t,["mimeType"],i),t}function BI(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["uri"],n);const o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["videoBytes"],Bn(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}function OI(e){const t={},n=c(e,["image"]);n!=null&&f(t,["_self"],Ht(n));const o=c(e,["maskMode"]);return o!=null&&f(t,["maskMode"],o),t}function HI(e){const t={},n=c(e,["image"]);n!=null&&f(t,["image"],xl(n));const o=c(e,["referenceType"]);return o!=null&&f(t,["referenceType"],o),t}function zI(e){const t={},n=c(e,["image"]);n!=null&&f(t,["image"],Ht(n));const o=c(e,["referenceType"]);return o!=null&&f(t,["referenceType"],o),t}function Jy(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const o=c(e,["videoBytes"]);o!=null&&f(t,["encodedVideo"],Bn(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["encoding"],i),t}function Wy(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["gcsUri"],n);const o=c(e,["videoBytes"]);o!=null&&f(t,["bytesBase64Encoded"],Bn(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $I(e,t){const n={},o=c(e,["displayName"]);return t!==void 0&&o!=null&&f(t,["displayName"],o),n}function qI(e){const t={},n=c(e,["config"]);return n!=null&&$I(n,t),t}function JI(e,t){const n={},o=c(e,["force"]);return t!==void 0&&o!=null&&f(t,["_query","force"],o),n}function WI(e){const t={},n=c(e,["name"]);n!=null&&f(t,["_url","name"],n);const o=c(e,["config"]);return o!=null&&JI(o,t),t}function KI(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","name"],n),t}function YI(e,t){const n={},o=c(e,["customMetadata"]);if(t!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["customMetadata"],r)}const i=c(e,["chunkingConfig"]);return t!==void 0&&i!=null&&f(t,["chunkingConfig"],i),n}function jI(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response"]);return s!=null&&f(t,["response"],XI(s)),t}function QI(e){const t={},n=c(e,["fileSearchStoreName"]);n!=null&&f(t,["_url","file_search_store_name"],n);const o=c(e,["fileName"]);o!=null&&f(t,["fileName"],o);const i=c(e,["config"]);return i!=null&&YI(i,t),t}function XI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["parent"]);o!=null&&f(t,["parent"],o);const i=c(e,["documentName"]);return i!=null&&f(t,["documentName"],i),t}function ZI(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function eA(e){const t={},n=c(e,["config"]);return n!=null&&ZI(n,t),t}function tA(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["fileSearchStores"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["fileSearchStores"],r)}return t}function Ky(e,t){const n={},o=c(e,["mimeType"]);t!==void 0&&o!=null&&f(t,["mimeType"],o);const i=c(e,["displayName"]);t!==void 0&&i!=null&&f(t,["displayName"],i);const r=c(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),f(t,["customMetadata"],a)}const s=c(e,["chunkingConfig"]);return t!==void 0&&s!=null&&f(t,["chunkingConfig"],s),n}function nA(e){const t={},n=c(e,["fileSearchStoreName"]);n!=null&&f(t,["_url","file_search_store_name"],n);const o=c(e,["config"]);return o!=null&&Ky(o,t),t}function oA(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iA="Content-Type",rA="X-Server-Timeout",sA="User-Agent",Eu="x-goog-api-client",lA="1.34.0",aA=`google-genai-sdk/${lA}`,uA="v1beta1",cA="v1beta";class dA{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:uA,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:cA,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const i=[this.getRequestUrlInternal(n)];return o&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[s,a]of Object.entries(t.queryParams))i.searchParams.append(s,String(a));let r={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=t.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),t.abortSignal),this.unaryApiCall(i,r,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[i,r]of Object.entries(n))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=t.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),t.abortSignal),this.streamApiCall(i,r,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,i){if(n&&n.timeout||i){const r=new AbortController,s=r.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>r.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),t.signal=s}return n&&n.extraBody!==null&&fA(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Mh(i),new yu(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Mh(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Gt(this,arguments,function*(){var o;const i=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield W(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=r.decode(d,{stream:!0});try{const v=JSON.parse(h);if("error"in v){const T=JSON.parse(JSON.stringify(v.error)),E=T.status,S=T.code,y=`got status: ${E}. ${JSON.stringify(v)}`;if(S>=400&&S<600)throw new gl({message:y,status:S})}}catch(v){if(v.name==="ApiError")throw v}s+=h;let p=-1,g=0;for(;;){p=-1,g=0;for(const E of l){const S=s.indexOf(E);S!==-1&&(p===-1||S<p)&&(p=S,g=E.length)}if(p===-1)break;const v=s.substring(0,p);s=s.substring(p+g);const T=v.trim();if(T.startsWith(a)){const E=T.substring(a.length).trim();try{const S=new Response(E,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield W(new yu(S))}catch(S){throw new Error(`exception parsing stream chunk ${E}. ${S}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=aA+" "+this.clientOptions.userAgentExtra;return t[sA]=n,t[Eu]=n,t[iA]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[i,r]of Object.entries(t.headers))o.append(i,r);t.timeout&&t.timeout>0&&o.append(rA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,s=await r.stat(t);i.sizeBytes=String(s.size);const a=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(t),d=U("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return r.upload(t,h,this)}async uploadFileToFileSearchStore(t,n,o){var i;const r=this.clientOptions.uploader,s=await r.stat(n),a=String(s.size),l=(i=o==null?void 0:o.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),h={};o!=null&&Ky(o,h);const p=await this.fetchUploadUrl(u,a,l,d,h,o==null?void 0:o.httpOptions);return r.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,i,r,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(r),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function Mh(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(o);throw n>=400&&n<600?new gl({message:i,status:n}):new Error(i)}}function fA(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const r=JSON.parse(e.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(r,s){const a=Object.assign({},r);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],d=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?a[l]=o(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=o(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pA="mcp_used/unknown";let hA=!1;function Yy(e){for(const t of e)if(mA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return hA}function jy(e){var t;const n=(t=e[Eu])!==null&&t!==void 0?t:"";e[Eu]=(n+` ${pA}`).trimStart()}function mA(e){return e!==null&&typeof e=="object"&&e instanceof rd}function gA(e){return Gt(this,arguments,function*(n,o=100){let i,r=0;for(;r<o;){const s=yield W(n.listTools({cursor:i}));for(const a of s.tools)yield yield W(a),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class rd{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new rd(t,n)}async initialize(){var t,n,o,i;if(this.mcpTools.length>0)return;const r={},s=[];for(const d of this.mcpClients)try{for(var a=!0,l=(n=void 0,Bt(gA(d))),u;u=await l.next(),t=u.done,!t;a=!0){i=u.value,a=!1;const h=i;s.push(h);const p=h.name;if(r[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);r[p]=d}}catch(h){n={error:h}}finally{try{!a&&!t&&(o=l.return)&&await o.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),Kw(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const s=await i.callTool({name:o.name,arguments:o.args},void 0,r);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yA(e,t,n){const o=new Bw;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(o,i),t(o)}class vA{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),s=TA(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const d=new Promise(x=>{u=x}),h=t.callbacks,p=function(){u({})},g=this.apiClient,v={onopen:p,onmessage:x=>{yA(g,h.onmessage,x)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(x){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(x){}},T=this.webSocketFactory.create(l,SA(s),v);T.connect(),await d;const y={setup:{model:ne(this.apiClient,t.model)}};return T.send(JSON.stringify(y)),new xA(T,this.apiClient)}}class xA{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=q1(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=$1(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(No.PLAY)}pause(){this.sendPlaybackControl(No.PAUSE)}stop(){this.sendPlaybackControl(No.STOP)}resetContext(){this.sendPlaybackControl(No.RESET_CONTEXT)}close(){this.conn.close()}}function SA(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function TA(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function wA(e,t,n){const o=new Gw;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const r=JSON.parse(i);if(e.isVertexAI()){const s=K1(r);Object.assign(o,s)}else Object.assign(o,r);t(o)}class CA{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new vA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,i,r,s,a;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&Yy(t.config.tools)&&jy(h);const p=NA(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d);else{const b=this.apiClient.getApiKey();let D="BidiGenerateContent",O="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),D="BidiGenerateContentConstrained",O="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${D}?${O}=${b}`}let g=()=>{};const v=new Promise(b=>{g=b}),T=t.callbacks,E=function(){var b;(b=T==null?void 0:T.onopen)===null||b===void 0||b.call(T),g({})},S=this.apiClient,y={onopen:E,onmessage:b=>{wA(S,T.onmessage,b)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(b){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(b){}},x=this.webSocketFactory.create(d,AA(p),y);x.connect(),await v;let w=ne(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){const b=this.apiClient.getProject(),D=this.apiClient.getLocation();w=`projects/${b}/locations/${D}/`+w}let _={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Gs.AUDIO]}:t.config.responseModalities=[Gs.AUDIO]),!((r=t.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(a=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],I=[];for(const b of C)if(this.isCallableTool(b)){const D=b;I.push(await D.tool())}else I.push(b);I.length>0&&(t.config.tools=I);const A={model:w,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?_=z1(this.apiClient,A):_=H1(this.apiClient,A),delete _.config,x.send(JSON.stringify(_)),new IA(x,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const _A={turnComplete:!0};class IA{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=_t(n.turns),t.isVertexAI()||(o=o.map(i=>yl(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!t.isVertexAI()&&!("id"in r))throw new Error(EA)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},_A),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:W1(t)}:n={realtimeInput:J1(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function AA(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function NA(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bh=10;function Dh(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(zo(s)){i=!0;break}if(!i)return!0;const r=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function zo(e){return"callTool"in e&&typeof e.callTool=="function"}function kA(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>zo(i)))!==null&&o!==void 0?o:!1}function Lh(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,i)=>{if(zo(o))return;const r=o;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(i)}),n}function Fh(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PA extends pn{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,i,r,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!kA(n)||Dh(n.config))return await this.generateContentInternal(l);const u=Lh(n);if(u.length>0){const T=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let d,h;const p=_t(l.contents),g=(r=(i=(o=l.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:bh;let v=0;for(;v<g&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const T=d.candidates[0].content,E=[];for(const S of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(zo(S)){const x=await S.callTool(d.functionCalls);E.push(...x)}v++,h={role:"user",parts:E},l.contents=_t(l.contents),l.contents.push(T),l.contents.push(h),Fh(l.config)&&(p.push(T),p.push(h))}return Fh(l.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{var o,i,r,s,a;if(this.maybeMoveToResponseJsonSchem(n),Dh(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const l=Lh(n);if(l.length>0){const h=l.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(r=(i=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||r===void 0?void 0:r.streamFunctionCallArguments,d=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var i;let r;const s=[];if(o!=null&&o.generatedImages)for(const l of o.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=l==null?void 0:l.safetyAttributes:s.push(l);let a;return r?a={generatedImages:s,positivePromptSafetyAttributes:r,sdkHttpResponse:o.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},a}),this.list=async n=>{var o;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new co(un.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var o,i,r,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(r=n.source)===null||r===void 0?void 0:r.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,i;const r=(n=t.config)===null||n===void 0?void 0:n.tools;if(!r)return t;const s=await Promise.all(r.map(async l=>zo(l)?await l.tool():l)),a={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(a.config.tools=s,t.config&&t.config.tools&&Yy(t.config.tools)){const l=(i=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),jy(u),a.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(t){var n,o,i;const r=new Map;for(const s of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(zo(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(r.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);r.set(u.name,a)}}return r}async processAfcStream(t){var n,o,i;const r=(i=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:bh;let s=!1,a=0;const l=await this.initAfcToolsMap(t);return function(u,d,h){return Gt(this,arguments,function*(){for(var p,g,v,T,E,S;a<r;){s&&(a++,s=!1);const _=yield W(u.processParamsMaybeAddMcpUsage(h)),C=yield W(u.generateContentStreamInternal(_)),I=[],A=[];try{for(var y=!0,x=(g=void 0,Bt(C)),w;w=yield W(x.next()),p=w.done,!p;y=!0){T=w.value,y=!1;const b=T;if(yield yield W(b),b.candidates&&(!((E=b.candidates[0])===null||E===void 0)&&E.content)){A.push(b.candidates[0].content);for(const D of(S=b.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(a<r&&D.functionCall){if(!D.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(D.functionCall.name)){const O=yield W(d.get(D.functionCall.name).callTool([D.functionCall]));I.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${D.functionCall.name}`)}}}}catch(b){g={error:b}}finally{try{!y&&!p&&(v=x.return)&&(yield W(v.call(x)))}finally{if(g)throw g.error}}if(I.length>0){s=!0;const b=new Si;b.candidates=[{content:{role:"user",parts:I}}],yield yield W(b);const D=[];D.push(...A),D.push({role:"user",parts:I});const O=_t(h.contents).concat(D);h.contents=O}else break}})}(this,l,t)}async generateContentInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=kh(this.apiClient,t);return a=U("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Rh(d),p=new Si;return Object.assign(p,h),p})}else{const u=Nh(this.apiClient,t);return a=U("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=Ph(d),p=new Si;return Object.assign(p,h),p})}}async generateContentStreamInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=kh(this.apiClient,t);return a=U("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(h){return Gt(this,arguments,function*(){var p,g,v,T;try{for(var E=!0,S=Bt(h),y;y=yield W(S.next()),p=y.done,!p;E=!0){T=y.value,E=!1;const x=T,w=Rh(yield W(x.json()));w.sdkHttpResponse={headers:x.headers};const _=new Si;Object.assign(_,w),yield yield W(_)}}catch(x){g={error:x}}finally{try{!E&&!p&&(v=S.return)&&(yield W(v.call(S)))}finally{if(g)throw g.error}}})})}else{const u=Nh(this.apiClient,t);return a=U("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(h){return Gt(this,arguments,function*(){var p,g,v,T;try{for(var E=!0,S=Bt(h),y;y=yield W(S.next()),p=y.done,!p;E=!0){T=y.value,E=!1;const x=T,w=Ph(yield W(x.json()));w.sdkHttpResponse={headers:x.headers};const _=new Si;Object.assign(_,w),yield yield W(_)}}catch(x){g={error:x}}finally{try{!E&&!p&&(v=S.return)&&(yield W(v.call(S)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=C_(this.apiClient,t);return a=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=I_(d),p=new dh;return Object.assign(p,h),p})}else{const u=w_(this.apiClient,t);return a=U("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=__(d),p=new dh;return Object.assign(p,h),p})}}async generateImagesInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=U_(this.apiClient,t);return a=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=G_(d),p=new fh;return Object.assign(p,h),p})}else{const u=F_(this.apiClient,t);return a=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=V_(d),p=new fh;return Object.assign(p,h),p})}}async editImageInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=x_(this.apiClient,t);return r=U("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=S_(l),d=new Nw;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=UI(this.apiClient,t);return r=U("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=VI(l),d=new kw;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=vI(this.apiClient,t);return r=U("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=xI(l),d=new Pw;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=_I(this.apiClient,t);return r=U("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=II(l),d=new Rw;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=nI(this.apiClient,t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Tu(d))}else{const u=tI(this.apiClient,t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>Su(d))}}async listInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=dI(this.apiClient,t);return a=U("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=pI(d),p=new ph;return Object.assign(p,h),p})}else{const u=cI(this.apiClient,t);return a=U("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=fI(d),p=new ph;return Object.assign(p,h),p})}}async update(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=LI(this.apiClient,t);return a=U("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Tu(d))}else{const u=DI(this.apiClient,t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>Su(d))}}async delete(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=m_(this.apiClient,t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=y_(d),p=new hh;return Object.assign(p,h),p})}else{const u=h_(this.apiClient,t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=g_(d),p=new hh;return Object.assign(p,h),p})}}async countTokens(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=d_(this.apiClient,t);return a=U("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=p_(d),p=new mh;return Object.assign(p,h),p})}else{const u=c_(this.apiClient,t);return a=U("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=f_(d),p=new mh;return Object.assign(p,h),p})}}async computeTokens(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=o_(this.apiClient,t);return r=U("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=i_(l),d=new Mw;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=q_(this.apiClient,t);return a=U("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const h=z_(d),p=new Bs;return Object.assign(p,h),p})}else{const u=$_(this.apiClient,t);return a=U("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const h=H_(d),p=new Bs;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RA extends pn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Ew(t);return a=U("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s}else{const u=Tw(t);return a=U("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=hw(t);return r=U("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MA(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function bA(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>HA(r))),f(t,["parts"],i)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function DA(e,t,n){const o={},i=c(t,["expireTime"]);n!==void 0&&i!=null&&f(n,["expireTime"],i);const r=c(t,["newSessionExpireTime"]);n!==void 0&&r!=null&&f(n,["newSessionExpireTime"],r);const s=c(t,["uses"]);n!==void 0&&s!=null&&f(n,["uses"],s);const a=c(t,["liveConnectConstraints"]);n!==void 0&&a!=null&&f(n,["bidiGenerateContentSetup"],OA(e,a));const l=c(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&f(n,["fieldMask"],l),o}function LA(e,t){const n={},o=c(t,["config"]);return o!=null&&f(n,["config"],DA(e,o,n)),n}function FA(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function UA(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function VA(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function GA(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function BA(e,t){const n={},o=c(e,["generationConfig"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig"],o);const i=c(e,["responseModalities"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","responseModalities"],i);const r=c(e,["temperature"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","temperature"],r);const s=c(e,["topP"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topP"],s);const a=c(e,["topK"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","topK"],a);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const h=c(e,["speechConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","speechConfig"],id(h));const p=c(e,["thinkingConfig"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","thinkingConfig"],p);const g=c(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=c(e,["systemInstruction"]);t!==void 0&&v!=null&&f(t,["setup","systemInstruction"],bA($e(v)));const T=c(e,["tools"]);if(t!==void 0&&T!=null){let C=si(T);Array.isArray(C)&&(C=C.map(I=>$A(ri(I)))),f(t,["setup","tools"],C)}const E=c(e,["sessionResumption"]);t!==void 0&&E!=null&&f(t,["setup","sessionResumption"],zA(E));const S=c(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&f(t,["setup","inputAudioTranscription"],S);const y=c(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&f(t,["setup","outputAudioTranscription"],y);const x=c(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&f(t,["setup","realtimeInputConfig"],x);const w=c(e,["contextWindowCompression"]);t!==void 0&&w!=null&&f(t,["setup","contextWindowCompression"],w);const _=c(e,["proactivity"]);if(t!==void 0&&_!=null&&f(t,["setup","proactivity"],_),c(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function OA(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["setup","model"],ne(e,o));const i=c(t,["config"]);return i!=null&&f(n,["config"],BA(i,n)),n}function HA(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const r=c(e,["fileData"]);r!=null&&f(t,["fileData"],FA(r));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],UA(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],MA(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const p=c(e,["videoMetadata"]);return p!=null&&f(t,["videoMetadata"],p),t}function zA(e){const t={},n=c(e,["handle"]);if(n!=null&&f(t,["handle"],n),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function $A(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const r=c(e,["fileSearch"]);r!=null&&f(t,["fileSearch"],r);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],VA(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],GA(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qA(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${n}.${r}`);t.push(...i)}else t.push(n)}return t.join(",")}function JA(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(e.bidiGenerateContentSetup=r,n=r):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const r=qA(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)r?e.fieldMask=r:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];r&&l.push(r),a.length>0&&l.push(...a),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class WA extends pn{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=LA(this.apiClient,t);r=U("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=JA(a,t.config);return i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KA(e,t){const n={},o=c(e,["force"]);return t!==void 0&&o!=null&&f(t,["_query","force"],o),n}function YA(e){const t={},n=c(e,["name"]);n!=null&&f(t,["_url","name"],n);const o=c(e,["config"]);return o!=null&&KA(o,t),t}function jA(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","name"],n),t}function QA(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function XA(e){const t={},n=c(e,["parent"]);n!=null&&f(t,["_url","parent"],n);const o=c(e,["config"]);return o!=null&&QA(o,t),t}function ZA(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["documents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["documents"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eN extends pn{constructor(t){super(),this.apiClient=t,this.list=async n=>new co(un.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=jA(t);return r=U("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=YA(t);i=U("{name}",s._url),r=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=XA(t);return r=U("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=ZA(l),d=new bw;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tN extends pn{constructor(t,n=new eN(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new co(un.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qI(t);return r=U("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=KI(t);return r=U("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=WI(t);i=U("{name}",s._url),r=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=eA(t);return r=U("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=tA(l),d=new Dw;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=nA(t);return r=U("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=oA(l),d=new Lw;return Object.assign(d,u),d})}}async importFile(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=QI(t);return r=U("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=jI(l),d=new Zc;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Qy=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Qy=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const nN=()=>Qy();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Cu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kt extends Error{}class Qe extends kt{constructor(t,n,o,i){super(`${Qe.makeMessage(t,n,o)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,o){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,o,i){if(!t||!i)return new Sl({message:o,cause:Cu(n)});const r=n;return t===400?new Zy(t,r,o,i):t===401?new ev(t,r,o,i):t===403?new tv(t,r,o,i):t===404?new nv(t,r,o,i):t===409?new ov(t,r,o,i):t===422?new iv(t,r,o,i):t===429?new rv(t,r,o,i):t>=500?new sv(t,r,o,i):new Qe(t,r,o,i)}}class _u extends Qe{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Sl extends Qe{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Xy extends Sl{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Zy extends Qe{}class ev extends Qe{}class tv extends Qe{}class nv extends Qe{}class ov extends Qe{}class iv extends Qe{}class rv extends Qe{}class sv extends Qe{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oN=/^[a-z][a-z0-9+.-]*:/i,iN=e=>oN.test(e);let Iu=e=>(Iu=Array.isArray,Iu(e));const rN=Iu;let sN=rN;const Uh=sN;function lN(e){if(!e)return!0;for(const t in e)return!1;return!0}function aN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const uN=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new kt(`${e} must be an integer`);if(t<0)throw new kt(`${e} must be a positive integer`);return t},cN=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dN=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ho="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pN=()=>{var e,t,n,o,i;const r=fN();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":Gh(Deno.build.os),"X-Stainless-Arch":Vh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":Gh((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Vh((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=hN();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ho,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function hN(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const o=n.exec(navigator.userAgent);if(o){const i=o[1]||0,r=o[2]||0,s=o[3]||0;return{browser:t,version:`${i}.${r}.${s}`}}}return null}const Vh=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Gh=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Vr;const mN=()=>Vr??(Vr=pN());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gN(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function lv(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function yN(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return lv({start(){},async pull(n){const{done:o,value:i}=await t.next();o?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function av(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function vN(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const o=e.getReader(),i=o.cancel();o.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xN=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uv=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function na(e,t,n){return uv(),new File(e,t??"unknown_file",n)}function SN(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const TN=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cv=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",EN=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&cv(e),wN=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function CN(e,t,n){if(uv(),e=await e,EN(e))return e instanceof File?e:na([await e.arrayBuffer()],e.name);if(wN(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),na(await Au(i),t,n)}const o=await Au(e);if(t||(t=SN(e)),!(n!=null&&n.type)){const i=o.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return na(o,t,n)}async function Au(e){var t,n,o,i,r;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(cv(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(TN(e))try{for(var a=!0,l=Bt(e),u;u=await l.next(),t=u.done,!t;a=!0){i=u.value,a=!1;const d=i;s.push(...await Au(d))}}catch(d){n={error:d}}finally{try{!a&&!t&&(o=l.return)&&await o.call(l)}finally{if(n)throw n.error}}else{const d=(r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${_N(e)}`)}return s}function _N(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dv{constructor(t){this._client=t}}dv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fv(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Bh=Object.freeze(Object.create(null)),IN=(e=fv)=>function(n,...o){if(n.length===1)return n[0];let i=!1;const r=[],s=n.reduce((d,h,p)=>{var g,v,T;/[?#]/.test(h)&&(i=!0);const E=o[p];let S=(i?encodeURIComponent:e)(""+E);return p!==o.length&&(E==null||typeof E=="object"&&E.toString===((T=Object.getPrototypeOf((v=Object.getPrototypeOf((g=E.hasOwnProperty)!==null&&g!==void 0?g:Bh))!==null&&v!==void 0?v:Bh))===null||T===void 0?void 0:T.toString))&&(S=E+"",r.push({start:d.length+h.length,length:S.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),d+h+(p===o.length?"":S)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)r.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(r.sort((d,h)=>d.start-h.start),r.length>0){let d=0;const h=r.reduce((p,g)=>{const v=" ".repeat(g.start-d),T="^".repeat(g.length);return d=g.start+g.length,p+v+T},"");throw new kt(`Path parameters result in path with invalid segments:
${r.map(p=>p.error).join(`
`)}
${s}
${h}`)}return s},Gr=IN(fv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pv extends dv{create(t,n){var o;const{api_version:i=this._client.apiVersion}=t,r=Hs(t,["api_version"]);if("model"in r&&"agent_config"in r)throw new kt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new kt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Gr`/${i}/interactions`,Object.assign(Object.assign({body:r},n),{stream:(o=t.stream)!==null&&o!==void 0?o:!1}))}delete(t,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Gr`/${i}/interactions/${t}`,o)}cancel(t,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Gr`/${i}/interactions/${t}/cancel`,o)}get(t,n={},o){var i;const r=n??{},{api_version:s=this._client.apiVersion}=r,a=Hs(r,["api_version"]);return this._client.get(Gr`/${s}/interactions/${t}`,Object.assign(Object.assign({query:a},o),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}pv._key=Object.freeze(["interactions"]);class hv extends pv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AN(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let o=0;for(const i of e)n.set(i,o),o+=i.length;return n}let Br;function sd(e){let t;return(Br??(t=new globalThis.TextEncoder,Br=t.encode.bind(t)))(e)}let Or;function Oh(e){let t;return(Or??(t=new globalThis.TextDecoder,Or=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?sd(t):t;this.buffer=AN([this.buffer,n]);const o=[];let i;for(;(i=NN(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){o.push(Oh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=Oh(this.buffer.subarray(0,r));o.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Tl.NEWLINE_CHARS=new Set([`
`,"\r"]);Tl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function NN(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function kN(e){for(let o=0;o<e.length-1;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zs={off:0,error:200,warn:300,info:400,debug:500},Hh=(e,t,n)=>{if(e){if(aN(zs,e))return e;We(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(zs))}`)}};function Ai(){}function Hr(e,t,n){return!t||zs[e]>zs[n]?Ai:t[e].bind(t)}const PN={error:Ai,warn:Ai,info:Ai,debug:Ai};let zh=new WeakMap;function We(e){var t;const n=e.logger,o=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return PN;const i=zh.get(n);if(i&&i[0]===o)return i[1];const r={error:Hr("error",n,o),warn:Hr("warn",n,o),info:Hr("info",n,o),debug:Hr("debug",n,o)};return zh.set(n,[o,r]),r}const qn=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ko{constructor(t,n,o){this.iterator=t,this.controller=n,this.client=o}static fromSSEResponse(t,n,o){let i=!1;const r=o?We(o):console;function s(){return Gt(this,arguments,function*(){var l,u,d,h;if(i)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var g=!0,v=Bt(RN(t,n)),T;T=yield W(v.next()),l=T.done,!l;g=!0){h=T.value,g=!1;const E=h;if(!p)if(E.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield W(JSON.parse(E.data))}catch(S){throw r.error("Could not parse message into JSON:",E.data),r.error("From chunk:",E.raw),S}}}catch(E){u={error:E}}finally{try{!g&&!l&&(d=v.return)&&(yield W(d.call(v)))}finally{if(u)throw u.error}}p=!0}catch(E){if(wu(E))return yield W(void 0);throw E}finally{p||n.abort()}})}return new ko(s,n,o)}static fromReadableStream(t,n,o){let i=!1;function r(){return Gt(this,arguments,function*(){var l,u,d,h;const p=new Tl,g=av(t);try{for(var v=!0,T=Bt(g),E;E=yield W(T.next()),l=E.done,!l;v=!0){h=E.value,v=!1;const S=h;for(const y of p.decode(S))yield yield W(y)}}catch(S){u={error:S}}finally{try{!v&&!l&&(d=T.return)&&(yield W(d.call(T)))}finally{if(u)throw u.error}}for(const S of p.flush())yield yield W(S)})}function s(){return Gt(this,arguments,function*(){var l,u,d,h;if(i)throw new kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var g=!0,v=Bt(r()),T;T=yield W(v.next()),l=T.done,!l;g=!0){h=T.value,g=!1;const E=h;p||E&&(yield yield W(JSON.parse(E)))}}catch(E){u={error:E}}finally{try{!g&&!l&&(d=v.return)&&(yield W(d.call(v)))}finally{if(u)throw u.error}}p=!0}catch(E){if(wu(E))return yield W(void 0);throw E}finally{p||n.abort()}})}return new ko(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],o=this.iterator(),i=r=>({next:()=>{if(r.length===0){const s=o.next();t.push(s),n.push(s)}return r.shift()}});return[new ko(()=>i(t),this.controller,this.client),new ko(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return lv({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{const{value:i,done:r}=await n.next();if(r)return o.close();const s=sd(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function RN(e,t){return Gt(this,arguments,function*(){var o,i,r,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new kt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new kt("Attempted to iterate over a response with no body");const a=new bN,l=new Tl,u=av(e.body);try{for(var d=!0,h=Bt(MN(u)),p;p=yield W(h.next()),o=p.done,!o;d=!0){s=p.value,d=!1;const g=s;for(const v of l.decode(g)){const T=a.decode(v);T&&(yield yield W(T))}}}catch(g){i={error:g}}finally{try{!d&&!o&&(r=h.return)&&(yield W(r.call(h)))}finally{if(i)throw i.error}}for(const g of l.flush()){const v=a.decode(g);v&&(yield yield W(v))}})}function MN(e){return Gt(this,arguments,function*(){var n,o,i,r;let s=new Uint8Array;try{for(var a=!0,l=Bt(e),u;u=yield W(l.next()),n=u.done,!n;a=!0){r=u.value,a=!1;const d=r;if(d==null)continue;const h=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?sd(d):d;let p=new Uint8Array(s.length+h.length);p.set(s),p.set(h,s.length),s=p;let g;for(;(g=kN(s))!==-1;)yield yield W(s.slice(0,g)),s=s.slice(g)}}catch(d){o={error:d}}finally{try{!a&&!n&&(i=l.return)&&(yield W(i.call(l)))}finally{if(o)throw o.error}}s.length>0&&(yield yield W(s))})}class bN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,o,i]=DN(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function DN(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function LN(e,t){const{response:n,requestLogID:o,retryOfRequestLogID:i,startTime:r}=t,s=await(async()=>{var a;if(t.options.stream)return We(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):ko.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return We(e).debug(`[${o}] response parsed`,qn({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-r})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ld extends Promise{constructor(t,n,o=LN){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=o,this.client=t}_thenUnwrap(t){return new ld(this.client,this.responsePromise,async(n,o)=>t(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mv=Symbol("brand.privateNullableHeaders");function*FN(e){if(!e)return;if(mv in e){const{values:o,nulls:i}=e;yield*o.entries();for(const r of i)yield[r,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Uh(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let o of n){const i=o[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const r=Uh(o[1])?o[1]:[o[1]];let s=!1;for(const a of r)a!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const Ti=e=>{const t=new Headers,n=new Set;for(const o of e){const i=new Set;for(const[r,s]of FN(o)){const a=r.toLowerCase();i.has(a)||(t.delete(r),i.add(a)),s===null?(t.delete(r),n.add(a)):(t.append(r,s),n.delete(a))}}return{[mv]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oa=e=>{var t,n,o,i,r,s;if(typeof globalThis.process<"u")return(o=(n=(t=aw)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(r=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||r===void 0?void 0:r.call(i,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gv;class El{constructor(t){var n,o,i,r,s,a,l,{baseURL:u=oa("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=oa("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:h="v1beta"}=t,p=Hs(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:d,apiVersion:h},p),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(o=g.timeout)!==null&&o!==void 0?o:El.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(r=Hh(g.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:Hh(oa("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=g.fetchOptions,this.maxRetries=(a=g.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:gN(),this.encoder=xN,this._options=g,this.apiKey=d,this.apiVersion=h,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Ti([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Ti([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ti([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new kt(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ho}`}defaultIdempotencyKey(){return`stainless-node-retry-${nN()}`}makeStatusError(t,n,o,i){return Qe.generate(t,n,o,i)}buildURL(t,n,o){const i=!this.baseURLOverridden()&&o||this.baseURL,r=iN(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return lN(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:o}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,o){return this.request(Promise.resolve(o).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new ld(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,o){var i,r,s;const a=await t,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:d,timeout:h}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:d,options:a});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=o===void 0?"":`, retryOf: ${o}`,v=Date.now();if(We(this).debug(`[${p}] sending request`,qn({retryOfRequestLogID:o,method:a.method,url:d,options:a,headers:u.headers})),!((r=a.signal)===null||r===void 0)&&r.aborted)throw new _u;const T=new AbortController,E=await this.fetchWithTimeout(d,u,h,T).catch(Cu),S=Date.now();if(E instanceof globalThis.Error){const x=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new _u;const w=wu(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return We(this).info(`[${p}] connection ${w?"timed out":"failed"} - ${x}`),We(this).debug(`[${p}] connection ${w?"timed out":"failed"} (${x})`,qn({retryOfRequestLogID:o,url:d,durationMs:S-v,message:E.message})),this.retryRequest(a,n,o??p);throw We(this).info(`[${p}] connection ${w?"timed out":"failed"} - error; no more retries left`),We(this).debug(`[${p}] connection ${w?"timed out":"failed"} (error; no more retries left)`,qn({retryOfRequestLogID:o,url:d,durationMs:S-v,message:E.message})),w?new Xy:new Sl({cause:E})}const y=`[${p}${g}] ${u.method} ${d} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${S-v}ms`;if(!E.ok){const x=await this.shouldRetry(E);if(n&&x){const b=`retrying, ${n} attempts remaining`;return await vN(E.body),We(this).info(`${y} - ${b}`),We(this).debug(`[${p}] response error (${b})`,qn({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:S-v})),this.retryRequest(a,n,o??p,E.headers)}const w=x?"error; no more retries left":"error; not retryable";We(this).info(`${y} - ${w}`);const _=await E.text().catch(b=>Cu(b).message),C=cN(_),I=C?void 0:_;throw We(this).debug(`[${p}] response error (${w})`,qn({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,message:I,durationMs:Date.now()-v})),this.makeStatusError(E.status,C,I,E.headers)}return We(this).info(y),We(this).debug(`[${p}] response start`,qn({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:S-v})),{response:E,options:a,controller:T,requestLogID:p,retryOfRequestLogID:o,startTime:v}}async fetchWithTimeout(t,n,o,i){const r=n||{},{signal:s,method:a}=r,l=Hs(r,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),o),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(u)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,o,i){var r;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(r=t.maxRetries)!==null&&r!==void 0?r:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await dN(s),this.makeRequest(t,n-1,o)}calculateDefaultRetryTimeoutMillis(t,n){const r=n-t,s=Math.min(.5*Math.pow(2,r),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(t,{retryCount:n=0}={}){var o,i,r;const s=Object.assign({},t),{method:a,path:l,query:u,defaultBaseURL:d}=s,h=this.buildURL(l,u,d);"timeout"in s&&uN("timeout",s.timeout),s.timeout=(o=s.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:g}=this.buildBody({options:s}),v=await this.buildHeaders({options:t,method:a,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(r=s.fetchOptions)!==null&&r!==void 0?r:{}),url:h,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:o,retryCount:i}){let r={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let a=Ti([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),mN()),this._options.defaultHeaders,o,t.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const o=Ti([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:yN(t)}:this.encoder({body:t,headers:o})}}El.DEFAULT_TIMEOUT=6e4;class be extends El{constructor(){super(...arguments),this.interactions=new hv(this)}}gv=be;be.GeminiNextGenAPIClient=gv;be.GeminiNextGenAPIClientError=kt;be.APIError=Qe;be.APIConnectionError=Sl;be.APIConnectionTimeoutError=Xy;be.APIUserAbortError=_u;be.NotFoundError=nv;be.ConflictError=ov;be.RateLimitError=rv;be.BadRequestError=Zy;be.AuthenticationError=ev;be.InternalServerError=sv;be.PermissionDeniedError=tv;be.UnprocessableEntityError=iv;be.toFile=CN;be.Interactions=hv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UN(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function VN(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function GN(e,t){const n={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function BN(e,t){const n={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function ON(e,t,n){const o={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=c(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&f(t,["displayName"],i),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=c(e,["epochCount"]);t!==void 0&&r!=null&&f(t,["tuningTask","hyperparameters","epochCount"],r);const s=c(e,["learningRateMultiplier"]);if(s!=null&&f(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=c(e,["batchSize"]);t!==void 0&&a!=null&&f(t,["tuningTask","hyperparameters","batchSize"],a);const l=c(e,["learningRate"]);if(t!==void 0&&l!=null&&f(t,["tuningTask","hyperparameters","learningRate"],l),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function HN(e,t,n){const o={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=c(e,["validationDataset"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec"],$h(g))}else if(i==="PREFERENCE_TUNING"){const g=c(e,["validationDataset"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec"],$h(g))}const r=c(e,["tunedModelDisplayName"]);t!==void 0&&r!=null&&f(t,["tunedModelDisplayName"],r);const s=c(e,["description"]);t!==void 0&&s!=null&&f(t,["description"],s);let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=c(e,["epochCount"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){const g=c(e,["epochCount"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=c(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=c(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=c(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=c(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=c(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=c(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=c(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=c(e,["adapterSize"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=c(e,["adapterSize"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=c(e,["labels"]);t!==void 0&&h!=null&&f(t,["labels"],h);const p=c(e,["beta"]);return t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function zN(e,t){const n={},o=c(e,["baseModel"]);o!=null&&f(n,["baseModel"],o);const i=c(e,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);const r=c(e,["trainingDataset"]);r!=null&&ek(r);const s=c(e,["config"]);return s!=null&&ON(s,n),n}function $N(e,t){const n={},o=c(e,["baseModel"]);o!=null&&f(n,["baseModel"],o);const i=c(e,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);const r=c(e,["trainingDataset"]);r!=null&&tk(r,n,t);const s=c(e,["config"]);return s!=null&&HN(s,n,t),n}function qN(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function JN(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function WN(e,t,n){const o={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&f(t,["_query","pageSize"],i);const r=c(e,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const s=c(e,["filter"]);return t!==void 0&&s!=null&&f(t,["_query","filter"],s),o}function KN(e,t,n){const o={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&f(t,["_query","pageSize"],i);const r=c(e,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const s=c(e,["filter"]);return t!==void 0&&s!=null&&f(t,["_query","filter"],s),o}function YN(e,t){const n={},o=c(e,["config"]);return o!=null&&WN(o,n),n}function jN(e,t){const n={},o=c(e,["config"]);return o!=null&&KN(o,n),n}function QN(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const i=c(e,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const r=c(e,["tunedModels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>yv(a))),f(n,["tuningJobs"],s)}return n}function XN(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const i=c(e,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const r=c(e,["tuningJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Nu(a))),f(n,["tuningJobs"],s)}return n}function ZN(e,t){const n={},o=c(e,["name"]);o!=null&&f(n,["model"],o);const i=c(e,["name"]);return i!=null&&f(n,["endpoint"],i),n}function ek(e,t){const n={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=c(e,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),f(n,["examples","examples"],i)}return n}function tk(e,t,n){const o={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=c(e,["gcsUri"]);t!==void 0&&s!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=c(e,["gcsUri"]);t!==void 0&&s!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let r=c(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const s=c(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){const s=c(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function yv(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const i=c(e,["name"]);i!=null&&f(n,["name"],i);const r=c(e,["state"]);r!=null&&f(n,["state"],by(r));const s=c(e,["createTime"]);s!=null&&f(n,["createTime"],s);const a=c(e,["tuningTask","startTime"]);a!=null&&f(n,["startTime"],a);const l=c(e,["tuningTask","completeTime"]);l!=null&&f(n,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(e,["description"]);d!=null&&f(n,["description"],d);const h=c(e,["baseModel"]);h!=null&&f(n,["baseModel"],h);const p=c(e,["_self"]);return p!=null&&f(n,["tunedModel"],ZN(p)),n}function Nu(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const i=c(e,["name"]);i!=null&&f(n,["name"],i);const r=c(e,["state"]);r!=null&&f(n,["state"],by(r));const s=c(e,["createTime"]);s!=null&&f(n,["createTime"],s);const a=c(e,["startTime"]);a!=null&&f(n,["startTime"],a);const l=c(e,["endTime"]);l!=null&&f(n,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(e,["error"]);d!=null&&f(n,["error"],d);const h=c(e,["description"]);h!=null&&f(n,["description"],h);const p=c(e,["baseModel"]);p!=null&&f(n,["baseModel"],p);const g=c(e,["tunedModel"]);g!=null&&f(n,["tunedModel"],g);const v=c(e,["preTunedModel"]);v!=null&&f(n,["preTunedModel"],v);const T=c(e,["supervisedTuningSpec"]);T!=null&&f(n,["supervisedTuningSpec"],T);const E=c(e,["preferenceOptimizationSpec"]);E!=null&&f(n,["preferenceOptimizationSpec"],E);const S=c(e,["tuningDataStats"]);S!=null&&f(n,["tuningDataStats"],S);const y=c(e,["encryptionSpec"]);y!=null&&f(n,["encryptionSpec"],y);const x=c(e,["partnerModelTuningSpec"]);x!=null&&f(n,["partnerModelTuningSpec"],x);const w=c(e,["customBaseModel"]);w!=null&&f(n,["customBaseModel"],w);const _=c(e,["experiment"]);_!=null&&f(n,["experiment"],_);const C=c(e,["labels"]);C!=null&&f(n,["labels"],C);const I=c(e,["outputUri"]);I!=null&&f(n,["outputUri"],I);const A=c(e,["pipelineJob"]);A!=null&&f(n,["pipelineJob"],A);const b=c(e,["serviceAccount"]);b!=null&&f(n,["serviceAccount"],b);const D=c(e,["tunedModelDisplayName"]);D!=null&&f(n,["tunedModelDisplayName"],D);const O=c(e,["veoTuningSpec"]);return O!=null&&f(n,["veoTuningSpec"],O),n}function nk(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const i=c(e,["name"]);i!=null&&f(n,["name"],i);const r=c(e,["metadata"]);r!=null&&f(n,["metadata"],r);const s=c(e,["done"]);s!=null&&f(n,["done"],s);const a=c(e,["error"]);return a!=null&&f(n,["error"],a),n}function $h(e,t){const n={},o=c(e,["gcsUri"]);o!=null&&f(n,["validationDatasetUri"],o);const i=c(e,["vertexDatasetResource"]);return i!=null&&f(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ok extends pn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new co(un.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},n),{preTunedModel:i});return r.baseModel=void 0,await this.tuneInternal(r)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),r=await this.tuneMldevInternal(i);let s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:gu.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=JN(t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>Nu(d))}else{const u=qN(t);return a=U("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>yv(d))}}async listInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jN(t);return a=U("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=XN(d),p=new gh;return Object.assign(p,h),p})}else{const u=YN(t);return a=U("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=QN(d),p=new gh;return Object.assign(p,h),p})}}async cancel(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=VN(t);return a=U("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=BN(d),p=new yh;return Object.assign(p,h),p})}else{const u=UN(t);return a=U("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=GN(d),p=new yh;return Object.assign(p,h),p})}}async tuneInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=$N(t,t);return r=U("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>Nu(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zN(t);return r=U("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>nk(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ik{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const rk=1024*1024*8,sk=3,lk=1e3,ak=2,$s="x-goog-upload-status";async function uk(e,t,n){var o;const i=await vv(e,t,n),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[$s])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return r.file}async function ck(e,t,n){var o;const i=await vv(e,t,n),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[$s])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Ay(r),a=new ed;return Object.assign(a,s),a}async function vv(e,t,n){var o,i;let r=0,s=0,a=new yu(new Response),l="upload";for(r=e.size;s<r;){const u=Math.min(rk,r-s),d=e.slice(s,s+u);s+u>=r&&(l+=", finalize");let h=0,p=lk;for(;h<sk&&(a=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((o=a==null?void 0:a.headers)===null||o===void 0)&&o[$s]));)h++,await fk(p),p=p*ak;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[$s])!=="active")break;if(r<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function dk(e){return{size:e.size,type:e.type}}function fk(e){return new Promise(t=>setTimeout(t,e))}class pk{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await uk(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ck(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await dk(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hk{create(t,n,o){return new mk(t,n,o)}}class mk{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qh="x-goog-api-key";class gk{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(qh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(qh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yk="gl-node/";class vk{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new be({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=fw(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new gk(this.apiKey);this.apiClient=new dA({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:yk+"web",uploader:new pk,downloader:new ik}),this.models=new PA(this.apiClient),this.live=new CA(this.apiClient,i,new hk),this.batches=new OC(this.apiClient),this.chats=new E1(this.models,this.apiClient),this.caches=new x1(this.apiClient),this.files=new M1(this.apiClient),this.operations=new RA(this.apiClient),this.authTokens=new WA(this.apiClient),this.tunings=new ok(this.apiClient),this.fileSearchStores=new tN(this.apiClient)}}const Jh={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},zr=e=>Jh&&Jh[e]||"",$o={gemini:zr("VITE_GEMINI_KEY")||zr("VITE_API_KEY"),groq:zr("VITE_GROQ_KEY"),openRouter:zr("VITE_OPENROUTER_KEY")},qs={ENFJ:`
    []  (Fe-Ni)
    [] 
    [] 
    [/] Ti/Se(Ti)
    [] 
    `,ENFP:`
    []  (Ne-Fi)
    [] 
    [] 
    [/] Si/Te(Si)
    [] 
    `,ENTJ:`
    []  (Te-Ni)
    [] 
    [] 
    [/] Fi/Se(Fi)
    [] 
    `,ENTP:`
    []  (Ne-Ti)
    [] 
    [] 
    [/] Si/Fe(Si)
    [] 
    `,ESFJ:`
    []  (Fe-Si)
    [] 
    [] 
    [/] Ti/Ne(Ti)
    [] 
    `,ESFP:`
    []  (Se-Fi)
    [] 
    [] 
    [/] Ni/Te(Ni)
    [] 
    `,ESTJ:`
    []  (Te-Si)
    [] 
    [] 
    [/] Fi/Ne(Fi)
    [] 
    `,ESTP:`
    []  (Se-Ti)
    [] 
    [] 
    [/] Ni/Fe(Ni)
    [] 
    `,INFJ:`
    []  (Ni-Fe)
    [] 
    [] 
    [/] Se/Ti(Se)
    [] 
    `,INFP:`
    []  (Fi-Ne)
    [] 
    [] 
    [/] Te/Si(Te)
    [] 
    `,INTJ:`
    []  (Ni-Te)
    [] 
    [] 
    [/] Se/Fi(Se)
    [] 
    `,INTP:`
    []  (Ti-Ne)
    [] 
    [] 
    [/] Fe/Si(Fe)
    [] 
    `,ISFJ:`
    []  (Si-Fe)
    [] 
    [] 
    [/] Ne/Ti(Ne)
    [] 
    `,ISFP:`
    []  (Fi-Se)
    [] 
    [] 
    [/] Te/Ni(Te)
    [] 
    `,ISTJ:`
    []  (Si-Te)
    [] 
    [] 
    [/] Ne/Fi(Ne)
    [] 
    `,ISTP:`
    []  (Ti-Se)
    [] 
    [] 
    [/] Fe/Ni(Fe)
    [] 
    `},xk=`
[]
 AI  MBTI 

[]

1. ** (Trust)**
2. ** (Insight)**/
3. ** (Expression)**

[]
- FeNi
- 
- **** 16 
`.trim(),Sk=`
[]
 MBTI  4 

[]
1. ** (Flow State)** ENTJ  TeINFJ  Ni
2. ** (Growth Zone)**/ INTP  FeESTJ  Fi

[ - !]
- ****
- ****
- 

[]
1. "standard" ()
2. "truth" ()(Score: Insight)
3. "dare" () INTJ  Se ESFP  Ti(Score: Expression)
4. "deep" ()(Score: Trust)

[]
 JSON  keys: "standard", "truth", "dare", "deep"
 Value 
{
  "title": " ()",
  "description": "",
  "scoreType": "trust" | "insight" | "expression",
  "durationSeconds": 45-90
}
`.trim(),Tk=`
[]


[]
1. ****
2. **** NF  ST 
3. ****

[ - !]
 JSON 
{
  "groupAnalysis": "150-200\\n\\n- \\n- \\n- /",
  "playerAnalysis": {
     "ID": "\\n\\n1.  ****[]\\n2.  ****[]\\n3.  ****[]"
  }
}

1. ** ID** key ( Bot)
2.  emoji  (\\n) 
3. playerAnalysis  Key  "ID" ( "user-0", "bot-1")
`.trim(),$r={geminiKey:"",openRouterKey:"",groqKey:"",geminiModel:"gemini-2.5-flash",openRouterModel:"anthropic/claude-3-haiku",groqModel:"llama3-70b-8192",systemPersona:xk,taskPromptTemplate:Sk,reportPromptTemplate:Tk},Ek=()=>{if(typeof window>"u")return $r;const e=localStorage.getItem("PSYCHEPOLY_AI_CONFIG_V2");if(e)try{return{...$r,...JSON.parse(e)}}catch{return $r}return $r};let pt=Ek();const wk=()=>pt,Ck=e=>{pt={...pt,...e},localStorage.setItem("PSYCHEPOLY_AI_CONFIG_V2",JSON.stringify(pt))},_k=async(e,t,n)=>{var s,a,l;const o=pt.groqKey||$o.groq;if(!o)throw new Error("Skipped: No Groq Key");const i=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({model:pt.groqModel,messages:[{role:"system",content:e},{role:"user",content:t}],response_format:{type:"json_object"}})});if(!i.ok)throw new Error(`Groq ${i.statusText}`);return((l=(a=(s=(await i.json()).choices)==null?void 0:s[0])==null?void 0:a.message)==null?void 0:l.content)||"{}"},Ik=async(e,t,n)=>{var s,a,l;const o=pt.openRouterKey||$o.openRouter;if(!o)throw new Error("Skipped: No OpenRouter Key");const i=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json","HTTP-Referer":window.location.href,"X-Title":"PsychePoly"},body:JSON.stringify({model:pt.openRouterModel,messages:[{role:"system",content:e},{role:"user",content:t}],response_format:{type:"json_object"}})});if(!i.ok)throw new Error(`OpenRouter ${i.statusText}`);return((l=(a=(s=(await i.json()).choices)==null?void 0:s[0])==null?void 0:a.message)==null?void 0:l.content)||"{}"},Ak=async(e,t,n)=>{const o=pt.geminiKey||$o.gemini;if(!o)throw new Error("Skipped: No Gemini Key");return(await new vk({apiKey:o}).models.generateContent({model:pt.geminiModel,contents:t,config:{systemInstruction:e,responseMimeType:"application/json"}})).text||"{}"},Nk=async(e,t,n)=>{const o=`${e}

${t}

Respond in JSON.`,i=await fetch(`https://text.pollinations.ai/${encodeURIComponent(o)}`);if(!i.ok)throw new Error(`Pollinations ${i.statusText}`);let r=await i.text();return r=r.replace(/```json/g,"").replace(/```/g,"").trim(),r},ad=async(e,t)=>{const n=t||pt.systemPersona,o=[];try{return console.log("Calling [G] Groq..."),await _k(n,e,!0)}catch(i){o.push(`Groq: ${i.message}`)}try{return console.log("Calling [O] OpenRouter..."),await Ik(n,e,!0)}catch(i){o.push(`OpenRouter: ${i.message}`)}try{return console.log("Calling [Mini] Gemini..."),await Ak(n,e,!0)}catch(i){o.push(`Gemini: ${i.message}`)}try{return console.log("Calling [P] Pollinations..."),await Nk(n,e,!0)}catch(i){o.push(`Pollinations: ${i.message}`)}throw console.error("All AI providers failed:",o),new Error("ALL_AI_FAILED")},kk=(e,t)=>{const n=e.map(i=>`- ${i.name} (${i.mbti}): (Trust)=${i.trustScore}, (Insight)=${i.insightScore}, (Expr)=${i.expressionScore}`).join(`
`),o=t.filter(i=>i.type!=="system").slice(-20).map(i=>{let r=`[${i.author||"System"}]: ${i.text}`;return i.taskDetails&&(i.taskDetails.includes("")?r+=`
    /: ${i.taskDetails}`:r+=` (: ${i.taskDetails})`),r}).join(`
`);return`[]
${n}

[()]
${o}`},Pk=async e=>{const t=`
     MBTI 
     4 0100 3  MBTI 
    
    []
    1. 1 ():  I E
    2. 2 ():  S N
    3. 3 ():  T F
    4. 4 ():  J P
     40-60

    []
     JSON  3 
    [
      { "type": "INTJ", "percentage": 85, "reason": "" },
      { "type": "ENTJ", "percentage": 60, "reason": "" },
      { "type": "ISTJ", "percentage": 40, "reason": "" }
    ]
  `.trim(),n=e.map(o=>`${o.q}: ${o.val}`).join(`
`);try{const o=await ad(n,t),i=JSON.parse(o);if(Array.isArray(i)&&i.length>0&&i[0].type)return i;throw new Error("Invalid format")}catch(o){return console.warn("Analysis fallback",o),[{type:"ISFP",percentage:70,reason:""},{type:"INFP",percentage:50,reason:""},{type:"ESFP",percentage:30,reason:""}]}},Wh=async(e,t,n,o=[])=>{const i=kk(t,o),r=qs[n.mbti]?`
[ ${n.mbti}  ()]
${qs[n.mbti]}
`:"";let s=`: "${e}" ().`;const a=hu[e];a&&(e==="Hub"?s=`
                []
                
                
            `:s=`
                []
                ${e}${a}
                 MBTI  (${e})  ${a} 
                
            `);const l=`
        []
        : ${n.name} (: ${n.mbti}).
        ${s}
        ${r}
        
        ${i}

        ${pt.taskPromptTemplate}
    `;try{const u=await ad(l),d=JSON.parse(u),h={};return["standard","truth","dare","deep"].forEach(g=>{const v=d[g]||{},T=Vi[g];h[g]={category:g,title:v.title||"",description:v.description||"AI ",scoreType:v.scoreType||"expression",durationSeconds:v.durationSeconds||60,multiplier:T.multiplier}}),h}catch{console.warn("Falling back to Static Data");const d={};return["standard","truth","dare","deep"].forEach(h=>{const p=Vi[h];d[h]={category:h,title:"",description:" AI ",scoreType:"expression",durationSeconds:60,multiplier:p.multiplier}}),d}},Rk=async(e,t)=>{const n=t.join(`
`),o=e.map(a=>`Name:${a.name}, MBTI:${a.mbti}, ID:${a.id}`).join("; ");let i=`
[ MBTI ]
`;e.forEach(a=>{qs[a.mbti]&&(i+=`--- ${a.name} (${a.mbti}) ---
${qs[a.mbti]}
`)});let r=pt.reportPromptTemplate;const s=`
        []
        (ID): ${o}
        : ${n}
        ${i}
    `;r.includes("{players_placeholder}")?r=r.replace("{players_placeholder}",o).replace("{logs_placeholder}",n+i):r=`
            ${s}
            ${r}
        `;try{const a=await ad(r),l=JSON.parse(a),u={};return e.forEach(d=>{var p;let h=(p=l.playerAnalysis)==null?void 0:p[d.id];if(!h&&l.playerAnalysis){const g=Object.keys(l.playerAnalysis).find(v=>v.includes(d.name));g&&(h=l.playerAnalysis[g])}u[d.id]=h||`${d.name} AI ... `}),{groupAnalysis:l.groupAnalysis||"",playerAnalysis:u}}catch{return{groupAnalysis:" AI ",playerAnalysis:Object.fromEntries(e.map(l=>[l.id,""]))}}};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xv=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:i="",children:r,iconNode:s,...a},l)=>k.createElement("svg",{ref:l,...bk,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:xv("lucide",i),...a},[...s.map(([u,d])=>k.createElement(u,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const n=k.forwardRef(({className:o,...i},r)=>k.createElement(Dk,{ref:r,iconNode:t,className:xv(`lucide-${Mk(e)}`,o),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=J("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=J("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=J("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=J("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=J("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=J("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=J("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=J("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=J("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=J("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=J("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=J("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=J("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=J("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=J("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=J("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=J("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=J("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=J("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=J("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=J("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=J("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=J("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=J("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=J("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=J("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=J("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=J("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=J("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=J("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Nv=({onClose:e})=>{const[t,n]=k.useState("keys"),[o,i]=k.useState(wk()),r=k.useRef(null),s=()=>{Ck(o),e(),alert(`AI 
: Groq -> OpenRouter -> Gemini -> Pollinations`)},a=()=>{confirm(" prompt ")&&(localStorage.removeItem("PSYCHEPOLY_AI_CONFIG_V2"),window.location.reload())},l=()=>{const p="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(o,null,2)),g=document.createElement("a");g.setAttribute("href",p),g.setAttribute("download","psychepoly_ai_config.json"),document.body.appendChild(g),g.click(),g.remove()},u=()=>{var p;(p=r.current)==null||p.click()},d=p=>{var T;const g=(T=p.target.files)==null?void 0:T[0];if(!g)return;const v=new FileReader;v.onload=E=>{var S;try{const y=(S=E.target)==null?void 0:S.result,x=JSON.parse(y);x.geminiModel||x.systemPersona?(i({...o,...x}),alert("")):alert("")}catch{alert("JSON ")}},v.readAsText(g),r.current&&(r.current.value="")},h=(p,g,v,T,E,S,y,x)=>m.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("label",{className:`text-xs font-bold ${g} flex items-center gap-1`,children:p}),m.jsx("input",{type:"text",value:S,onChange:w=>y(w.target.value),className:"bg-slate-900 border border-slate-700 rounded px-2 py-0.5 text-[10px] text-slate-400 w-32 text-right",placeholder:"Model ID"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"password",value:v,onChange:w=>T(w.target.value),className:`w-full bg-slate-900 border rounded-lg px-3 py-2 text-sm text-white outline-none font-mono ${v?"border-slate-700":E?"border-teal-500/50":"border-slate-800"}`,placeholder:E?" Key ()":x}),!v&&E&&m.jsxs("div",{className:"absolute right-3 top-2.5 flex items-center gap-1 text-[10px] text-teal-500 pointer-events-none",children:[m.jsx(aP,{size:12})," "]})]})]});return m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"w-full max-w-2xl bg-slate-900 rounded-2xl border border-slate-700 shadow-2xl flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-teal-500/20 rounded-lg text-teal-400",children:m.jsx(zk,{size:24})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold text-white",children:"AI "}),m.jsx("p",{className:"text-[10px] text-slate-400",children:": G > O > Mini > P"})]})]}),m.jsx("button",{onClick:e,className:"text-slate-500 hover:text-white transition",children:m.jsx(wl,{size:24})})]}),m.jsxs("div",{className:"flex border-b border-slate-800",children:[m.jsxs("button",{onClick:()=>n("keys"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition ${t==="keys"?"border-teal-500 text-teal-400 bg-slate-800/50":"border-transparent text-slate-500 hover:text-white"}`,children:[m.jsx(Kk,{size:16})," API  & "]}),m.jsxs("button",{onClick:()=>n("prompts"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition ${t==="prompts"?"border-teal-500 text-teal-400 bg-slate-800/50":"border-transparent text-slate-500 hover:text-white"}`,children:[m.jsx(eP,{size:16})," Prompt "]})]}),m.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1 custom-scrollbar",children:[t==="keys"&&m.jsxs("div",{className:"space-y-6",children:[h("1. Groq (G) - ","text-orange-400",o.groqKey,p=>i({...o,groqKey:p}),!!$o.groq,o.groqModel,p=>i({...o,groqModel:p}),"gsk_..."),h("2. OpenRouter (O) - ","text-blue-400",o.openRouterKey,p=>i({...o,openRouterKey:p}),!!$o.openRouter,o.openRouterModel,p=>i({...o,openRouterModel:p}),"sk-or-..."),h("3. Gemini (Mini) - ","text-teal-400",o.geminiKey,p=>i({...o,geminiKey:p}),!!$o.gemini,o.geminiModel,p=>i({...o,geminiModel:p}),"AIza..."),m.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg flex items-center gap-3 text-xs text-slate-400",children:[m.jsx(Ok,{size:16}),m.jsxs("span",{children:[" Key  ",m.jsx("strong",{children:"Pollinations.ai (P)"}),""]})]})]}),t==="prompts"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-purple-400 uppercase tracking-wider flex items-center gap-1",children:"System Persona ()"}),m.jsx("textarea",{value:o.systemPersona,onChange:p=>i({...o,systemPersona:p.target.value}),className:"w-full h-32 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-300 focus:border-purple-500 outline-none resize-none font-mono leading-relaxed",placeholder:"[]... []..."}),m.jsx("p",{className:"text-[10px] text-slate-500",children:" AI "})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-green-400 uppercase tracking-wider flex items-center gap-1",children:"Task Generation Instruction ()"}),m.jsx("textarea",{value:o.taskPromptTemplate,onChange:p=>i({...o,taskPromptTemplate:p.target.value}),className:"w-full h-40 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-300 focus:border-green-500 outline-none resize-none font-mono"}),m.jsx("p",{className:"text-[10px] text-slate-500",children:" JSON  (keys: standard, truth, dare, deep)"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-yellow-400 uppercase tracking-wider flex items-center gap-1",children:"Report & Analysis Instruction ()"}),m.jsx("textarea",{value:o.reportPromptTemplate,onChange:p=>i({...o,reportPromptTemplate:p.target.value}),className:"w-full h-40 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-300 focus:border-yellow-500 outline-none resize-none font-mono"}),m.jsx("p",{className:"text-[10px] text-slate-500",children:"Te, Ti, Fe"})]})]})]}),m.jsxs("div",{className:"p-5 border-t border-slate-800 flex flex-wrap gap-3 bg-slate-900/50 rounded-b-2xl",children:[m.jsx("input",{type:"file",ref:r,className:"hidden",accept:".json",onChange:d}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:u,className:"px-3 py-2 bg-slate-800 text-slate-400 rounded-lg text-xs font-bold hover:bg-slate-700 hover:text-white flex items-center gap-1 transition",title:"",children:[m.jsx(fP,{size:14})," "]}),m.jsxs("button",{onClick:l,className:"px-3 py-2 bg-slate-800 text-slate-400 rounded-lg text-xs font-bold hover:bg-slate-700 hover:text-white flex items-center gap-1 transition",title:"",children:[m.jsx(Tv,{size:14})," "]})]}),m.jsx("div",{className:"flex-1"}),m.jsxs("button",{onClick:a,className:"px-4 py-2 bg-slate-800 text-slate-400 rounded-lg text-sm font-bold hover:text-white flex items-center gap-2 transition",children:[m.jsx(sP,{size:16})," "]}),m.jsxs("button",{onClick:s,className:"px-6 py-2 bg-teal-600 hover:bg-teal-500 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-2 shadow-lg transition",children:[m.jsx(lP,{size:16})," "]})]})]})})},jh=[{id:1,text:"...",left:" ()",right:" ()",dimension:"E-I"},{id:2,text:"...",left:"",right:"",dimension:"S-N"},{id:3,text:"...",left:"",right:"TA",dimension:"T-F"},{id:4,text:"...",left:"Excel",right:"",dimension:"J-P"}],hP=({onClose:e})=>m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"w-full max-w-3xl bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[m.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Sv,{className:"text-teal-600 dark:text-teal-400"}),m.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:""})]}),m.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800 dark:hover:text-white transition",children:m.jsx(wl,{size:24})})]}),m.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar prose dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",children:[m.jsx("h3",{children:" "}),m.jsx("p",{children:""}),m.jsx("h4",{children:" "}),m.jsxs("ul",{children:[m.jsxs("li",{children:[m.jsx("strong",{children:""}),""]}),m.jsxs("li",{children:[m.jsx("strong",{children:""}),""]}),m.jsxs("li",{children:[m.jsx("strong",{children:""}),""]})]}),m.jsx("h4",{children:" AI  (!)"}),m.jsxs("p",{children:[" AI  ",m.jsx("strong",{children:""})," "]}),m.jsxs("ul",{children:[m.jsxs("li",{children:[m.jsx("strong",{children:""})," Google Gemini API ()"]}),m.jsxs("li",{children:[m.jsx("strong",{children:""})," Pollinations () "]}),m.jsxs("li",{children:[m.jsx("strong",{children:""}),"Key "]})]}),m.jsx("h4",{children:" "}),m.jsxs("ul",{children:[m.jsxs("li",{children:[m.jsx("strong",{children:""}),""]}),m.jsxs("li",{children:[m.jsx("strong",{children:""})," AI "]}),m.jsxs("li",{children:[m.jsx("strong",{children:""}),""]}),m.jsxs("li",{children:[m.jsx("strong",{children:""})," HTML"]})]})]}),m.jsx("div",{className:"p-5 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950 flex justify-end",children:m.jsx("button",{onClick:e,className:"px-6 py-2 bg-teal-600 hover:bg-teal-500 text-white rounded-lg font-bold",children:""})})]})}),mP=({onComplete:e,isDarkMode:t,toggleTheme:n})=>{const[o,i]=k.useState("setup"),[r,s]=k.useState([{id:"p1",name:"",mbti:""}]),[a,l]=k.useState(0),[u,d]=k.useState(null),h=k.useRef(null),p=k.useRef(null),[g,v]=k.useState({1:50,2:50,3:50,4:50}),[T,E]=k.useState([]),[S,y]=k.useState(Ee.JUNG_8),[x,w]=k.useState(0),[_,C]=k.useState(40),[I,A]=k.useState(!1),[b,D]=k.useState(!1);k.useEffect(()=>{let F=null;return u!==null&&navigator.mediaDevices.getUserMedia({video:{width:{ideal:300},height:{ideal:300}}}).then(H=>{F=H,h.current&&(h.current.srcObject=F,h.current.play())}).catch(H=>{console.error("Camera error:",H),d(null),alert("")}),()=>{F&&F.getTracks().forEach(H=>H.stop())}},[u]);const O=F=>{if(h.current&&p.current){const H=p.current.getContext("2d");if(H){const ie=Math.min(h.current.videoWidth,h.current.videoHeight),Ge=(h.current.videoWidth-ie)/2,yt=(h.current.videoHeight-ie)/2;H.drawImage(h.current,Ge,yt,ie,ie,0,0,300,300);const at=p.current.toDataURL("image/jpeg"),zt=[...r];zt[F].avatarImage=at,s(zt),d(null)}}},de=()=>{r.length<16&&s([...r,{id:`p${Date.now()}`,name:"",mbti:""}])},Q=F=>{if(r.length>1){const H=[...r];H.splice(F,1),s(H)}},oe=(F,H)=>{const ie=[...r];ie[F].name=H,s(ie)},fe=(F,H)=>{const ie=[...r];ie[F].mbti=H,s(ie)},se=F=>{l(F),v({1:50,2:50,3:50,4:50}),i("quiz")},ee=async()=>{i("analyzing");const F=jh.map(ie=>({q:ie.text,val:g[ie.id]})),H=await Pk(F);E(H),i("results")},P=F=>{fe(a,F),i("setup")},B=()=>r.every(F=>F.name.trim()!==""&&F.mbti!==""),z=()=>{B()&&e(r,S,x,_)};return o==="quiz"?m.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 overflow-y-auto",children:m.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-slate-800/90 backdrop-blur p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-2xl",children:[m.jsxs("h3",{className:"text-xl font-bold mb-6 text-center text-teal-600 dark:text-teal-300",children:[r[a].name||""," "]}),m.jsx("div",{className:"space-y-8",children:jh.map(F=>m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"text-slate-800 dark:text-white font-medium text-lg",children:F.text}),m.jsxs("div",{className:"relative pt-1",children:[m.jsx("input",{type:"range",min:"0",max:"100",value:g[F.id],onChange:H=>v({...g,[F.id]:parseInt(H.target.value)}),className:"w-full h-2 bg-slate-200 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-teal-500 relative z-10"}),m.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 font-bold mt-2",children:[m.jsx("span",{children:F.left}),m.jsx("span",{children:F.right})]})]})]},F.id))}),m.jsxs("div",{className:"flex gap-4 mt-10",children:[m.jsx("button",{onClick:()=>i("setup"),className:"flex-1 py-3 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:""}),m.jsx("button",{onClick:ee,className:"flex-1 py-3 bg-teal-600 rounded-xl font-bold text-white hover:bg-teal-500 shadow-lg shadow-teal-500/20",children:""})]})]})}):o==="analyzing"?m.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[m.jsx(Qk,{size:48,className:"text-teal-500 animate-spin mb-4"}),m.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300",children:"AI ..."})]}):o==="results"?m.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 overflow-y-auto",children:m.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-slate-800/90 backdrop-blur p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-2xl",children:[m.jsx("h3",{className:"text-xl font-bold mb-2 text-center text-slate-800 dark:text-white",children:""}),m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-6 text-sm",children:" AI "}),m.jsx("div",{className:"space-y-4",children:T.map((F,H)=>m.jsxs("button",{onClick:()=>P(F.type),className:"w-full p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 hover:border-teal-500 transition text-left group relative overflow-hidden",children:[m.jsxs("div",{className:"flex justify-between items-end mb-2 relative z-10",children:[m.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white group-hover:text-teal-600 dark:group-hover:text-teal-300",children:F.type}),m.jsxs("span",{className:"text-lg font-mono font-bold text-teal-600 dark:text-teal-400",children:[F.percentage,"%"]})]}),m.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-teal-500/20 w-full",children:m.jsx("div",{className:"h-full bg-teal-500",style:{width:`${F.percentage}%`}})}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 relative z-10",children:F.reason})]},F.type))}),m.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700 text-center",children:m.jsx("button",{onClick:()=>i("setup"),className:"text-slate-500 hover:text-slate-800 dark:hover:text-white text-sm",children:""})})]})}):m.jsxs("div",{className:"flex flex-col items-center h-full p-4 overflow-y-auto bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:[m.jsxs("div",{className:"w-full max-w-6xl bg-white dark:bg-slate-800 p-6 md:p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-2xl my-4 relative",children:[m.jsxs("div",{className:"absolute top-6 right-6 flex gap-3 z-10",children:[m.jsxs("button",{onClick:()=>D(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 text-indigo-600 dark:text-indigo-300 text-xs font-bold transition",children:[m.jsx(Sv,{size:16})," "]}),m.jsx("button",{onClick:n,className:"p-2 rounded-lg bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 hover:text-amber-500 dark:hover:text-yellow-400 transition",children:t?m.jsx(_v,{size:18}):m.jsx(Ev,{size:18})}),m.jsx("button",{onClick:()=>A(!0),className:"p-2 rounded-lg bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 transition",title:"AI Settings",children:m.jsx(wv,{size:18})})]}),m.jsxs("div",{className:"text-center mb-6 pt-2",children:[m.jsx("h2",{className:"text-3xl font-bold mb-2 text-transparent bg-clip-text bg-[linear-gradient(to_right,#ef4444,#f97316,#eab308,#22c55e,#3b82f6,#a855f7)] tracking-tight",children:""}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:""})]}),m.jsxs("div",{className:"flex flex-col gap-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h4",{className:"text-teal-600 dark:text-teal-400 font-bold flex items-center gap-2",children:[m.jsx(Pu,{size:18}),"  (",r.length,"/16)"]}),r.length<16&&m.jsxs("button",{onClick:de,className:"text-xs bg-teal-50 hover:bg-teal-100 dark:bg-teal-900/50 dark:hover:bg-teal-900 text-teal-700 dark:text-teal-200 px-3 py-1.5 rounded-full flex items-center gap-1 transition",children:[m.jsx(iP,{size:12})," "]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4",children:r.map((F,H)=>m.jsxs("div",{className:"bg-slate-100/60 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 relative transition hover:border-slate-400 dark:hover:border-slate-600 flex gap-4 items-start",children:[r.length>1&&m.jsx("button",{onClick:()=>Q(H),className:"absolute top-2 right-2 text-slate-400 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition",children:m.jsx(dP,{size:14})}),m.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-2",children:[m.jsxs("div",{className:"w-16 h-16 rounded-full bg-slate-200 dark:bg-slate-800 border-2 border-slate-300 dark:border-slate-600 overflow-hidden flex items-center justify-center relative group",children:[F.avatarImage?m.jsx("img",{src:F.avatarImage,alt:"Avatar",className:"w-full h-full object-cover"}):m.jsx(ku,{size:32,className:"text-slate-400 dark:text-slate-500"}),u===H?m.jsxs("div",{className:"absolute inset-0 bg-black z-10 flex flex-col items-center justify-center",children:[m.jsx("video",{ref:h,className:"absolute inset-0 w-full h-full object-cover opacity-50",autoPlay:!0,playsInline:!0,muted:!0}),m.jsx("button",{onClick:()=>O(H),className:"relative z-20 bg-white/20 p-1 rounded-full animate-pulse hover:bg-white/40",children:m.jsx(Kh,{size:16})}),m.jsx("canvas",{ref:p,width:"300",height:"300",className:"hidden"})]}):m.jsx("button",{onClick:()=>d(H),className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition",children:m.jsx(Kh,{size:20,className:"text-white"})})]}),F.avatarImage&&m.jsx("button",{onClick:()=>{const ie=[...r];ie[H].avatarImage=void 0,s(ie)},className:"text-[10px] text-red-500 dark:text-red-400 hover:underline",children:""})]}),m.jsxs("div",{className:"flex flex-col gap-3 flex-1",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase block mb-1",children:""}),m.jsx("input",{type:"text",value:F.name,onChange:ie=>oe(H,ie.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white text-sm focus:ring-1 focus:ring-teal-500 outline-none",placeholder:` ${H+1}`})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase",children:" (MBTI)"}),!F.mbti&&m.jsxs("button",{onClick:()=>se(H),className:"text-[10px] text-teal-600 dark:text-teal-400 hover:text-teal-500 dark:hover:text-teal-300 flex items-center gap-1",children:[m.jsx(Cv,{size:10})," AI "]})]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Object.entries(Kt).map(([ie,Ge])=>m.jsxs("div",{className:`rounded-lg p-2 border ${Ge.color} flex flex-col gap-1`,children:[m.jsx("div",{className:"text-[10px] font-bold opacity-80 uppercase tracking-wide text-center mb-1 text-slate-700 dark:text-slate-300",children:ie.split(" ")[0]}),m.jsx("div",{className:"grid grid-cols-2 gap-1",children:Ge.types.map(yt=>m.jsx("button",{onClick:()=>fe(H,yt),className:`text-[10px] py-1 rounded font-bold transition ${F.mbti===yt?"bg-slate-800 text-white dark:bg-white dark:text-slate-900 shadow-md transform scale-105":"bg-black/5 hover:bg-black/10 dark:bg-black/20 dark:hover:bg-black/40 text-slate-600 dark:text-inherit"}`,children:yt},yt))})]},ie))})]})]})]},F.id))})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-4 border-t border-slate-200 dark:border-slate-700/50",children:[m.jsxs("div",{children:[m.jsxs("h4",{className:"text-blue-500 dark:text-blue-400 font-bold mb-3 flex items-center gap-2 text-sm",children:[m.jsx(Yk,{size:16})," "]}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx("button",{onClick:()=>y(Ee.JUNG_8),className:`px-3 py-2 rounded-lg border text-left transition text-sm ${S===Ee.JUNG_8?"bg-blue-100 border-blue-500 text-blue-800 dark:bg-blue-600/20 dark:text-white":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-700 text-slate-500 dark:text-slate-400"}`,children:m.jsx("span",{className:"font-bold",children:""})}),m.jsx("button",{onClick:()=>y(Ee.MBTI_16),className:`px-3 py-2 rounded-lg border text-left transition text-sm ${S===Ee.MBTI_16?"bg-purple-100 border-purple-500 text-purple-800 dark:bg-purple-600/20 dark:text-white":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-700 text-slate-500 dark:text-slate-400"}`,children:m.jsx("span",{className:"font-bold",children:"MBTI "})})]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-orange-500 dark:text-orange-400 font-bold mb-3 flex items-center gap-2 text-sm",children:[m.jsx(ku,{size:16})," : ",x]}),m.jsx("input",{type:"range",min:"0",max:"5",value:x,onChange:F=>w(parseInt(F.target.value)),className:"w-full h-1.5 bg-slate-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-orange-500"}),m.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-2",children:[m.jsx("span",{children:" Bot"}),m.jsx("span",{children:"5 Bots"})]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-yellow-500 dark:text-yellow-400 font-bold mb-3 flex items-center gap-2 text-sm",children:[m.jsx(Iv,{size:16})," : ",_]}),m.jsx("input",{type:"range",min:"20",max:"100",step:"10",value:_,onChange:F=>C(parseInt(F.target.value)),className:"w-full h-1.5 bg-slate-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-yellow-500"}),m.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-2",children:[m.jsx("span",{children:" (20)"}),m.jsx("span",{children:" (100)"})]})]})]})]}),m.jsxs("button",{onClick:z,disabled:!B(),className:"w-full mt-8 py-3.5 bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-500 hover:to-blue-500 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl font-bold text-white text-lg transition shadow-lg hover:shadow-teal-500/20 flex items-center justify-center gap-2",children:[" ",m.jsx(Fk,{size:20})]})]}),I&&m.jsx(Nv,{onClose:()=>A(!1)}),b&&m.jsx(hP,{onClose:()=>D(!1)})]})},Js=60,Ru=110,Qh=(e,t,n)=>{const o=[];for(let i=0;i<6;i++){const r=60*i-30,s=Math.PI/180*r;o.push(`${e+n*Math.cos(s)},${t+n*Math.sin(s)}`)}return o.join(" ")},gP=(e,t)=>{const n=Js*(Math.sqrt(3)*e+Math.sqrt(3)/2*t),o=Js*(3/2*t);return{x:n+600,y:o+450}},yP=(e,t)=>{const n=(e-3)*Ru+600,o=(t-3)*Ru+450;return{x:n,y:o}},vP=({players:e,currentPlayerId:t,boardLayout:n,validMoves:o,onTileClick:i,gameMode:r,visibilityRadius:s})=>{const a=()=>n.map(d=>{const{x:h,y:p}=gP(d.q,d.r),g=rw.find(x=>x.id===d.functionId),v=d.q===0&&d.r===0;let T=g?g.color:v?"#94a3b8":"#64748b";const E=e.filter(x=>x.position===d.index),S=o.includes(d.index),y=S;return m.jsxs("g",{className:`transition-all duration-300 ${S?"cursor-pointer":""}`,onClick:()=>S&&i(d.index),children:[m.jsx("polygon",{points:Qh(h,p,Js-2),className:"fill-slate-200 stroke-slate-300 dark:fill-slate-900 dark:stroke-slate-700",style:{fill:v?document.documentElement.classList.contains("dark")?"#334155":"#cbd5e1":void 0},stroke:y?"#2dd4bf":T,strokeWidth:y?6:v?3:2,strokeOpacity:y?1:.7}),m.jsx("polygon",{points:Qh(h,p,Js-8),fill:T,fillOpacity:y?.6:.2}),m.jsx("text",{x:h,y:p+8,textAnchor:"middle",className:"fill-slate-600 dark:fill-slate-300",style:{fill:y?"#ffffff":T,pointerEvents:"none",userSelect:"none"},fontWeight:"bold",fontSize:v?"24":"18",children:d.functionId}),u(E,h,p,t,!1)]},d.index)}),l=()=>{const d=e.find(p=>p.id===t),h=n.find(p=>p.index===(d==null?void 0:d.position));return n.map(p=>{const{x:g,y:v}=yP(p.q,p.r);let T=!1,E=999;h&&(E=Math.abs(p.q-h.q)+Math.abs(p.r-h.r),T=E<=s);const S=p.zone==="Hub",y=e.filter(A=>A.position===p.index),x=o.includes(p.index);let w="#64748b";p.zone==="NT"?w=Kt[" (NT)"].hexColor:p.zone==="NF"?w=Kt[" (NF)"].hexColor:p.zone==="SJ"?w=Kt[" (SJ)"].hexColor:p.zone==="SP"?w=Kt[" (SP)"].hexColor:S&&(w="#f59e0b");let _=w,C=1;T?S?_="#f59e0b":_=w:(_=w,C=.4);const I=Ru-6;return m.jsxs("g",{className:`transition-all duration-500 ${x?"cursor-pointer":""}`,onClick:()=>x&&i(p.index),children:[m.jsx("rect",{x:g-I/2,y:v-I/2,width:I,height:I,rx:S?30:12,className:`
                        ${T?S?"fill-amber-50 dark:fill-amber-900/30":"fill-white dark:fill-slate-800":"fill-slate-100 dark:fill-slate-900"} 
                        transition-colors duration-500
                    `,fillOpacity:T?.9:.2,stroke:x?"#2dd4bf":_,strokeWidth:x?4:T?2:1,strokeOpacity:x?1:C,style:{filter:T?`drop-shadow(0 4px 6px ${_}40)`:"none"}}),T&&!S&&m.jsx("rect",{x:g-I/2+4,y:v-I/2+4,width:I-8,height:I-8,rx:8,fill:_,fillOpacity:.05,stroke:"none"}),T&&m.jsx("g",{className:"animate-in fade-in zoom-in duration-500",children:p.functionId==="Hub"?m.jsxs(m.Fragment,{children:[m.jsx("text",{x:g,y:v-5,textAnchor:"middle",className:"fill-slate-900 dark:fill-white",fontWeight:"bold",fontSize:"18",style:{pointerEvents:"none",userSelect:"none"},children:""}),m.jsx("text",{x:g,y:v+18,textAnchor:"middle",className:"fill-slate-900 dark:fill-white",fontWeight:"bold",fontSize:"18",style:{pointerEvents:"none",userSelect:"none"},children:""})]}):m.jsxs(m.Fragment,{children:[m.jsx("text",{x:g,y:v-5,textAnchor:"middle",fill:x?"#2dd4bf":_,fontWeight:"bold",fontSize:"18",style:{pointerEvents:"none",userSelect:"none"},children:p.functionId}),p.characterName&&m.jsx("text",{x:g,y:v+18,textAnchor:"middle",className:"fill-slate-500 dark:fill-slate-400",fontSize:"12",style:{pointerEvents:"none",userSelect:"none"},children:p.characterName})]})}),u(y,g,v,t,!0)]},p.index)})},u=(d,h,p,g,v)=>d.length===0?null:m.jsx("g",{transform:`translate(${h}, ${p})`,children:d.map((T,E)=>{const S=d.length,y=v?35:32,x=2*Math.PI/(S||1),_=Math.PI/2+E*x,C=Math.cos(_)*y,I=Math.sin(_)*y,A=v?10:12;return m.jsxs("g",{className:"transition-all duration-500",children:[m.jsx("circle",{cx:C,cy:I,r:v?25:30,fill:T.color,fillOpacity:"0.2",className:"animate-pulse",style:{filter:"blur(8px)"}}),m.jsx("defs",{children:m.jsx("clipPath",{id:`clip-${T.id}`,children:m.jsx("circle",{cx:C,cy:I,r:A})})}),m.jsx("circle",{cx:C,cy:I,r:A+1,fill:T.color,stroke:"white",strokeWidth:"2",className:"shadow-md"}),T.avatar&&T.avatar.startsWith("data:")?m.jsx("image",{x:C-A,y:I-A,width:A*2,height:A*2,href:T.avatar,clipPath:`url(#clip-${T.id})`,preserveAspectRatio:"xMidYMid slice"}):m.jsx("text",{x:C,y:I+A/2-1,textAnchor:"middle",fill:"white",fontSize:A-2,fontWeight:"bold",children:T.name[0].toUpperCase()}),T.id===g&&m.jsx("circle",{cx:C,cy:I,r:A+6,stroke:T.color,strokeWidth:"3",fill:"none",className:"animate-ping",opacity:"0.8"})]},T.id)})});return m.jsxs("div",{className:"w-full h-full bg-white dark:bg-slate-900/50 rounded-2xl border border-slate-300 dark:border-slate-700 overflow-hidden relative shadow-inner flex items-center justify-center cursor-move transition-colors duration-300",children:[m.jsx("div",{className:"absolute top-4 left-4 text-slate-500 dark:text-slate-500 text-xs font-mono z-10 bg-slate-100/80 dark:bg-slate-900/80 px-2 py-1 rounded",children:r===Ee.MBTI_16?"MBTI  (33) - ":" (Rainbow Ark)"}),m.jsx("svg",{viewBox:"0 0 1200 900",className:"w-full h-full animate-fade-in touch-pan-x touch-pan-y select-none",children:r===Ee.JUNG_8?a():l()})]})},ud=k.createContext({});function cd(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const dd=typeof window<"u",kv=dd?k.useLayoutEffect:k.useEffect,Cl=k.createContext(null);function fd(e,t){e.indexOf(t)===-1&&e.push(t)}function pd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const cn=(e,t,n)=>n>t?t:n<e?e:n;let hd=()=>{};const dn={},Pv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Rv(e){return typeof e=="object"&&e!==null}const Mv=e=>/^0[^.\s]+$/u.test(e);function md(e){let t;return()=>(t===void 0&&(t=e()),t)}const It=e=>e,xP=(e,t)=>n=>t(e(n)),yr=(...e)=>e.reduce(xP),lr=(e,t,n)=>{const o=t-e;return o===0?1:(n-e)/o};class gd{constructor(){this.subscriptions=[]}add(t){return fd(this.subscriptions,t),()=>pd(this.subscriptions,t)}notify(t,n,o){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,o);else for(let r=0;r<i;r++){const s=this.subscriptions[r];s&&s(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qt=e=>e*1e3,wt=e=>e/1e3;function bv(e,t){return t?e*(1e3/t):0}const Dv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,SP=1e-7,TP=12;function EP(e,t,n,o,i){let r,s,a=0;do s=t+(n-t)/2,r=Dv(s,o,i)-e,r>0?n=s:t=s;while(Math.abs(r)>SP&&++a<TP);return s}function vr(e,t,n,o){if(e===t&&n===o)return It;const i=r=>EP(r,0,1,e,n);return r=>r===0||r===1?r:Dv(i(r),t,o)}const Lv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Fv=e=>t=>1-e(1-t),Uv=vr(.33,1.53,.69,.99),yd=Fv(Uv),Vv=Lv(yd),Gv=e=>(e*=2)<1?.5*yd(e):.5*(2-Math.pow(2,-10*(e-1))),vd=e=>1-Math.sin(Math.acos(e)),Bv=Fv(vd),Ov=Lv(vd),wP=vr(.42,0,1,1),CP=vr(0,0,.58,1),Hv=vr(.42,0,.58,1),_P=e=>Array.isArray(e)&&typeof e[0]!="number",zv=e=>Array.isArray(e)&&typeof e[0]=="number",IP={linear:It,easeIn:wP,easeInOut:Hv,easeOut:CP,circIn:vd,circInOut:Ov,circOut:Bv,backIn:yd,backInOut:Vv,backOut:Uv,anticipate:Gv},AP=e=>typeof e=="string",Xh=e=>{if(zv(e)){hd(e.length===4);const[t,n,o,i]=e;return vr(t,n,o,i)}else if(AP(e))return IP[e];return e},qr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function NP(e,t){let n=new Set,o=new Set,i=!1,r=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){s.has(d)&&(u.schedule(d),e()),d(a)}const u={schedule:(d,h=!1,p=!1)=>{const v=p&&i?n:o;return h&&s.add(d),v.has(d)||v.add(d),d},cancel:d=>{o.delete(d),s.delete(d)},process:d=>{if(a=d,i){r=!0;return}i=!0,[n,o]=[o,n],n.forEach(l),n.clear(),i=!1,r&&(r=!1,u.process(d))}};return u}const kP=40;function $v(e,t){let n=!1,o=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,s=qr.reduce((x,w)=>(x[w]=NP(r),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:p,render:g,postRender:v}=s,T=()=>{const x=dn.useManualTiming?i.timestamp:performance.now();n=!1,dn.useManualTiming||(i.delta=o?1e3/60:Math.max(Math.min(x-i.timestamp,kP),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),p.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&t&&(o=!1,e(T))},E=()=>{n=!0,o=!0,i.isProcessing||e(T)};return{schedule:qr.reduce((x,w)=>{const _=s[w];return x[w]=(C,I=!1,A=!1)=>(n||E(),_.schedule(C,I,A)),x},{}),cancel:x=>{for(let w=0;w<qr.length;w++)s[qr[w]].cancel(x)},state:i,steps:s}}const{schedule:he,cancel:Ln,state:Le,steps:ra}=$v(typeof requestAnimationFrame<"u"?requestAnimationFrame:It,!0);let ds;function PP(){ds=void 0}const it={now:()=>(ds===void 0&&it.set(Le.isProcessing||dn.useManualTiming?Le.timestamp:performance.now()),ds),set:e=>{ds=e,queueMicrotask(PP)}},qv=e=>t=>typeof t=="string"&&t.startsWith(e),Jv=qv("--"),RP=qv("var(--"),xd=e=>RP(e)?MP.test(e.split("/*")[0].trim()):!1,MP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ai={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ar={...ai,transform:e=>cn(0,1,e)},Jr={...ai,default:1},Gi=e=>Math.round(e*1e5)/1e5,Sd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bP(e){return e==null}const DP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Td=(e,t)=>n=>!!(typeof n=="string"&&DP.test(n)&&n.startsWith(e)||t&&!bP(n)&&Object.prototype.hasOwnProperty.call(n,t)),Wv=(e,t,n)=>o=>{if(typeof o!="string")return o;const[i,r,s,a]=o.match(Sd);return{[e]:parseFloat(i),[t]:parseFloat(r),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},LP=e=>cn(0,255,e),sa={...ai,transform:e=>Math.round(LP(e))},jn={test:Td("rgb","red"),parse:Wv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+sa.transform(e)+", "+sa.transform(t)+", "+sa.transform(n)+", "+Gi(ar.transform(o))+")"};function FP(e){let t="",n="",o="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,o+=o,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:i?parseInt(i,16)/255:1}}const Mu={test:Td("#"),parse:FP,transform:jn.transform},xr=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yn=xr("deg"),Xt=xr("%"),$=xr("px"),UP=xr("vh"),VP=xr("vw"),Zh={...Xt,parse:e=>Xt.parse(e)/100,transform:e=>Xt.transform(e*100)},Po={test:Td("hsl","hue"),parse:Wv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+Xt.transform(Gi(t))+", "+Xt.transform(Gi(n))+", "+Gi(ar.transform(o))+")"},_e={test:e=>jn.test(e)||Mu.test(e)||Po.test(e),parse:e=>jn.test(e)?jn.parse(e):Po.test(e)?Po.parse(e):Mu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?jn.transform(e):Po.transform(e),getAnimatableNone:e=>{const t=_e.parse(e);return t.alpha=0,_e.transform(t)}},GP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BP(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Sd))==null?void 0:t.length)||0)+(((n=e.match(GP))==null?void 0:n.length)||0)>0}const Kv="number",Yv="color",OP="var",HP="var(",em="${}",zP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ur(e){const t=e.toString(),n=[],o={color:[],number:[],var:[]},i=[];let r=0;const a=t.replace(zP,l=>(_e.test(l)?(o.color.push(r),i.push(Yv),n.push(_e.parse(l))):l.startsWith(HP)?(o.var.push(r),i.push(OP),n.push(l)):(o.number.push(r),i.push(Kv),n.push(parseFloat(l))),++r,em)).split(em);return{values:n,split:a,indexes:o,types:i}}function jv(e){return ur(e).values}function Qv(e){const{split:t,types:n}=ur(e),o=t.length;return i=>{let r="";for(let s=0;s<o;s++)if(r+=t[s],i[s]!==void 0){const a=n[s];a===Kv?r+=Gi(i[s]):a===Yv?r+=_e.transform(i[s]):r+=i[s]}return r}}const $P=e=>typeof e=="number"?0:_e.test(e)?_e.getAnimatableNone(e):e;function qP(e){const t=jv(e);return Qv(e)(t.map($P))}const Fn={test:BP,parse:jv,createTransformer:Qv,getAnimatableNone:qP};function la(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function JP({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,t/=100,n/=100;let i=0,r=0,s=0;if(!t)i=r=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=la(l,a,e+1/3),r=la(l,a,e),s=la(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(s*255),alpha:o}}function Ws(e,t){return n=>n>0?t:e}const ge=(e,t,n)=>e+(t-e)*n,aa=(e,t,n)=>{const o=e*e,i=n*(t*t-o)+o;return i<0?0:Math.sqrt(i)},WP=[Mu,jn,Po],KP=e=>WP.find(t=>t.test(e));function tm(e){const t=KP(e);if(!t)return!1;let n=t.parse(e);return t===Po&&(n=JP(n)),n}const nm=(e,t)=>{const n=tm(e),o=tm(t);if(!n||!o)return Ws(e,t);const i={...n};return r=>(i.red=aa(n.red,o.red,r),i.green=aa(n.green,o.green,r),i.blue=aa(n.blue,o.blue,r),i.alpha=ge(n.alpha,o.alpha,r),jn.transform(i))},bu=new Set(["none","hidden"]);function YP(e,t){return bu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function jP(e,t){return n=>ge(e,t,n)}function Ed(e){return typeof e=="number"?jP:typeof e=="string"?xd(e)?Ws:_e.test(e)?nm:ZP:Array.isArray(e)?Xv:typeof e=="object"?_e.test(e)?nm:QP:Ws}function Xv(e,t){const n=[...e],o=n.length,i=e.map((r,s)=>Ed(r)(r,t[s]));return r=>{for(let s=0;s<o;s++)n[s]=i[s](r);return n}}function QP(e,t){const n={...e,...t},o={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(o[i]=Ed(e[i])(e[i],t[i]));return i=>{for(const r in o)n[r]=o[r](i);return n}}function XP(e,t){const n=[],o={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const r=t.types[i],s=e.indexes[r][o[r]],a=e.values[s]??0;n[i]=a,o[r]++}return n}const ZP=(e,t)=>{const n=Fn.createTransformer(t),o=ur(e),i=ur(t);return o.indexes.var.length===i.indexes.var.length&&o.indexes.color.length===i.indexes.color.length&&o.indexes.number.length>=i.indexes.number.length?bu.has(e)&&!i.values.length||bu.has(t)&&!o.values.length?YP(e,t):yr(Xv(XP(o,i),i.values),n):Ws(e,t)};function Zv(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ge(e,t,n):Ed(e)(e,t)}const eR=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>he.update(t,n),stop:()=>Ln(t),now:()=>Le.isProcessing?Le.timestamp:it.now()}},ex=(e,t,n=10)=>{let o="";const i=Math.max(Math.round(t/n),2);for(let r=0;r<i;r++)o+=Math.round(e(r/(i-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},Ks=2e4;function wd(e){let t=0;const n=50;let o=e.next(t);for(;!o.done&&t<Ks;)t+=n,o=e.next(t);return t>=Ks?1/0:t}function tR(e,t=100,n){const o=n({...e,keyframes:[0,t]}),i=Math.min(wd(o),Ks);return{type:"keyframes",ease:r=>o.next(i*r).value/t,duration:wt(i)}}const nR=5;function tx(e,t,n){const o=Math.max(t-nR,0);return bv(n-e(o),t-o)}const Se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ua=.001;function oR({duration:e=Se.duration,bounce:t=Se.bounce,velocity:n=Se.velocity,mass:o=Se.mass}){let i,r,s=1-t;s=cn(Se.minDamping,Se.maxDamping,s),e=cn(Se.minDuration,Se.maxDuration,wt(e)),s<1?(i=u=>{const d=u*s,h=d*e,p=d-n,g=Du(u,s),v=Math.exp(-h);return ua-p/g*v},r=u=>{const h=u*s*e,p=h*n+n,g=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-h),T=Du(Math.pow(u,2),s);return(-i(u)+ua>0?-1:1)*((p-g)*v)/T}):(i=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-ua+d*h},r=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,l=rR(i,r,a);if(e=Qt(e),isNaN(l))return{stiffness:Se.stiffness,damping:Se.damping,duration:e};{const u=Math.pow(l,2)*o;return{stiffness:u,damping:s*2*Math.sqrt(o*u),duration:e}}}const iR=12;function rR(e,t,n){let o=n;for(let i=1;i<iR;i++)o=o-e(o)/t(o);return o}function Du(e,t){return e*Math.sqrt(1-t*t)}const sR=["duration","bounce"],lR=["stiffness","damping","mass"];function om(e,t){return t.some(n=>e[n]!==void 0)}function aR(e){let t={velocity:Se.velocity,stiffness:Se.stiffness,damping:Se.damping,mass:Se.mass,isResolvedFromDuration:!1,...e};if(!om(e,lR)&&om(e,sR))if(e.visualDuration){const n=e.visualDuration,o=2*Math.PI/(n*1.2),i=o*o,r=2*cn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Se.mass,stiffness:i,damping:r}}else{const n=oR(e);t={...t,...n,mass:Se.mass},t.isResolvedFromDuration=!0}return t}function Ys(e=Se.visualDuration,t=Se.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:i}=n;const r=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:g}=aR({...n,velocity:-wt(n.velocity||0)}),v=p||0,T=u/(2*Math.sqrt(l*d)),E=s-r,S=wt(Math.sqrt(l/d)),y=Math.abs(E)<5;o||(o=y?Se.restSpeed.granular:Se.restSpeed.default),i||(i=y?Se.restDelta.granular:Se.restDelta.default);let x;if(T<1){const _=Du(S,T);x=C=>{const I=Math.exp(-T*S*C);return s-I*((v+T*S*E)/_*Math.sin(_*C)+E*Math.cos(_*C))}}else if(T===1)x=_=>s-Math.exp(-S*_)*(E+(v+S*E)*_);else{const _=S*Math.sqrt(T*T-1);x=C=>{const I=Math.exp(-T*S*C),A=Math.min(_*C,300);return s-I*((v+T*S*E)*Math.sinh(A)+_*E*Math.cosh(A))/_}}const w={calculatedDuration:g&&h||null,next:_=>{const C=x(_);if(g)a.done=_>=h;else{let I=_===0?v:0;T<1&&(I=_===0?Qt(v):tx(x,_,C));const A=Math.abs(I)<=o,b=Math.abs(s-C)<=i;a.done=A&&b}return a.value=a.done?s:C,a},toString:()=>{const _=Math.min(wd(w),Ks),C=ex(I=>w.next(_*I).value,_,30);return _+"ms "+C},toTransition:()=>{}};return w}Ys.applyToOptions=e=>{const t=tR(e,100,Ys);return e.ease=t.ease,e.duration=Qt(t.duration),e.type="keyframes",e};function Lu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],p={done:!1,value:h},g=A=>a!==void 0&&A<a||l!==void 0&&A>l,v=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let T=n*t;const E=h+T,S=s===void 0?E:s(E);S!==E&&(T=S-h);const y=A=>-T*Math.exp(-A/o),x=A=>S+y(A),w=A=>{const b=y(A),D=x(A);p.done=Math.abs(b)<=u,p.value=p.done?S:D};let _,C;const I=A=>{g(p.value)&&(_=A,C=Ys({keyframes:[p.value,v(p.value)],velocity:tx(x,A,p.value),damping:i,stiffness:r,restDelta:u,restSpeed:d}))};return I(0),{calculatedDuration:null,next:A=>{let b=!1;return!C&&_===void 0&&(b=!0,w(A),I(A)),_!==void 0&&A>=_?C.next(A-_):(!b&&w(A),p)}}}function uR(e,t,n){const o=[],i=n||dn.mix||Zv,r=e.length-1;for(let s=0;s<r;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||It:t;a=yr(l,a)}o.push(a)}return o}function cR(e,t,{clamp:n=!0,ease:o,mixer:i}={}){const r=e.length;if(hd(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=uR(t,o,i),l=a.length,u=d=>{if(s&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const p=lr(e[h],e[h+1],d);return a[h](p)};return n?d=>u(cn(e[0],e[r-1],d)):u}function dR(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const i=lr(0,t,o);e.push(ge(n,1,i))}}function fR(e){const t=[0];return dR(t,e.length-1),t}function pR(e,t){return e.map(n=>n*t)}function hR(e,t){return e.map(()=>t||Hv).splice(0,e.length-1)}function Bi({duration:e=300,keyframes:t,times:n,ease:o="easeInOut"}){const i=_P(o)?o.map(Xh):Xh(o),r={done:!1,value:t[0]},s=pR(n&&n.length===t.length?n:fR(t),e),a=cR(s,t,{ease:Array.isArray(i)?i:hR(t,i)});return{calculatedDuration:e,next:l=>(r.value=a(l),r.done=l>=e,r)}}const mR=e=>e!==null;function Cd(e,{repeat:t,repeatType:n="loop"},o,i=1){const r=e.filter(mR),a=i<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!a||o===void 0?r[a]:o}const gR={decay:Lu,inertia:Lu,tween:Bi,keyframes:Bi,spring:Ys};function nx(e){typeof e.type=="string"&&(e.type=gR[e.type])}class _d{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const yR=e=>e/100;class Id extends _d{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var o,i;const{motionValue:n}=this.options;n&&n.updatedAt!==it.now()&&this.tick(it.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(o=this.options).onStop)==null||i.call(o))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;nx(t);const{type:n=Bi,repeat:o=0,repeatDelay:i=0,repeatType:r,velocity:s=0}=t;let{keyframes:a}=t;const l=n||Bi;l!==Bi&&typeof a[0]!="number"&&(this.mixKeyframes=yr(yR,Zv(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});r==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=wd(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(o+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:o,totalDuration:i,mixKeyframes:r,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return o.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:g,type:v,onUpdate:T,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const S=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,w=o;if(h){const A=Math.min(this.currentTime,i)/a;let b=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&b--,b=Math.min(b,h+1),!!(b%2)&&(p==="reverse"?(D=1-D,g&&(D-=g/a)):p==="mirror"&&(w=s)),x=cn(0,1,D)*a}const _=y?{done:!1,value:d[0]}:w.next(x);r&&(_.value=r(_.value));let{done:C}=_;!y&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return I&&v!==Lu&&(_.value=Cd(d,this.options,E,this.speed)),T&&T(_.value),I&&this.finish(),_}then(t,n){return this.finished.then(t,n)}get duration(){return wt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+wt(t)}get time(){return wt(this.currentTime)}set time(t){var n;t=Qt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(it.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=wt(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:t=eR,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(r=(i=this.options).onPlay)==null||r.call(i);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=n??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(it.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function vR(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Qn=e=>e*180/Math.PI,Fu=e=>{const t=Qn(Math.atan2(e[1],e[0]));return Uu(t)},xR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Fu,rotateZ:Fu,skewX:e=>Qn(Math.atan(e[1])),skewY:e=>Qn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Uu=e=>(e=e%360,e<0&&(e+=360),e),im=Fu,rm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sm=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),SR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rm,scaleY:sm,scale:e=>(rm(e)+sm(e))/2,rotateX:e=>Uu(Qn(Math.atan2(e[6],e[5]))),rotateY:e=>Uu(Qn(Math.atan2(-e[2],e[0]))),rotateZ:im,rotate:im,skewX:e=>Qn(Math.atan(e[4])),skewY:e=>Qn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Vu(e){return e.includes("scale")?1:0}function Gu(e,t){if(!e||e==="none")return Vu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,i;if(n)o=SR,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=xR,i=a}if(!i)return Vu(t);const r=o[t],s=i[1].split(",").map(ER);return typeof r=="function"?r(s):s[r]}const TR=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Gu(n,t)};function ER(e){return parseFloat(e.trim())}const ui=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ci=new Set(ui),lm=e=>e===ai||e===$,wR=new Set(["x","y","z"]),CR=ui.filter(e=>!wR.has(e));function _R(e){const t=[];return CR.forEach(n=>{const o=e.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t}const eo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Gu(t,"x"),y:(e,{transform:t})=>Gu(t,"y")};eo.translateX=eo.x;eo.translateY=eo.y;const to=new Set;let Bu=!1,Ou=!1,Hu=!1;function ox(){if(Ou){const e=Array.from(to).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),n=new Map;t.forEach(o=>{const i=_R(o);i.length&&(n.set(o,i),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const i=n.get(o);i&&i.forEach(([r,s])=>{var a;(a=o.getValue(r))==null||a.set(s)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Ou=!1,Bu=!1,to.forEach(e=>e.complete(Hu)),to.clear()}function ix(){to.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ou=!0)})}function IR(){Hu=!0,ix(),ox(),Hu=!1}class Ad{constructor(t,n,o,i,r,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=o,this.motionValue=i,this.element=r,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(to.add(this),Bu||(Bu=!0,he.read(ix),he.resolveKeyframes(ox))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:o,motionValue:i}=this;if(t[0]===null){const r=i==null?void 0:i.get(),s=t[t.length-1];if(r!==void 0)t[0]=r;else if(o&&n){const a=o.readValue(n,s);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=s),i&&r===void 0&&i.set(t[0])}vR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),to.delete(this)}cancel(){this.state==="scheduled"&&(to.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const AR=e=>e.startsWith("--");function NR(e,t,n){AR(t)?e.style.setProperty(t,n):e.style[t]=n}const kR=md(()=>window.ScrollTimeline!==void 0),PR={};function RR(e,t){const n=md(e);return()=>PR[t]??n()}const rx=RR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ni=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`,am={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ni([0,.65,.55,1]),circOut:Ni([.55,0,1,.45]),backIn:Ni([.31,.01,.66,-.59]),backOut:Ni([.33,1.53,.69,.99])};function sx(e,t){if(e)return typeof e=="function"?rx()?ex(e,t):"ease-out":zv(e)?Ni(e):Array.isArray(e)?e.map(n=>sx(n,t)||am.easeOut):am[e]}function MR(e,t,n,{delay:o=0,duration:i=300,repeat:r=0,repeatType:s="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[t]:n};l&&(d.offset=l);const h=sx(a,i);Array.isArray(h)&&(d.easing=h);const p={delay:o,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:s==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(d,p)}function lx(e){return typeof e=="function"&&"applyToOptions"in e}function bR({type:e,...t}){return lx(e)&&rx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class DR extends _d{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:o,keyframes:i,pseudoElement:r,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!r,this.allowFlatten=s,this.options=t,hd(typeof t.type!="string");const u=bR(t);this.animation=MR(n,o,i,u,r),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const d=Cd(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):NR(n,o,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,o;const t=((o=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:o.call(n).duration)||0;return wt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+wt(t)}get time(){return wt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Qt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&kR()?(this.animation.timeline=t,It):n(this)}}const ax={anticipate:Gv,backInOut:Vv,circInOut:Ov};function LR(e){return e in ax}function FR(e){typeof e.ease=="string"&&LR(e.ease)&&(e.ease=ax[e.ease])}const um=10;class UR extends DR{constructor(t){FR(t),nx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:o,onComplete:i,element:r,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Id({...s,autoplay:!1}),l=Qt(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-um).value,a.sample(l).value,um),a.stop()}}const cm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Fn.test(e)||e==="0")&&!e.startsWith("url("));function VR(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function GR(e,t,n,o){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],s=cm(i,t),a=cm(r,t);return!s||!a?!1:VR(e)||(n==="spring"||lx(n))&&o}function zu(e){e.duration=0,e.type="keyframes"}const BR=new Set(["opacity","clipPath","filter","transform"]),OR=md(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HR(e){var d;const{motionValue:t,name:n,repeatDelay:o,repeatType:i,damping:r,type:s}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return OR()&&n&&BR.has(n)&&(n!=="transform"||!u)&&!l&&!o&&i!=="mirror"&&r!==0&&s!=="inertia"}const zR=40;class $R extends _d{constructor({autoplay:t=!0,delay:n=0,type:o="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var T,E;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=it.now();const p={autoplay:t,delay:n,type:o,repeat:i,repeatDelay:r,repeatType:s,name:l,motionValue:u,element:d,...h},g=(d==null?void 0:d.KeyframeResolver)||Ad;this.keyframeResolver=new g(a,(T,E,S)=>this.onKeyframesResolved(T,E,p,!S),l,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,o,i){this.keyframeResolver=void 0;const{name:r,type:s,velocity:a,delay:l,isHandoff:u,onUpdate:d}=o;this.resolvedAt=it.now(),GR(t,r,s,a)||((dn.instantAnimations||!l)&&(d==null||d(Cd(t,o,n))),t[0]=t[t.length-1],zu(o),o.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>zR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...o,keyframes:t},g=!u&&HR(p)?new UR({...p,element:p.motionValue.owner.current}):new Id(p);g.finished.then(()=>this.notifyFinished()).catch(It),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),IR()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const qR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JR(e){const t=qR.exec(e);if(!t)return[,];const[,n,o,i]=t;return[`--${n??o}`,i]}function ux(e,t,n=1){const[o,i]=JR(e);if(!o)return;const r=window.getComputedStyle(t).getPropertyValue(o);if(r){const s=r.trim();return Pv(s)?parseFloat(s):s}return xd(i)?ux(i,t,n+1):i}function Nd(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const cx=new Set(["width","height","top","left","right","bottom",...ui]),WR={test:e=>e==="auto",parse:e=>e},dx=e=>t=>t.test(e),fx=[ai,$,Xt,yn,VP,UP,WR],dm=e=>fx.find(dx(e));function KR(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Mv(e):!0}const YR=new Set(["brightness","contrast","saturate","opacity"]);function jR(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=n.match(Sd)||[];if(!o)return e;const i=n.replace(o,"");let r=YR.has(t)?1:0;return o!==n&&(r*=100),t+"("+r+i+")"}const QR=/\b([a-z-]*)\(.*?\)/gu,$u={...Fn,getAnimatableNone:e=>{const t=e.match(QR);return t?t.map(jR).join(" "):e}},fm={...ai,transform:Math.round},XR={rotate:yn,rotateX:yn,rotateY:yn,rotateZ:yn,scale:Jr,scaleX:Jr,scaleY:Jr,scaleZ:Jr,skew:yn,skewX:yn,skewY:yn,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:ar,originX:Zh,originY:Zh,originZ:$},kd={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$,...XR,zIndex:fm,fillOpacity:ar,strokeOpacity:ar,numOctaves:fm},ZR={...kd,color:_e,backgroundColor:_e,outlineColor:_e,fill:_e,stroke:_e,borderColor:_e,borderTopColor:_e,borderRightColor:_e,borderBottomColor:_e,borderLeftColor:_e,filter:$u,WebkitFilter:$u},px=e=>ZR[e];function hx(e,t){let n=px(e);return n!==$u&&(n=Fn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const eM=new Set(["auto","none","0"]);function tM(e,t,n){let o=0,i;for(;o<e.length&&!i;){const r=e[o];typeof r=="string"&&!eM.has(r)&&ur(r).values.length&&(i=e[o]),o++}if(i&&n)for(const r of t)e[r]=hx(n,i)}class nM extends Ad{constructor(t,n,o,i,r){super(t,n,o,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:o}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),xd(u))){const d=ux(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!cx.has(o)||t.length!==2)return;const[i,r]=t,s=dm(i),a=dm(r);if(s!==a)if(lm(s)&&lm(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else eo[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,o=[];for(let i=0;i<t.length;i++)(t[i]===null||KR(t[i]))&&o.push(i);o.length&&tM(t,o,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eo[o](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(o,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=o.length-1,s=o[r];o[r]=eo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function oM(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;const i=(n==null?void 0:n[e])??o.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const mx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function gx(e){return Rv(e)&&"offsetHeight"in e}const pm=30,iM=e=>!isNaN(parseFloat(e));class rM{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{var r;const i=it.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=it.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=iM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new gd);const o=this.events[t].add(n);return t==="change"?()=>{o(),he.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=it.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>pm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pm);return bv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ei(e,t){return new rM(e,t)}const{schedule:Pd}=$v(queueMicrotask,!1),bt={x:!1,y:!1};function yx(){return bt.x||bt.y}function sM(e){return e==="x"||e==="y"?bt[e]?null:(bt[e]=!0,()=>{bt[e]=!1}):bt.x||bt.y?null:(bt.x=bt.y=!0,()=>{bt.x=bt.y=!1})}function vx(e,t){const n=oM(e),o=new AbortController,i={passive:!0,...t,signal:o.signal};return[n,i,()=>o.abort()]}function hm(e){return!(e.pointerType==="touch"||yx())}function lM(e,t,n={}){const[o,i,r]=vx(e,n),s=a=>{if(!hm(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const d=h=>{hm(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return o.forEach(a=>{a.addEventListener("pointerenter",s,i)}),r}const xx=(e,t)=>t?e===t?!0:xx(e,t.parentElement):!1,Rd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,aM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uM(e){return aM.has(e.tagName)||e.tabIndex!==-1}const fs=new WeakSet;function mm(e){return t=>{t.key==="Enter"&&e(t)}}function ca(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cM=(e,t)=>{const n=e.currentTarget;if(!n)return;const o=mm(()=>{if(fs.has(n))return;ca(n,"down");const i=mm(()=>{ca(n,"up")}),r=()=>ca(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",o,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",o),t)};function gm(e){return Rd(e)&&!yx()}function dM(e,t,n={}){const[o,i,r]=vx(e,n),s=a=>{const l=a.currentTarget;if(!gm(a))return;fs.add(l);const u=t(l,a),d=(g,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),fs.has(l)&&fs.delete(l),gm(g)&&typeof u=="function"&&u(g,{success:v})},h=g=>{d(g,l===window||l===document||n.useGlobalTarget||xx(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return o.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),gx(a)&&(a.addEventListener("focus",u=>cM(u,i)),!uM(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),r}function Sx(e){return Rv(e)&&"ownerSVGElement"in e}function fM(e){return Sx(e)&&e.tagName==="svg"}const qe=e=>!!(e&&e.getVelocity),pM=[...fx,_e,Fn],hM=e=>pM.find(dx(e)),Md=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ym(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mM(...e){return t=>{let n=!1;const o=e.map(i=>{const r=ym(i,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let i=0;i<o.length;i++){const r=o[i];typeof r=="function"?r():ym(e[i],null)}}}}function gM(...e){return k.useCallback(mM(...e),e)}class yM extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=n.offsetParent,i=gx(o)&&o.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vM({children:e,isPresent:t,anchorX:n,root:o}){const i=k.useId(),r=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=k.useContext(Md),l=gM(r,e==null?void 0:e.ref);return k.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:g}=s.current;if(t||!r.current||!u||!d)return;const v=n==="left"?`left: ${p}`:`right: ${g}`;r.current.dataset.motionPopId=i;const T=document.createElement("style");a&&(T.nonce=a);const E=o??document.head;return E.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{E.contains(T)&&E.removeChild(T)}},[t]),m.jsx(yM,{isPresent:t,childRef:r,sizeRef:s,children:k.cloneElement(e,{ref:l})})}const xM=({children:e,initial:t,isPresent:n,onExitComplete:o,custom:i,presenceAffectsLayout:r,mode:s,anchorX:a,root:l})=>{const u=cd(SM),d=k.useId();let h=!0,p=k.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;o&&o()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,o]);return r&&h&&(p={...p}),k.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[n]),k.useEffect(()=>{!n&&!u.size&&o&&o()},[n]),s==="popLayout"&&(e=m.jsx(vM,{isPresent:n,anchorX:a,root:l,children:e})),m.jsx(Cl.Provider,{value:p,children:e})};function SM(){return new Map}function Tx(e=!0){const t=k.useContext(Cl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:i}=t,r=k.useId();k.useEffect(()=>{if(e)return i(r)},[e]);const s=k.useCallback(()=>e&&o&&o(r),[r,o,e]);return!n&&o?[!1,s]:[!0]}const Wr=e=>e.key||"";function vm(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const Jt=({children:e,custom:t,initial:n=!0,onExitComplete:o,presenceAffectsLayout:i=!0,mode:r="sync",propagate:s=!1,anchorX:a="left",root:l})=>{const[u,d]=Tx(s),h=k.useMemo(()=>vm(e),[e]),p=s&&!u?[]:h.map(Wr),g=k.useRef(!0),v=k.useRef(h),T=cd(()=>new Map),[E,S]=k.useState(h),[y,x]=k.useState(h);kv(()=>{g.current=!1,v.current=h;for(let C=0;C<y.length;C++){const I=Wr(y[C]);p.includes(I)?T.delete(I):T.get(I)!==!0&&T.set(I,!1)}},[y,p.length,p.join("-")]);const w=[];if(h!==E){let C=[...h];for(let I=0;I<y.length;I++){const A=y[I],b=Wr(A);p.includes(b)||(C.splice(I,0,A),w.push(A))}return r==="wait"&&w.length&&(C=w),x(vm(C)),S(h),null}const{forceRender:_}=k.useContext(ud);return m.jsx(m.Fragment,{children:y.map(C=>{const I=Wr(C),A=s&&!u?!1:h===y||p.includes(I),b=()=>{if(T.has(I))T.set(I,!0);else return;let D=!0;T.forEach(O=>{O||(D=!1)}),D&&(_==null||_(),x(v.current),s&&(d==null||d()),o&&o())};return m.jsx(xM,{isPresent:A,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:r,root:l,onExitComplete:A?void 0:b,anchorX:a,children:C},I)})})},Ex=k.createContext({strict:!1}),xm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ti={};for(const e in xm)ti[e]={isEnabled:t=>xm[e].some(n=>!!t[n])};function TM(e){for(const t in e)ti[t]={...ti[t],...e[t]}}const EM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function js(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||EM.has(e)}let wx=e=>!js(e);function wM(e){typeof e=="function"&&(wx=t=>t.startsWith("on")?!js(t):e(t))}try{wM(require("@emotion/is-prop-valid").default)}catch{}function CM(e,t,n){const o={};for(const i in e)i==="values"&&typeof e.values=="object"||(wx(i)||n===!0&&js(i)||!t&&!js(i)||e.draggable&&i.startsWith("onDrag"))&&(o[i]=e[i]);return o}const _l=k.createContext({});function Il(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function cr(e){return typeof e=="string"||Array.isArray(e)}const bd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dd=["initial",...bd];function Al(e){return Il(e.animate)||Dd.some(t=>cr(e[t]))}function Cx(e){return!!(Al(e)||e.variants)}function _M(e,t){if(Al(e)){const{initial:n,animate:o}=e;return{initial:n===!1||cr(n)?n:void 0,animate:cr(o)?o:void 0}}return e.inherit!==!1?t:{}}function IM(e){const{initial:t,animate:n}=_M(e,k.useContext(_l));return k.useMemo(()=>({initial:t,animate:n}),[Sm(t),Sm(n)])}function Sm(e){return Array.isArray(e)?e.join(" "):e}function Tm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ei={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=Tm(e,t.target.x),o=Tm(e,t.target.y);return`${n}% ${o}%`}},AM={correct:(e,{treeScale:t,projectionDelta:n})=>{const o=e,i=Fn.parse(e);if(i.length>5)return o;const r=Fn.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=ge(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),r(i)}},qu={borderRadius:{...Ei,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ei,borderTopRightRadius:Ei,borderBottomLeftRadius:Ei,borderBottomRightRadius:Ei,boxShadow:AM};function _x(e,{layout:t,layoutId:n}){return ci.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!qu[e]||e==="opacity")}const NM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kM=ui.length;function PM(e,t,n){let o="",i=!0;for(let r=0;r<kM;r++){const s=ui[r],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=mx(a,kd[s]);if(!l){i=!1;const d=NM[s]||s;o+=`${d}(${u}) `}n&&(t[s]=u)}}return o=o.trim(),n?o=n(t,i?"":o):i&&(o="none"),o}function Ld(e,t,n){const{style:o,vars:i,transformOrigin:r}=e;let s=!1,a=!1;for(const l in t){const u=t[l];if(ci.has(l)){s=!0;continue}else if(Jv(l)){i[l]=u;continue}else{const d=mx(u,kd[l]);l.startsWith("origin")?(a=!0,r[l]=d):o[l]=d}}if(t.transform||(s||n?o.transform=PM(t,e.transform,n):o.transform&&(o.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=r;o.transformOrigin=`${l} ${u} ${d}`}}const Fd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ix(e,t,n){for(const o in t)!qe(t[o])&&!_x(o,n)&&(e[o]=t[o])}function RM({transformTemplate:e},t){return k.useMemo(()=>{const n=Fd();return Ld(n,t,e),Object.assign({},n.vars,n.style)},[t])}function MM(e,t){const n=e.style||{},o={};return Ix(o,n,e),Object.assign(o,RM(e,t)),o}function bM(e,t){const n={},o=MM(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const DM={offset:"stroke-dashoffset",array:"stroke-dasharray"},LM={offset:"strokeDashoffset",array:"strokeDasharray"};function FM(e,t,n=1,o=0,i=!0){e.pathLength=1;const r=i?DM:LM;e[r.offset]=$.transform(-o);const s=$.transform(t),a=$.transform(n);e[r.array]=`${s} ${a}`}function Ax(e,{attrX:t,attrY:n,attrScale:o,pathLength:i,pathSpacing:r=1,pathOffset:s=0,...a},l,u,d){if(Ld(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),o!==void 0&&(h.scale=o),i!==void 0&&FM(h,i,r,s,!1)}const Nx=()=>({...Fd(),attrs:{}}),kx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function UM(e,t,n,o){const i=k.useMemo(()=>{const r=Nx();return Ax(r,t,kx(o),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};Ix(r,e.style,e),i.style={...r,...i.style}}return i}const VM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ud(e){return typeof e!="string"||e.includes("-")?!1:!!(VM.indexOf(e)>-1||/[A-Z]/u.test(e))}function GM(e,t,n,{latestValues:o},i,r=!1){const a=(Ud(e)?UM:bM)(t,o,i,e),l=CM(t,typeof e=="string",r),u=e!==k.Fragment?{...l,...a,ref:n}:{},{children:d}=t,h=k.useMemo(()=>qe(d)?d.get():d,[d]);return k.createElement(e,{...u,children:h})}function Em(e){const t=[{},{}];return e==null||e.values.forEach((n,o)=>{t[0][o]=n.get(),t[1][o]=n.getVelocity()}),t}function Vd(e,t,n,o){if(typeof t=="function"){const[i,r]=Em(o);t=t(n!==void 0?n:e.custom,i,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,r]=Em(o);t=t(n!==void 0?n:e.custom,i,r)}return t}function ps(e){return qe(e)?e.get():e}function BM({scrapeMotionValuesFromProps:e,createRenderState:t},n,o,i){return{latestValues:OM(n,o,i,e),renderState:t()}}function OM(e,t,n,o){const i={},r=o(e,{});for(const p in r)i[p]=ps(r[p]);let{initial:s,animate:a}=e;const l=Al(e),u=Cx(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const h=d?a:s;if(h&&typeof h!="boolean"&&!Il(h)){const p=Array.isArray(h)?h:[h];for(let g=0;g<p.length;g++){const v=Vd(e,p[g]);if(v){const{transitionEnd:T,transition:E,...S}=v;for(const y in S){let x=S[y];if(Array.isArray(x)){const w=d?x.length-1:0;x=x[w]}x!==null&&(i[y]=x)}for(const y in T)i[y]=T[y]}}}return i}const Px=e=>(t,n)=>{const o=k.useContext(_l),i=k.useContext(Cl),r=()=>BM(e,t,o,i);return n?r():cd(r)};function Gd(e,t,n){var r;const{style:o}=e,i={};for(const s in o)(qe(o[s])||t.style&&qe(t.style[s])||_x(s,e)||((r=n==null?void 0:n.getValue(s))==null?void 0:r.liveStyle)!==void 0)&&(i[s]=o[s]);return i}const HM=Px({scrapeMotionValuesFromProps:Gd,createRenderState:Fd});function Rx(e,t,n){const o=Gd(e,t,n);for(const i in e)if(qe(e[i])||qe(t[i])){const r=ui.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;o[r]=e[i]}return o}const zM=Px({scrapeMotionValuesFromProps:Rx,createRenderState:Nx}),$M=Symbol.for("motionComponentSymbol");function Ro(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qM(e,t,n){return k.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):Ro(n)&&(n.current=o))},[t])}const Bd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JM="framerAppearId",Mx="data-"+Bd(JM),bx=k.createContext({});function WM(e,t,n,o,i){var T,E;const{visualElement:r}=k.useContext(_l),s=k.useContext(Ex),a=k.useContext(Cl),l=k.useContext(Md).reducedMotion,u=k.useRef(null);o=o||s.renderer,!u.current&&o&&(u.current=o(e,{visualState:t,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=k.useContext(bx);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&KM(u.current,n,i,h);const p=k.useRef(!1);k.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const g=n[Mx],v=k.useRef(!!g&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,g))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,g)));return kv(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,g)}),v.current=!1),d.enteringChildren=void 0)}),d}function KM(e,t,n,o){const{layoutId:i,layout:r,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Dx(e.parent)),e.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!s||a&&Ro(a),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:o,crossfade:d,layoutScroll:l,layoutRoot:u})}function Dx(e){if(e)return e.options.allowProjection!==!1?e.projection:Dx(e.parent)}function da(e,{forwardMotionProps:t=!1}={},n,o){n&&TM(n);const i=Ud(e)?zM:HM;function r(a,l){let u;const d={...k.useContext(Md),...a,layoutId:YM(a)},{isStatic:h}=d,p=IM(a),g=i(a,h);if(!h&&dd){jM();const v=QM(d);u=v.MeasureLayout,p.visualElement=WM(e,g,d,o,v.ProjectionNode)}return m.jsxs(_l.Provider,{value:p,children:[u&&p.visualElement?m.jsx(u,{visualElement:p.visualElement,...d}):null,GM(e,a,qM(g,p.visualElement,l),g,h,t)]})}r.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=k.forwardRef(r);return s[$M]=e,s}function YM({layoutId:e}){const t=k.useContext(ud).id;return t&&e!==void 0?t+"-"+e:e}function jM(e,t){k.useContext(Ex).strict}function QM(e){const{drag:t,layout:n}=ti;if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function XM(e,t){if(typeof Proxy>"u")return da;const n=new Map,o=(r,s)=>da(r,s,e,t),i=(r,s)=>o(r,s);return new Proxy(i,{get:(r,s)=>s==="create"?o:(n.has(s)||n.set(s,da(s,void 0,e,t)),n.get(s))})}function Lx({top:e,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:e,max:o}}}function ZM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function e2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function fa(e){return e===void 0||e===1}function Ju({scale:e,scaleX:t,scaleY:n}){return!fa(e)||!fa(t)||!fa(n)}function Jn(e){return Ju(e)||Fx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Fx(e){return wm(e.x)||wm(e.y)}function wm(e){return e&&e!=="0%"}function Qs(e,t,n){const o=e-n,i=t*o;return n+i}function Cm(e,t,n,o,i){return i!==void 0&&(e=Qs(e,i,o)),Qs(e,n,o)+t}function Wu(e,t=0,n=1,o,i){e.min=Cm(e.min,t,n,o,i),e.max=Cm(e.max,t,n,o,i)}function Ux(e,{x:t,y:n}){Wu(e.x,t.translate,t.scale,t.originPoint),Wu(e.y,n.translate,n.scale,n.originPoint)}const _m=.999999999999,Im=1.0000000000001;function t2(e,t,n,o=!1){const i=n.length;if(!i)return;t.x=t.y=1;let r,s;for(let a=0;a<i;a++){r=n[a],s=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(o&&r.options.layoutScroll&&r.scroll&&r!==r.root&&bo(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Ux(e,s)),o&&Jn(r.latestValues)&&bo(e,r.latestValues))}t.x<Im&&t.x>_m&&(t.x=1),t.y<Im&&t.y>_m&&(t.y=1)}function Mo(e,t){e.min=e.min+t,e.max=e.max+t}function Am(e,t,n,o,i=.5){const r=ge(e.min,e.max,i);Wu(e,t,n,r,o)}function bo(e,t){Am(e.x,t.x,t.scaleX,t.scale,t.originX),Am(e.y,t.y,t.scaleY,t.scale,t.originY)}function Vx(e,t){return Lx(e2(e.getBoundingClientRect(),t))}function n2(e,t,n){const o=Vx(e,n),{scroll:i}=t;return i&&(Mo(o.x,i.offset.x),Mo(o.y,i.offset.y)),o}const Nm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:Nm(),y:Nm()}),km=()=>({min:0,max:0}),Ne=()=>({x:km(),y:km()}),Ku={current:null},Gx={current:!1};function o2(){if(Gx.current=!0,!!dd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ku.current=e.matches;e.addEventListener("change",t),t()}else Ku.current=!1}const i2=new WeakMap;function r2(e,t,n){for(const o in t){const i=t[o],r=n[o];if(qe(i))e.addValue(o,i);else if(qe(r))e.addValue(o,ei(i,{owner:e}));else if(r!==i)if(e.hasValue(o)){const s=e.getValue(o);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(o);e.addValue(o,ei(s!==void 0?s:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const Pm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s2{scrapeMotionValuesFromProps(t,n,o){return{}}constructor({parent:t,props:n,presenceContext:o,reducedMotionConfig:i,blockInitialAnimation:r,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ad,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=it.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,he.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=Al(n),this.isVariantNode=Cx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&qe(g)&&g.set(l[p])}}mount(t){var n;this.current=t,i2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,i)=>this.bindToMotionValue(i,o)),Gx.current||o2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ku.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ln(this.notifyUpdate),Ln(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const o=this.features[n];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=ci.has(t);o&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&he.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ti){const n=ti[t];if(!n)continue;const{isEnabled:o,Feature:i}=n;if(!this.features[t]&&i&&o(this.props)&&(this.features[t]=new i(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ne()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<Pm.length;o++){const i=Pm[o];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,s=t[r];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=r2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const o=this.values.get(t);n!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&n!==void 0&&(o=ei(n===null?void 0:n,{owner:this}),this.addValue(t,o)),o}readValue(t,n){let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(Pv(o)||Mv(o))?o=parseFloat(o):!hM(o)&&Fn.test(n)&&(o=hx(t,n)),this.setBaseTarget(t,qe(o)?o.get():o)),qe(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const s=Vd(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);s&&(o=s[t])}if(n&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!qe(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new gd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Pd.render(this.render)}}class Bx extends s2{constructor(){super(...arguments),this.KeyframeResolver=nM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:o}){delete n[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ox(e,{style:t,vars:n},o,i){const r=e.style;let s;for(s in t)r[s]=t[s];i==null||i.applyProjectionStyles(r,o);for(s in n)r.setProperty(s,n[s])}function l2(e){return window.getComputedStyle(e)}class a2 extends Bx{constructor(){super(...arguments),this.type="html",this.renderInstance=Ox}readValueFromInstance(t,n){var o;if(ci.has(n))return(o=this.projection)!=null&&o.isProjecting?Vu(n):TR(t,n);{const i=l2(t),r=(Jv(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Vx(t,n)}build(t,n,o){Ld(t,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,n,o){return Gd(t,n,o)}}const Hx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function u2(e,t,n,o){Ox(e,t,void 0,o);for(const i in t.attrs)e.setAttribute(Hx.has(i)?i:Bd(i),t.attrs[i])}class c2 extends Bx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ne}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ci.has(n)){const o=px(n);return o&&o.default||0}return n=Hx.has(n)?n:Bd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,o){return Rx(t,n,o)}build(t,n,o){Ax(t,n,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(t,n,o,i){u2(t,n,o,i)}mount(t){this.isSVGTag=kx(t.tagName),super.mount(t)}}const d2=(e,t)=>Ud(e)?new c2(t):new a2(t,{allowProjection:e!==k.Fragment});function qo(e,t,n){const o=e.getProps();return Vd(o,t,n!==void 0?n:o.custom,e)}const Yu=e=>Array.isArray(e);function f2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ei(n))}function p2(e){return Yu(e)?e[e.length-1]||0:e}function h2(e,t){const n=qo(e,t);let{transitionEnd:o={},transition:i={},...r}=n||{};r={...r,...o};for(const s in r){const a=p2(r[s]);f2(e,s,a)}}function m2(e){return!!(qe(e)&&e.add)}function ju(e,t){const n=e.getValue("willChange");if(m2(n))return n.add(t);if(!n&&dn.WillChange){const o=new dn.WillChange("auto");e.addValue("willChange",o),o.add(t)}}function zx(e){return e.props[Mx]}const g2=e=>e!==null;function y2(e,{repeat:t,repeatType:n="loop"},o){const i=e.filter(g2),r=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[r]}const v2={type:"spring",stiffness:500,damping:25,restSpeed:10},x2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),S2={type:"keyframes",duration:.8},T2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},E2=(e,{keyframes:t})=>t.length>2?S2:ci.has(e)?e.startsWith("scale")?x2(t[1]):v2:T2;function w2({when:e,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:i,repeat:r,repeatType:s,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Od=(e,t,n,o={},i,r)=>s=>{const a=Nd(o,e)||{},l=a.delay||o.delay||0;let{elapsed:u=0}=o;u=u-Qt(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:r?void 0:i};w2(a)||Object.assign(d,E2(e,d)),d.duration&&(d.duration=Qt(d.duration)),d.repeatDelay&&(d.repeatDelay=Qt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(zu(d),d.delay===0&&(h=!0)),(dn.instantAnimations||dn.skipAnimations)&&(h=!0,zu(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!r&&t.get()!==void 0){const p=y2(d.keyframes,a);if(p!==void 0){he.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new Id(d):new $R(d)};function C2({protectedKeys:e,needsAnimating:t},n){const o=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,o}function $x(e,t,{delay:n=0,transitionOverride:o,type:i}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:s,...a}=t;o&&(r=o);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),p=a[d];if(p===void 0||u&&C2(u,d))continue;const g={delay:n,...Nd(r||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const S=zx(e);if(S){const y=window.MotionHandoffAnimation(S,d,he);y!==null&&(g.startTime=y,T=!0)}}ju(e,d),h.start(Od(d,h,p,e.shouldReduceMotion&&cx.has(d)?{type:!1}:g,e,T));const E=h.animation;E&&l.push(E)}return s&&Promise.all(l).then(()=>{he.update(()=>{s&&h2(e,s)})}),l}function qx(e,t,n,o=0,i=1){const r=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),s=e.size,a=(s-1)*o;return typeof n=="function"?n(r,s):i===1?r*o:a-r*o}function Qu(e,t,n={}){var l;const o=qo(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(i=n.transitionOverride);const r=o?()=>Promise.all($x(e,o,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=i;return _2(e,t,u,d,h,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[r,s]:[s,r];return u().then(()=>d())}else return Promise.all([r(),s(n.delay)])}function _2(e,t,n=0,o=0,i=0,r=1,s){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Qu(l,t,{...s,delay:n+(typeof o=="function"?0:o)+qx(e.variantChildren,l,o,i,r)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function I2(e,t,n={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const i=t.map(r=>Qu(e,r,n));o=Promise.all(i)}else if(typeof t=="string")o=Qu(e,t,n);else{const i=typeof t=="function"?qo(e,t,n.custom):t;o=Promise.all($x(e,i,n))}return o.then(()=>{e.notify("AnimationComplete",t)})}function Jx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}const A2=Dd.length;function Wx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Wx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<A2;n++){const o=Dd[n],i=e.props[o];(cr(i)||i===!1)&&(t[o]=i)}return t}const N2=[...bd].reverse(),k2=bd.length;function P2(e){return t=>Promise.all(t.map(({animation:n,options:o})=>I2(e,n,o)))}function R2(e){let t=P2(e),n=Rm(),o=!0;const i=l=>(u,d)=>{var p;const h=qo(e,d,l==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:g,transitionEnd:v,...T}=h;u={...u,...T,...v}}return u};function r(l){t=l(e)}function s(l){const{props:u}=e,d=Wx(e.parent)||{},h=[],p=new Set;let g={},v=1/0;for(let E=0;E<k2;E++){const S=N2[E],y=n[S],x=u[S]!==void 0?u[S]:d[S],w=cr(x),_=S===l?y.isActive:null;_===!1&&(v=E);let C=x===d[S]&&x!==u[S]&&w;if(C&&o&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...g},!y.isActive&&_===null||!x&&!y.prevProp||Il(x)||typeof x=="boolean")continue;const I=M2(y.prevProp,x);let A=I||S===l&&y.isActive&&!C&&w||E>v&&w,b=!1;const D=Array.isArray(x)?x:[x];let O=D.reduce(i(S),{});_===!1&&(O={});const{prevResolvedValues:de={}}=y,Q={...de,...O},oe=ee=>{A=!0,p.has(ee)&&(b=!0,p.delete(ee)),y.needsAnimating[ee]=!0;const P=e.getValue(ee);P&&(P.liveStyle=!1)};for(const ee in Q){const P=O[ee],B=de[ee];if(g.hasOwnProperty(ee))continue;let z=!1;Yu(P)&&Yu(B)?z=!Jx(P,B):z=P!==B,z?P!=null?oe(ee):p.add(ee):P!==void 0&&p.has(ee)?oe(ee):y.protectedKeys[ee]=!0}y.prevProp=x,y.prevResolvedValues=O,y.isActive&&(g={...g,...O}),o&&e.blockInitialAnimation&&(A=!1);const fe=C&&I;A&&(!fe||b)&&h.push(...D.map(ee=>{const P={type:S};if(typeof ee=="string"&&o&&!fe&&e.manuallyAnimateOnMount&&e.parent){const{parent:B}=e,z=qo(B,ee);if(B.enteringChildren&&z){const{delayChildren:F}=z.transition||{};P.delay=qx(B.enteringChildren,e,F)}}return{animation:ee,options:P}}))}if(p.size){const E={};if(typeof u.initial!="boolean"){const S=qo(e,Array.isArray(u.initial)?u.initial[0]:u.initial);S&&S.transition&&(E.transition=S.transition)}p.forEach(S=>{const y=e.getBaseTarget(S),x=e.getValue(S);x&&(x.liveStyle=!0),E[S]=y??null}),h.push({animation:E})}let T=!!h.length;return o&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(T=!1),o=!1,T?t(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=s(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=Rm()}}}function M2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Jx(t,e):!1}function Hn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rm(){return{animate:Hn(!0),whileInView:Hn(),whileHover:Hn(),whileTap:Hn(),whileDrag:Hn(),whileFocus:Hn(),exit:Hn()}}class On{constructor(t){this.isMounted=!1,this.node=t}update(){}}class b2 extends On{constructor(t){super(t),t.animationState||(t.animationState=R2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Il(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let D2=0;class L2 extends On{constructor(){super(...arguments),this.id=D2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const F2={animation:{Feature:b2},exit:{Feature:L2}};function dr(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}function Sr(e){return{point:{x:e.pageX,y:e.pageY}}}const U2=e=>t=>Rd(t)&&e(t,Sr(t));function Oi(e,t,n,o){return dr(e,t,U2(n),o)}const Kx=1e-4,V2=1-Kx,G2=1+Kx,Yx=.01,B2=0-Yx,O2=0+Yx;function Ye(e){return e.max-e.min}function H2(e,t,n){return Math.abs(e-t)<=n}function Mm(e,t,n,o=.5){e.origin=o,e.originPoint=ge(t.min,t.max,e.origin),e.scale=Ye(n)/Ye(t),e.translate=ge(n.min,n.max,e.origin)-e.originPoint,(e.scale>=V2&&e.scale<=G2||isNaN(e.scale))&&(e.scale=1),(e.translate>=B2&&e.translate<=O2||isNaN(e.translate))&&(e.translate=0)}function Hi(e,t,n,o){Mm(e.x,t.x,n.x,o?o.originX:void 0),Mm(e.y,t.y,n.y,o?o.originY:void 0)}function bm(e,t,n){e.min=n.min+t.min,e.max=e.min+Ye(t)}function z2(e,t,n){bm(e.x,t.x,n.x),bm(e.y,t.y,n.y)}function Dm(e,t,n){e.min=t.min-n.min,e.max=e.min+Ye(t)}function Xs(e,t,n){Dm(e.x,t.x,n.x),Dm(e.y,t.y,n.y)}function vt(e){return[e("x"),e("y")]}const jx=({current:e})=>e?e.ownerDocument.defaultView:null,Lm=(e,t)=>Math.abs(e-t);function $2(e,t){const n=Lm(e.x,t.x),o=Lm(e.y,t.y);return Math.sqrt(n**2+o**2)}class Qx{constructor(t,n,{transformPagePoint:o,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=ha(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=$2(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:T}=p,{timestamp:E}=Le;this.history.push({...T,timestamp:E});const{onStart:S,onMove:y}=this.handlers;g||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=pa(g,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:T,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=ha(p.type==="pointercancel"?this.lastMoveEventInfo:pa(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,S),T&&T(p,S)},!Rd(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=o,this.distanceThreshold=s,this.contextWindow=i||window;const a=Sr(t),l=pa(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=Le;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,ha(l,this.history)),this.removeListeners=yr(Oi(this.contextWindow,"pointermove",this.handlePointerMove),Oi(this.contextWindow,"pointerup",this.handlePointerUp),Oi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ln(this.updatePoint)}}function pa(e,t){return t?{point:t(e.point)}:e}function Fm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ha({point:e},t){return{point:e,delta:Fm(e,Xx(t)),offset:Fm(e,q2(t)),velocity:J2(t,.1)}}function q2(e){return e[0]}function Xx(e){return e[e.length-1]}function J2(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const i=Xx(e);for(;n>=0&&(o=e[n],!(i.timestamp-o.timestamp>Qt(t)));)n--;if(!o)return{x:0,y:0};const r=wt(i.timestamp-o.timestamp);if(r===0)return{x:0,y:0};const s={x:(i.x-o.x)/r,y:(i.y-o.y)/r};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function W2(e,{min:t,max:n},o){return t!==void 0&&e<t?e=o?ge(t,e,o.min):Math.max(e,t):n!==void 0&&e>n&&(e=o?ge(n,e,o.max):Math.min(e,n)),e}function Um(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function K2(e,{top:t,left:n,bottom:o,right:i}){return{x:Um(e.x,n,i),y:Um(e.y,t,o)}}function Vm(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}function Y2(e,t){return{x:Vm(e.x,t.x),y:Vm(e.y,t.y)}}function j2(e,t){let n=.5;const o=Ye(e),i=Ye(t);return i>o?n=lr(t.min,t.max-o,e.min):o>i&&(n=lr(e.min,e.max-i,t.min)),cn(0,1,n)}function Q2(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Xu=.35;function X2(e=Xu){return e===!1?e=0:e===!0&&(e=Xu),{x:Gm(e,"left","right"),y:Gm(e,"top","bottom")}}function Gm(e,t,n){return{min:Bm(e,t),max:Bm(e,n)}}function Bm(e,t){return typeof e=="number"?e:e[t]||0}const Z2=new WeakMap;class eb{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ne(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:o}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sr(h).point)},s=(h,p)=>{const{drag:g,dragPropagation:v,onDragStart:T}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sM(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vt(S=>{let y=this.getAxisMotionValue(S).get()||0;if(Xt.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[S];w&&(y=Ye(w)*(parseFloat(y)/100))}}this.originPoint[S]=y}),T&&he.postRender(()=>T(h,p)),ju(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:T,onDrag:E}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:S}=p;if(v&&this.currentDirection===null){this.currentDirection=tb(S),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),E&&E(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>vt(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Qx(t,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:o,contextWindow:jx(this.visualElement)})}stop(t,n){const o=t||this.latestPointerEvent,i=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!o)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&he.postRender(()=>a(o,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:i}=this.getProps();if(!o||!Kr(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let s=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(s=W2(s,this.constraints[t],this.elastic[t])),r.set(s)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;t&&Ro(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=K2(o.layoutBox,t):this.constraints=!1,this.elastic=X2(n),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&vt(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Q2(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ro(t))return!1;const o=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=n2(o,i.root,this.visualElement.getTransformPagePoint());let s=Y2(i.layout.layoutBox,r);if(n){const a=n(ZM(s));this.hasMutatedConstraints=!!a,a&&(s=Lx(a))}return s}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:i,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=vt(d=>{if(!Kr(d,n,this.currentDirection))return;let h=l&&l[d]||{};s&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:o?t[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return ju(this.visualElement,t),o.start(Od(t,o,0,n,this.visualElement,!1))}stopAnimation(){vt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),i=o[n];return i||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){vt(n=>{const{drag:o}=this.getProps();if(!Kr(n,o,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];r.set(t[n]-ge(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!Ro(n)||!o||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vt(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=j2({min:l,max:l},this.constraints[s])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),vt(s=>{if(!Kr(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(ge(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;Z2.set(this.visualElement,this);const t=this.visualElement.current,n=Oi(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),o=()=>{const{dragConstraints:l}=this.getProps();Ro(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",o);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),he.read(o);const s=dr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(vt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),r(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:s=Xu,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:i,dragConstraints:r,dragElastic:s,dragMomentum:a}}}function Kr(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function tb(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class nb extends On{constructor(t){super(t),this.removeGroupControls=It,this.removeListeners=It,this.controls=new eb(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||It}unmount(){this.removeGroupControls(),this.removeListeners()}}const Om=e=>(t,n)=>{e&&he.postRender(()=>e(t,n))};class ob extends On{constructor(){super(...arguments),this.removePointerDownListener=It}onPointerDown(t){this.session=new Qx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:o,onPanEnd:i}=this.node.getProps();return{onSessionStart:Om(t),onStart:Om(n),onMove:o,onEnd:(r,s)=>{delete this.session,i&&he.postRender(()=>i(r,s))}}}mount(){this.removePointerDownListener=Oi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ma=!1;class ib extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o,layoutId:i}=this.props,{projection:r}=t;r&&(n.group&&n.group.add(r),o&&o.register&&i&&o.register(r),ma&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),hs.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:o,drag:i,isPresent:r}=this.props,{projection:s}=o;return s&&(s.isPresent=r,ma=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==r?s.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?s.promote():s.relegate()||he.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Pd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:i}=t;ma=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),o&&o.deregister&&o.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Zx(e){const[t,n]=Tx(),o=k.useContext(ud);return m.jsx(ib,{...e,layoutGroup:o,switchLayoutGroup:k.useContext(bx),isPresent:t,safeToRemove:n})}function rb(e,t,n){const o=qe(e)?e:ei(e);return o.start(Od("",o,t,n)),o.animation}const sb=(e,t)=>e.depth-t.depth;class lb{constructor(){this.children=[],this.isDirty=!1}add(t){fd(this.children,t),this.isDirty=!0}remove(t){pd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sb),this.isDirty=!1,this.children.forEach(t)}}function ab(e,t){const n=it.now(),o=({timestamp:i})=>{const r=i-n;r>=t&&(Ln(o),e(r-t))};return he.setup(o,!0),()=>Ln(o)}const eS=["TopLeft","TopRight","BottomLeft","BottomRight"],ub=eS.length,Hm=e=>typeof e=="string"?parseFloat(e):e,zm=e=>typeof e=="number"||$.test(e);function cb(e,t,n,o,i,r){i?(e.opacity=ge(0,n.opacity??1,db(o)),e.opacityExit=ge(t.opacity??1,0,fb(o))):r&&(e.opacity=ge(t.opacity??1,n.opacity??1,o));for(let s=0;s<ub;s++){const a=`border${eS[s]}Radius`;let l=$m(t,a),u=$m(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||zm(l)===zm(u)?(e[a]=Math.max(ge(Hm(l),Hm(u),o),0),(Xt.test(u)||Xt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ge(t.rotate||0,n.rotate||0,o))}function $m(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const db=tS(0,.5,Bv),fb=tS(.5,.95,It);function tS(e,t,n){return o=>o<e?0:o>t?1:n(lr(e,t,o))}function qm(e,t){e.min=t.min,e.max=t.max}function Mt(e,t){qm(e.x,t.x),qm(e.y,t.y)}function Jm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Wm(e,t,n,o,i){return e-=t,e=Qs(e,1/n,o),i!==void 0&&(e=Qs(e,1/i,o)),e}function pb(e,t=0,n=1,o=.5,i,r=e,s=e){if(Xt.test(t)&&(t=parseFloat(t),t=ge(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=ge(r.min,r.max,o);e===r&&(a-=t),e.min=Wm(e.min,t,n,a,i),e.max=Wm(e.max,t,n,a,i)}function Km(e,t,[n,o,i],r,s){pb(e,t[n],t[o],t[i],t.scale,r,s)}const hb=["x","scaleX","originX"],mb=["y","scaleY","originY"];function Ym(e,t,n,o){Km(e.x,t,hb,n?n.x:void 0,o?o.x:void 0),Km(e.y,t,mb,n?n.y:void 0,o?o.y:void 0)}function jm(e){return e.translate===0&&e.scale===1}function nS(e){return jm(e.x)&&jm(e.y)}function Qm(e,t){return e.min===t.min&&e.max===t.max}function gb(e,t){return Qm(e.x,t.x)&&Qm(e.y,t.y)}function Xm(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function oS(e,t){return Xm(e.x,t.x)&&Xm(e.y,t.y)}function Zm(e){return Ye(e.x)/Ye(e.y)}function eg(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yb{constructor(){this.members=[]}add(t){fd(this.members,t),t.scheduleRender()}remove(t){if(pd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let o;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){o=r;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vb(e,t,n){let o="";const i=e.x.translate/t.x,r=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||r||s)&&(o=`translate3d(${i}px, ${r}px, ${s}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:g,skewY:v}=n;u&&(o=`perspective(${u}px) ${o}`),d&&(o+=`rotate(${d}deg) `),h&&(o+=`rotateX(${h}deg) `),p&&(o+=`rotateY(${p}deg) `),g&&(o+=`skewX(${g}deg) `),v&&(o+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(o+=`scale(${a}, ${l})`),o||"none"}const ga=["","X","Y","Z"],xb=1e3;let Sb=0;function ya(e,t,n,o){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),o&&(o[e]=0))}function iS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=zx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",he,!(i||r))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&iS(o)}function rS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=Sb++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wb),this.nodes.forEach(Ab),this.nodes.forEach(Nb),this.nodes.forEach(Cb)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lb)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new gd),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Sx(s)&&!fM(s),this.instance=s;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const p=()=>this.root.updateBlockedByResize=!1;he.read(()=>{h=window.innerWidth}),e(s,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,d&&d(),d=ab(p,250),hs.hasAnimatedSinceResize&&(hs.hasAnimatedSinceResize=!1,this.nodes.forEach(og)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||bb,{onLayoutAnimationStart:T,onLayoutAnimationComplete:E}=u.getProps(),S=!this.targetLayout||!oS(this.targetLayout,g),y=!h&&p;if(this.options.layoutRoot||this.resumeFrom||y||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...Nd(v,"layout"),onPlay:T,onComplete:E};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,y)}else h||og(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ln(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kb),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ng);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ib),this.nodes.forEach(Tb),this.nodes.forEach(Eb)):this.nodes.forEach(ng),this.clearAllSnapshots();const a=it.now();Le.delta=cn(0,1e3/60,a-Le.timestamp),Le.timestamp=a,Le.isProcessing=!0,ra.update.process(Le),ra.preRender.process(Le),ra.render.process(Le),Le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_b),this.sharedNodes.forEach(Pb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ye(this.snapshot.measuredBox.x)&&!Ye(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const l=o(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!nS(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&this.instance&&(a||Jn(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),Db(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Ne();const a=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Lb))){const{scroll:d}=this.root;d&&(Mo(a.x,d.offset.x),Mo(a.y,d.offset.y))}return a}removeElementScroll(s){var l;const a=Ne();if(Mt(a,s),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Mt(a,s),Mo(a.x,h.offset.x),Mo(a.y,h.offset.y))}return a}applyTransform(s,a=!1){const l=Ne();Mt(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Jn(d.latestValues)&&bo(l,d.latestValues)}return Jn(this.latestValues)&&bo(l,this.latestValues),l}removeTransform(s){const a=Ne();Mt(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Jn(u.latestValues))continue;Ju(u.latestValues)&&u.updateSnapshot();const d=Ne(),h=u.measurePageBox();Mt(d,h),Ym(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Jn(this.latestValues)&&Ym(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Le.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ne(),this.targetWithTransforms=Ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),z2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mt(this.target,this.layout.layoutBox),Ux(this.target,this.targetDelta)):Mt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ju(this.parent.latestValues)||Fx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,a,l){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),Xs(this.relativeTargetOrigin,a,l),Mt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Le.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Mt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;t2(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ne());const{target:g}=s;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jm(this.prevProjectionDelta.x,this.projectionDelta.x),Jm(this.prevProjectionDelta.y,this.projectionDelta.y)),Hi(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!eg(this.projectionDelta.x,this.prevProjectionDelta.x)||!eg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ne(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,T=g!==v,E=this.getStack(),S=!E||E.members.length<=1,y=!!(T&&!S&&this.options.crossfade===!0&&!this.path.some(Mb));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const _=w/1e3;ig(h.x,s.x,_),ig(h.y,s.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xs(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rb(this.relativeTarget,this.relativeTargetOrigin,p,_),x&&gb(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ne()),Mt(x,this.relativeTarget)),T&&(this.animationValues=d,cb(d,u,this.latestValues,_,y,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ln(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{hs.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ei(0)),this.currentAnimation=rb(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),s.onUpdate&&s.onUpdate(d)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&sS(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ne();const h=Ye(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const p=Ye(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}Mt(a,l),bo(a,d),Hi(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new yb),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&ya("z",s,u,this.animationValues);for(let d=0;d<ga.length;d++)ya(`rotate${ga[d]}`,s,u,this.animationValues),ya(`skew${ga[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=ps(a==null?void 0:a.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=ps(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Jn(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=vb(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),s.transform=h;const{x:p,y:g}=this.projectionDelta;s.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?s.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in qu){if(d[v]===void 0)continue;const{correct:T,applyTo:E,isCSSVariable:S}=qu[v],y=h==="none"?d[v]:T(d[v],u);if(E){const x=E.length;for(let w=0;w<x;w++)s[E[w]]=y}else S?this.options.visualElement.renderState.vars[v]=y:s[v]=y}this.options.layoutId&&(s.pointerEvents=u===this?ps(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(tg),this.root.sharedNodes.clear()}}}function Tb(e){e.updateLayout()}function Eb(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:i}=e.layout,{animationType:r}=e.options,s=t.source!==e.layout.source;r==="size"?vt(h=>{const p=s?t.measuredBox[h]:t.layoutBox[h],g=Ye(p);p.min=o[h].min,p.max=p.min+g}):sS(r,t.layoutBox,o)&&vt(h=>{const p=s?t.measuredBox[h]:t.layoutBox[h],g=Ye(o[h]);p.max=p.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=Do();Hi(a,o,t.layoutBox);const l=Do();s?Hi(l,e.applyTransform(i,!0),t.measuredBox):Hi(l,o,t.layoutBox);const u=!nS(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const v=Ne();Xs(v,t.layoutBox,p.layoutBox);const T=Ne();Xs(T,o,g.layoutBox),oS(v,T)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function wb(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Cb(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _b(e){e.clearSnapshot()}function tg(e){e.clearMeasurements()}function ng(e){e.isLayoutDirty=!1}function Ib(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function og(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ab(e){e.resolveTargetDelta()}function Nb(e){e.calcProjection()}function kb(e){e.resetSkewAndRotation()}function Pb(e){e.removeLeadSnapshot()}function ig(e,t,n){e.translate=ge(t.translate,0,n),e.scale=ge(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rg(e,t,n,o){e.min=ge(t.min,n.min,o),e.max=ge(t.max,n.max,o)}function Rb(e,t,n,o){rg(e.x,t.x,n.x,o),rg(e.y,t.y,n.y,o)}function Mb(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bb={duration:.45,ease:[.4,0,.1,1]},sg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),lg=sg("applewebkit/")&&!sg("chrome/")?Math.round:It;function ag(e){e.min=lg(e.min),e.max=lg(e.max)}function Db(e){ag(e.x),ag(e.y)}function sS(e,t,n){return e==="position"||e==="preserve-aspect"&&!H2(Zm(t),Zm(n),.2)}function Lb(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Fb=rS({attachResizeListener:(e,t)=>dr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),va={current:void 0},lS=rS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!va.current){const e=new Fb({});e.mount(window),e.setOptions({layoutScroll:!0}),va.current=e}return va.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ub={pan:{Feature:ob},drag:{Feature:nb,ProjectionNode:lS,MeasureLayout:Zx}};function ug(e,t,n){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=o[i];r&&he.postRender(()=>r(t,Sr(t)))}class Vb extends On{mount(){const{current:t}=this.node;t&&(this.unmount=lM(t,(n,o)=>(ug(this.node,o,"Start"),i=>ug(this.node,i,"End"))))}unmount(){}}class Gb extends On{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yr(dr(this.node.current,"focus",()=>this.onFocus()),dr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cg(e,t,n){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=o[i];r&&he.postRender(()=>r(t,Sr(t)))}class Bb extends On{mount(){const{current:t}=this.node;t&&(this.unmount=dM(t,(n,o)=>(cg(this.node,o,"Start"),(i,{success:r})=>cg(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zu=new WeakMap,xa=new WeakMap,Ob=e=>{const t=Zu.get(e.target);t&&t(e)},Hb=e=>{e.forEach(Ob)};function zb({root:e,...t}){const n=e||document;xa.has(n)||xa.set(n,{});const o=xa.get(n),i=JSON.stringify(t);return o[i]||(o[i]=new IntersectionObserver(Hb,{root:e,...t})),o[i]}function $b(e,t,n){const o=zb(t);return Zu.set(e,n),o.observe(e),()=>{Zu.delete(e),o.unobserve(e)}}const qb={some:0,all:1};class Jb extends On{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:o,amount:i="some",once:r}=t,s={root:n?n.current:void 0,rootMargin:o,threshold:typeof i=="number"?i:qb[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(l)};return $b(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Wb(t,n))&&this.startObserver()}unmount(){}}function Wb({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Kb={inView:{Feature:Jb},tap:{Feature:Bb},focus:{Feature:Gb},hover:{Feature:Vb}},Yb={layout:{ProjectionNode:lS,MeasureLayout:Zx}},jb={...F2,...Kb,...Ub,...Yb},Fe=XM(jb,d2);var Qb=Object.defineProperty,Zs=Object.getOwnPropertySymbols,aS=Object.prototype.hasOwnProperty,uS=Object.prototype.propertyIsEnumerable,dg=(e,t,n)=>t in e?Qb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ec=(e,t)=>{for(var n in t||(t={}))aS.call(t,n)&&dg(e,n,t[n]);if(Zs)for(var n of Zs(t))uS.call(t,n)&&dg(e,n,t[n]);return e},tc=(e,t)=>{var n={};for(var o in e)aS.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Zs)for(var o of Zs(e))t.indexOf(o)<0&&uS.call(e,o)&&(n[o]=e[o]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var lo;(e=>{const t=class X{constructor(l,u,d,h){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<X.MIN_VERSION||l>X.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let p=[];for(let v=0;v<this.size;v++)p.push(!1);for(let v=0;v<this.size;v++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),h==-1){let v=1e9;for(let T=0;T<8;T++){this.applyMask(T),this.drawFormatBits(T);const E=this.getPenaltyScore();E<v&&(h=T,v=E),this.applyMask(T)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(l,u){const d=e.QrSegment.makeSegments(l);return X.encodeSegments(d,u)}static encodeBinary(l,u){const d=e.QrSegment.makeBytes(l);return X.encodeSegments([d],u)}static encodeSegments(l,u,d=1,h=40,p=-1,g=!0){if(!(X.MIN_VERSION<=d&&d<=h&&h<=X.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let v,T;for(v=d;;v++){const x=X.getNumDataCodewords(v,u)*8,w=s.getTotalBits(l,v);if(w<=x){T=w;break}if(v>=h)throw new RangeError("Data too long")}for(const x of[X.Ecc.MEDIUM,X.Ecc.QUARTILE,X.Ecc.HIGH])g&&T<=X.getNumDataCodewords(v,x)*8&&(u=x);let E=[];for(const x of l){n(x.mode.modeBits,4,E),n(x.numChars,x.mode.numCharCountBits(v),E);for(const w of x.getData())E.push(w)}i(E.length==T);const S=X.getNumDataCodewords(v,u)*8;i(E.length<=S),n(0,Math.min(4,S-E.length),E),n(0,(8-E.length%8)%8,E),i(E.length%8==0);for(let x=236;E.length<S;x^=253)n(x,8,E);let y=[];for(;y.length*8<E.length;)y.push(0);return E.forEach((x,w)=>y[w>>>3]|=x<<7-(w&7)),new X(v,u,y,p)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(l[d],l[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let d=u;for(let p=0;p<10;p++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;i(h>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,o(h,p));this.setFunctionModule(8,7,o(h,6)),this.setFunctionModule(8,8,o(h,7)),this.setFunctionModule(7,8,o(h,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,o(h,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,o(h,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,o(h,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let d=0;d<18;d++){const h=o(u,d),p=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(p,g,h),this.setFunctionModule(g,p,h)}}drawFinderPattern(l,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const p=Math.max(Math.abs(h),Math.abs(d)),g=l+h,v=u+d;0<=g&&g<this.size&&0<=v&&v<this.size&&this.setFunctionModule(g,v,p!=2&&p!=4)}}drawAlignmentPattern(l,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(l+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(l,u,d){this.modules[u][l]=d,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,d=this.errorCorrectionLevel;if(l.length!=X.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=X.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],p=X.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(X.getNumRawDataModules(u)/8),v=h-g%h,T=Math.floor(g/h);let E=[];const S=X.reedSolomonComputeDivisor(p);for(let x=0,w=0;x<h;x++){let _=l.slice(w,w+T-p+(x<v?0:1));w+=_.length;const C=X.reedSolomonComputeRemainder(_,S);x<v&&_.push(0),E.push(_.concat(C))}let y=[];for(let x=0;x<E[0].length;x++)E.forEach((w,_)=>{(x!=T-p||_>=v)&&y.push(w[x])});return i(y.length==g),y}drawCodewords(l){if(l.length!=Math.floor(X.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let p=0;p<2;p++){const g=d-p,T=(d+1&2)==0?this.size-1-h:h;!this.isFunction[T][g]&&u<l.length*8&&(this.modules[T][g]=o(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(l){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let l=0;for(let p=0;p<this.size;p++){let g=!1,v=0,T=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[p][E]==g?(v++,v==5?l+=X.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,T),g||(l+=this.finderPenaltyCountPatterns(T)*X.PENALTY_N3),g=this.modules[p][E],v=1);l+=this.finderPenaltyTerminateAndCount(g,v,T)*X.PENALTY_N3}for(let p=0;p<this.size;p++){let g=!1,v=0,T=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[E][p]==g?(v++,v==5?l+=X.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,T),g||(l+=this.finderPenaltyCountPatterns(T)*X.PENALTY_N3),g=this.modules[E][p],v=1);l+=this.finderPenaltyTerminateAndCount(g,v,T)*X.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let g=0;g<this.size-1;g++){const v=this.modules[p][g];v==this.modules[p][g+1]&&v==this.modules[p+1][g]&&v==this.modules[p+1][g+1]&&(l+=X.PENALTY_N2)}let u=0;for(const p of this.modules)u=p.reduce((g,v)=>g+(v?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=h&&h<=9),l+=h*X.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let h=this.size-7;d.length<l;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(l){if(l<X.MIN_VERSION||l>X.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;u-=(25*d-10)*d-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(X.getNumRawDataModules(l)/8)-X.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*X.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<l-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<l;h++){for(let p=0;p<u.length;p++)u[p]=X.reedSolomonMultiply(u[p],d),p+1<u.length&&(u[p]^=u[p+1]);d=X.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(l,u){let d=u.map(h=>0);for(const h of l){const p=h^d.shift();d.push(0),u.forEach((g,v)=>d[v]^=X.reedSolomonMultiply(g,p))}return d}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*l;return i(d>>>8==0),d}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const d=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(d&&l[0]>=u*4&&l[6]>=u?1:0)+(d&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,d){return l&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(a,l,u){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)u.push(a>>>d&1)}function o(a,l){return(a>>>l&1)!=0}function i(a){if(!a)throw new Error("Assertion error")}const r=class xe{constructor(l,u,d){if(this.mode=l,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let u=[];for(const d of l)n(d,8,u);return new xe(xe.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!xe.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<l.length;){const h=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+h),10),h*3+1,u),d+=h}return new xe(xe.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!xe.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=l.length;d+=2){let h=xe.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;h+=xe.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(h,11,u)}return d<l.length&&n(xe.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,u),new xe(xe.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:xe.isNumeric(l)?[xe.makeNumeric(l)]:xe.isAlphanumeric(l)?[xe.makeAlphanumeric(l)]:[xe.makeBytes(xe.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new xe(xe.Mode.ECI,0,u)}static isNumeric(l){return xe.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return xe.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let d=0;for(const h of l){const p=h.mode.numCharCountBits(u);if(h.numChars>=1<<p)return 1/0;d+=4+p+h.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?u.push(l.charCodeAt(d)):(u.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return u}};r.NUMERIC_REGEX=/^[0-9]*$/,r.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,r.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=r;e.QrSegment=r})(lo||(lo={}));(e=>{(t=>{const n=class{constructor(i,r){this.ordinal=i,this.formatBits=r}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(lo||(lo={}));(e=>{(t=>{const n=class{constructor(i,r){this.modeBits=i,this.numBitsCharCount=r}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(lo||(lo={}));var Lo=lo;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Xb={L:Lo.QrCode.Ecc.LOW,M:Lo.QrCode.Ecc.MEDIUM,Q:Lo.QrCode.Ecc.QUARTILE,H:Lo.QrCode.Ecc.HIGH},cS=128,dS="L",fS="#FFFFFF",pS="#000000",hS=!1,mS=1,Zb=4,eD=0,tD=.1;function gS(e,t=0){const n=[];return e.forEach(function(o,i){let r=null;o.forEach(function(s,a){if(!s&&r!==null){n.push(`M${r+t} ${i+t}h${a-r}v1H${r+t}z`),r=null;return}if(a===o.length-1){if(!s)return;r===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${r+t},${i+t} h${a+1-r}v1H${r+t}z`);return}s&&r===null&&(r=a)})}),n.join("")}function yS(e,t){return e.slice().map((n,o)=>o<t.y||o>=t.y+t.h?n:n.map((i,r)=>r<t.x||r>=t.x+t.w?i:!1))}function nD(e,t,n,o){if(o==null)return null;const i=e.length+n*2,r=Math.floor(t*tD),s=i/t,a=(o.width||r)*s,l=(o.height||r)*s,u=o.x==null?e.length/2-a/2:o.x*s,d=o.y==null?e.length/2-l/2:o.y*s,h=o.opacity==null?1:o.opacity;let p=null;if(o.excavate){let v=Math.floor(u),T=Math.floor(d),E=Math.ceil(a+u-v),S=Math.ceil(l+d-T);p={x:v,y:T,w:E,h:S}}const g=o.crossOrigin;return{x:u,y:d,h:l,w:a,excavation:p,opacity:h,crossOrigin:g}}function oD(e,t){return t!=null?Math.max(Math.floor(t),0):e?Zb:eD}function vS({value:e,level:t,minVersion:n,includeMargin:o,marginSize:i,imageSettings:r,size:s,boostLevel:a}){let l=Ce.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((T,E)=>(T.push(...Lo.QrSegment.makeSegments(E)),T),[]);return Lo.QrCode.encodeSegments(v,Xb[t],n,void 0,void 0,a)},[e,t,n,a]);const{cells:u,margin:d,numCells:h,calculatedImageSettings:p}=Ce.useMemo(()=>{let g=l.getModules();const v=oD(o,i),T=g.length+v*2,E=nD(g,s,v,r);return{cells:g,margin:v,numCells:T,calculatedImageSettings:E}},[l,s,r,o,i]);return{qrcode:l,margin:d,cells:u,numCells:h,calculatedImageSettings:p}}var iD=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),xS=Ce.forwardRef(function(t,n){const o=t,{value:i,size:r=cS,level:s=dS,bgColor:a=fS,fgColor:l=pS,includeMargin:u=hS,minVersion:d=mS,boostLevel:h,marginSize:p,imageSettings:g}=o,T=tc(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:E}=T,S=tc(T,["style"]),y=g==null?void 0:g.src,x=Ce.useRef(null),w=Ce.useRef(null),_=Ce.useCallback(oe=>{x.current=oe,typeof n=="function"?n(oe):n&&(n.current=oe)},[n]),[C,I]=Ce.useState(!1),{margin:A,cells:b,numCells:D,calculatedImageSettings:O}=vS({value:i,level:s,minVersion:d,boostLevel:h,includeMargin:u,marginSize:p,imageSettings:g,size:r});Ce.useEffect(()=>{if(x.current!=null){const oe=x.current,fe=oe.getContext("2d");if(!fe)return;let se=b;const ee=w.current,P=O!=null&&ee!==null&&ee.complete&&ee.naturalHeight!==0&&ee.naturalWidth!==0;P&&O.excavation!=null&&(se=yS(b,O.excavation));const B=window.devicePixelRatio||1;oe.height=oe.width=r*B;const z=r/D*B;fe.scale(z,z),fe.fillStyle=a,fe.fillRect(0,0,D,D),fe.fillStyle=l,iD?fe.fill(new Path2D(gS(se,A))):b.forEach(function(F,H){F.forEach(function(ie,Ge){ie&&fe.fillRect(Ge+A,H+A,1,1)})}),O&&(fe.globalAlpha=O.opacity),P&&fe.drawImage(ee,O.x+A,O.y+A,O.w,O.h)}}),Ce.useEffect(()=>{I(!1)},[y]);const de=ec({height:r,width:r},E);let Q=null;return y!=null&&(Q=Ce.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{I(!0)},ref:w,crossOrigin:O==null?void 0:O.crossOrigin})),Ce.createElement(Ce.Fragment,null,Ce.createElement("canvas",ec({style:de,height:r,width:r,ref:_,role:"img"},S)),Q)});xS.displayName="QRCodeCanvas";var rD=Ce.forwardRef(function(t,n){const o=t,{value:i,size:r=cS,level:s=dS,bgColor:a=fS,fgColor:l=pS,includeMargin:u=hS,minVersion:d=mS,boostLevel:h,title:p,marginSize:g,imageSettings:v}=o,T=tc(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:E,cells:S,numCells:y,calculatedImageSettings:x}=vS({value:i,level:s,minVersion:d,boostLevel:h,includeMargin:u,marginSize:g,imageSettings:v,size:r});let w=S,_=null;v!=null&&x!=null&&(x.excavation!=null&&(w=yS(S,x.excavation)),_=Ce.createElement("image",{href:v.src,height:x.h,width:x.w,x:x.x+E,y:x.y+E,preserveAspectRatio:"none",opacity:x.opacity,crossOrigin:x.crossOrigin}));const C=gS(w,E);return Ce.createElement("svg",ec({height:r,width:r,viewBox:`0 0 ${y} ${y}`,ref:n,role:"img"},T),!!p&&Ce.createElement("title",null,p),Ce.createElement("path",{fill:a,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),Ce.createElement("path",{fill:l,d:C,shapeRendering:"crispEdges"}),_)});rD.displayName="QRCodeSVG";var SS={exports:{}};(function(e){var t=function(){var n=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function s(l,u){if(!r[l]){r[l]={};for(var d=0;d<l.length;d++)r[l][l.charAt(d)]=d}return r[l][u]}var a={compressToBase64:function(l){if(l==null)return"";var u=a._compress(l,6,function(d){return o.charAt(d)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(u){return s(o,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=a.compress(l),d=new Uint8Array(u.length*2),h=0,p=u.length;h<p;h++){var g=u.charCodeAt(h);d[h*2]=g>>>8,d[h*2+1]=g%256}return d},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var u=new Array(l.length/2),d=0,h=u.length;d<h;d++)u[d]=l[d*2]*256+l[d*2+1];var p=[];return u.forEach(function(g){p.push(n(g))}),a.decompress(p.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(u){return s(i,l.charAt(u))}))},compress:function(l){return a._compress(l,16,function(u){return n(u)})},_compress:function(l,u,d){if(l==null)return"";var h,p,g={},v={},T="",E="",S="",y=2,x=3,w=2,_=[],C=0,I=0,A;for(A=0;A<l.length;A+=1)if(T=l.charAt(A),Object.prototype.hasOwnProperty.call(g,T)||(g[T]=x++,v[T]=!0),E=S+T,Object.prototype.hasOwnProperty.call(g,E))S=E;else{if(Object.prototype.hasOwnProperty.call(v,S)){if(S.charCodeAt(0)<256){for(h=0;h<w;h++)C=C<<1,I==u-1?(I=0,_.push(d(C)),C=0):I++;for(p=S.charCodeAt(0),h=0;h<8;h++)C=C<<1|p&1,I==u-1?(I=0,_.push(d(C)),C=0):I++,p=p>>1}else{for(p=1,h=0;h<w;h++)C=C<<1|p,I==u-1?(I=0,_.push(d(C)),C=0):I++,p=0;for(p=S.charCodeAt(0),h=0;h<16;h++)C=C<<1|p&1,I==u-1?(I=0,_.push(d(C)),C=0):I++,p=p>>1}y--,y==0&&(y=Math.pow(2,w),w++),delete v[S]}else for(p=g[S],h=0;h<w;h++)C=C<<1|p&1,I==u-1?(I=0,_.push(d(C)),C=0):I++,p=p>>1;y--,y==0&&(y=Math.pow(2,w),w++),g[E]=x++,S=String(T)}if(S!==""){if(Object.prototype.hasOwnProperty.call(v,S)){if(S.charCodeAt(0)<256){for(h=0;h<w;h++)C=C<<1,I==u-1?(I=0,_.push(d(C)),C=0):I++;for(p=S.charCodeAt(0),h=0;h<8;h++)C=C<<1|p&1,I==u-1?(I=0,_.push(d(C)),C=0):I++,p=p>>1}else{for(p=1,h=0;h<w;h++)C=C<<1|p,I==u-1?(I=0,_.push(d(C)),C=0):I++,p=0;for(p=S.charCodeAt(0),h=0;h<16;h++)C=C<<1|p&1,I==u-1?(I=0,_.push(d(C)),C=0):I++,p=p>>1}y--,y==0&&(y=Math.pow(2,w),w++),delete v[S]}else for(p=g[S],h=0;h<w;h++)C=C<<1|p&1,I==u-1?(I=0,_.push(d(C)),C=0):I++,p=p>>1;y--,y==0&&(y=Math.pow(2,w),w++)}for(p=2,h=0;h<w;h++)C=C<<1|p&1,I==u-1?(I=0,_.push(d(C)),C=0):I++,p=p>>1;for(;;)if(C=C<<1,I==u-1){_.push(d(C));break}else I++;return _.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,d){var h=[],p=4,g=4,v=3,T="",E=[],S,y,x,w,_,C,I,A={val:d(0),position:u,index:1};for(S=0;S<3;S+=1)h[S]=S;for(x=0,_=Math.pow(2,2),C=1;C!=_;)w=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=d(A.index++)),x|=(w>0?1:0)*C,C<<=1;switch(x){case 0:for(x=0,_=Math.pow(2,8),C=1;C!=_;)w=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=d(A.index++)),x|=(w>0?1:0)*C,C<<=1;I=n(x);break;case 1:for(x=0,_=Math.pow(2,16),C=1;C!=_;)w=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=d(A.index++)),x|=(w>0?1:0)*C,C<<=1;I=n(x);break;case 2:return""}for(h[3]=I,y=I,E.push(I);;){if(A.index>l)return"";for(x=0,_=Math.pow(2,v),C=1;C!=_;)w=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=d(A.index++)),x|=(w>0?1:0)*C,C<<=1;switch(I=x){case 0:for(x=0,_=Math.pow(2,8),C=1;C!=_;)w=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=d(A.index++)),x|=(w>0?1:0)*C,C<<=1;h[g++]=n(x),I=g-1,p--;break;case 1:for(x=0,_=Math.pow(2,16),C=1;C!=_;)w=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=d(A.index++)),x|=(w>0?1:0)*C,C<<=1;h[g++]=n(x),I=g-1,p--;break;case 2:return E.join("")}if(p==0&&(p=Math.pow(2,v),v++),h[I])T=h[I];else if(I===g)T=y+y.charAt(0);else return null;E.push(T),h[g++]=y+T.charAt(0),p--,y=T,p==0&&(p=Math.pow(2,v),v++)}}};return a}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(SS);var sD=SS.exports;const nc=hg(sD),Yr=({title:e,icon:t,player:n,gradientClass:o,borderColorClass:i,glowColor:r,desc:s})=>m.jsxs("div",{className:`relative w-full overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-1 border-t border-white/20 ${o} group`,children:[m.jsx("div",{className:"absolute -top-12 -right-12 w-48 h-48 bg-white opacity-10 rounded-full blur-3xl pointer-events-none"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-full h-3/4 bg-gradient-to-t from-black/60 via-black/20 to-transparent pointer-events-none"}),m.jsxs("div",{className:"relative z-10 flex flex-col items-center p-5 text-center",children:[m.jsxs("div",{className:"w-full flex justify-center items-center relative mb-4",children:[m.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white/80 group-hover:text-white group-hover:scale-110 transition-all duration-500 filter drop-shadow-md",children:t}),m.jsx("h3",{className:"text-2xl font-black text-white tracking-wider drop-shadow-md",children:e})]}),m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full mb-3",children:[m.jsxs("div",{className:"relative mb-3",children:[m.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full blur-md transform scale-110 group-hover:scale-125 transition duration-700"}),m.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white/90 relative z-10 shadow-2xl bg-slate-200 dark:bg-slate-700",children:n.avatar.startsWith("data:")?m.jsx("img",{src:n.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-4xl text-slate-500",children:n.name[0]})}),m.jsx("div",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 bg-white text-slate-900 text-xs font-bold px-3 py-0.5 rounded-full shadow-lg z-20 border border-slate-200 whitespace-nowrap",children:n.mbti})]}),m.jsx("div",{className:"text-3xl font-bold text-white drop-shadow-md mt-2",children:n.name})]}),m.jsx("div",{className:"w-full bg-black/20 backdrop-blur-md border border-white/10 rounded-xl p-2.5 flex items-center justify-center",children:m.jsx("p",{className:"text-xs text-white/90 font-medium leading-snug",children:s})})]})]}),fg=({players:e,report:t,onReturnHome:n,startTime:o,gameMode:i})=>{const[r,s]=k.useState({awards:!0,group:!1,winner:!1}),[a,l]=k.useState({}),[u,d]=k.useState(!1);`${window.location.origin}${window.location.pathname}${nc.compressToEncodedURIComponent(JSON.stringify({players:e,report:t,startTime:o,gameMode:i}))}`;const h=[...e].sort((y,x)=>x.trustScore+x.insightScore+x.expressionScore-(y.trustScore+y.insightScore+y.expressionScore)),p=h[0],g=y=>[...e].sort((x,w)=>w[y]-x[y])[0],v=[...e].sort((y,x)=>x.totalRatingGiven-y.totalRatingGiven)[0],T=y=>{s(x=>({...x,[y]:!x[y]}))},E=y=>{l(x=>({...x,[y]:!x[y]}))},S=()=>{const y=new Date(o).toLocaleString("zh-CN"),x=Math.floor((Date.now()-o)/6e4),w=`
        <!DOCTYPE html>
        <html lang="zh-CN">
        <head>
            <meta charset="UTF-8">
            <title> -  (${y})</title>
            <style>
                body { font-family: sans-serif; background: #0f172a; color: #e2e8f0; padding: 40px; max-width: 800px; margin: 0 auto; }
                h1, h2 { color: #2dd4bf; border-bottom: 1px solid #334155; padding-bottom: 10px; }
                .card { background: #1e293b; padding: 20px; margin-bottom: 20px; border-radius: 12px; border: 1px solid #334155; }
                .highlight { color: #f59e0b; font-weight: bold; }
                .player-row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; padding: 10px; background: #0f172a; border-radius: 8px; }
                .tag { font-size: 0.8em; padding: 2px 8px; border-radius: 12px; background: #334155; }
            </style>
        </head>
        <body>
            <h1>  - </h1>
            <div class="card">
                <p><strong>:</strong> ${y}</p>
                <p><strong>:</strong> ${x} </p>
                <p><strong>:</strong> ${i}</p>
                <p><strong>:</strong> ${e.length} </p>
            </div>

            <h2> </h2>
            <div class="card">
                <p> <strong> ():</strong> ${p.name}</p>
                <p> <strong> ():</strong> ${g("trustScore").name}</p>
                <p> <strong> ():</strong> ${g("insightScore").name}</p>
                <p> <strong> ():</strong> ${g("expressionScore").name}</p>
                <p> <strong> ():</strong> ${v.name}</p>
            </div>

            <h2> </h2>
            <div class="card">
                <p>${t.groupAnalysis}</p>
            </div>

            <h2> </h2>
            ${h.map(A=>`
                <div class="card">
                    <div class="player-row">
                        <strong>${A.name}</strong> <span class="tag">${A.mbti}</span>
                        <span style="margin-left:auto" class="highlight">: ${A.trustScore+A.insightScore+A.expressionScore}</span>
                    </div>
                    <p><em>"${t.playerAnalysis[A.id]||"..."}"</em></p>
                    <p style="font-size: 0.9em; opacity: 0.8">
                        : ${A.trustScore} | : ${A.insightScore} | : ${A.expressionScore}
                    </p>
                </div>
            `).join("")}
            
            <footer style="text-align: center; margin-top: 40px; color: #64748b; font-size: 0.8em;">
                Generated by Rainbow Boat
            </footer>
        </body>
        </html>
      `,_=new Blob([w],{type:"text/html"}),C=URL.createObjectURL(_),I=document.createElement("a");I.href=C,I.download=`__${new Date().toISOString().slice(0,10)}.html`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(C)};return m.jsx("div",{className:"h-full w-full overflow-y-auto p-8 bg-slate-50/80 dark:bg-slate-900/80 text-slate-800 dark:text-white custom-scrollbar transition-colors duration-300 backdrop-blur-sm",children:m.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-20",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx(Fe.div,{initial:{scale:0},animate:{scale:1},className:"inline-block p-4 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full shadow-lg mb-4",children:m.jsx(Iv,{size:48,className:"text-white"})}),m.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-[linear-gradient(to_right,#ef4444,#f97316,#eab308,#22c55e,#3b82f6,#a855f7)]",children:"  "}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg font-light tracking-wide",children:"  "})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-2 px-2",children:[m.jsx(Uk,{className:"text-teal-600 dark:text-teal-400"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:""})]}),m.jsx(Jt,{children:r.awards&&m.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(Yr,{title:"",icon:m.jsx(qk,{size:32}),player:g("trustScore"),gradientClass:"bg-gradient-to-br from-blue-400 to-blue-600",borderColorClass:"border-blue-300",glowColor:"#60a5fa",desc:`: ${g("trustScore").trustScore} - `}),m.jsx(Yr,{title:"",icon:m.jsx(jk,{size:32}),player:g("insightScore"),gradientClass:"bg-gradient-to-br from-purple-400 to-purple-600",borderColorClass:"border-purple-300",glowColor:"#a855f7",desc:`: ${g("insightScore").insightScore} - `}),m.jsx(Yr,{title:"",icon:m.jsx(Cv,{size:32}),player:g("expressionScore"),gradientClass:"bg-gradient-to-br from-orange-400 to-red-500",borderColorClass:"border-orange-300",glowColor:"#f97316",desc:`: ${g("expressionScore").expressionScore} - `}),m.jsx(Yr,{title:"",icon:m.jsx(Jk,{size:32}),player:v,gradientClass:"bg-gradient-to-br from-pink-400 to-rose-600",borderColorClass:"border-pink-300",glowColor:"#ec4899",desc:`: ${v.totalRatingGiven} - `})]})}),m.jsx("div",{className:"mt-12 flex justify-center",children:m.jsx("button",{onClick:()=>T("winner"),className:"relative group w-full max-w-3xl",children:m.jsx("div",{className:`w-full p-1 rounded-3xl transition-all duration-500 transform hover:scale-[1.02] ${r.winner?"bg-gradient-to-r from-yellow-300 via-amber-400 to-yellow-300 animate-pulse":"bg-slate-200 dark:bg-slate-700"}`,children:m.jsx("div",{className:`w-full h-full p-8 rounded-[22px] border-2 flex flex-col items-center shadow-2xl relative overflow-hidden ${r.winner?"bg-slate-50 dark:bg-slate-900 border-transparent":"bg-slate-100 dark:bg-slate-800 border-dashed border-slate-300 dark:border-slate-600"}`,children:r.winner?m.jsxs(Fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 flex flex-col md:flex-row items-center gap-10 w-full justify-center",children:[m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-yellow-500/20 rounded-full blur-3xl -z-10"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden border-[6px] border-yellow-400 shadow-[0_0_30px_rgba(251,191,36,0.6)]",children:p.avatar.startsWith("data:")?m.jsx("img",{src:p.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 w-full h-full flex items-center justify-center font-bold text-5xl",children:p.name[0]})}),m.jsx("div",{className:"absolute -top-6 -right-6 text-7xl drop-shadow-lg filter animate-bounce",children:""})]}),m.jsxs("div",{className:"text-center md:text-left",children:[m.jsx("div",{className:"text-amber-500 dark:text-amber-400 font-black text-2xl mb-2 uppercase tracking-[0.2em]",children:""}),m.jsx("div",{className:"text-5xl font-black text-slate-900 dark:text-white mb-4 drop-shadow-sm",children:p.name}),m.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start",children:[m.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700",children:m.jsx("span",{className:"text-lg font-bold text-slate-800 dark:text-white",children:p.mbti})}),m.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 px-4 py-2 rounded-lg border border-yellow-200 dark:border-yellow-700",children:[m.jsx("span",{className:"text-sm text-yellow-600 dark:text-yellow-500 mr-2",children:""}),m.jsx("span",{className:"text-2xl font-black text-yellow-600 dark:text-yellow-400",children:p.trustScore+p.insightScore+p.expressionScore})]})]})]})]}):m.jsxs("div",{className:"py-8 flex flex-col items-center text-slate-500 dark:text-slate-400",children:[m.jsx(ia,{size:48,className:"mb-4 text-slate-400 dark:text-slate-500"}),m.jsx("span",{className:"font-bold text-xl",children:""})]})})})})})]}),m.jsxs("div",{className:"space-y-4 pt-8 border-t border-slate-200 dark:border-slate-700/50",children:[m.jsxs("button",{onClick:()=>T("group"),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 hover:border-teal-500 transition group",children:[m.jsxs("span",{className:"font-bold text-xl flex items-center gap-3 text-teal-600 dark:text-teal-400 group-hover:scale-105 transition-transform",children:[m.jsx(Lk,{})," "]}),r.group?m.jsx(Vk,{}):m.jsx(ia,{size:18,className:"text-slate-400"})]}),m.jsx(Jt,{children:r.group&&m.jsx(Fe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:m.jsx("div",{className:"text-slate-700 dark:text-slate-200 leading-relaxed text-lg bg-slate-50 dark:bg-slate-900/80 p-8 rounded-2xl border border-slate-200 dark:border-slate-700/50 shadow-inner whitespace-pre-wrap",children:t.groupAnalysis||"AI ..."})})})]}),m.jsxs("div",{className:"space-y-4 pt-4",children:[m.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-blue-600 dark:text-blue-400 px-2",children:[m.jsx(ku,{}),"  ()"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map((y,x)=>m.jsxs(Fe.div,{className:`bg-white dark:bg-slate-800/60 backdrop-blur rounded-xl border transition-all duration-300 ${a[y.id]?"border-teal-500 shadow-lg ring-1 ring-teal-500/20":"border-slate-200 dark:border-slate-700 hover:border-slate-400"}`,children:[m.jsxs("button",{onClick:()=>E(y.id),className:"w-full p-4 flex items-center gap-4 text-left",children:[m.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-slate-200 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 shrink-0 shadow-sm",children:y.avatar.startsWith("data:")?m.jsx("img",{src:y.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-xl",children:y.name[0]})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:y.name}),m.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-900 text-slate-600 dark:text-slate-400 px-2 py-1 rounded-full font-mono border border-slate-200 dark:border-slate-700",children:y.mbti})]}),m.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:a[y.id]?m.jsxs(m.Fragment,{children:[m.jsx(Xk,{size:12,className:"text-teal-500"})," "]}):m.jsxs(m.Fragment,{children:[m.jsx(ia,{size:12})," ..."]})})]})]}),m.jsx(Jt,{children:a[y.id]&&m.jsx(Fe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden px-4 pb-4 border-t border-slate-100 dark:border-slate-700/50",children:m.jsxs("div",{className:"pt-4",children:[m.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-300 italic mb-4 bg-slate-50 dark:bg-slate-900/30 p-4 rounded-lg border-l-4 border-teal-500 whitespace-pre-wrap leading-relaxed",children:['"',t.playerAnalysis[y.id]||"AI ...",'"']}),m.jsxs("div",{className:"flex gap-2 text-xs font-mono opacity-90",children:[m.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:[": ",y.trustScore]}),m.jsxs("span",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-1 rounded",children:[": ",y.insightScore]}),m.jsxs("span",{className:"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 px-2 py-1 rounded",children:[": ",y.expressionScore]})]})]})})})]},y.id))})]}),m.jsxs("div",{className:"flex justify-center pt-8 gap-4",children:[m.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 dark:bg-slate-800 dark:hover:bg-slate-700 text-white px-6 py-3 rounded-full font-bold transition shadow-lg border border-slate-600",children:[m.jsx(Tv,{size:20})," "]}),m.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-full font-bold transition shadow-lg border border-purple-400",children:[m.jsx(Yh,{size:20})," "]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-500 hover:to-blue-500 text-white px-8 py-3 rounded-full font-bold transition shadow-lg transform hover:scale-105",children:[m.jsx(Wk,{size:20})," "]})]}),u&&m.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-slate-900/95 backdrop-blur-md p-4 animate-in fade-in duration-300",children:m.jsxs("div",{className:"w-full max-w-5xl h-[85vh] flex flex-col bg-slate-800 rounded-3xl overflow-hidden shadow-2xl border border-slate-700",children:[m.jsxs("div",{className:"p-6 border-b border-slate-700 flex justify-between items-center bg-slate-800 z-10",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[m.jsx(Yh,{className:"text-purple-500"}),"   "]}),m.jsx("p",{className:"text-slate-400 text-sm mt-1",children:""})]}),m.jsxs("button",{onClick:()=>d(!1),className:"px-6 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-full font-bold transition",children:[m.jsx(wl,{size:20})," "]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(y=>{const x={players:[y],report:{groupAnalysis:t.groupAnalysis,playerAnalysis:{[y.id]:t.playerAnalysis[y.id]}},startTime:o,gameMode:i},w=`${window.location.origin}${window.location.pathname}?share_data=${nc.compressToEncodedURIComponent(JSON.stringify(x))}`;return m.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 border border-slate-700 flex flex-col items-center gap-4 hover:border-purple-500 transition-colors group",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full",children:[m.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-slate-800 border border-slate-600",children:y.avatar.startsWith("data:")?m.jsx("img",{src:y.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-lg text-white",children:y.name[0]})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-bold text-white text-lg",children:y.name}),m.jsx("div",{className:"text-xs text-purple-400 font-mono",children:y.mbti})]})]}),m.jsx("div",{className:"p-3 bg-white rounded-xl shadow-inner mt-2",children:m.jsx(xS,{value:w,size:160,level:"M",includeMargin:!1})}),m.jsxs("p",{className:"text-xs text-slate-500 text-center",children:["",m.jsx("br",{}),m.jsxs("span",{className:"text-purple-400",children:['"',y.name,'"']})," "]})]},y.id)})})})]})})]})})};let mo=[];const TS=()=>{mo=window.speechSynthesis.getVoices().filter(e=>e.lang.includes("zh")||e.lang.includes("CN"))};window.speechSynthesis.onvoiceschanged!==void 0&&(window.speechSynthesis.onvoiceschanged=TS);const lD=(e,t="system")=>{if(!window.speechSynthesis)return;window.speechSynthesis.cancel(),mo.length===0&&TS();const n=new SpeechSynthesisUtterance(e);if(n.rate=1.2,n.pitch=1,mo.length>0)if(t==="system")n.voice=mo[0];else{let o=0;for(let r=0;r<t.length;r++)o=t.charCodeAt(r)+((o<<5)-o);const i=Math.abs(o)%mo.length;n.voice=mo[i],n.pitch=.8+Math.abs(o)%5/10}window.speechSynthesis.speak(n)};let xt=null;const ES=()=>"webkitSpeechRecognition"in window||"SpeechRecognition"in window,aD=(e,t)=>{if(!ES())return null;const n=window.SpeechRecognition||window.webkitSpeechRecognition;xt=new n,xt.continuous=!0,xt.interimResults=!0,xt.lang="zh-CN",xt.onresult=o=>{let i="";for(let r=o.resultIndex;r<o.results.length;++r)o.results[r].isFinal&&(i+=o.results[r][0].transcript);i&&e(i)},xt.onerror=o=>{console.warn("Speech recognition error",o.error)},xt.onend=()=>{t()};try{xt.start()}catch{console.warn("Speech recognition already started")}return xt},uD=()=>{xt&&(xt.stop(),xt=null)};let Jo=null,pg=null,po=null,zi=null,oc;const wS=async e=>{try{zi=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),Jo=new(window.AudioContext||window.webkitAudioContext),po=Jo.createAnalyser(),po.fftSize=256,pg=Jo.createMediaStreamSource(zi),pg.connect(po);const t=new Uint8Array(po.frequencyBinCount),n=()=>{if(!po)return;po.getByteFrequencyData(t);let o=0;for(let s=0;s<t.length;s++)o+=t[s];const r=o/t.length/255;e(r),oc=requestAnimationFrame(n)};n()}catch(t){console.error("Audio monitoring failed",t)}},CS=()=>{oc&&cancelAnimationFrame(oc),zi&&(zi.getTracks().forEach(e=>e.stop()),zi=null),Jo&&(Jo.close(),Jo=null)},jr=["#ef4444","#f97316","#eab308","#84cc16","#06b6d4","#8b5cf6","#d946ef","#f43f5e","#be123c","#0f766e","#1d4ed8","#4338ca","#a21caf","#be185d","#881337","#7c2d12"],cD=()=>pu[Math.floor(Math.random()*pu.length)],dD=({value:e,rolling:t})=>m.jsxs("div",{className:"relative w-24 h-24 perspective-[800px] flex items-center justify-center pointer-events-none z-20",children:[m.jsx("style",{children:`
                .dice-wrap { width: 60px; height: 60px; position: relative; transform-style: preserve-3d; }
                .dice-wrap.spinning { animation: spin3d 0.5s infinite linear; }
                @keyframes spin3d {
                    0% { transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg); }
                    100% { transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); }
                }
                .face { position: absolute; width: 60px; height: 60px; background: rgba(20, 184, 166, 0.9); border: 2px solid #fff; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size: 24px; color: #fff; box-shadow: 0 0 15px rgba(45,212,191,0.5); border-radius: 8px; }
                .face:nth-child(1) { transform: rotateY(0deg) translateZ(30px); }
                .face:nth-child(2) { transform: rotateY(90deg) translateZ(30px); }
                .face:nth-child(3) { transform: rotateY(180deg) translateZ(30px); }
                .face:nth-child(4) { transform: rotateY(-90deg) translateZ(30px); }
                .face:nth-child(5) { transform: rotateX(90deg) translateZ(30px); }
                .face:nth-child(6) { transform: rotateX(-90deg) translateZ(30px); }
            `}),m.jsx("div",{className:`dice-wrap ${t?"spinning":""} transition-all duration-500`,children:[1,2,3,4,8,6].map((n,o)=>m.jsx("div",{className:"face",children:t?"?":o===0?e:n},o))})]}),fD=()=>{const[e,t]=k.useState(0),[n,o]=k.useState(!1);return k.useEffect(()=>((()=>{o(!0),wS(r=>t(r))})(),()=>{CS(),o(!1)}),[]),m.jsx("div",{className:"absolute top-0 left-0 right-0 h-40 pointer-events-none flex items-center justify-center overflow-hidden opacity-40 z-0",children:m.jsx("div",{className:"relative w-full h-full flex items-center justify-center gap-1.5 px-4",children:Array.from({length:96}).map((i,r)=>{const s=r/96,a=Math.sin(s*Math.PI);return m.jsx("div",{className:`w-1 rounded-full transition-all duration-75 ${e>.05?"bg-teal-400 shadow-[0_0_10px_#2dd4bf]":"bg-slate-500/20"}`,style:{height:`${Math.max(4,e*200*a+Math.random()*10*a)}px`}},r)})})})},pD=({reviewer:e,actor:t,onSubmit:n,hasHighEnergyBonus:o})=>{const[i,r]=k.useState(5);return m.jsx(Fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md",children:m.jsxs("div",{className:"bg-slate-800 p-8 rounded-3xl border border-slate-700 shadow-2xl max-w-md w-full text-center",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-slate-500 relative",children:e.avatar.startsWith("data:")?m.jsx("img",{src:e.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"bg-slate-700 w-full h-full flex items-center justify-center font-bold text-2xl",children:e.name[0]})})}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:""}),m.jsxs("p",{className:"text-slate-400 mb-6",children:[m.jsx("strong",{children:e.name})," ",m.jsx("strong",{children:t.name})," "]}),o&&m.jsx("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500/50 rounded-xl animate-pulse",children:m.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 font-bold",children:[m.jsx(Av,{fill:"currentColor",size:20})," "]})}),m.jsx("div",{className:"flex justify-center gap-2 mb-8",children:[1,2,3,4,5].map(s=>m.jsx("button",{onClick:()=>r(s),className:"transition transform hover:scale-110",children:m.jsx(cP,{size:40,fill:s<=i?"#fbbf24":"none",stroke:s<=i?"#fbbf24":"#475569"})},s))}),m.jsxs("div",{className:"text-xl font-bold text-yellow-500 mb-8",children:[i,"  - ",i===5?"":i>=3?"":""]}),m.jsx("button",{onClick:()=>n(i),className:"w-full py-4 bg-gradient-to-r from-teal-500 to-blue-600 rounded-xl font-bold text-white text-lg shadow-lg",children:""})]})})},hD=e=>{let t=[],n=0;const o=()=>{const i=Math.random();return i<.5?"NORMAL":i<.7?"DOUBLE":i<.8?"HALF":i<.9?"CLONE":"TRANSFER"};if(e===Ee.JUNG_8){const i=["Te","Ti","Fe","Fi","Se","Si","Ne","Ni"];let s=[];i.forEach(l=>{for(let u=0;u<7;u++)s.push(l)});for(let l=0;l<4;l++)s.push("?");for(let l=s.length-1;l>0;l--){const u=Math.floor(Math.random()*(l+1));[s[l],s[u]]=[s[u],s[l]]}const a=["FREEDOM","SUBSTITUTE","COMPANION","FREEDOM"];for(let l=-4;l<=4;l++){const u=Math.max(-4,-l-4),d=Math.min(4,-l+4);for(let h=u;h<=d;h++){const p=l===0&&h===0;let g=p?"?":s.pop()||"Te",v="NORMAL",T="NONE";g==="?"?p?T="FREEDOM":T=a.pop()||"FREEDOM":v=o(),t.push({index:n++,functionId:g,modifier:v,specialAbility:T,q:l,r:h})}}}else{const i=[{id:"NF",types:Kt[" (NF)"].types,coords:[{q:0,r:0},{q:1,r:0},{q:2,r:0},{q:0,r:1},{q:0,r:2},{q:0,r:3},{q:1,r:3},{q:2,r:3}]},{id:"NT",types:Kt[" (NT)"].types,coords:[{q:6,r:0},{q:5,r:0},{q:4,r:0},{q:6,r:1},{q:6,r:2},{q:3,r:0},{q:3,r:1},{q:3,r:2}]},{id:"SP",types:Kt[" (SP)"].types,coords:[{q:6,r:6},{q:5,r:6},{q:4,r:6},{q:6,r:5},{q:6,r:4},{q:6,r:3},{q:5,r:3},{q:4,r:3}]},{id:"SJ",types:Kt[" (SJ)"].types,coords:[{q:0,r:6},{q:1,r:6},{q:2,r:6},{q:0,r:5},{q:0,r:4},{q:3,r:6},{q:3,r:5},{q:3,r:4}]}];t.push({index:n++,functionId:"Hub",characterName:hu.Hub,q:3,r:3,zone:"Hub",modifier:"NORMAL",specialAbility:"FREEDOM"}),i.forEach(r=>{let s=[];r.types.forEach(a=>{s.push(a),s.push(a)});for(let a=s.length-1;a>0;a--){const l=Math.floor(Math.random()*(a+1));[s[a],s[l]]=[s[l],s[a]]}r.coords.forEach((a,l)=>{const u=s[l]||"INTJ",d=hu[u];t.push({index:n++,functionId:u,characterName:d,q:a.q,r:a.r,zone:r.id,modifier:o(),specialAbility:"NONE"})})})}return t};function mD(){var tf;const[e,t]=k.useState([]),[n,o]=k.useState([]),[i,r]=k.useState(!1),[s,a]=k.useState(!0),[l,u]=k.useState({players:[],currentPlayerIndex:0,gameMode:Ee.JUNG_8,turn:1,targetScore:40,logs:[],phase:"ONBOARDING",subPhase:"IDLE",currentTile:null,selectedTask:null,activeModifier:"NORMAL",activeSpecialAbility:"NONE",remainingSteps:0,sightRange:1,helperId:null,scoreTargetPlayerId:null,sharedHelpUsedCount:0,hasReselected:!1,pregeneratedTasks:null,movementState:"IDLE",diceValue:null,highestScore:0,snapshots:[],startTime:Date.now(),peerReviewQueue:[],currentReviewerId:null,accumulatedRating:0}),[d,h]=k.useState(!1),[p,g]=k.useState(0),[v,T]=k.useState(null),[E,S]=k.useState(0),[y,x]=k.useState(!1),[w,_]=k.useState(!1),[C,I]=k.useState(""),[A,b]=k.useState(!1),[D,O]=k.useState(null),[de,Q]=k.useState(0),[oe,fe]=k.useState(!1),[se,ee]=k.useState(!1);k.useEffect(()=>{const R=new URLSearchParams(window.location.search).get("share_data");if(R)try{const M=nc.decompressFromEncodedURIComponent(R);if(M){const V=JSON.parse(M);O(V)}}catch(M){console.error("Failed to parse shared data",M)}},[]);const P=k.useRef(null);k.useEffect(()=>{P.current=new Audio("https://cdn.pixabay.com/audio/2022/05/27/audio_1808fbf07a.mp3"),P.current.loop=!0,P.current.volume=.2},[]),k.useEffect(()=>{P.current&&(d?P.current.volume=A?.02:.2:P.current.pause())},[A,d]),k.useEffect(()=>{P.current&&(d?P.current.play().catch(N=>console.log("Audio autoplay blocked until interaction")):P.current.pause())},[d]),k.useEffect(()=>{const N=document.documentElement;s?N.classList.add("dark"):N.classList.remove("dark")},[s]);const B=()=>a(!s);k.useEffect(()=>{if(l.phase!=="PLAYING")return;const N=l.players[l.currentPlayerIndex];if(!N||!N.isBot&&se)return;let R;return l.subPhase==="IDLE"&&l.movementState==="IDLE"&&l.remainingSteps===0&&N.isBot&&(R=setTimeout(()=>at(),1500)),l.movementState==="IDLE"&&l.remainingSteps>0&&n.length>0&&N.isBot&&(R=setTimeout(()=>{const M=n[Math.floor(Math.random()*n.length)];zt(M)},1500)),l.subPhase==="SELECTING_CARD"&&(R=setTimeout(()=>{const M=["standard","truth","dare","deep"],V=M[Math.floor(Math.random()*M.length)];qd(V)},2e3)),l.subPhase==="VIEWING_TASK"&&(R=setTimeout(()=>{Wd(),setTimeout(()=>{Kd()},3e3)},2e3)),["SELECTING_SCORE_TARGET","SELECTING_SUBSTITUTE","SELECTING_COMPANION","CHOOSING_HELPER"].includes(l.subPhase)&&(R=setTimeout(()=>{const M=l.players.filter(q=>q.id!==N.id),V=M[Math.floor(Math.random()*M.length)];V&&(l.subPhase==="SELECTING_SCORE_TARGET"?Yd(V.id):l.subPhase==="SELECTING_SUBSTITUTE"?zd(V.id):l.subPhase==="SELECTING_COMPANION"?$d(V.id):l.subPhase==="CHOOSING_HELPER"&&Jd(V.id))},2e3)),()=>clearTimeout(R)},[l.phase,l.subPhase,l.movementState,l.remainingSteps,l.currentPlayerIndex,n,se]),k.useEffect(()=>{if(l.subPhase==="PEER_REVIEW"&&l.currentReviewerId){const N=l.players.find(R=>R.id===l.currentReviewerId);if(N&&N.isBot){const R=setTimeout(()=>{Nl(Math.random()>.3?5:4)},1500);return()=>clearTimeout(R)}}},[l.subPhase,l.currentReviewerId]);const z=(N,R)=>{const M=R.find(Y=>Y.index===N.position);if(!M)return[];let V=[];l.gameMode===Ee.JUNG_8?V=lw(M,R):V=sw(M,R);const q=V.filter(Y=>Y.index!==N.previousPosition);if(l.movementState==="TELEPORTING")return R.filter(Y=>Y.functionId!=="Hub").map(Y=>Y.index);if(l.gameMode===Ee.MBTI_16)return q.map(Y=>Y.index);const K=ta[N.mbti]||[];let le="?",j=N.stackIndex+1;for(let Y=0;Y<K.length;Y++){const ut=(j+Y)%K.length,Pt=K[ut];if(q.some(tt=>tt.functionId===Pt)){le=Pt;break}}return q.filter(Y=>Y.functionId===le||Y.functionId==="?").map(Y=>Y.index)};k.useEffect(()=>{if(l.phase!=="PLAYING")return;const N=l.players[l.currentPlayerIndex];if(N)if(l.movementState==="IDLE"&&l.remainingSteps>0){const R=z(N,e);o(R)}else if(l.movementState==="TELEPORTING"){const R=e.filter(M=>M.index!==N.position).map(M=>M.index);o(R)}else l.remainingSteps===0&&l.movementState==="IDLE"&&o([])},[l.remainingSteps,l.movementState,l.currentPlayerIndex,l.players]);const F=(N,R="system",M,V)=>{const q={id:Date.now().toString()+Math.random(),text:N,type:R,author:M,timestamp:Date.now(),taskDetails:V};u(K=>({...K,logs:[...K.logs,q]})),M&&M!=="system"&&lD(N,M)},H=N=>{u(R=>({...R,snapshots:[...R.snapshots,N]}))},ie=(N,R,M,V)=>{u(le=>({...le,phase:"LOADING"}));let q=0;const K=setInterval(()=>{q+=1,S(q),q>=100&&(clearInterval(K),x(!0))},50);window.pendingGameConfig={humanPlayers:N,mode:R,botCount:M,targetScore:V}},Ge=()=>{const N=window.pendingGameConfig;yt(N.humanPlayers,N.mode,N.botCount,N.targetScore)},yt=(N,R,M,V)=>{const q=hD(R);t(q);const K=R===Ee.MBTI_16?3:0,le=R===Ee.MBTI_16?3:0,j=q.find(Y=>Y.q===K&&Y.r===le),et=N.map((Y,ut)=>{let Pt=(j==null?void 0:j.index)||0;if(R===Ee.MBTI_16){const Be=q.filter(tt=>tt.functionId===Y.mbti);Be.length>0&&(Pt=Be[Math.floor(Math.random()*Be.length)].index)}return{id:`user-${ut}`,name:Y.name||`P${ut+1}`,mbti:Y.mbti,isBot:!1,avatar:Y.avatarImage||"user",color:jr[ut%jr.length],trustScore:0,insightScore:0,expressionScore:0,totalRatingGiven:0,position:Pt,previousPosition:null,stackIndex:0,skipUsedCount:0}});for(let Y=0;Y<M;Y++){const ut=cD(),Pt=iw[ut]||[`Bot ${Y}`];let Be=(j==null?void 0:j.index)||0;if(R===Ee.MBTI_16){const tt=q.filter(mn=>mn.functionId===ut);tt.length>0&&(Be=tt[Math.floor(Math.random()*tt.length)].index)}et.push({id:`bot-${Y}`,name:Pt[0],mbti:ut,isBot:!0,avatar:"bot",color:jr[et.length%jr.length],trustScore:0,insightScore:0,expressionScore:0,totalRatingGiven:0,position:Be,previousPosition:null,stackIndex:0,skipUsedCount:0})}u(Y=>({...Y,players:et,gameMode:R,targetScore:V,phase:"PLAYING",subPhase:"IDLE",logs:[{id:"0",text:"",type:"system",timestamp:Date.now()}],sightRange:1})),h(!0),P.current&&(P.current.volume=.2,P.current.play().catch(Y=>console.warn("Autoplay prevented:",Y)))},at=N=>{const R=l.players[l.currentPlayerIndex];u(M=>({...M,movementState:"ROLLING"})),setTimeout(()=>{const M=N||Math.floor(Math.random()*8)+1,V=Math.random()>.5?2:1;u(q=>({...q,diceValue:M,remainingSteps:M,sightRange:V,movementState:"IDLE",activeModifier:"NORMAL",activeSpecialAbility:"NONE",helperId:null,scoreTargetPlayerId:null})),fe(!1),F(`${R.name}  ${M}  (: ${V})`,"action")},1e3)},zt=N=>{if(!n.includes(N))return;const R=l.players[l.currentPlayerIndex],M=e.find(le=>le.index===N);if(!M)return;const V=ta[R.mbti]||[];let q=R.stackIndex;if(l.gameMode===Ee.JUNG_8&&M.functionId!=="?")for(let le=1;le<V.length;le++){const j=(R.stackIndex+le)%V.length;if(V[j]===M.functionId){q=j;break}}const K=l.movementState==="TELEPORTING";u(le=>{const j=[...le.players],et=j[le.currentPlayerIndex];et.previousPosition=et.position,et.position=N,et.stackIndex=q;const Y=K?0:le.remainingSteps-1;return{...le,players:j,currentTile:M,remainingSteps:Y,movementState:"MOVING_STEP",activeModifier:M.modifier,activeSpecialAbility:M.specialAbility}}),o([]),setTimeout(()=>{K||l.remainingSteps===1?IS(M,K):u(le=>({...le,movementState:"IDLE"}))},600)},IS=(N,R)=>{const M=l.players[l.currentPlayerIndex];if(u(V=>({...V,movementState:"IDLE"})),!R&&N.specialAbility!=="NONE"&&N.functionId==="?"){Hd(N.specialAbility);return}if(l.gameMode===Ee.MBTI_16&&N.functionId==="Hub"&&!R){Hd("FREEDOM");return}Wh(N.functionId,l.players,M,l.logs).then(V=>{u(q=>({...q,pregeneratedTasks:V}))}),u(V=>({...V,subPhase:"SELECTING_CARD",selectedTask:null,hasReselected:!1,scoreTargetPlayerId:V.scoreTargetPlayerId,helperId:V.helperId})),F(` ${N.characterName||N.functionId}...`,"system")},Hd=N=>{const R=l.players[l.currentPlayerIndex];if(N==="FREEDOM"){u(M=>({...M,movementState:"TELEPORTING"})),F(`${R.name} `,"action");return}if(N==="SUBSTITUTE"){u(M=>({...M,subPhase:"SELECTING_SUBSTITUTE"})),F(`${R.name} ...`,"action");return}if(N==="COMPANION"){u(M=>({...M,subPhase:"SELECTING_COMPANION"})),F(`${R.name} ...`,"action");return}u(M=>({...M,subPhase:"SELECTING_CARD"}))},zd=N=>{u(R=>({...R,helperId:N,subPhase:"IDLE",movementState:"TELEPORTING"})),F("","system")},$d=N=>{u(R=>({...R,helperId:N,subPhase:"IDLE",movementState:"TELEPORTING"})),F("","system")},qd=N=>{var M;const R=(M=l.pregeneratedTasks)==null?void 0:M[N];if(R)u(V=>({...V,subPhase:"VIEWING_TASK",selectedTask:R}));else{u(q=>({...q,subPhase:"VIEWING_TASK",selectedTask:null}));const V=l.currentTile;V&&Wh(V.functionId,l.players,l.players[l.currentPlayerIndex],l.logs).then(q=>{u(K=>({...K,selectedTask:q[N],pregeneratedTasks:q}))})}},AS=()=>{var q;if(l.hasReselected||!l.pregeneratedTasks)return;const N=["standard","truth","dare","deep"],R=(q=l.selectedTask)==null?void 0:q.category,M=N.filter(K=>K!==R),V=M[Math.floor(Math.random()*M.length)];u(K=>({...K,hasReselected:!0,selectedTask:K.pregeneratedTasks[V]}))},NS=()=>{l.players[l.currentPlayerIndex],u(N=>{const R=[...N.players];return R[N.currentPlayerIndex].skipUsedCount+=1,{...N,players:R,subPhase:"IDLE"}}),Qd()},kS=()=>{if(l.sharedHelpUsedCount>=3){alert("");return}u(N=>({...N,subPhase:"CHOOSING_HELPER"}))},Jd=N=>{u(R=>({...R,helperId:N,sharedHelpUsedCount:R.sharedHelpUsedCount+1,subPhase:"VIEWING_TASK"}))},Wd=()=>{if(!l.selectedTask)return;const N=l.players[l.currentPlayerIndex];I(""),fe(!1),!N.isBot&&ES()&&(aD(M=>I(V=>V+" "+M),()=>b(!1)),b(!0),wS(M=>{Q(M),M>.4&&fe(!0)})),u(M=>({...M,subPhase:"TASK_EXECUTION"})),g(l.selectedTask.durationSeconds);const R=setInterval(()=>{g(M=>M<=1?(clearInterval(R),0):M-1)},1e3)},Kd=()=>{var q,K;A&&(uD(),CS(),b(!1));const N=l.players[l.currentPlayerIndex],R=`: ${((q=l.selectedTask)==null?void 0:q.title)||""}`,M=C.trim()?`: "${C.trim()}"`:N.isBot?"Bot ":"";F(`${N.name} `,"action",N.name,`${R}${M}`),H(`${N.name}[${(K=l.selectedTask)==null?void 0:K.category}]${M}`);const V=l.players.filter(le=>le.id!==l.players[l.currentPlayerIndex].id);if(V.length===0){Nl(5);return}u(le=>({...le,subPhase:"PEER_REVIEW",peerReviewQueue:V.map(j=>j.id),currentReviewerId:V[0].id,accumulatedRating:0}))},Nl=N=>{const R=l.currentReviewerId;if(R&&u(M=>{const V=[...M.players],q=V.findIndex(K=>K.id===R);return q!==-1&&(V[q]={...V[q],totalRatingGiven:(V[q].totalRatingGiven||0)+N}),{...M,players:V}}),!(R&&l.peerReviewQueue.length>0&&(u(M=>{const V=M.peerReviewQueue.filter(K=>K!==R),q=V.length>0?V[0]:null;return q?{...M,accumulatedRating:M.accumulatedRating+N,peerReviewQueue:V,currentReviewerId:q}:{...M,accumulatedRating:M.accumulatedRating+N,peerReviewQueue:[],currentReviewerId:null}}),l.peerReviewQueue.length>1))){if(l.activeModifier==="CLONE"||l.activeModifier==="TRANSFER"){u(M=>({...M,subPhase:"SELECTING_SCORE_TARGET"}));return}jd(N)}},Yd=N=>{u(R=>({...R,scoreTargetPlayerId:N})),jd(0)},jd=N=>{l.players[l.currentPlayerIndex];const R=l.selectedTask;if(!R)return;const M=Math.max(1,l.players.length-1),q=(l.accumulatedRating+N)/M;let K=Math.ceil(q*R.multiplier*2);const le=l.activeModifier;l.activeSpecialAbility,le==="DOUBLE"&&(K*=2),le==="HALF"&&(K=Math.floor(K/2)),oe&&(K+=5),u(j=>{let et=j.players.map(tt=>({...tt}));const Y=et[j.currentPlayerIndex],ut=j.activeModifier,Pt=j.activeSpecialAbility,Be=(tt,mn)=>{const nf=et.findIndex(di=>di.id===tt);if(nf!==-1){const di=et[nf];R.scoreType==="trust"?di.trustScore+=mn:R.scoreType==="insight"?di.insightScore+=mn:di.expressionScore+=mn}};if(Pt==="SUBSTITUTE"&&j.helperId)Be(j.helperId,K);else if(Pt==="COMPANION"&&j.helperId)Be(Y.id,K),Be(j.helperId,K);else if(j.helperId&&Pt==="NONE"&&ut==="NORMAL"){const tt=Math.ceil(K/2),mn=Math.floor(K/2);Be(Y.id,mn),Be(j.helperId,tt)}else ut==="TRANSFER"&&j.scoreTargetPlayerId?Be(j.scoreTargetPlayerId,K):(Be(Y.id,K),ut==="CLONE"&&j.scoreTargetPlayerId&&Be(j.scoreTargetPlayerId,K));return{...j,players:et}}),Qd()},Qd=()=>{u(N=>{const R=N.players[N.currentPlayerIndex];if(R.trustScore+R.insightScore+R.expressionScore>=N.targetScore)return Xd(N.players),N;const V=(N.currentPlayerIndex+1)%N.players.length;return{...N,currentPlayerIndex:V,subPhase:"IDLE",selectedTask:null,helperId:null,scoreTargetPlayerId:null,activeModifier:"NORMAL",activeSpecialAbility:"NONE",remainingSteps:0,turn:V===0?N.turn+1:N.turn,currentReviewerId:null,peerReviewQueue:[],accumulatedRating:0}})},Xd=async N=>{u(M=>({...M,players:N,phase:"ANALYSIS"}));const R=await Rk(N,l.snapshots);T(R),P.current&&(P.current.pause(),P.current.currentTime=0),h(!1)},PS=()=>{P.current&&(P.current.pause(),P.current.currentTime=0),h(!1)},Zd=()=>{u(N=>({players:[],currentPlayerIndex:0,gameMode:Ee.JUNG_8,turn:1,targetScore:40,logs:[],phase:"ONBOARDING",subPhase:"IDLE",currentTile:null,selectedTask:null,activeModifier:"NORMAL",activeSpecialAbility:"NONE",remainingSteps:0,sightRange:1,helperId:null,scoreTargetPlayerId:null,sharedHelpUsedCount:0,hasReselected:!1,pregeneratedTasks:null,movementState:"IDLE",diceValue:null,highestScore:0,snapshots:[],startTime:Date.now(),peerReviewQueue:[],currentReviewerId:null,accumulatedRating:0})),S(0),x(!1),t([]),o([]),T(null),O(null),PS()};if(l.phase==="ONBOARDING")return m.jsx(mP,{onComplete:ie,isDarkMode:s,toggleTheme:B});if(l.phase==="LOADING")return m.jsx("div",{className:"h-screen w-full flex flex-col items-center justify-center text-slate-800 dark:text-white relative overflow-hidden font-sans transition-colors duration-300",children:m.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-4xl px-8 text-center bg-white/10 dark:bg-black/20 backdrop-blur-md rounded-3xl p-16 shadow-2xl border border-white/10",children:[m.jsx(Fe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-8xl font-bold tracking-tight mb-4 text-transparent bg-clip-text bg-[linear-gradient(to_right,#ef4444,#f97316,#eab308,#22c55e,#3b82f6,#a855f7)] drop-shadow-lg",children:""}),m.jsx(Fe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-3xl text-slate-200 mb-12 font-light italic",children:""}),m.jsx(fD,{}),m.jsx("div",{className:"w-full h-4 bg-slate-700 rounded-full overflow-hidden mb-12 shadow-inner border border-slate-600 relative z-20",children:m.jsx(Fe.div,{className:"h-full bg-gradient-to-r from-teal-400 to-blue-500 shadow-[0_0_15px_rgba(45,212,191,0.5)]",initial:{width:0},animate:{width:`${E}%`}})}),y&&m.jsxs(Fe.button,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},onClick:Ge,className:"mt-8 px-16 py-6 bg-white text-slate-900 rounded-full font-bold text-3xl shadow-[0_0_40px_rgba(20,184,166,0.6)] hover:scale-105 hover:bg-teal-50 hover:text-teal-900 transition-all duration-300 flex items-center gap-3",children:[m.jsx(oP,{size:32,fill:"currentColor"}),"  "]})]})});if(D)return m.jsx(fg,{players:D.players,report:D.report,startTime:D.startTime,gameMode:D.gameMode,onReturnHome:()=>{window.history.pushState({},"",window.location.pathname),O(null)}});if(l.phase==="ANALYSIS"&&v)return m.jsx(fg,{players:l.players,report:v||{groupAnalysis:"",playerAnalysis:{}},onReturnHome:Zd,startTime:l.startTime,gameMode:l.gameMode});const Ae=l.players[l.currentPlayerIndex];if(!Ae)return m.jsx("div",{className:"h-screen bg-slate-950 flex items-center justify-center text-white",children:"Loading Game State..."});const ef=l.currentReviewerId?l.players.find(N=>N.id===l.currentReviewerId):null,RS=ta[Ae.mbti]||[];return m.jsxs("div",{className:"h-screen w-full text-slate-800 dark:text-slate-200 font-sans flex flex-col overflow-hidden relative selection:bg-teal-500/30 transition-colors duration-300",children:[m.jsxs("header",{className:"h-16 bg-white/80 dark:bg-slate-900/60 backdrop-blur border-b border-slate-200 dark:border-white/5 flex items-center justify-between px-6 shrink-0 z-30 transition-colors duration-300",children:[m.jsxs("div",{className:"flex items-center gap-6 w-1/3",children:[m.jsx("button",{onClick:Zd,className:"flex items-center gap-1 text-slate-500 hover:text-teal-600 dark:text-slate-400 dark:hover:text-white transition group",title:"Return to Home",children:m.jsx(Zk,{size:16,className:"group-hover:-translate-x-1 transition"})}),m.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 dark:bg-slate-800/50 pr-4 rounded-full border border-slate-200 dark:border-slate-700/50",children:[m.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-teal-500/50 overflow-hidden",children:Ae.avatar.startsWith("data:")?m.jsx("img",{src:Ae.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 w-full h-full flex items-center justify-center font-bold text-lg",children:Ae.name[0]})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-slate-700 dark:text-white text-sm",children:Ae.name}),m.jsx("div",{className:"text-[10px] font-bold text-teal-600 dark:text-teal-400",children:Ae.mbti})]})]})]}),m.jsx("div",{className:"flex items-center gap-4",children:m.jsx("button",{onClick:()=>ee(!se),className:`px-3 py-1 rounded-full text-xs font-bold border transition ${se?"bg-amber-500 text-white border-amber-600":"bg-slate-100 dark:bg-slate-800 text-slate-400 border-slate-300 dark:border-slate-700"}`,title:"Enable Host Control (Manual Dice)",children:se?": ON":": OFF"})}),m.jsxs("div",{className:"flex-1 flex justify-center",children:[l.gameMode===Ee.JUNG_8&&m.jsx("div",{className:"flex items-center px-6 py-2 rounded-full bg-white/40 dark:bg-black/40 border border-slate-200 dark:border-white/5 backdrop-blur-md shadow-inner overflow-x-auto no-scrollbar max-w-xl",children:RS.map((N,R)=>{const M=R===Ae.stackIndex;return m.jsxs("div",{className:`flex flex-col items-center relative transition-all duration-500 ${M?"mx-3":"mx-1"}`,children:[M&&m.jsx("div",{className:"text-[9px] text-teal-600 dark:text-teal-400 font-bold mb-1 absolute -top-4",children:""}),m.jsx("div",{className:`w-8 h-8 flex items-center justify-center text-[10px] font-bold rounded-full transition-all duration-500 ${M?"bg-teal-500 text-white scale-125 shadow-[0_0_15px_#14b8a6]":"bg-slate-200 dark:bg-slate-800 text-slate-500"}`,children:N})]},R)})}),l.gameMode===Ee.MBTI_16&&m.jsx("div",{className:"flex items-center px-6 py-2 rounded-full bg-white/40 dark:bg-black/40 border border-slate-200 dark:border-white/5 backdrop-blur-md shadow-inner overflow-x-auto no-scrollbar max-w-2xl",children:pu.map((N,R)=>{var K;const M=((K=l.currentTile)==null?void 0:K.functionId)===N;let V="bg-slate-200 dark:bg-slate-800 text-slate-500";const q=Object.entries(Kt).find(([le,j])=>j.types.includes(N));if(q){const[le,j]=q;M&&(j.hexColor==="#a855f7"?V="bg-purple-500 text-white shadow-[0_0_15px_#a855f7] scale-110":j.hexColor==="#22c55e"?V="bg-green-500 text-white shadow-[0_0_15px_#22c55e] scale-110":j.hexColor==="#3b82f6"?V="bg-blue-500 text-white shadow-[0_0_15px_#3b82f6] scale-110":j.hexColor==="#eab308"&&(V="bg-yellow-500 text-white shadow-[0_0_15px_#eab308] scale-110"))}return m.jsxs("div",{className:"flex flex-col items-center relative transition-all duration-500 mx-1 shrink-0",children:[M&&m.jsx("div",{className:"text-[9px] text-teal-600 dark:text-teal-400 font-bold mb-1 absolute -top-4",children:""}),m.jsx("div",{className:`px-2 py-1 flex items-center justify-center text-[10px] font-bold rounded-md transition-all duration-500 ${M?V:"bg-slate-200 dark:bg-slate-800 text-slate-500"}`,children:N})]},N)})})]}),m.jsxs("div",{className:"w-1/3 flex justify-end gap-3",children:[m.jsxs("button",{onClick:()=>Xd(l.players),className:"px-3 py-1.5 rounded-lg bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/50 border border-red-200 dark:border-red-800/50 text-red-600 dark:text-red-300 transition flex items-center gap-1.5 text-xs font-bold mr-2",children:[m.jsx($k,{size:14})," "]}),m.jsx("button",{onClick:B,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 hover:text-amber-500 dark:hover:text-yellow-400 transition",children:s?m.jsx(_v,{size:18}):m.jsx(Ev,{size:18})}),m.jsx("button",{onClick:()=>_(!0),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 hover:text-teal-600 dark:hover:text-teal-400 transition",title:"AI Config",children:m.jsx(wv,{size:18})}),m.jsx("button",{onClick:()=>h(!d),className:`p-2 rounded-full transition ${d?"text-teal-500 bg-teal-500/10":"text-slate-600 dark:text-slate-400"}`,title:d?"Pause Music":"Play Music",children:m.jsx(nP,{size:18})})]})]}),m.jsxs("main",{className:"flex-1 flex overflow-hidden relative",children:[m.jsxs("div",{className:"flex-1 relative bg-transparent flex flex-col transition-all duration-300",children:[m.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing",children:m.jsx(vP,{players:l.players,currentPlayerId:Ae.id,boardLayout:e,validMoves:n,onTileClick:zt,gameMode:l.gameMode,visibilityRadius:l.sightRange})}),m.jsx(Jt,{children:l.remainingSteps>0&&l.movementState!=="ROLLING"&&m.jsx(Fe.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},className:"absolute inset-0 pointer-events-none flex items-center justify-center z-10",children:m.jsx("div",{className:"text-[10rem] font-bold text-slate-900/10 dark:text-white/20 drop-shadow-lg select-none",children:l.remainingSteps})})}),m.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center z-20",children:m.jsxs("div",{className:"relative w-full h-full max-w-4xl max-h-[800px]",children:[m.jsxs("div",{className:"absolute bottom-20 right-8 pointer-events-auto transition-all duration-300",children:[se&&l.subPhase==="IDLE"&&l.remainingSteps===0&&m.jsxs("div",{className:"mb-6 p-4 bg-slate-800/80 rounded-2xl border border-amber-500/30 backdrop-blur",children:[m.jsx("h3",{className:"text-amber-400 font-bold mb-3 text-sm uppercase tracking-wider",children:""}),m.jsx("div",{className:"flex gap-2 justify-center",children:[1,2,3,4,5,6,7,8].map(N=>m.jsx("button",{onClick:()=>at(N),className:"w-12 h-12 rounded-xl bg-slate-700 hover:bg-amber-500 text-white font-bold text-xl transition shadow-lg border border-slate-600",children:N},N))})]}),l.subPhase==="IDLE"&&!Ae.isBot&&l.remainingSteps===0&&m.jsxs("button",{onClick:()=>at(),disabled:se||l.movementState!=="IDLE",className:`group relative w-24 h-24 rounded-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 flex items-center justify-center shadow-2xl transition hover:scale-105 active:scale-95 ${se?"opacity-50 cursor-not-allowed":""}`,children:[m.jsx("div",{className:"absolute inset-0 rounded-full border border-teal-500/30 animate-ping opacity-20"}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx(Hk,{className:"text-teal-500 group-hover:text-teal-600 dark:group-hover:text-white transition mb-1",size:28}),m.jsx("span",{className:"text-[10px] text-teal-600/80 dark:text-teal-500/80 font-bold uppercase tracking-widest",children:""})]})]}),l.movementState==="ROLLING"&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center -translate-y-12",children:m.jsx(dD,{value:l.diceValue,rolling:!0})})]}),m.jsx(Jt,{children:l.movementState==="IDLE"&&(l.activeModifier!=="NORMAL"||l.activeSpecialAbility!=="NONE")&&l.subPhase==="SELECTING_CARD"&&m.jsx(Fe.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:2,opacity:0},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:m.jsxs("div",{className:"bg-white/90 dark:bg-black/80 backdrop-blur-md p-6 rounded-3xl border-2 border-amber-500 text-center shadow-[0_0_50px_rgba(245,158,11,0.5)] text-slate-800 dark:text-white",children:[m.jsxs("div",{className:"text-6xl mb-2",children:[l.activeModifier==="DOUBLE"&&" x2"," ",l.activeModifier==="HALF"&&" 2"," ",l.activeModifier==="CLONE"&&""," ",l.activeModifier==="TRANSFER"&&"",l.activeSpecialAbility==="FREEDOM"&&""," ",l.activeSpecialAbility==="SUBSTITUTE"&&""," ",l.activeSpecialAbility==="COMPANION"&&""]}),m.jsxs("div",{className:"text-2xl font-bold text-amber-500 dark:text-amber-400",children:[l.activeModifier==="DOUBLE"&&""," ",l.activeModifier==="HALF"&&""," ",l.activeModifier==="CLONE"&&""," ",l.activeModifier==="TRANSFER"&&"",l.activeSpecialAbility==="FREEDOM"&&""," ",l.activeSpecialAbility==="SUBSTITUTE"&&""," ",l.activeSpecialAbility==="COMPANION"&&""]})]})})}),m.jsx(Jt,{children:l.subPhase==="SELECTING_CARD"&&m.jsx(Fe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"absolute inset-0 flex items-center justify-center pointer-events-auto",children:m.jsx("div",{className:"grid grid-cols-2 gap-6 p-8 bg-white/90 dark:bg-slate-900/80 backdrop-blur-xl rounded-3xl border border-slate-200 dark:border-slate-700 shadow-2xl",children:["standard","truth","dare","deep"].map(N=>{const R=Vi[N];return m.jsxs("button",{onClick:()=>qd(N),className:`w-40 h-48 rounded-2xl flex flex-col items-center justify-center gap-4 transition-all hover:-translate-y-2 hover:shadow-xl border ${R.color} bg-opacity-20 hover:bg-opacity-30 group`,children:[m.jsx("div",{className:"text-5xl group-hover:scale-110 transition",children:R.icon}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:R.name}),m.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-white/60",children:["x",R.multiplier," "]})]})]},N)})})})})]})}),m.jsx(Jt,{children:(l.subPhase==="VIEWING_TASK"||l.subPhase==="TASK_EXECUTION")&&m.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-md p-4",children:m.jsx("div",{className:"w-full max-w-xl bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:l.selectedTask?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:`p-8 ${Vi[l.selectedTask.category].color} bg-opacity-20 text-center relative`,children:[m.jsx("div",{className:"text-6xl mb-4",children:Vi[l.selectedTask.category].icon}),m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:l.selectedTask.title}),m.jsxs("div",{className:"flex justify-center gap-3",children:[m.jsxs("span",{className:"px-3 py-1 bg-black/10 dark:bg-black/20 rounded-full text-xs text-slate-600 dark:text-white/90",children:[" ",l.selectedTask.durationSeconds,""]}),m.jsxs("span",{className:"px-3 py-1 bg-black/10 dark:bg-black/20 rounded-full text-xs text-slate-600 dark:text-white/90",children:[" ",l.selectedTask.scoreType]})]}),m.jsx("button",{onClick:()=>u(N=>({...N,subPhase:"SELECTING_CARD"})),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-white/50 dark:hover:text-white",children:m.jsx(wl,{size:20})})]}),m.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[m.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 leading-relaxed text-center mb-8 flex-1 flex items-center justify-center",children:l.selectedTask.description}),l.helperId&&m.jsxs("div",{className:"mb-6 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-500/30 p-3 rounded-lg flex items-center gap-3 justify-center text-indigo-700 dark:text-indigo-200 text-sm",children:[m.jsx(Pu,{size:16})," ",m.jsxs("span",{children:[": ",m.jsx("strong",{children:(tf=l.players.find(N=>N.id===l.helperId))==null?void 0:tf.name})]})]}),l.subPhase==="VIEWING_TASK"?m.jsxs("div",{className:"space-y-3",children:[m.jsx("button",{onClick:Wd,className:"w-full py-3.5 bg-gradient-to-r from-teal-600 to-blue-600 hover:brightness-110 rounded-xl font-bold text-white shadow-lg transition",children:""}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("button",{onClick:AS,disabled:l.hasReselected,className:"flex-1 py-3 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 disabled:opacity-50 rounded-xl text-slate-500 dark:text-slate-300 text-sm font-bold flex items-center justify-center gap-2",children:[m.jsx(rP,{size:14})," "]}),m.jsxs("button",{onClick:kS,className:"flex-1 py-3 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/50 dark:hover:bg-indigo-900 rounded-xl text-indigo-600 dark:text-indigo-300 text-sm font-bold flex items-center justify-center gap-2 border border-indigo-200 dark:border-indigo-500/30",children:[m.jsx(Pu,{size:14}),"  (",3-l.sharedHelpUsedCount,")"]}),m.jsxs("button",{onClick:NS,className:"flex-1 py-3 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-xl text-slate-500 dark:text-slate-400 text-sm font-bold flex items-center justify-center gap-2",children:[m.jsx(uP,{size:14}),"  (-",Ae.skipUsedCount,")"]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex-1 w-full bg-slate-50 dark:bg-black/20 rounded-xl p-4 mb-4 border border-slate-200 dark:border-white/10 overflow-y-auto relative",children:[A&&m.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 text-red-500 animate-pulse font-bold text-sm",children:[m.jsx(tP,{size:16})," ..."]}),m.jsx("textarea",{className:"w-full h-full bg-transparent resize-none outline-none text-slate-600 dark:text-slate-300 text-lg leading-relaxed placeholder:text-slate-400/50",placeholder:A?"...":"...",value:C,onChange:N=>I(N.target.value)})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"flex-1 bg-slate-100 dark:bg-slate-800 rounded-xl flex items-center justify-center",children:m.jsxs("span",{className:"text-4xl font-mono font-bold text-slate-700 dark:text-slate-200",children:[p,"s"]})}),m.jsxs("button",{onClick:()=>Kd(),className:"flex-3 px-8 py-4 bg-teal-600 hover:bg-teal-500 text-white rounded-xl font-bold shadow-lg transition flex items-center gap-2",children:[m.jsx(Bk,{})," "]})]})]})]})]}):m.jsx("div",{className:"p-12 flex flex-col items-center justify-center space-y-4",children:m.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-teal-500 border-t-transparent animate-spin"})})})})}),m.jsxs(Jt,{children:[l.subPhase==="PEER_REVIEW"&&ef&&m.jsx(pD,{reviewer:ef,actor:Ae,hasHighEnergyBonus:oe,onSubmit:Nl}),l.subPhase==="TASK_EXECUTION"&&A&&m.jsxs("div",{className:"absolute top-24 right-6 flex flex-col items-center gap-2",children:[m.jsxs("div",{className:"w-4 h-32 bg-slate-800 rounded-full overflow-hidden border border-slate-600 relative",children:[m.jsx("div",{className:"absolute bottom-0 w-full transition-all duration-100 bg-gradient-to-t from-green-500 via-yellow-400 to-red-500",style:{height:`${Math.min(100,de*200)}%`}}),m.jsx("div",{className:"absolute bottom-[40%] w-full h-[2px] bg-white opacity-50"})]}),m.jsx(pP,{size:16,className:de>.4?"text-red-500 animate-bounce":"text-slate-500"}),oe&&m.jsx(Av,{size:16,className:"text-yellow-400 fill-yellow-400 animate-pulse"})]})]}),m.jsx(Jt,{children:(l.subPhase==="SELECTING_SCORE_TARGET"||l.subPhase==="SELECTING_SUBSTITUTE"||l.subPhase==="SELECTING_COMPANION")&&m.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-6 rounded-2xl text-center border-2 border-amber-500/50 shadow-2xl",children:[m.jsxs("h3",{className:"font-bold text-amber-500 dark:text-amber-400 mb-2 text-xl",children:[l.subPhase==="SELECTING_SCORE_TARGET"&&(l.activeModifier==="CLONE"?" ":" "),l.subPhase==="SELECTING_SUBSTITUTE"&&" ",l.subPhase==="SELECTING_COMPANION"&&" "]}),m.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-60 overflow-y-auto mt-4",children:l.players.filter(N=>N.id!==Ae.id).map(N=>m.jsxs("button",{onClick:()=>{l.subPhase==="SELECTING_SCORE_TARGET"&&Yd(N.id),l.subPhase==="SELECTING_SUBSTITUTE"&&zd(N.id),l.subPhase==="SELECTING_COMPANION"&&$d(N.id)},className:"p-3 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-xl flex flex-col items-center gap-2 border border-transparent hover:border-amber-500 transition",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-300 dark:bg-slate-600 overflow-hidden",children:N.avatar.startsWith("data:")?m.jsx("img",{src:N.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-slate-700 dark:text-white",children:N.name[0]})}),m.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:N.name})]},N.id))})]})})}),m.jsx(Jt,{children:l.subPhase==="CHOOSING_HELPER"&&m.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-6 rounded-2xl text-center",children:[m.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:""}),m.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-60 overflow-y-auto",children:l.players.filter(N=>N.id!==Ae.id).map(N=>m.jsxs("button",{onClick:()=>Jd(N.id),className:"p-3 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-xl flex flex-col items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-300 dark:bg-slate-600 overflow-hidden",children:N.avatar.startsWith("data:")?m.jsx("img",{src:N.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-slate-700 dark:text-white",children:N.name[0]})}),m.jsx("span",{className:"text-xs text-slate-800 dark:text-white",children:N.name})]},N.id))})]})})}),m.jsx("div",{className:"absolute bottom-6 left-6 z-40",children:m.jsx("div",{className:"relative group w-32 h-32",children:m.jsx("div",{className:"w-full h-full rounded-full overflow-hidden border-2 border-slate-200 dark:border-slate-700 shadow-2xl bg-white dark:bg-black flex items-center justify-center",children:Ae.avatar.startsWith("data:")?m.jsx("img",{src:Ae.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"text-4xl font-bold text-slate-400 dark:text-slate-500",children:Ae.name[0]})})})})]}),m.jsxs("div",{className:`bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-l border-slate-200 dark:border-white/5 flex flex-col transition-all duration-300 z-20 shadow-xl ${i?"w-16":"w-64"}`,children:[m.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-slate-200 dark:border-white/5 shrink-0",children:[!i&&m.jsx("span",{className:"font-bold text-slate-400 text-xs uppercase tracking-widest",children:""}),m.jsx("button",{onClick:()=>r(!i),className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-white transition",children:m.jsx(Gk,{size:16})})]}),i?m.jsx("div",{className:"flex flex-col items-center gap-4 py-4",children:l.players.map(N=>m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-[10px] border ${N.id===Ae.id?"border-teal-500 text-teal-500":"border-slate-300 dark:border-slate-700 text-slate-400"}`,children:N.name[0]},N.id))}):m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsx("div",{className:`overflow-y-auto custom-scrollbar p-3 transition-all duration-300 ${l.players.length>6?"space-y-1.5":"space-y-3"}`,style:{maxHeight:"65%"},children:[...l.players].sort((N,R)=>R.trustScore+R.insightScore+R.expressionScore-(N.trustScore+N.insightScore+N.expressionScore)).map(N=>{const R=N.trustScore+N.insightScore+N.expressionScore,M=l.players.length>6;return m.jsxs("div",{className:`rounded-xl border transition-all ${M?"p-2":"p-3"} ${N.id===Ae.id?"bg-slate-50 dark:bg-slate-800 border-teal-500/30 shadow-lg":"bg-transparent border-slate-100 dark:border-slate-800/50"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-700 dark:text-white overflow-hidden ring-1 ring-slate-300 dark:ring-slate-600 ${M?"w-6 h-6 text-[9px]":"w-8 h-8 text-[10px]"}`,children:N.avatar.startsWith("data:")?m.jsx("img",{src:N.avatar,className:"w-full h-full object-cover"}):N.name[0]}),m.jsxs("div",{className:"leading-tight",children:[m.jsx("div",{className:`font-bold text-slate-700 dark:text-slate-200 ${M?"text-[10px]":"text-xs"}`,children:N.name}),m.jsx("div",{className:"text-[9px] text-slate-400 dark:text-slate-500",children:N.mbti})]})]}),m.jsx("div",{className:`font-bold text-amber-500 ${M?"text-xs":"text-sm"}`,children:R})]}),m.jsxs("div",{className:"flex gap-1 text-[9px] text-slate-500",children:[m.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-slate-900/40 rounded px-1.5 py-0.5 flex justify-between",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:N.trustScore})]}),m.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-slate-900/40 rounded px-1.5 py-0.5 flex justify-between",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"text-purple-500 dark:text-purple-400",children:N.insightScore})]}),m.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-slate-900/40 rounded px-1.5 py-0.5 flex justify-between",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"text-orange-500 dark:text-orange-400",children:N.expressionScore})]})]})]},N.id)})}),m.jsx("div",{className:"flex-1 bg-slate-50/50 dark:bg-slate-950/50 border-t border-slate-200 dark:border-slate-800 p-3 overflow-y-auto custom-scrollbar text-[10px] space-y-1.5 min-h-[150px]",children:l.logs.slice(-30).map(N=>m.jsxs("div",{className:"text-slate-500 dark:text-slate-400 leading-snug mb-1.5 border-b border-slate-200 dark:border-slate-900/50 pb-1",children:[m.jsx("span",{className:"text-teal-600 dark:text-teal-500 font-bold mr-1",children:N.author||""}),N.text,N.taskDetails&&m.jsx("div",{className:"text-[9px] text-slate-400 dark:text-slate-600 mt-0.5 italic line-clamp-2",children:N.taskDetails})]},N.id))})]})]}),w&&m.jsx(Nv,{onClose:()=>_(!1)})]})]})}const _S=document.getElementById("root");if(!_S)throw new Error("Could not find root element to mount to");const gD=Sa.createRoot(_S);gD.render(m.jsx(Ce.StrictMode,{children:m.jsx(mD,{})}));
