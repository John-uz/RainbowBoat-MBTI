(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function ig(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rg={exports:{}},Nl={},sg={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dr=Symbol.for("react.element"),AT=Symbol.for("react.portal"),bT=Symbol.for("react.fragment"),PT=Symbol.for("react.strict_mode"),RT=Symbol.for("react.profiler"),MT=Symbol.for("react.provider"),DT=Symbol.for("react.context"),LT=Symbol.for("react.forward_ref"),FT=Symbol.for("react.suspense"),UT=Symbol.for("react.memo"),VT=Symbol.for("react.lazy"),Of=Symbol.iterator;function GT(e){return e===null||typeof e!="object"?null:(e=Of&&e[Of]||e["@@iterator"],typeof e=="function"?e:null)}var lg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ag=Object.assign,ug={};function Ti(e,t,n){this.props=e,this.context=t,this.refs=ug,this.updater=n||lg}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ti.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cg(){}cg.prototype=Ti.prototype;function Vc(e,t,n){this.props=e,this.context=t,this.refs=ug,this.updater=n||lg}var Gc=Vc.prototype=new cg;Gc.constructor=Vc;ag(Gc,Ti.prototype);Gc.isPureReactComponent=!0;var Hf=Array.isArray,dg=Object.prototype.hasOwnProperty,Bc={current:null},fg={key:!0,ref:!0,__self:!0,__source:!0};function pg(e,t,n){var o,i={},r=null,s=null;if(t!=null)for(o in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(r=""+t.key),t)dg.call(t,o)&&!fg.hasOwnProperty(o)&&(i[o]=t[o]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(o in a=e.defaultProps,a)i[o]===void 0&&(i[o]=a[o]);return{$$typeof:Dr,type:e,key:r,ref:s,props:i,_owner:Bc.current}}function BT(e,t){return{$$typeof:Dr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dr}function zT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $f=/\/+/g;function sa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zT(""+e.key):t.toString(36)}function vs(e,t,n,o,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Dr:case AT:s=!0}}if(s)return s=e,i=i(s),e=o===""?"."+sa(s,0):o,Hf(i)?(n="",e!=null&&(n=e.replace($f,"$&/")+"/"),vs(i,t,n,"",function(u){return u})):i!=null&&(zc(i)&&(i=BT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace($f,"$&/")+"/")+e)),t.push(i)),1;if(s=0,o=o===""?".":o+":",Hf(e))for(var a=0;a<e.length;a++){r=e[a];var l=o+sa(r,a);s+=vs(r,t,n,l,i)}else if(l=GT(e),typeof l=="function")for(e=l.call(e),a=0;!(r=e.next()).done;)r=r.value,l=o+sa(r,a++),s+=vs(r,t,n,l,i);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Hr(e,t,n){if(e==null)return e;var o=[],i=0;return vs(e,o,"","",function(r){return t.call(n,r,i++)}),o}function OT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},xs={transition:null},HT={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:xs,ReactCurrentOwner:Bc};function hg(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Hr,forEach:function(e,t,n){Hr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hr(e,function(){t++}),t},toArray:function(e){return Hr(e,function(t){return t})||[]},only:function(e){if(!zc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Ti;ce.Fragment=bT;ce.Profiler=RT;ce.PureComponent=Vc;ce.StrictMode=PT;ce.Suspense=FT;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HT;ce.act=hg;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=ag({},e.props),i=e.key,r=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,s=Bc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)dg.call(t,l)&&!fg.hasOwnProperty(l)&&(o[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}return{$$typeof:Dr,type:e.type,key:i,ref:r,props:o,_owner:s}};ce.createContext=function(e){return e={$$typeof:DT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:MT,_context:e},e.Consumer=e};ce.createElement=pg;ce.createFactory=function(e){var t=pg.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:LT,render:e}};ce.isValidElement=zc;ce.lazy=function(e){return{$$typeof:VT,_payload:{_status:-1,_result:e},_init:OT}};ce.memo=function(e,t){return{$$typeof:UT,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=xs.transition;xs.transition={};try{e()}finally{xs.transition=t}};ce.unstable_act=hg;ce.useCallback=function(e,t){return dt.current.useCallback(e,t)};ce.useContext=function(e){return dt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return dt.current.useEffect(e,t)};ce.useId=function(){return dt.current.useId()};ce.useImperativeHandle=function(e,t,n){return dt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return dt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return dt.current.useReducer(e,t,n)};ce.useRef=function(e){return dt.current.useRef(e)};ce.useState=function(e){return dt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return dt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return dt.current.useTransition()};ce.version="18.3.1";sg.exports=ce;var A=sg.exports;const xe=ig(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T=A,qT=Symbol.for("react.element"),jT=Symbol.for("react.fragment"),JT=Object.prototype.hasOwnProperty,WT=$T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KT={key:!0,ref:!0,__self:!0,__source:!0};function mg(e,t,n){var o,i={},r=null,s=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(s=t.ref);for(o in t)JT.call(t,o)&&!KT.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)i[o]===void 0&&(i[o]=t[o]);return{$$typeof:qT,type:e,key:r,ref:s,props:i,_owner:WT.current}}Nl.Fragment=jT;Nl.jsx=mg;Nl.jsxs=mg;rg.exports=Nl;var m=rg.exports,Xa={},gg={exports:{}},Et={},yg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,U){var B=D.length;D.push(U);e:for(;0<B;){var oe=B-1>>>1,Z=D[oe];if(0<i(Z,U))D[oe]=U,D[B]=Z,B=oe;else break e}}function n(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var U=D[0],B=D.pop();if(B!==U){D[0]=B;e:for(var oe=0,Z=D.length,ge=Z>>>1;oe<ge;){var Te=2*(oe+1)-1,Bt=D[Te],Fe=Te+1,Nt=D[Fe];if(0>i(Bt,B))Fe<Z&&0>i(Nt,Bt)?(D[oe]=Nt,D[Fe]=B,oe=Fe):(D[oe]=Bt,D[Te]=B,oe=Te);else if(Fe<Z&&0>i(Nt,B))D[oe]=Nt,D[Fe]=B,oe=Fe;else break e}}return U}function i(D,U){var B=D.sortIndex-U.sortIndex;return B!==0?B:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,h=null,p=3,g=!1,v=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var U=n(u);U!==null;){if(U.callback===null)o(u);else if(U.startTime<=D)o(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(u)}}function E(D){if(T=!1,x(D),!v)if(n(l)!==null)v=!0,se(I);else{var U=n(u);U!==null&&X(E,U.startTime-D)}}function I(D,U){v=!1,T&&(T=!1,S(_),_=-1),g=!0;var B=p;try{for(x(U),h=n(l);h!==null&&(!(h.expirationTime>U)||D&&!L());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,p=h.priorityLevel;var Z=oe(h.expirationTime<=U);U=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(l)&&o(l),x(U)}else o(l);h=n(l)}if(h!==null)var ge=!0;else{var Te=n(u);Te!==null&&X(E,Te.startTime-U),ge=!1}return ge}finally{h=null,p=B,g=!1}}var C=!1,k=null,_=-1,b=5,M=-1;function L(){return!(e.unstable_now()-M<b)}function ne(){if(k!==null){var D=e.unstable_now();M=D;var U=!0;try{U=k(!0,D)}finally{U?j():(C=!1,k=null)}}else C=!1}var j;if(typeof y=="function")j=function(){y(ne)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ae=$.port2;$.port1.onmessage=ne,j=function(){ae.postMessage(null)}}else j=function(){w(ne,0)};function se(D){k=D,C||(C=!0,j())}function X(D,U){_=w(function(){D(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,se(I))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var B=p;p=U;try{return D()}finally{p=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=p;p=D;try{return U()}finally{p=B}},e.unstable_scheduleCallback=function(D,U,B){var oe=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?oe+B:oe):B=oe,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=B+Z,D={id:d++,callback:U,priorityLevel:D,startTime:B,expirationTime:Z,sortIndex:-1},B>oe?(D.sortIndex=B,t(u,D),n(l)===null&&D===n(u)&&(T?(S(_),_=-1):T=!0,X(E,B-oe))):(D.sortIndex=Z,t(l,D),v||g||(v=!0,se(I))),D},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(D){var U=p;return function(){var B=p;p=U;try{return D.apply(this,arguments)}finally{p=B}}}})(vg);yg.exports=vg;var YT=yg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT=A,wt=YT;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xg=new Set,cr={};function Ao(e,t){fi(e,t),fi(e+"Capture",t)}function fi(e,t){for(cr[e]=t,e=0;e<t.length;e++)xg.add(t[e])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=Object.prototype.hasOwnProperty,QT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qf={},jf={};function ZT(e){return Qa.call(jf,e)?!0:Qa.call(qf,e)?!1:QT.test(e)?jf[e]=!0:(qf[e]=!0,!1)}function e1(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function t1(e,t,n,o){if(t===null||typeof t>"u"||e1(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,o,i,r,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oc=/[\-:]([a-z])/g;function Hc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Oc,Hc);Qe[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Oc,Hc);Qe[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Oc,Hc);Qe[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function $c(e,t,n,o){var i=Qe.hasOwnProperty(t)?Qe[t]:null;(i!==null?i.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t1(t,n,i,o)&&(n=null),o||i===null?ZT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,o=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var Nn=XT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$r=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Uo=Symbol.for("react.fragment"),qc=Symbol.for("react.strict_mode"),Za=Symbol.for("react.profiler"),Sg=Symbol.for("react.provider"),Tg=Symbol.for("react.context"),jc=Symbol.for("react.forward_ref"),eu=Symbol.for("react.suspense"),tu=Symbol.for("react.suspense_list"),Jc=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),wg=Symbol.for("react.offscreen"),Jf=Symbol.iterator;function Ri(e){return e===null||typeof e!="object"?null:(e=Jf&&e[Jf]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,la;function Hi(e){if(la===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);la=t&&t[1]||""}return`
`+la+e}var aa=!1;function ua(e,t){if(!e||aa)return"";aa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var o=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){o=u}e.call(t.prototype)}else{try{throw Error()}catch(u){o=u}e()}}catch(u){if(u&&o&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=o.stack.split(`
`),s=i.length-1,a=r.length-1;1<=s&&0<=a&&i[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==r[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==r[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{aa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hi(e):""}function n1(e){switch(e.tag){case 5:return Hi(e.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 2:case 15:return e=ua(e.type,!1),e;case 11:return e=ua(e.type.render,!1),e;case 1:return e=ua(e.type,!0),e;default:return""}}function nu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Uo:return"Fragment";case Fo:return"Portal";case Za:return"Profiler";case qc:return"StrictMode";case eu:return"Suspense";case tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tg:return(e.displayName||"Context")+".Consumer";case Sg:return(e._context.displayName||"Context")+".Provider";case jc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jc:return t=e.displayName||null,t!==null?t:nu(e.type)||"Memo";case Rn:t=e._payload,e=e._init;try{return nu(e(t))}catch{}}return null}function o1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nu(t);case 8:return t===qc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function i1(e){var t=Eg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){o=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qr(e){e._valueTracker||(e._valueTracker=i1(e))}function Cg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Eg(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ou(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wf(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ng(e,t){t=t.checked,t!=null&&$c(e,"checked",t,!1)}function iu(e,t){Ng(e,t);var n=Jn(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ru(e,t.type,n):t.hasOwnProperty("defaultValue")&&ru(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ru(e,t,n){(t!=="number"||Vs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $i=Array.isArray;function ni(e,t,n,o){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,o&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function su(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if($i(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function Ig(e,t){var n=Jn(t.value),o=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Xf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jr,_g=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r1=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(e){r1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ki[t]=Ki[e]})});function Ag(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ki.hasOwnProperty(e)&&Ki[e]?(""+t).trim():t+"px"}function bg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,i=Ag(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,i):e[n]=i}}var s1=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function au(e,t){if(t){if(s1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function uu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=null;function Wc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var du=null,oi=null,ii=null;function Qf(e){if(e=Ur(e)){if(typeof du!="function")throw Error(F(280));var t=e.stateNode;t&&(t=bl(t),du(e.stateNode,e.type,t))}}function Pg(e){oi?ii?ii.push(e):ii=[e]:oi=e}function Rg(){if(oi){var e=oi,t=ii;if(ii=oi=null,Qf(e),t)for(e=0;e<t.length;e++)Qf(t[e])}}function Mg(e,t){return e(t)}function Dg(){}var ca=!1;function Lg(e,t,n){if(ca)return e(t,n);ca=!0;try{return Mg(e,t,n)}finally{ca=!1,(oi!==null||ii!==null)&&(Dg(),Rg())}}function fr(e,t){var n=e.stateNode;if(n===null)return null;var o=bl(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var fu=!1;if(vn)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){fu=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{fu=!1}function l1(e,t,n,o,i,r,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Yi=!1,Gs=null,Bs=!1,pu=null,a1={onError:function(e){Yi=!0,Gs=e}};function u1(e,t,n,o,i,r,s,a,l){Yi=!1,Gs=null,l1.apply(a1,arguments)}function c1(e,t,n,o,i,r,s,a,l){if(u1.apply(this,arguments),Yi){if(Yi){var u=Gs;Yi=!1,Gs=null}else throw Error(F(198));Bs||(Bs=!0,pu=u)}}function bo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Fg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zf(e){if(bo(e)!==e)throw Error(F(188))}function d1(e){var t=e.alternate;if(!t){if(t=bo(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(o=i.return,o!==null){n=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Zf(i),e;if(r===o)return Zf(i),t;r=r.sibling}throw Error(F(188))}if(n.return!==o.return)n=i,o=r;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,o=r;break}if(a===o){s=!0,o=i,n=r;break}a=a.sibling}if(!s){for(a=r.child;a;){if(a===n){s=!0,n=r,o=i;break}if(a===o){s=!0,o=r,n=i;break}a=a.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==o)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Ug(e){return e=d1(e),e!==null?Vg(e):null}function Vg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vg(e);if(t!==null)return t;e=e.sibling}return null}var Gg=wt.unstable_scheduleCallback,ep=wt.unstable_cancelCallback,f1=wt.unstable_shouldYield,p1=wt.unstable_requestPaint,Le=wt.unstable_now,h1=wt.unstable_getCurrentPriorityLevel,Kc=wt.unstable_ImmediatePriority,Bg=wt.unstable_UserBlockingPriority,zs=wt.unstable_NormalPriority,m1=wt.unstable_LowPriority,zg=wt.unstable_IdlePriority,Il=null,un=null;function g1(e){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Il,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:x1,y1=Math.log,v1=Math.LN2;function x1(e){return e>>>=0,e===0?32:31-(y1(e)/v1|0)|0}var Jr=64,Wr=4194304;function qi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Os(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,i=e.suspendedLanes,r=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?o=qi(a):(r&=s,r!==0&&(o=qi(r)))}else s=n&~i,s!==0?o=qi(s):r!==0&&(o=qi(r));if(o===0)return 0;if(t!==0&&t!==o&&!(t&i)&&(i=o&-o,r=t&-t,i>=r||i===16&&(r&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-Xt(t),i=1<<n,o|=e[n],t&=~i;return o}function S1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T1(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-Xt(r),a=1<<s,l=i[s];l===-1?(!(a&n)||a&o)&&(i[s]=S1(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}function hu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Og(){var e=Jr;return Jr<<=1,!(Jr&4194240)&&(Jr=64),e}function da(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=n}function w1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Xt(n),r=1<<i;t[i]=0,o[i]=-1,e[i]=-1,n&=~r}}function Yc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Xt(n),i=1<<o;i&t|e[o]&t&&(e[o]|=t),n&=~i}}var he=0;function Hg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $g,Xc,qg,jg,Jg,mu=!1,Kr=[],Gn=null,Bn=null,zn=null,pr=new Map,hr=new Map,Dn=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tp(e,t){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(t.pointerId)}}function Di(e,t,n,o,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},t!==null&&(t=Ur(t),t!==null&&Xc(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function C1(e,t,n,o,i){switch(t){case"focusin":return Gn=Di(Gn,e,t,n,o,i),!0;case"dragenter":return Bn=Di(Bn,e,t,n,o,i),!0;case"mouseover":return zn=Di(zn,e,t,n,o,i),!0;case"pointerover":var r=i.pointerId;return pr.set(r,Di(pr.get(r)||null,e,t,n,o,i)),!0;case"gotpointercapture":return r=i.pointerId,hr.set(r,Di(hr.get(r)||null,e,t,n,o,i)),!0}return!1}function Wg(e){var t=co(e.target);if(t!==null){var n=bo(t);if(n!==null){if(t=n.tag,t===13){if(t=Fg(n),t!==null){e.blockedOn=t,Jg(e.priority,function(){qg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);cu=o,n.target.dispatchEvent(o),cu=null}else return t=Ur(n),t!==null&&Xc(t),e.blockedOn=n,!1;t.shift()}return!0}function np(e,t,n){Ss(e)&&n.delete(t)}function N1(){mu=!1,Gn!==null&&Ss(Gn)&&(Gn=null),Bn!==null&&Ss(Bn)&&(Bn=null),zn!==null&&Ss(zn)&&(zn=null),pr.forEach(np),hr.forEach(np)}function Li(e,t){e.blockedOn===t&&(e.blockedOn=null,mu||(mu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,N1)))}function mr(e){function t(i){return Li(i,e)}if(0<Kr.length){Li(Kr[0],e);for(var n=1;n<Kr.length;n++){var o=Kr[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Gn!==null&&Li(Gn,e),Bn!==null&&Li(Bn,e),zn!==null&&Li(zn,e),pr.forEach(t),hr.forEach(t),n=0;n<Dn.length;n++)o=Dn[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)Wg(n),n.blockedOn===null&&Dn.shift()}var ri=Nn.ReactCurrentBatchConfig,Hs=!0;function I1(e,t,n,o){var i=he,r=ri.transition;ri.transition=null;try{he=1,Qc(e,t,n,o)}finally{he=i,ri.transition=r}}function k1(e,t,n,o){var i=he,r=ri.transition;ri.transition=null;try{he=4,Qc(e,t,n,o)}finally{he=i,ri.transition=r}}function Qc(e,t,n,o){if(Hs){var i=gu(e,t,n,o);if(i===null)Ta(e,t,o,$s,n),tp(e,o);else if(C1(i,e,t,n,o))o.stopPropagation();else if(tp(e,o),t&4&&-1<E1.indexOf(e)){for(;i!==null;){var r=Ur(i);if(r!==null&&$g(r),r=gu(e,t,n,o),r===null&&Ta(e,t,o,$s,n),r===i)break;i=r}i!==null&&o.stopPropagation()}else Ta(e,t,o,null,n)}}var $s=null;function gu(e,t,n,o){if($s=null,e=Wc(o),e=co(e),e!==null)if(t=bo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Fg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $s=e,null}function Kg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h1()){case Kc:return 1;case Bg:return 4;case zs:case m1:return 16;case zg:return 536870912;default:return 16}default:return 16}}var Fn=null,Zc=null,Ts=null;function Yg(){if(Ts)return Ts;var e,t=Zc,n=t.length,o,i="value"in Fn?Fn.value:Fn.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(o=1;o<=s&&t[n-o]===i[r-o];o++);return Ts=i.slice(e,1<o?1-o:void 0)}function ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yr(){return!0}function op(){return!1}function Ct(e){function t(n,o,i,r,s){this._reactName=n,this._targetInst=i,this.type=o,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Yr:op,this.isPropagationStopped=op,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),t}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ed=Ct(wi),Fr=Pe({},wi,{view:0,detail:0}),_1=Ct(Fr),fa,pa,Fi,kl=Pe({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:td,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(fa=e.screenX-Fi.screenX,pa=e.screenY-Fi.screenY):pa=fa=0,Fi=e),fa)},movementY:function(e){return"movementY"in e?e.movementY:pa}}),ip=Ct(kl),A1=Pe({},kl,{dataTransfer:0}),b1=Ct(A1),P1=Pe({},Fr,{relatedTarget:0}),ha=Ct(P1),R1=Pe({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),M1=Ct(R1),D1=Pe({},wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),L1=Ct(D1),F1=Pe({},wi,{data:0}),rp=Ct(F1),U1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=G1[e])?!!t[e]:!1}function td(){return B1}var z1=Pe({},Fr,{key:function(e){if(e.key){var t=U1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:td,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O1=Ct(z1),H1=Pe({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sp=Ct(H1),$1=Pe({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:td}),q1=Ct($1),j1=Pe({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),J1=Ct(j1),W1=Pe({},kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K1=Ct(W1),Y1=[9,13,27,32],nd=vn&&"CompositionEvent"in window,Xi=null;vn&&"documentMode"in document&&(Xi=document.documentMode);var X1=vn&&"TextEvent"in window&&!Xi,Xg=vn&&(!nd||Xi&&8<Xi&&11>=Xi),lp=" ",ap=!1;function Qg(e,t){switch(e){case"keyup":return Y1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vo=!1;function Q1(e,t){switch(e){case"compositionend":return Zg(t);case"keypress":return t.which!==32?null:(ap=!0,lp);case"textInput":return e=t.data,e===lp&&ap?null:e;default:return null}}function Z1(e,t){if(Vo)return e==="compositionend"||!nd&&Qg(e,t)?(e=Yg(),Ts=Zc=Fn=null,Vo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xg&&t.locale!=="ko"?null:t.data;default:return null}}var ew={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ew[e.type]:t==="textarea"}function ey(e,t,n,o){Pg(o),t=qs(t,"onChange"),0<t.length&&(n=new ed("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Qi=null,gr=null;function tw(e){dy(e,0)}function _l(e){var t=zo(e);if(Cg(t))return e}function nw(e,t){if(e==="change")return t}var ty=!1;if(vn){var ma;if(vn){var ga="oninput"in document;if(!ga){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),ga=typeof cp.oninput=="function"}ma=ga}else ma=!1;ty=ma&&(!document.documentMode||9<document.documentMode)}function dp(){Qi&&(Qi.detachEvent("onpropertychange",ny),gr=Qi=null)}function ny(e){if(e.propertyName==="value"&&_l(gr)){var t=[];ey(t,gr,e,Wc(e)),Lg(tw,t)}}function ow(e,t,n){e==="focusin"?(dp(),Qi=t,gr=n,Qi.attachEvent("onpropertychange",ny)):e==="focusout"&&dp()}function iw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _l(gr)}function rw(e,t){if(e==="click")return _l(t)}function sw(e,t){if(e==="input"||e==="change")return _l(t)}function lw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:lw;function yr(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!Qa.call(t,i)||!tn(e[i],t[i]))return!1}return!0}function fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pp(e,t){var n=fp(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fp(n)}}function oy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iy(){for(var e=window,t=Vs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vs(e.document)}return t}function od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aw(e){var t=iy(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&oy(n.ownerDocument.documentElement,n)){if(o!==null&&od(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,r=Math.min(o.start,i);o=o.end===void 0?r:Math.min(o.end,i),!e.extend&&r>o&&(i=o,o=r,r=i),i=pp(n,r);var s=pp(n,o);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),r>o?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uw=vn&&"documentMode"in document&&11>=document.documentMode,Go=null,yu=null,Zi=null,vu=!1;function hp(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vu||Go==null||Go!==Vs(o)||(o=Go,"selectionStart"in o&&od(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zi&&yr(Zi,o)||(Zi=o,o=qs(yu,"onSelect"),0<o.length&&(t=new ed("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Go)))}function Xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bo={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionend:Xr("Transition","TransitionEnd")},ya={},ry={};vn&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Al(e){if(ya[e])return ya[e];if(!Bo[e])return e;var t=Bo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ry)return ya[e]=t[n];return e}var sy=Al("animationend"),ly=Al("animationiteration"),ay=Al("animationstart"),uy=Al("transitionend"),cy=new Map,mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,t){cy.set(e,t),Ao(t,[e])}for(var va=0;va<mp.length;va++){var xa=mp[va],cw=xa.toLowerCase(),dw=xa[0].toUpperCase()+xa.slice(1);Xn(cw,"on"+dw)}Xn(sy,"onAnimationEnd");Xn(ly,"onAnimationIteration");Xn(ay,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(uy,"onTransitionEnd");fi("onMouseEnter",["mouseout","mouseover"]);fi("onMouseLeave",["mouseout","mouseover"]);fi("onPointerEnter",["pointerout","pointerover"]);fi("onPointerLeave",["pointerout","pointerover"]);Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function gp(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,c1(o,t,void 0,e),e.currentTarget=null}function dy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],i=o.event;o=o.listeners;e:{var r=void 0;if(t)for(var s=o.length-1;0<=s;s--){var a=o[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;gp(i,a,u),r=l}else for(s=0;s<o.length;s++){if(a=o[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;gp(i,a,u),r=l}}}if(Bs)throw e=pu,Bs=!1,pu=null,e}function we(e,t){var n=t[Eu];n===void 0&&(n=t[Eu]=new Set);var o=e+"__bubble";n.has(o)||(fy(t,e,2,!1),n.add(o))}function Sa(e,t,n){var o=0;t&&(o|=4),fy(n,e,o,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function vr(e){if(!e[Qr]){e[Qr]=!0,xg.forEach(function(n){n!=="selectionchange"&&(fw.has(n)||Sa(n,!1,e),Sa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qr]||(t[Qr]=!0,Sa("selectionchange",!1,t))}}function fy(e,t,n,o){switch(Kg(t)){case 1:var i=I1;break;case 4:i=k1;break;default:i=Qc}n=i.bind(null,t,n,e),i=void 0,!fu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),o?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ta(e,t,n,o,i){var r=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var a=o.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=o.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=co(a),s===null)return;if(l=s.tag,l===5||l===6){o=r=s;continue e}a=a.parentNode}}o=o.return}Lg(function(){var u=r,d=Wc(n),h=[];e:{var p=cy.get(e);if(p!==void 0){var g=ed,v=e;switch(e){case"keypress":if(ws(n)===0)break e;case"keydown":case"keyup":g=O1;break;case"focusin":v="focus",g=ha;break;case"focusout":v="blur",g=ha;break;case"beforeblur":case"afterblur":g=ha;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=q1;break;case sy:case ly:case ay:g=M1;break;case uy:g=J1;break;case"scroll":g=_1;break;case"wheel":g=K1;break;case"copy":case"cut":case"paste":g=L1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=sp}var T=(t&4)!==0,w=!T&&e==="scroll",S=T?p!==null?p+"Capture":null:p;T=[];for(var y=u,x;y!==null;){x=y;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,S!==null&&(E=fr(y,S),E!=null&&T.push(xr(y,E,x)))),w)break;y=y.return}0<T.length&&(p=new g(p,v,null,n,d),h.push({event:p,listeners:T}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==cu&&(v=n.relatedTarget||n.fromElement)&&(co(v)||v[xn]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?co(v):null,v!==null&&(w=bo(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(T=ip,E="onMouseLeave",S="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(T=sp,E="onPointerLeave",S="onPointerEnter",y="pointer"),w=g==null?p:zo(g),x=v==null?p:zo(v),p=new T(E,y+"leave",g,n,d),p.target=w,p.relatedTarget=x,E=null,co(d)===u&&(T=new T(S,y+"enter",v,n,d),T.target=x,T.relatedTarget=w,E=T),w=E,g&&v)t:{for(T=g,S=v,y=0,x=T;x;x=Mo(x))y++;for(x=0,E=S;E;E=Mo(E))x++;for(;0<y-x;)T=Mo(T),y--;for(;0<x-y;)S=Mo(S),x--;for(;y--;){if(T===S||S!==null&&T===S.alternate)break t;T=Mo(T),S=Mo(S)}T=null}else T=null;g!==null&&yp(h,p,g,T,!1),v!==null&&w!==null&&yp(h,w,v,T,!0)}}e:{if(p=u?zo(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var I=nw;else if(up(p))if(ty)I=sw;else{I=iw;var C=ow}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=rw);if(I&&(I=I(e,u))){ey(h,I,n,d);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&ru(p,"number",p.value)}switch(C=u?zo(u):window,e){case"focusin":(up(C)||C.contentEditable==="true")&&(Go=C,yu=u,Zi=null);break;case"focusout":Zi=yu=Go=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,hp(h,n,d);break;case"selectionchange":if(uw)break;case"keydown":case"keyup":hp(h,n,d)}var k;if(nd)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vo?Qg(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Xg&&n.locale!=="ko"&&(Vo||_!=="onCompositionStart"?_==="onCompositionEnd"&&Vo&&(k=Yg()):(Fn=d,Zc="value"in Fn?Fn.value:Fn.textContent,Vo=!0)),C=qs(u,_),0<C.length&&(_=new rp(_,e,null,n,d),h.push({event:_,listeners:C}),k?_.data=k:(k=Zg(n),k!==null&&(_.data=k)))),(k=X1?Q1(e,n):Z1(e,n))&&(u=qs(u,"onBeforeInput"),0<u.length&&(d=new rp("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}dy(h,t)})}function xr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qs(e,t){for(var n=t+"Capture",o=[];e!==null;){var i=e,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=fr(e,n),r!=null&&o.unshift(xr(e,r,i)),r=fr(e,t),r!=null&&o.push(xr(e,r,i))),e=e.return}return o}function Mo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yp(e,t,n,o,i){for(var r=t._reactName,s=[];n!==null&&n!==o;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===o)break;a.tag===5&&u!==null&&(a=u,i?(l=fr(n,r),l!=null&&s.unshift(xr(n,l,a))):i||(l=fr(n,r),l!=null&&s.push(xr(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var pw=/\r\n?/g,hw=/\u0000|\uFFFD/g;function vp(e){return(typeof e=="string"?e:""+e).replace(pw,`
`).replace(hw,"")}function Zr(e,t,n){if(t=vp(t),vp(e)!==t&&n)throw Error(F(425))}function js(){}var xu=null,Su=null;function Tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,gw=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(e){return xp.resolve(null).then(e).catch(yw)}:wu;function yw(e){setTimeout(function(){throw e})}function wa(e,t){var n=t,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(o===0){e.removeChild(i),mr(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=i}while(n);mr(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),ln="__reactFiber$"+Ei,Sr="__reactProps$"+Ei,xn="__reactContainer$"+Ei,Eu="__reactEvents$"+Ei,vw="__reactListeners$"+Ei,xw="__reactHandles$"+Ei;function co(e){var t=e[ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sp(e);e!==null;){if(n=e[ln])return n;e=Sp(e)}return t}e=n,n=e.parentNode}return null}function Ur(e){return e=e[ln]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function bl(e){return e[Sr]||null}var Cu=[],Oo=-1;function Qn(e){return{current:e}}function Ee(e){0>Oo||(e.current=Cu[Oo],Cu[Oo]=null,Oo--)}function Se(e,t){Oo++,Cu[Oo]=e.current,e.current=t}var Wn={},it=Qn(Wn),gt=Qn(!1),wo=Wn;function pi(e,t){var n=e.type.contextTypes;if(!n)return Wn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=t[r];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function yt(e){return e=e.childContextTypes,e!=null}function Js(){Ee(gt),Ee(it)}function Tp(e,t,n){if(it.current!==Wn)throw Error(F(168));Se(it,t),Se(gt,n)}function py(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var i in o)if(!(i in t))throw Error(F(108,o1(e)||"Unknown",i));return Pe({},n,o)}function Ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wn,wo=it.current,Se(it,e),Se(gt,gt.current),!0}function wp(e,t,n){var o=e.stateNode;if(!o)throw Error(F(169));n?(e=py(e,t,wo),o.__reactInternalMemoizedMergedChildContext=e,Ee(gt),Ee(it),Se(it,e)):Ee(gt),Se(gt,n)}var hn=null,Pl=!1,Ea=!1;function hy(e){hn===null?hn=[e]:hn.push(e)}function Sw(e){Pl=!0,hy(e)}function Zn(){if(!Ea&&hn!==null){Ea=!0;var e=0,t=he;try{var n=hn;for(he=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}hn=null,Pl=!1}catch(i){throw hn!==null&&(hn=hn.slice(e+1)),Gg(Kc,Zn),i}finally{he=t,Ea=!1}}return null}var Ho=[],$o=0,Ks=null,Ys=0,bt=[],Pt=0,Eo=null,mn=1,gn="";function ro(e,t){Ho[$o++]=Ys,Ho[$o++]=Ks,Ks=e,Ys=t}function my(e,t,n){bt[Pt++]=mn,bt[Pt++]=gn,bt[Pt++]=Eo,Eo=e;var o=mn;e=gn;var i=32-Xt(o)-1;o&=~(1<<i),n+=1;var r=32-Xt(t)+i;if(30<r){var s=i-i%5;r=(o&(1<<s)-1).toString(32),o>>=s,i-=s,mn=1<<32-Xt(t)+i|n<<i|o,gn=r+e}else mn=1<<r|n<<i|o,gn=e}function id(e){e.return!==null&&(ro(e,1),my(e,1,0))}function rd(e){for(;e===Ks;)Ks=Ho[--$o],Ho[$o]=null,Ys=Ho[--$o],Ho[$o]=null;for(;e===Eo;)Eo=bt[--Pt],bt[Pt]=null,gn=bt[--Pt],bt[Pt]=null,mn=bt[--Pt],bt[Pt]=null}var Tt=null,St=null,Ne=!1,Kt=null;function gy(e,t){var n=Rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ep(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,St=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Eo!==null?{id:mn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,St=null,!0):!1;default:return!1}}function Nu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Iu(e){if(Ne){var t=St;if(t){var n=t;if(!Ep(e,t)){if(Nu(e))throw Error(F(418));t=On(n.nextSibling);var o=Tt;t&&Ep(e,t)?gy(o,n):(e.flags=e.flags&-4097|2,Ne=!1,Tt=e)}}else{if(Nu(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ne=!1,Tt=e}}}function Cp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function es(e){if(e!==Tt)return!1;if(!Ne)return Cp(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tu(e.type,e.memoizedProps)),t&&(t=St)){if(Nu(e))throw yy(),Error(F(418));for(;t;)gy(e,t),t=On(t.nextSibling)}if(Cp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=On(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=Tt?On(e.stateNode.nextSibling):null;return!0}function yy(){for(var e=St;e;)e=On(e.nextSibling)}function hi(){St=Tt=null,Ne=!1}function sd(e){Kt===null?Kt=[e]:Kt.push(e)}var Tw=Nn.ReactCurrentBatchConfig;function Ui(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var o=n.stateNode}if(!o)throw Error(F(147,e));var i=o,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(s){var a=i.refs;s===null?delete a[r]:a[r]=s},t._stringRef=r,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function ts(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Np(e){var t=e._init;return t(e._payload)}function vy(e){function t(S,y){if(e){var x=S.deletions;x===null?(S.deletions=[y],S.flags|=16):x.push(y)}}function n(S,y){if(!e)return null;for(;y!==null;)t(S,y),y=y.sibling;return null}function o(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function i(S,y){return S=jn(S,y),S.index=0,S.sibling=null,S}function r(S,y,x){return S.index=x,e?(x=S.alternate,x!==null?(x=x.index,x<y?(S.flags|=2,y):x):(S.flags|=2,y)):(S.flags|=1048576,y)}function s(S){return e&&S.alternate===null&&(S.flags|=2),S}function a(S,y,x,E){return y===null||y.tag!==6?(y=ba(x,S.mode,E),y.return=S,y):(y=i(y,x),y.return=S,y)}function l(S,y,x,E){var I=x.type;return I===Uo?d(S,y,x.props.children,E,x.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Rn&&Np(I)===y.type)?(E=i(y,x.props),E.ref=Ui(S,y,x),E.return=S,E):(E=As(x.type,x.key,x.props,null,S.mode,E),E.ref=Ui(S,y,x),E.return=S,E)}function u(S,y,x,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Pa(x,S.mode,E),y.return=S,y):(y=i(y,x.children||[]),y.return=S,y)}function d(S,y,x,E,I){return y===null||y.tag!==7?(y=vo(x,S.mode,E,I),y.return=S,y):(y=i(y,x),y.return=S,y)}function h(S,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ba(""+y,S.mode,x),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $r:return x=As(y.type,y.key,y.props,null,S.mode,x),x.ref=Ui(S,null,y),x.return=S,x;case Fo:return y=Pa(y,S.mode,x),y.return=S,y;case Rn:var E=y._init;return h(S,E(y._payload),x)}if($i(y)||Ri(y))return y=vo(y,S.mode,x,null),y.return=S,y;ts(S,y)}return null}function p(S,y,x,E){var I=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:a(S,y,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $r:return x.key===I?l(S,y,x,E):null;case Fo:return x.key===I?u(S,y,x,E):null;case Rn:return I=x._init,p(S,y,I(x._payload),E)}if($i(x)||Ri(x))return I!==null?null:d(S,y,x,E,null);ts(S,x)}return null}function g(S,y,x,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return S=S.get(x)||null,a(y,S,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $r:return S=S.get(E.key===null?x:E.key)||null,l(y,S,E,I);case Fo:return S=S.get(E.key===null?x:E.key)||null,u(y,S,E,I);case Rn:var C=E._init;return g(S,y,x,C(E._payload),I)}if($i(E)||Ri(E))return S=S.get(x)||null,d(y,S,E,I,null);ts(y,E)}return null}function v(S,y,x,E){for(var I=null,C=null,k=y,_=y=0,b=null;k!==null&&_<x.length;_++){k.index>_?(b=k,k=null):b=k.sibling;var M=p(S,k,x[_],E);if(M===null){k===null&&(k=b);break}e&&k&&M.alternate===null&&t(S,k),y=r(M,y,_),C===null?I=M:C.sibling=M,C=M,k=b}if(_===x.length)return n(S,k),Ne&&ro(S,_),I;if(k===null){for(;_<x.length;_++)k=h(S,x[_],E),k!==null&&(y=r(k,y,_),C===null?I=k:C.sibling=k,C=k);return Ne&&ro(S,_),I}for(k=o(S,k);_<x.length;_++)b=g(k,S,_,x[_],E),b!==null&&(e&&b.alternate!==null&&k.delete(b.key===null?_:b.key),y=r(b,y,_),C===null?I=b:C.sibling=b,C=b);return e&&k.forEach(function(L){return t(S,L)}),Ne&&ro(S,_),I}function T(S,y,x,E){var I=Ri(x);if(typeof I!="function")throw Error(F(150));if(x=I.call(x),x==null)throw Error(F(151));for(var C=I=null,k=y,_=y=0,b=null,M=x.next();k!==null&&!M.done;_++,M=x.next()){k.index>_?(b=k,k=null):b=k.sibling;var L=p(S,k,M.value,E);if(L===null){k===null&&(k=b);break}e&&k&&L.alternate===null&&t(S,k),y=r(L,y,_),C===null?I=L:C.sibling=L,C=L,k=b}if(M.done)return n(S,k),Ne&&ro(S,_),I;if(k===null){for(;!M.done;_++,M=x.next())M=h(S,M.value,E),M!==null&&(y=r(M,y,_),C===null?I=M:C.sibling=M,C=M);return Ne&&ro(S,_),I}for(k=o(S,k);!M.done;_++,M=x.next())M=g(k,S,_,M.value,E),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?_:M.key),y=r(M,y,_),C===null?I=M:C.sibling=M,C=M);return e&&k.forEach(function(ne){return t(S,ne)}),Ne&&ro(S,_),I}function w(S,y,x,E){if(typeof x=="object"&&x!==null&&x.type===Uo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case $r:e:{for(var I=x.key,C=y;C!==null;){if(C.key===I){if(I=x.type,I===Uo){if(C.tag===7){n(S,C.sibling),y=i(C,x.props.children),y.return=S,S=y;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Rn&&Np(I)===C.type){n(S,C.sibling),y=i(C,x.props),y.ref=Ui(S,C,x),y.return=S,S=y;break e}n(S,C);break}else t(S,C);C=C.sibling}x.type===Uo?(y=vo(x.props.children,S.mode,E,x.key),y.return=S,S=y):(E=As(x.type,x.key,x.props,null,S.mode,E),E.ref=Ui(S,y,x),E.return=S,S=E)}return s(S);case Fo:e:{for(C=x.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(S,y.sibling),y=i(y,x.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else t(S,y);y=y.sibling}y=Pa(x,S.mode,E),y.return=S,S=y}return s(S);case Rn:return C=x._init,w(S,y,C(x._payload),E)}if($i(x))return v(S,y,x,E);if(Ri(x))return T(S,y,x,E);ts(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(S,y.sibling),y=i(y,x),y.return=S,S=y):(n(S,y),y=ba(x,S.mode,E),y.return=S,S=y),s(S)):n(S,y)}return w}var mi=vy(!0),xy=vy(!1),Xs=Qn(null),Qs=null,qo=null,ld=null;function ad(){ld=qo=Qs=null}function ud(e){var t=Xs.current;Ee(Xs),e._currentValue=t}function ku(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function si(e,t){Qs=e,ld=qo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if(ld!==e)if(e={context:e,memoizedValue:t,next:null},qo===null){if(Qs===null)throw Error(F(308));qo=e,Qs.dependencies={lanes:0,firstContext:e}}else qo=qo.next=e;return t}var fo=null;function cd(e){fo===null?fo=[e]:fo.push(e)}function Sy(e,t,n,o){var i=t.interleaved;return i===null?(n.next=n,cd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Sn(e,o)}function Sn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mn=!1;function dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ty(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,fe&2){var i=o.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),o.pending=t,Sn(e,n)}return i=o.interleaved,i===null?(t.next=t,cd(o)):(t.next=i.next,i.next=t),o.interleaved=t,Sn(e,n)}function Es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Yc(e,n)}}function Ip(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zs(e,t,n,o){var i=e.updateQueue;Mn=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?r=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(r!==null){var h=i.baseState;s=0,d=u=l=null,a=r;do{var p=a.lane,g=a.eventTime;if((o&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,T=a;switch(p=t,g=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){h=v.call(g,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,p=typeof v=="function"?v.call(g,h,p):v,p==null)break e;h=Pe({},h,p);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else r===null&&(i.shared.lanes=0);No|=s,e.lanes=s,e.memoizedState=h}}function kp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(i!==null){if(o.callback=null,o=n,typeof i!="function")throw Error(F(191,i));i.call(o)}}}var Vr={},cn=Qn(Vr),Tr=Qn(Vr),wr=Qn(Vr);function po(e){if(e===Vr)throw Error(F(174));return e}function fd(e,t){switch(Se(wr,t),Se(Tr,e),Se(cn,Vr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lu(t,e)}Ee(cn),Se(cn,t)}function gi(){Ee(cn),Ee(Tr),Ee(wr)}function wy(e){po(wr.current);var t=po(cn.current),n=lu(t,e.type);t!==n&&(Se(Tr,e),Se(cn,n))}function pd(e){Tr.current===e&&(Ee(cn),Ee(Tr))}var _e=Qn(0);function el(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ca=[];function hd(){for(var e=0;e<Ca.length;e++)Ca[e]._workInProgressVersionPrimary=null;Ca.length=0}var Cs=Nn.ReactCurrentDispatcher,Na=Nn.ReactCurrentBatchConfig,Co=0,be=null,Oe=null,qe=null,tl=!1,er=!1,Er=0,ww=0;function Ze(){throw Error(F(321))}function md(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function gd(e,t,n,o,i,r){if(Co=r,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cs.current=e===null||e.memoizedState===null?Iw:kw,e=n(o,i),er){r=0;do{if(er=!1,Er=0,25<=r)throw Error(F(301));r+=1,qe=Oe=null,t.updateQueue=null,Cs.current=_w,e=n(o,i)}while(er)}if(Cs.current=nl,t=Oe!==null&&Oe.next!==null,Co=0,qe=Oe=be=null,tl=!1,t)throw Error(F(300));return e}function yd(){var e=Er!==0;return Er=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?be.memoizedState=qe=e:qe=qe.next=e,qe}function Vt(){if(Oe===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=qe===null?be.memoizedState:qe.next;if(t!==null)qe=t,Oe=e;else{if(e===null)throw Error(F(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},qe===null?be.memoizedState=qe=e:qe=qe.next=e}return qe}function Cr(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=Vt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var o=Oe,i=o.baseQueue,r=n.pending;if(r!==null){if(i!==null){var s=i.next;i.next=r.next,r.next=s}o.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,o=o.baseState;var a=s=null,l=null,u=r;do{var d=u.lane;if((Co&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),o=u.hasEagerState?u.eagerState:e(o,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=o):l=l.next=h,be.lanes|=d,No|=d}u=u.next}while(u!==null&&u!==r);l===null?s=o:l.next=a,tn(o,t.memoizedState)||(ht=!0),t.memoizedState=o,t.baseState=s,t.baseQueue=l,n.lastRenderedState=o}if(e=n.interleaved,e!==null){i=e;do r=i.lane,be.lanes|=r,No|=r,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ka(e){var t=Vt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do r=e(r,s.action),s=s.next;while(s!==i);tn(r,t.memoizedState)||(ht=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,o]}function Ey(){}function Cy(e,t){var n=be,o=Vt(),i=t(),r=!tn(o.memoizedState,i);if(r&&(o.memoizedState=i,ht=!0),o=o.queue,vd(ky.bind(null,n,o,e),[e]),o.getSnapshot!==t||r||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Nr(9,Iy.bind(null,n,o,i,t),void 0,null),je===null)throw Error(F(349));Co&30||Ny(n,t,i)}return i}function Ny(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Iy(e,t,n,o){t.value=n,t.getSnapshot=o,_y(t)&&Ay(e)}function ky(e,t,n){return n(function(){_y(t)&&Ay(e)})}function _y(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function Ay(e){var t=Sn(e,1);t!==null&&Qt(t,e,1,-1)}function _p(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:e},t.queue=e,e=e.dispatch=Nw.bind(null,be,e),[t.memoizedState,e]}function Nr(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function by(){return Vt().memoizedState}function Ns(e,t,n,o){var i=sn();be.flags|=e,i.memoizedState=Nr(1|t,n,void 0,o===void 0?null:o)}function Rl(e,t,n,o){var i=Vt();o=o===void 0?null:o;var r=void 0;if(Oe!==null){var s=Oe.memoizedState;if(r=s.destroy,o!==null&&md(o,s.deps)){i.memoizedState=Nr(t,n,r,o);return}}be.flags|=e,i.memoizedState=Nr(1|t,n,r,o)}function Ap(e,t){return Ns(8390656,8,e,t)}function vd(e,t){return Rl(2048,8,e,t)}function Py(e,t){return Rl(4,2,e,t)}function Ry(e,t){return Rl(4,4,e,t)}function My(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dy(e,t,n){return n=n!=null?n.concat([e]):null,Rl(4,4,My.bind(null,t,e),n)}function xd(){}function Ly(e,t){var n=Vt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&md(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Fy(e,t){var n=Vt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&md(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Uy(e,t,n){return Co&21?(tn(n,t)||(n=Og(),be.lanes|=n,No|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=n)}function Ew(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var o=Na.transition;Na.transition={};try{e(!1),t()}finally{he=n,Na.transition=o}}function Vy(){return Vt().memoizedState}function Cw(e,t,n){var o=qn(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Gy(e))By(t,n);else if(n=Sy(e,t,n,o),n!==null){var i=ut();Qt(n,e,o,i),zy(n,t,o)}}function Nw(e,t,n){var o=qn(e),i={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gy(e))By(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,a=r(s,n);if(i.hasEagerState=!0,i.eagerState=a,tn(a,s)){var l=t.interleaved;l===null?(i.next=i,cd(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Sy(e,t,i,o),n!==null&&(i=ut(),Qt(n,e,o,i),zy(n,t,o))}}function Gy(e){var t=e.alternate;return e===be||t!==null&&t===be}function By(e,t){er=tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zy(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Yc(e,n)}}var nl={readContext:Ut,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Iw={readContext:Ut,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:Ap,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ns(4194308,4,My.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=sn();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Cw.bind(null,be,e),[o.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:_p,useDebugValue:xd,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=_p(!1),t=e[0];return e=Ew.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=be,i=sn();if(Ne){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),je===null)throw Error(F(349));Co&30||Ny(o,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,Ap(ky.bind(null,o,r,e),[e]),o.flags|=2048,Nr(9,Iy.bind(null,o,r,n,t),void 0,null),n},useId:function(){var e=sn(),t=je.identifierPrefix;if(Ne){var n=gn,o=mn;n=(o&~(1<<32-Xt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Er++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ww++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kw={readContext:Ut,useCallback:Ly,useContext:Ut,useEffect:vd,useImperativeHandle:Dy,useInsertionEffect:Py,useLayoutEffect:Ry,useMemo:Fy,useReducer:Ia,useRef:by,useState:function(){return Ia(Cr)},useDebugValue:xd,useDeferredValue:function(e){var t=Vt();return Uy(t,Oe.memoizedState,e)},useTransition:function(){var e=Ia(Cr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Ey,useSyncExternalStore:Cy,useId:Vy,unstable_isNewReconciler:!1},_w={readContext:Ut,useCallback:Ly,useContext:Ut,useEffect:vd,useImperativeHandle:Dy,useInsertionEffect:Py,useLayoutEffect:Ry,useMemo:Fy,useReducer:ka,useRef:by,useState:function(){return ka(Cr)},useDebugValue:xd,useDeferredValue:function(e){var t=Vt();return Oe===null?t.memoizedState=e:Uy(t,Oe.memoizedState,e)},useTransition:function(){var e=ka(Cr)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Ey,useSyncExternalStore:Cy,useId:Vy,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _u(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ml={isMounted:function(e){return(e=e._reactInternals)?bo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=ut(),i=qn(e),r=yn(o,i);r.payload=t,n!=null&&(r.callback=n),t=Hn(e,r,i),t!==null&&(Qt(t,e,i,o),Es(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=ut(),i=qn(e),r=yn(o,i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Hn(e,r,i),t!==null&&(Qt(t,e,i,o),Es(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),o=qn(e),i=yn(n,o);i.tag=2,t!=null&&(i.callback=t),t=Hn(e,i,o),t!==null&&(Qt(t,e,o,n),Es(t,e,o))}};function bp(e,t,n,o,i,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,r,s):t.prototype&&t.prototype.isPureReactComponent?!yr(n,o)||!yr(i,r):!0}function Oy(e,t,n){var o=!1,i=Wn,r=t.contextType;return typeof r=="object"&&r!==null?r=Ut(r):(i=yt(t)?wo:it.current,o=t.contextTypes,r=(o=o!=null)?pi(e,i):Wn),t=new t(n,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ml,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function Pp(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Ml.enqueueReplaceState(t,t.state,null)}function Au(e,t,n,o){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},dd(e);var r=t.contextType;typeof r=="object"&&r!==null?i.context=Ut(r):(r=yt(t)?wo:it.current,i.context=pi(e,r)),i.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(_u(e,t,r,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ml.enqueueReplaceState(i,i.state,null),Zs(e,n,i,o),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yi(e,t){try{var n="",o=t;do n+=n1(o),o=o.return;while(o);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:i,digest:null}}function _a(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Aw=typeof WeakMap=="function"?WeakMap:Map;function Hy(e,t,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){il||(il=!0,Bu=o),bu(e,t)},n}function $y(e,t,n){n=yn(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var i=t.value;n.payload=function(){return o(i)},n.callback=function(){bu(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){bu(e,t),typeof o!="function"&&($n===null?$n=new Set([this]):$n.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Rp(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new Aw;var i=new Set;o.set(t,i)}else i=o.get(t),i===void 0&&(i=new Set,o.set(t,i));i.has(n)||(i.add(n),e=Hw.bind(null,e,t,n),t.then(e,e))}function Mp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dp(e,t,n,o,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yn(-1,1),t.tag=2,Hn(n,t,1))),n.lanes|=1),e)}var bw=Nn.ReactCurrentOwner,ht=!1;function st(e,t,n,o){t.child=e===null?xy(t,null,n,o):mi(t,e.child,n,o)}function Lp(e,t,n,o,i){n=n.render;var r=t.ref;return si(t,i),o=gd(e,t,n,o,r,i),n=yd(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tn(e,t,i)):(Ne&&n&&id(t),t.flags|=1,st(e,t,o,i),t.child)}function Fp(e,t,n,o,i){if(e===null){var r=n.type;return typeof r=="function"&&!kd(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=r,qy(e,t,r,o,i)):(e=As(n.type,null,o,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&i)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:yr,n(s,o)&&e.ref===t.ref)return Tn(e,t,i)}return t.flags|=1,e=jn(r,o),e.ref=t.ref,e.return=t,t.child=e}function qy(e,t,n,o,i){if(e!==null){var r=e.memoizedProps;if(yr(r,o)&&e.ref===t.ref)if(ht=!1,t.pendingProps=o=r,(e.lanes&i)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,Tn(e,t,i)}return Pu(e,t,n,o,i)}function jy(e,t,n){var o=t.pendingProps,i=o.children,r=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Jo,xt),xt|=n;else{if(!(n&1073741824))return e=r!==null?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Jo,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=r!==null?r.baseLanes:n,Se(Jo,xt),xt|=o}else r!==null?(o=r.baseLanes|n,t.memoizedState=null):o=n,Se(Jo,xt),xt|=o;return st(e,t,i,n),t.child}function Jy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pu(e,t,n,o,i){var r=yt(n)?wo:it.current;return r=pi(t,r),si(t,i),n=gd(e,t,n,o,r,i),o=yd(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tn(e,t,i)):(Ne&&o&&id(t),t.flags|=1,st(e,t,n,i),t.child)}function Up(e,t,n,o,i){if(yt(n)){var r=!0;Ws(t)}else r=!1;if(si(t,i),t.stateNode===null)Is(e,t),Oy(t,n,o),Au(t,n,o,i),o=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ut(u):(u=yt(n)?wo:it.current,u=pi(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==o||l!==u)&&Pp(t,s,o,u),Mn=!1;var p=t.memoizedState;s.state=p,Zs(t,o,s,i),l=t.memoizedState,a!==o||p!==l||gt.current||Mn?(typeof d=="function"&&(_u(t,n,d,o),l=t.memoizedState),(a=Mn||bp(t,n,a,o,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=l),s.props=o,s.state=l,s.context=u,o=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,Ty(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:jt(t.type,a),s.props=u,h=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ut(l):(l=yt(n)?wo:it.current,l=pi(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Pp(t,s,o,l),Mn=!1,p=t.memoizedState,s.state=p,Zs(t,o,s,i);var v=t.memoizedState;a!==h||p!==v||gt.current||Mn?(typeof g=="function"&&(_u(t,n,g,o),v=t.memoizedState),(u=Mn||bp(t,n,u,o,p,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=v),s.props=o,s.state=v,s.context=l,o=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return Ru(e,t,n,o,r,i)}function Ru(e,t,n,o,i,r){Jy(e,t);var s=(t.flags&128)!==0;if(!o&&!s)return i&&wp(t,n,!1),Tn(e,t,r);o=t.stateNode,bw.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&s?(t.child=mi(t,e.child,null,r),t.child=mi(t,null,a,r)):st(e,t,a,r),t.memoizedState=o.state,i&&wp(t,n,!0),t.child}function Wy(e){var t=e.stateNode;t.pendingContext?Tp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tp(e,t.context,!1),fd(e,t.containerInfo)}function Vp(e,t,n,o,i){return hi(),sd(i),t.flags|=256,st(e,t,n,o),t.child}var Mu={dehydrated:null,treeContext:null,retryLane:0};function Du(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ky(e,t,n){var o=t.pendingProps,i=_e.current,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Se(_e,i&1),e===null)return Iu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,r?(o=t.mode,r=t.child,s={mode:"hidden",children:s},!(o&1)&&r!==null?(r.childLanes=0,r.pendingProps=s):r=Fl(s,o,0,null),e=vo(e,o,n,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=Du(n),t.memoizedState=Mu,e):Sd(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Pw(e,t,s,o,a,i,n);if(r){r=o.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:o.children};return!(s&1)&&t.child!==i?(o=t.child,o.childLanes=0,o.pendingProps=l,t.deletions=null):(o=jn(i,l),o.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=jn(a,r):(r=vo(r,s,n,null),r.flags|=2),r.return=t,o.return=t,o.sibling=r,t.child=o,o=r,r=t.child,s=e.child.memoizedState,s=s===null?Du(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},r.memoizedState=s,r.childLanes=e.childLanes&~n,t.memoizedState=Mu,o}return r=e.child,e=r.sibling,o=jn(r,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Sd(e,t){return t=Fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ns(e,t,n,o){return o!==null&&sd(o),mi(t,e.child,null,n),e=Sd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pw(e,t,n,o,i,r,s){if(n)return t.flags&256?(t.flags&=-257,o=_a(Error(F(422))),ns(e,t,s,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=o.fallback,i=t.mode,o=Fl({mode:"visible",children:o.children},i,0,null),r=vo(r,i,s,null),r.flags|=2,o.return=t,r.return=t,o.sibling=r,t.child=o,t.mode&1&&mi(t,e.child,null,s),t.child.memoizedState=Du(s),t.memoizedState=Mu,r);if(!(t.mode&1))return ns(e,t,s,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var a=o.dgst;return o=a,r=Error(F(419)),o=_a(r,o,void 0),ns(e,t,s,o)}if(a=(s&e.childLanes)!==0,ht||a){if(o=je,o!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|s)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Sn(e,i),Qt(o,e,i,-1))}return Id(),o=_a(Error(F(421))),ns(e,t,s,o)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=$w.bind(null,e),i._reactRetry=t,null):(e=r.treeContext,St=On(i.nextSibling),Tt=t,Ne=!0,Kt=null,e!==null&&(bt[Pt++]=mn,bt[Pt++]=gn,bt[Pt++]=Eo,mn=e.id,gn=e.overflow,Eo=t),t=Sd(t,o.children),t.flags|=4096,t)}function Gp(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),ku(e.return,t,n)}function Aa(e,t,n,o,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=n,r.tailMode=i)}function Yy(e,t,n){var o=t.pendingProps,i=o.revealOrder,r=o.tail;if(st(e,t,o.children,n),o=_e.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gp(e,n,t);else if(e.tag===19)Gp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Se(_e,o),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&el(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Aa(t,!1,i,n,r);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&el(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Aa(t,!0,n,null,r);break;case"together":Aa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Is(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),No|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rw(e,t,n){switch(t.tag){case 3:Wy(t),hi();break;case 5:wy(t);break;case 1:yt(t.type)&&Ws(t);break;case 4:fd(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,i=t.memoizedProps.value;Se(Xs,o._currentValue),o._currentValue=i;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Se(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?Ky(e,t,n):(Se(_e,_e.current&1),e=Tn(e,t,n),e!==null?e.sibling:null);Se(_e,_e.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return Yy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(_e,_e.current),o)break;return null;case 22:case 23:return t.lanes=0,jy(e,t,n)}return Tn(e,t,n)}var Xy,Lu,Qy,Zy;Xy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lu=function(){};Qy=function(e,t,n,o){var i=e.memoizedProps;if(i!==o){e=t.stateNode,po(cn.current);var r=null;switch(n){case"input":i=ou(e,i),o=ou(e,o),r=[];break;case"select":i=Pe({},i,{value:void 0}),o=Pe({},o,{value:void 0}),r=[];break;case"textarea":i=su(e,i),o=su(e,o),r=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=js)}au(n,o);var s;n=null;for(u in i)if(!o.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cr.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in o){var l=o[u];if(a=i!=null?i[u]:void 0,o.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(r||(r=[]),r.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",e),r||a===l||(r=[])):(r=r||[]).push(u,l))}n&&(r=r||[]).push("style",n);var u=r;(t.updateQueue=u)&&(t.flags|=4)}};Zy=function(e,t,n,o){n!==o&&(t.flags|=4)};function Vi(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Mw(e,t,n){var o=t.pendingProps;switch(rd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return yt(t.type)&&Js(),et(t),null;case 3:return o=t.stateNode,gi(),Ee(gt),Ee(it),hd(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(es(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kt!==null&&(Hu(Kt),Kt=null))),Lu(e,t),et(t),null;case 5:pd(t);var i=po(wr.current);if(n=t.type,e!==null&&t.stateNode!=null)Qy(e,t,n,o,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(F(166));return et(t),null}if(e=po(cn.current),es(t)){o=t.stateNode,n=t.type;var r=t.memoizedProps;switch(o[ln]=t,o[Sr]=r,e=(t.mode&1)!==0,n){case"dialog":we("cancel",o),we("close",o);break;case"iframe":case"object":case"embed":we("load",o);break;case"video":case"audio":for(i=0;i<ji.length;i++)we(ji[i],o);break;case"source":we("error",o);break;case"img":case"image":case"link":we("error",o),we("load",o);break;case"details":we("toggle",o);break;case"input":Wf(o,r),we("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!r.multiple},we("invalid",o);break;case"textarea":Yf(o,r),we("invalid",o)}au(n,r),i=null;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];s==="children"?typeof a=="string"?o.textContent!==a&&(r.suppressHydrationWarning!==!0&&Zr(o.textContent,a,e),i=["children",a]):typeof a=="number"&&o.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Zr(o.textContent,a,e),i=["children",""+a]):cr.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&we("scroll",o)}switch(n){case"input":qr(o),Kf(o,r,!0);break;case"textarea":qr(o),Xf(o);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(o.onclick=js)}o=i,t.updateQueue=o,o!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=s.createElement(n,{is:o.is}):(e=s.createElement(n),n==="select"&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,n),e[ln]=t,e[Sr]=o,Xy(e,t,!1,!1),t.stateNode=e;e:{switch(s=uu(n,o),n){case"dialog":we("cancel",e),we("close",e),i=o;break;case"iframe":case"object":case"embed":we("load",e),i=o;break;case"video":case"audio":for(i=0;i<ji.length;i++)we(ji[i],e);i=o;break;case"source":we("error",e),i=o;break;case"img":case"image":case"link":we("error",e),we("load",e),i=o;break;case"details":we("toggle",e),i=o;break;case"input":Wf(e,o),i=ou(e,o),we("invalid",e);break;case"option":i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=Pe({},o,{value:void 0}),we("invalid",e);break;case"textarea":Yf(e,o),i=su(e,o),we("invalid",e);break;default:i=o}au(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?bg(e,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_g(e,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dr(e,l):typeof l=="number"&&dr(e,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(cr.hasOwnProperty(r)?l!=null&&r==="onScroll"&&we("scroll",e):l!=null&&$c(e,r,l,s))}switch(n){case"input":qr(e),Kf(e,o,!1);break;case"textarea":qr(e),Xf(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Jn(o.value));break;case"select":e.multiple=!!o.multiple,r=o.value,r!=null?ni(e,!!o.multiple,r,!1):o.defaultValue!=null&&ni(e,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=js)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Zy(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(F(166));if(n=po(wr.current),po(cn.current),es(t)){if(o=t.stateNode,n=t.memoizedProps,o[ln]=t,(r=o.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:Zr(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zr(o.nodeValue,n,(e.mode&1)!==0)}r&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[ln]=t,t.stateNode=o}return et(t),null;case 13:if(Ee(_e),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&St!==null&&t.mode&1&&!(t.flags&128))yy(),hi(),t.flags|=98560,r=!1;else if(r=es(t),o!==null&&o.dehydrated!==null){if(e===null){if(!r)throw Error(F(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(F(317));r[ln]=t}else hi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),r=!1}else Kt!==null&&(Hu(Kt),Kt=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?He===0&&(He=3):Id())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return gi(),Lu(e,t),e===null&&vr(t.stateNode.containerInfo),et(t),null;case 10:return ud(t.type._context),et(t),null;case 17:return yt(t.type)&&Js(),et(t),null;case 19:if(Ee(_e),r=t.memoizedState,r===null)return et(t),null;if(o=(t.flags&128)!==0,s=r.rendering,s===null)if(o)Vi(r,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=el(e),s!==null){for(t.flags|=128,Vi(r,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)r=n,e=o,r.flags&=14680066,s=r.alternate,s===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,e=s.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(_e,_e.current&1|2),t.child}e=e.sibling}r.tail!==null&&Le()>vi&&(t.flags|=128,o=!0,Vi(r,!1),t.lanes=4194304)}else{if(!o)if(e=el(s),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Ne)return et(t),null}else 2*Le()-r.renderingStartTime>vi&&n!==1073741824&&(t.flags|=128,o=!0,Vi(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,n!==null?n.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Le(),t.sibling=null,n=_e.current,Se(_e,o?n&1|2:n&1),t):(et(t),null);case 22:case 23:return Nd(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?xt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Dw(e,t){switch(rd(t),t.tag){case 1:return yt(t.type)&&Js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gi(),Ee(gt),Ee(it),hd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pd(t),null;case 13:if(Ee(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(_e),null;case 4:return gi(),null;case 10:return ud(t.type._context),null;case 22:case 23:return Nd(),null;case 24:return null;default:return null}}var os=!1,tt=!1,Lw=typeof WeakSet=="function"?WeakSet:Set,H=null;function jo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){De(e,t,o)}else n.current=null}function Fu(e,t,n){try{n()}catch(o){De(e,t,o)}}var Bp=!1;function Fw(e,t){if(xu=Hs,e=iy(),od(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var i=o.anchorOffset,r=o.focusNode;o=o.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==r||o!==0&&h.nodeType!==3||(l=s+o),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===e)break t;if(p===n&&++u===i&&(a=s),p===r&&++d===o&&(l=s),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Su={focusedElem:e,selectionRange:n},Hs=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,w=v.memoizedState,S=t.stateNode,y=S.getSnapshotBeforeUpdate(t.elementType===t.type?T:jt(t.type,T),w);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(E){De(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return v=Bp,Bp=!1,v}function tr(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,r!==void 0&&Fu(t,n,r)}i=i.next}while(i!==o)}}function Dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Uu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ev(e){var t=e.alternate;t!==null&&(e.alternate=null,ev(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ln],delete t[Sr],delete t[Eu],delete t[vw],delete t[xw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tv(e){return e.tag===5||e.tag===3||e.tag===4}function zp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vu(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=js));else if(o!==4&&(e=e.child,e!==null))for(Vu(e,t,n),e=e.sibling;e!==null;)Vu(e,t,n),e=e.sibling}function Gu(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Gu(e,t,n),e=e.sibling;e!==null;)Gu(e,t,n),e=e.sibling}var Ke=null,Jt=!1;function bn(e,t,n){for(n=n.child;n!==null;)nv(e,t,n),n=n.sibling}function nv(e,t,n){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Il,n)}catch{}switch(n.tag){case 5:tt||jo(n,t);case 6:var o=Ke,i=Jt;Ke=null,bn(e,t,n),Ke=o,Jt=i,Ke!==null&&(Jt?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Jt?(e=Ke,n=n.stateNode,e.nodeType===8?wa(e.parentNode,n):e.nodeType===1&&wa(e,n),mr(e)):wa(Ke,n.stateNode));break;case 4:o=Ke,i=Jt,Ke=n.stateNode.containerInfo,Jt=!0,bn(e,t,n),Ke=o,Jt=i;break;case 0:case 11:case 14:case 15:if(!tt&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var r=i,s=r.destroy;r=r.tag,s!==void 0&&(r&2||r&4)&&Fu(n,t,s),i=i.next}while(i!==o)}bn(e,t,n);break;case 1:if(!tt&&(jo(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(a){De(n,t,a)}bn(e,t,n);break;case 21:bn(e,t,n);break;case 22:n.mode&1?(tt=(o=tt)||n.memoizedState!==null,bn(e,t,n),tt=o):bn(e,t,n);break;default:bn(e,t,n)}}function Op(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Lw),t.forEach(function(o){var i=qw.bind(null,e,o);n.has(o)||(n.add(o),o.then(i,i))})}}function Ht(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];try{var r=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,Jt=!1;break e;case 3:Ke=a.stateNode.containerInfo,Jt=!0;break e;case 4:Ke=a.stateNode.containerInfo,Jt=!0;break e}a=a.return}if(Ke===null)throw Error(F(160));nv(r,s,i),Ke=null,Jt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){De(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ov(t,e),t=t.sibling}function ov(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),rn(e),o&4){try{tr(3,e,e.return),Dl(3,e)}catch(T){De(e,e.return,T)}try{tr(5,e,e.return)}catch(T){De(e,e.return,T)}}break;case 1:Ht(t,e),rn(e),o&512&&n!==null&&jo(n,n.return);break;case 5:if(Ht(t,e),rn(e),o&512&&n!==null&&jo(n,n.return),e.flags&32){var i=e.stateNode;try{dr(i,"")}catch(T){De(e,e.return,T)}}if(o&4&&(i=e.stateNode,i!=null)){var r=e.memoizedProps,s=n!==null?n.memoizedProps:r,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Ng(i,r),uu(a,s);var u=uu(a,r);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?bg(i,h):d==="dangerouslySetInnerHTML"?_g(i,h):d==="children"?dr(i,h):$c(i,d,h,u)}switch(a){case"input":iu(i,r);break;case"textarea":Ig(i,r);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?ni(i,!!r.multiple,g,!1):p!==!!r.multiple&&(r.defaultValue!=null?ni(i,!!r.multiple,r.defaultValue,!0):ni(i,!!r.multiple,r.multiple?[]:"",!1))}i[Sr]=r}catch(T){De(e,e.return,T)}}break;case 6:if(Ht(t,e),rn(e),o&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,r=e.memoizedProps;try{i.nodeValue=r}catch(T){De(e,e.return,T)}}break;case 3:if(Ht(t,e),rn(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{mr(t.containerInfo)}catch(T){De(e,e.return,T)}break;case 4:Ht(t,e),rn(e);break;case 13:Ht(t,e),rn(e),i=e.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Ed=Le())),o&4&&Op(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(u=tt)||d,Ht(t,e),tt=u):Ht(t,e),rn(e),o&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(h=H=d;H!==null;){switch(p=H,g=p.child,p.tag){case 0:case 11:case 14:case 15:tr(4,p,p.return);break;case 1:jo(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){o=p,n=p.return;try{t=o,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(T){De(o,n,T)}}break;case 5:jo(p,p.return);break;case 22:if(p.memoizedState!==null){$p(h);continue}}g!==null?(g.return=p,H=g):$p(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ag("display",s))}catch(T){De(e,e.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(T){De(e,e.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ht(t,e),rn(e),o&4&&Op(e);break;case 21:break;default:Ht(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tv(n)){var o=n;break e}n=n.return}throw Error(F(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(dr(i,""),o.flags&=-33);var r=zp(e);Gu(e,r,i);break;case 3:case 4:var s=o.stateNode.containerInfo,a=zp(e);Vu(e,a,s);break;default:throw Error(F(161))}}catch(l){De(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uw(e,t,n){H=e,iv(e)}function iv(e,t,n){for(var o=(e.mode&1)!==0;H!==null;){var i=H,r=i.child;if(i.tag===22&&o){var s=i.memoizedState!==null||os;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tt;a=os;var u=tt;if(os=s,(tt=l)&&!u)for(H=i;H!==null;)s=H,l=s.child,s.tag===22&&s.memoizedState!==null?qp(i):l!==null?(l.return=s,H=l):qp(i);for(;r!==null;)H=r,iv(r),r=r.sibling;H=i,os=a,tt=u}Hp(e)}else i.subtreeFlags&8772&&r!==null?(r.return=i,H=r):Hp(e)}}function Hp(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||Dl(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!tt)if(n===null)o.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);o.componentDidUpdate(i,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&kp(t,r,o);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kp(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&mr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}tt||t.flags&512&&Uu(t)}catch(p){De(t,t.return,p)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function $p(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function qp(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dl(4,t)}catch(l){De(t,n,l)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var i=t.return;try{o.componentDidMount()}catch(l){De(t,i,l)}}var r=t.return;try{Uu(t)}catch(l){De(t,r,l)}break;case 5:var s=t.return;try{Uu(t)}catch(l){De(t,s,l)}}}catch(l){De(t,t.return,l)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var Vw=Math.ceil,ol=Nn.ReactCurrentDispatcher,Td=Nn.ReactCurrentOwner,Dt=Nn.ReactCurrentBatchConfig,fe=0,je=null,Ve=null,Xe=0,xt=0,Jo=Qn(0),He=0,Ir=null,No=0,Ll=0,wd=0,nr=null,pt=null,Ed=0,vi=1/0,pn=null,il=!1,Bu=null,$n=null,is=!1,Un=null,rl=0,or=0,zu=null,ks=-1,_s=0;function ut(){return fe&6?Le():ks!==-1?ks:ks=Le()}function qn(e){return e.mode&1?fe&2&&Xe!==0?Xe&-Xe:Tw.transition!==null?(_s===0&&(_s=Og()),_s):(e=he,e!==0||(e=window.event,e=e===void 0?16:Kg(e.type)),e):1}function Qt(e,t,n,o){if(50<or)throw or=0,zu=null,Error(F(185));Lr(e,n,o),(!(fe&2)||e!==je)&&(e===je&&(!(fe&2)&&(Ll|=n),He===4&&Ln(e,Xe)),vt(e,o),n===1&&fe===0&&!(t.mode&1)&&(vi=Le()+500,Pl&&Zn()))}function vt(e,t){var n=e.callbackNode;T1(e,t);var o=Os(e,e===je?Xe:0);if(o===0)n!==null&&ep(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&ep(n),t===1)e.tag===0?Sw(jp.bind(null,e)):hy(jp.bind(null,e)),gw(function(){!(fe&6)&&Zn()}),n=null;else{switch(Hg(o)){case 1:n=Kc;break;case 4:n=Bg;break;case 16:n=zs;break;case 536870912:n=zg;break;default:n=zs}n=fv(n,rv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rv(e,t){if(ks=-1,_s=0,fe&6)throw Error(F(327));var n=e.callbackNode;if(li()&&e.callbackNode!==n)return null;var o=Os(e,e===je?Xe:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=sl(e,o);else{t=o;var i=fe;fe|=2;var r=lv();(je!==e||Xe!==t)&&(pn=null,vi=Le()+500,yo(e,t));do try{zw();break}catch(a){sv(e,a)}while(!0);ad(),ol.current=r,fe=i,Ve!==null?t=0:(je=null,Xe=0,t=He)}if(t!==0){if(t===2&&(i=hu(e),i!==0&&(o=i,t=Ou(e,i))),t===1)throw n=Ir,yo(e,0),Ln(e,o),vt(e,Le()),n;if(t===6)Ln(e,o);else{if(i=e.current.alternate,!(o&30)&&!Gw(i)&&(t=sl(e,o),t===2&&(r=hu(e),r!==0&&(o=r,t=Ou(e,r))),t===1))throw n=Ir,yo(e,0),Ln(e,o),vt(e,Le()),n;switch(e.finishedWork=i,e.finishedLanes=o,t){case 0:case 1:throw Error(F(345));case 2:so(e,pt,pn);break;case 3:if(Ln(e,o),(o&130023424)===o&&(t=Ed+500-Le(),10<t)){if(Os(e,0)!==0)break;if(i=e.suspendedLanes,(i&o)!==o){ut(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wu(so.bind(null,e,pt,pn),t);break}so(e,pt,pn);break;case 4:if(Ln(e,o),(o&4194240)===o)break;for(t=e.eventTimes,i=-1;0<o;){var s=31-Xt(o);r=1<<s,s=t[s],s>i&&(i=s),o&=~r}if(o=i,o=Le()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Vw(o/1960))-o,10<o){e.timeoutHandle=wu(so.bind(null,e,pt,pn),o);break}so(e,pt,pn);break;case 5:so(e,pt,pn);break;default:throw Error(F(329))}}}return vt(e,Le()),e.callbackNode===n?rv.bind(null,e):null}function Ou(e,t){var n=nr;return e.current.memoizedState.isDehydrated&&(yo(e,t).flags|=256),e=sl(e,t),e!==2&&(t=pt,pt=n,t!==null&&Hu(t)),e}function Hu(e){pt===null?pt=e:pt.push.apply(pt,e)}function Gw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var i=n[o],r=i.getSnapshot;i=i.value;try{if(!tn(r(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ln(e,t){for(t&=~wd,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xt(t),o=1<<n;e[n]=-1,t&=~o}}function jp(e){if(fe&6)throw Error(F(327));li();var t=Os(e,0);if(!(t&1))return vt(e,Le()),null;var n=sl(e,t);if(e.tag!==0&&n===2){var o=hu(e);o!==0&&(t=o,n=Ou(e,o))}if(n===1)throw n=Ir,yo(e,0),Ln(e,t),vt(e,Le()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,so(e,pt,pn),vt(e,Le()),null}function Cd(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(vi=Le()+500,Pl&&Zn())}}function Io(e){Un!==null&&Un.tag===0&&!(fe&6)&&li();var t=fe;fe|=1;var n=Dt.transition,o=he;try{if(Dt.transition=null,he=1,e)return e()}finally{he=o,Dt.transition=n,fe=t,!(fe&6)&&Zn()}}function Nd(){xt=Jo.current,Ee(Jo)}function yo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mw(n)),Ve!==null)for(n=Ve.return;n!==null;){var o=n;switch(rd(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Js();break;case 3:gi(),Ee(gt),Ee(it),hd();break;case 5:pd(o);break;case 4:gi();break;case 13:Ee(_e);break;case 19:Ee(_e);break;case 10:ud(o.type._context);break;case 22:case 23:Nd()}n=n.return}if(je=e,Ve=e=jn(e.current,null),Xe=xt=t,He=0,Ir=null,wd=Ll=No=0,pt=nr=null,fo!==null){for(t=0;t<fo.length;t++)if(n=fo[t],o=n.interleaved,o!==null){n.interleaved=null;var i=o.next,r=n.pending;if(r!==null){var s=r.next;r.next=i,o.next=s}n.pending=o}fo=null}return e}function sv(e,t){do{var n=Ve;try{if(ad(),Cs.current=nl,tl){for(var o=be.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}tl=!1}if(Co=0,qe=Oe=be=null,er=!1,Er=0,Td.current=null,n===null||n.return===null){He=1,Ir=t,Ve=null;break}e:{var r=e,s=n.return,a=n,l=t;if(t=Xe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Mp(s);if(g!==null){g.flags&=-257,Dp(g,s,a,r,t),g.mode&1&&Rp(r,u,t),t=g,l=u;var v=t.updateQueue;if(v===null){var T=new Set;T.add(l),t.updateQueue=T}else v.add(l);break e}else{if(!(t&1)){Rp(r,u,t),Id();break e}l=Error(F(426))}}else if(Ne&&a.mode&1){var w=Mp(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Dp(w,s,a,r,t),sd(yi(l,a));break e}}r=l=yi(l,a),He!==4&&(He=2),nr===null?nr=[r]:nr.push(r),r=s;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var S=Hy(r,l,t);Ip(r,S);break e;case 1:a=l;var y=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($n===null||!$n.has(x)))){r.flags|=65536,t&=-t,r.lanes|=t;var E=$y(r,a,t);Ip(r,E);break e}}r=r.return}while(r!==null)}uv(n)}catch(I){t=I,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function lv(){var e=ol.current;return ol.current=nl,e===null?nl:e}function Id(){(He===0||He===3||He===2)&&(He=4),je===null||!(No&268435455)&&!(Ll&268435455)||Ln(je,Xe)}function sl(e,t){var n=fe;fe|=2;var o=lv();(je!==e||Xe!==t)&&(pn=null,yo(e,t));do try{Bw();break}catch(i){sv(e,i)}while(!0);if(ad(),fe=n,ol.current=o,Ve!==null)throw Error(F(261));return je=null,Xe=0,He}function Bw(){for(;Ve!==null;)av(Ve)}function zw(){for(;Ve!==null&&!f1();)av(Ve)}function av(e){var t=dv(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?uv(e):Ve=t,Td.current=null}function uv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dw(n,t),n!==null){n.flags&=32767,Ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Ve=null;return}}else if(n=Mw(n,t,xt),n!==null){Ve=n;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);He===0&&(He=5)}function so(e,t,n){var o=he,i=Dt.transition;try{Dt.transition=null,he=1,Ow(e,t,n,o)}finally{Dt.transition=i,he=o}return null}function Ow(e,t,n,o){do li();while(Un!==null);if(fe&6)throw Error(F(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(w1(e,r),e===je&&(Ve=je=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||is||(is=!0,fv(zs,function(){return li(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Dt.transition,Dt.transition=null;var s=he;he=1;var a=fe;fe|=4,Td.current=null,Fw(e,n),ov(n,e),aw(Su),Hs=!!xu,Su=xu=null,e.current=n,Uw(n),p1(),fe=a,he=s,Dt.transition=r}else e.current=n;if(is&&(is=!1,Un=e,rl=i),r=e.pendingLanes,r===0&&($n=null),g1(n.stateNode),vt(e,Le()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],o(i.value,{componentStack:i.stack,digest:i.digest});if(il)throw il=!1,e=Bu,Bu=null,e;return rl&1&&e.tag!==0&&li(),r=e.pendingLanes,r&1?e===zu?or++:(or=0,zu=e):or=0,Zn(),null}function li(){if(Un!==null){var e=Hg(rl),t=Dt.transition,n=he;try{if(Dt.transition=null,he=16>e?16:e,Un===null)var o=!1;else{if(e=Un,Un=null,rl=0,fe&6)throw Error(F(331));var i=fe;for(fe|=4,H=e.current;H!==null;){var r=H,s=r.child;if(H.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:tr(8,d,r)}var h=d.child;if(h!==null)h.return=d,H=h;else for(;H!==null;){d=H;var p=d.sibling,g=d.return;if(ev(d),d===u){H=null;break}if(p!==null){p.return=g,H=p;break}H=g}}}var v=r.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var w=T.sibling;T.sibling=null,T=w}while(T!==null)}}H=r}}if(r.subtreeFlags&2064&&s!==null)s.return=r,H=s;else e:for(;H!==null;){if(r=H,r.flags&2048)switch(r.tag){case 0:case 11:case 15:tr(9,r,r.return)}var S=r.sibling;if(S!==null){S.return=r.return,H=S;break e}H=r.return}}var y=e.current;for(H=y;H!==null;){s=H;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,H=x;else e:for(s=y;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dl(9,a)}}catch(I){De(a,a.return,I)}if(a===s){H=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,H=E;break e}H=a.return}}if(fe=i,Zn(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Il,e)}catch{}o=!0}return o}finally{he=n,Dt.transition=t}}return!1}function Jp(e,t,n){t=yi(n,t),t=Hy(e,t,1),e=Hn(e,t,1),t=ut(),e!==null&&(Lr(e,1,t),vt(e,t))}function De(e,t,n){if(e.tag===3)Jp(e,e,n);else for(;t!==null;){if(t.tag===3){Jp(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($n===null||!$n.has(o))){e=yi(n,e),e=$y(t,e,1),t=Hn(t,e,1),e=ut(),t!==null&&(Lr(t,1,e),vt(t,e));break}}t=t.return}}function Hw(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&n,je===e&&(Xe&n)===n&&(He===4||He===3&&(Xe&130023424)===Xe&&500>Le()-Ed?yo(e,0):wd|=n),vt(e,t)}function cv(e,t){t===0&&(e.mode&1?(t=Wr,Wr<<=1,!(Wr&130023424)&&(Wr=4194304)):t=1);var n=ut();e=Sn(e,t),e!==null&&(Lr(e,t,n),vt(e,n))}function $w(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cv(e,n)}function qw(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(F(314))}o!==null&&o.delete(t),cv(e,n)}var dv;dv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)ht=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ht=!1,Rw(e,t,n);ht=!!(e.flags&131072)}else ht=!1,Ne&&t.flags&1048576&&my(t,Ys,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Is(e,t),e=t.pendingProps;var i=pi(t,it.current);si(t,n),i=gd(null,t,o,e,i,n);var r=yd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(o)?(r=!0,Ws(t)):r=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dd(t),i.updater=Ml,t.stateNode=i,i._reactInternals=t,Au(t,o,e,n),t=Ru(null,t,o,!0,r,n)):(t.tag=0,Ne&&r&&id(t),st(null,t,i,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Is(e,t),e=t.pendingProps,i=o._init,o=i(o._payload),t.type=o,i=t.tag=Jw(o),e=jt(o,e),i){case 0:t=Pu(null,t,o,e,n);break e;case 1:t=Up(null,t,o,e,n);break e;case 11:t=Lp(null,t,o,e,n);break e;case 14:t=Fp(null,t,o,jt(o.type,e),n);break e}throw Error(F(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:jt(o,i),Pu(e,t,o,i,n);case 1:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:jt(o,i),Up(e,t,o,i,n);case 3:e:{if(Wy(t),e===null)throw Error(F(387));o=t.pendingProps,r=t.memoizedState,i=r.element,Ty(e,t),Zs(t,o,null,n);var s=t.memoizedState;if(o=s.element,r.isDehydrated)if(r={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){i=yi(Error(F(423)),t),t=Vp(e,t,o,n,i);break e}else if(o!==i){i=yi(Error(F(424)),t),t=Vp(e,t,o,n,i);break e}else for(St=On(t.stateNode.containerInfo.firstChild),Tt=t,Ne=!0,Kt=null,n=xy(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hi(),o===i){t=Tn(e,t,n);break e}st(e,t,o,n)}t=t.child}return t;case 5:return wy(t),e===null&&Iu(t),o=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,s=i.children,Tu(o,i)?s=null:r!==null&&Tu(o,r)&&(t.flags|=32),Jy(e,t),st(e,t,s,n),t.child;case 6:return e===null&&Iu(t),null;case 13:return Ky(e,t,n);case 4:return fd(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=mi(t,null,o,n):st(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:jt(o,i),Lp(e,t,o,i,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,r=t.memoizedProps,s=i.value,Se(Xs,o._currentValue),o._currentValue=s,r!==null)if(tn(r.value,s)){if(r.children===i.children&&!gt.current){t=Tn(e,t,n);break e}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){s=r.child;for(var l=a.firstContext;l!==null;){if(l.context===o){if(r.tag===1){l=yn(-1,n&-n),l.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),ku(r.return,n,t),a.lanes|=n;break}l=l.next}}else if(r.tag===10)s=r.type===t.type?null:r.child;else if(r.tag===18){if(s=r.return,s===null)throw Error(F(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ku(s,n,t),s=r.sibling}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===t){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}st(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,si(t,n),i=Ut(i),o=o(i),t.flags|=1,st(e,t,o,n),t.child;case 14:return o=t.type,i=jt(o,t.pendingProps),i=jt(o.type,i),Fp(e,t,o,i,n);case 15:return qy(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:jt(o,i),Is(e,t),t.tag=1,yt(o)?(e=!0,Ws(t)):e=!1,si(t,n),Oy(t,o,i),Au(t,o,i,n),Ru(null,t,o,!0,e,n);case 19:return Yy(e,t,n);case 22:return jy(e,t,n)}throw Error(F(156,t.tag))};function fv(e,t){return Gg(e,t)}function jw(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,n,o){return new jw(e,t,n,o)}function kd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jw(e){if(typeof e=="function")return kd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jc)return 11;if(e===Jc)return 14}return 2}function jn(e,t){var n=e.alternate;return n===null?(n=Rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function As(e,t,n,o,i,r){var s=2;if(o=e,typeof e=="function")kd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Uo:return vo(n.children,i,r,t);case qc:s=8,i|=8;break;case Za:return e=Rt(12,n,t,i|2),e.elementType=Za,e.lanes=r,e;case eu:return e=Rt(13,n,t,i),e.elementType=eu,e.lanes=r,e;case tu:return e=Rt(19,n,t,i),e.elementType=tu,e.lanes=r,e;case wg:return Fl(n,i,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sg:s=10;break e;case Tg:s=9;break e;case jc:s=11;break e;case Jc:s=14;break e;case Rn:s=16,o=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Rt(s,n,t,i),t.elementType=e,t.type=o,t.lanes=r,t}function vo(e,t,n,o){return e=Rt(7,e,o,t),e.lanes=n,e}function Fl(e,t,n,o){return e=Rt(22,e,o,t),e.elementType=wg,e.lanes=n,e.stateNode={isHidden:!1},e}function ba(e,t,n){return e=Rt(6,e,null,t),e.lanes=n,e}function Pa(e,t,n){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ww(e,t,n,o,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=da(0),this.expirationTimes=da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _d(e,t,n,o,i,r,s,a,l){return e=new Ww(e,t,n,a,l),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Rt(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dd(r),e}function Kw(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function pv(e){if(!e)return Wn;e=e._reactInternals;e:{if(bo(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(yt(n))return py(e,n,t)}return t}function hv(e,t,n,o,i,r,s,a,l){return e=_d(n,o,!0,e,i,r,s,a,l),e.context=pv(null),n=e.current,o=ut(),i=qn(n),r=yn(o,i),r.callback=t??null,Hn(n,r,i),e.current.lanes=i,Lr(e,i,o),vt(e,o),e}function Ul(e,t,n,o){var i=t.current,r=ut(),s=qn(i);return n=pv(n),t.context===null?t.context=n:t.pendingContext=n,t=yn(r,s),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Hn(i,t,s),e!==null&&(Qt(e,i,s,r),Es(e,i,s)),s}function ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ad(e,t){Wp(e,t),(e=e.alternate)&&Wp(e,t)}function Yw(){return null}var mv=typeof reportError=="function"?reportError:function(e){console.error(e)};function bd(e){this._internalRoot=e}Vl.prototype.render=bd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Ul(e,t,null,null)};Vl.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Io(function(){Ul(null,e,null,null)}),t[xn]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=jg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&t!==0&&t<Dn[n].priority;n++);Dn.splice(n,0,e),n===0&&Wg(e)}};function Pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kp(){}function Xw(e,t,n,o,i){if(i){if(typeof o=="function"){var r=o;o=function(){var u=ll(s);r.call(u)}}var s=hv(t,o,e,0,null,!1,!1,"",Kp);return e._reactRootContainer=s,e[xn]=s.current,vr(e.nodeType===8?e.parentNode:e),Io(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof o=="function"){var a=o;o=function(){var u=ll(l);a.call(u)}}var l=_d(e,0,!1,null,null,!1,!1,"",Kp);return e._reactRootContainer=l,e[xn]=l.current,vr(e.nodeType===8?e.parentNode:e),Io(function(){Ul(t,l,n,o)}),l}function Bl(e,t,n,o,i){var r=n._reactRootContainer;if(r){var s=r;if(typeof i=="function"){var a=i;i=function(){var l=ll(s);a.call(l)}}Ul(t,s,e,i)}else s=Xw(n,t,e,i,o);return ll(s)}$g=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qi(t.pendingLanes);n!==0&&(Yc(t,n|1),vt(t,Le()),!(fe&6)&&(vi=Le()+500,Zn()))}break;case 13:Io(function(){var o=Sn(e,1);if(o!==null){var i=ut();Qt(o,e,1,i)}}),Ad(e,1)}};Xc=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var n=ut();Qt(t,e,134217728,n)}Ad(e,134217728)}};qg=function(e){if(e.tag===13){var t=qn(e),n=Sn(e,t);if(n!==null){var o=ut();Qt(n,e,t,o)}Ad(e,t)}};jg=function(){return he};Jg=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};du=function(e,t,n){switch(t){case"input":if(iu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=bl(o);if(!i)throw Error(F(90));Cg(o),iu(o,i)}}}break;case"textarea":Ig(e,n);break;case"select":t=n.value,t!=null&&ni(e,!!n.multiple,t,!1)}};Mg=Cd;Dg=Io;var Qw={usingClientEntryPoint:!1,Events:[Ur,zo,bl,Pg,Rg,Cd]},Gi={findFiberByHostInstance:co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zw={bundleType:Gi.bundleType,version:Gi.version,rendererPackageName:Gi.rendererPackageName,rendererConfig:Gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ug(e),e===null?null:e.stateNode},findFiberByHostInstance:Gi.findFiberByHostInstance||Yw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rs.isDisabled&&rs.supportsFiber)try{Il=rs.inject(Zw),un=rs}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qw;Et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pd(t))throw Error(F(200));return Kw(e,t,null,n)};Et.createRoot=function(e,t){if(!Pd(e))throw Error(F(299));var n=!1,o="",i=mv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=_d(e,1,!1,null,null,n,!1,o,i),e[xn]=t.current,vr(e.nodeType===8?e.parentNode:e),new bd(t)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Ug(t),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return Io(e)};Et.hydrate=function(e,t,n){if(!Gl(t))throw Error(F(200));return Bl(null,e,t,!0,n)};Et.hydrateRoot=function(e,t,n){if(!Pd(e))throw Error(F(405));var o=n!=null&&n.hydratedSources||null,i=!1,r="",s=mv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=hv(t,null,e,1,n??null,i,!1,r,s),e[xn]=t.current,vr(e),o)for(e=0;e<o.length;e++)n=o[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vl(t)};Et.render=function(e,t,n){if(!Gl(t))throw Error(F(200));return Bl(null,e,t,!1,n)};Et.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(F(40));return e._reactRootContainer?(Io(function(){Bl(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};Et.unstable_batchedUpdates=Cd;Et.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Gl(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Bl(e,t,n,!1,o)};Et.version="18.3.1-next-f1338f8080-20240426";function gv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gv)}catch(e){console.error(e)}}gv(),gg.exports=Et;var eE=gg.exports,Yp=eE;Xa.createRoot=Yp.createRoot,Xa.hydrateRoot=Yp.hydrateRoot;var ke=(e=>(e.MBTI_16="MBTI_16",e.JUNG_8="JUNG_8",e))(ke||{});const xo={standard:{name:"",multiplier:1,icon:"",color:"bg-emerald-600/90 border-emerald-400"},truth:{name:"",multiplier:1.2,icon:"",color:"bg-sky-600/90 border-sky-400"},dare:{name:"",multiplier:1.2,icon:"",color:"bg-amber-600/90 border-amber-400"},deep:{name:"",multiplier:1.5,icon:"",color:"bg-indigo-600/90 border-indigo-400"}},al=["INTJ","INTP","ENTJ","ENTP","INFJ","INFP","ENFJ","ENFP","ISTJ","ISFJ","ESTJ","ESFJ","ISTP","ISFP","ESTP","ESFP"],Yt={" (NT)":{types:["INTJ","INTP","ENTJ","ENTP"],color:"bg-purple-100 dark:bg-purple-900/40 border-purple-200 dark:border-purple-500/50 text-purple-800 dark:text-purple-200",hexColor:"#a855f7"}," (NF)":{types:["INFJ","INFP","ENFJ","ENFP"],color:"bg-green-100 dark:bg-green-900/40 border-green-200 dark:border-green-500/50 text-green-800 dark:text-green-200",hexColor:"#22c55e"}," (SJ)":{types:["ISTJ","ISFJ","ESTJ","ESFJ"],color:"bg-blue-100 dark:bg-blue-900/40 border-blue-200 dark:border-blue-500/50 text-blue-800 dark:text-blue-200",hexColor:"#3b82f6"}," (SP)":{types:["ISTP","ISFP","ESTP","ESFP"],color:"bg-amber-100 dark:bg-yellow-900/40 border-amber-200 dark:border-yellow-500/50 text-amber-800 dark:text-yellow-200",hexColor:"#eab308"}},kr={INTJ:"",INTP:"",ENTJ:"",ENTP:"",INFJ:"",INFP:"",ENFJ:"",ENFP:"",ISTJ:"",ISFJ:"",ESTJ:"",ESFJ:"",ISTP:"",ISFP:"",ESTP:"",ESFP:"",Hub:""},tE={INTJ:["",""],INTP:["",""],ENTJ:["",""],ENTP:["",""],INFJ:["",""],INFP:["",""],ENFJ:["",""],ENFP:["",""],ISTJ:["",""],ISFJ:["",""],ESTJ:["",""],ESFJ:["",""],ISTP:["",""],ISFP:["",""],ESTP:["",""],ESFP:["",""]},ir={INTJ:["Ni","Te","Fi","Se","Ne","Ti","Fe","Si"],INTP:["Ti","Ne","Si","Fe","Te","Ni","Se","Fi"],ENTJ:["Te","Ni","Se","Fi","Ti","Ne","Si","Fe"],ENTP:["Ne","Ti","Fe","Si","Ni","Te","Fi","Se"],INFJ:["Ni","Fe","Ti","Se","Ne","Fi","Te","Si"],INFP:["Fi","Ne","Si","Te","Fe","Ni","Se","Ti"],ENFJ:["Fe","Ni","Se","Ti","Fi","Ne","Si","Te"],ENFP:["Ne","Fi","Te","Si","Ni","Fe","Ti","Se"],ISTJ:["Si","Te","Fi","Ne","Se","Ti","Fe","Ni"],ISFJ:["Si","Fe","Ti","Ne","Se","Fi","Te","Ni"],ESTJ:["Te","Si","Ne","Fi","Ti","Se","Ni","Fe"],ESFJ:["Fe","Si","Ne","Ti","Fi","Se","Ni","Te"],ISTP:["Ti","Se","Ni","Fe","Te","Si","Ne","Fi"],ISFP:["Fi","Se","Ni","Te","Fe","Si","Ne","Ti"],ESTP:["Se","Ti","Fe","Ni","Si","Te","Fi","Ne"],ESFP:["Se","Fi","Te","Ni","Si","Fe","Ti","Ne"]},Rd=[{id:"Te",name:"",color:"#3b82f6",desc:"",textColor:"text-blue-100",borderColor:"border-blue-500",bgColor:"bg-blue-600"},{id:"Ti",name:"",color:"#0ea5e9",desc:"",textColor:"text-sky-100",borderColor:"border-sky-500",bgColor:"bg-sky-600"},{id:"Fe",name:"",color:"#ec4899",desc:"",textColor:"text-pink-100",borderColor:"border-pink-500",bgColor:"bg-pink-600"},{id:"Fi",name:"",color:"#f43f5e",desc:"",textColor:"text-rose-100",borderColor:"border-rose-500",bgColor:"bg-rose-600"},{id:"Se",name:"",color:"#eab308",desc:"",textColor:"text-yellow-100",borderColor:"border-yellow-500",bgColor:"bg-yellow-600"},{id:"Si",name:"",color:"#f97316",desc:"",textColor:"text-orange-100",borderColor:"border-orange-500",bgColor:"bg-orange-600"},{id:"Ne",name:"",color:"#a855f7",desc:"",textColor:"text-purple-100",borderColor:"border-purple-500",bgColor:"bg-purple-600"},{id:"Ni",name:"",color:"#6366f1",desc:"",textColor:"text-indigo-100",borderColor:"border-indigo-500",bgColor:"bg-indigo-600"},{id:"?",name:"",color:"#ffffff",desc:"",textColor:"text-slate-900",borderColor:"border-white",bgColor:"bg-white"}],nE=(e,t)=>[{q:1,r:0},{q:-1,r:0},{q:0,r:1},{q:0,r:-1}].map(o=>t.find(i=>i.q===e.q+o.q&&i.r===e.r+o.r)).filter(o=>o!==void 0),oE=(e,t)=>[{q:1,r:0},{q:-1,r:0},{q:0,r:1},{q:0,r:-1},{q:1,r:-1},{q:-1,r:1}].map(o=>t.find(i=>i.q===e.q+o.q&&i.r===e.r+o.r)).filter(o=>o!==void 0);var iE={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rE,sE;function lE(){return{geminiUrl:rE,vertexUrl:sE}}function aE(e,t,n,o){var i,r;if(!(e!=null&&e.baseUrl)){const s=lE();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(r=s.geminiUrl)!==null&&r!==void 0?r:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class In{}function G(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function f(e,t,n){for(let r=0;r<t.length-1;r++){const s=t[r];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in e))if(Array.isArray(n))e[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[a])){const l=e[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const d=l[u];f(d,t.slice(r+1),n[u])}else for(const u of l)f(u,t.slice(r+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in e||(e[a]=[{}]);const l=e[a];f(l[0],t.slice(r+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const o=t[t.length-1],i=e[o];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function c(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const i=t[o];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in e){const s=e[r];return Array.isArray(s)?s.map(a=>c(a,t.slice(o+1),n)):n}else return n}else e=e[i]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function uE(e,t){for(const[n,o]of Object.entries(t)){const i=n.split("."),r=o.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&r.length>a)for(let l=a;l<r.length;l++){const u=r[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}$u(e,i,r,0,s)}}function $u(e,t,n,o,i){if(o>=t.length||typeof e!="object"||e===null)return;const r=t[o];if(r.endsWith("[]")){const s=r.slice(0,-2),a=e;if(s in a&&Array.isArray(a[s]))for(const l of a[s])$u(l,t,n,o+1,i)}else if(r==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,d]of Object.entries(l)){const h=[];for(const p of n.slice(o))p==="*"?h.push(u):h.push(p);f(s,h,d)}for(const u of a)delete s[u]}}else{const s=e;r in s&&$u(s[r],t,n,o+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Md(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cE(e){const t={},n=c(e,["operationName"]);n!=null&&f(t,["operationName"],n);const o=c(e,["resourceName"]);return o!=null&&f(t,["_url","resourceName"],o),t}function dE(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response","generateVideoResponse"]);return s!=null&&f(t,["response"],pE(s)),t}function fE(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response"]);return s!=null&&f(t,["response"],hE(s)),t}function pE(e){const t={},n=c(e,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>mE(s))),f(t,["generatedVideos"],r)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function hE(e){const t={},n=c(e,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>gE(s))),f(t,["generatedVideos"],r)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function mE(e){const t={},n=c(e,["video"]);return n!=null&&f(t,["video"],wE(n)),t}function gE(e){const t={},n=c(e,["_self"]);return n!=null&&f(t,["video"],EE(n)),t}function yE(e){const t={},n=c(e,["operationName"]);return n!=null&&f(t,["_url","operationName"],n),t}function vE(e){const t={},n=c(e,["operationName"]);return n!=null&&f(t,["_url","operationName"],n),t}function xE(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response"]);return s!=null&&f(t,["response"],SE(s)),t}function SE(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["parent"]);o!=null&&f(t,["parent"],o);const i=c(e,["documentName"]);return i!=null&&f(t,["documentName"],i),t}function yv(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response"]);return s!=null&&f(t,["response"],TE(s)),t}function TE(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["parent"]);o!=null&&f(t,["parent"],o);const i=c(e,["documentName"]);return i!=null&&f(t,["documentName"],i),t}function wE(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const o=c(e,["encodedVideo"]);o!=null&&f(t,["videoBytes"],Md(o));const i=c(e,["encoding"]);return i!=null&&f(t,["mimeType"],i),t}function EE(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["uri"],n);const o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["videoBytes"],Md(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xp;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Xp||(Xp={}));var Qp;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Qp||(Qp={}));var Zp;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Zp||(Zp={}));var Vn;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Vn||(Vn={}));var eh;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(eh||(eh={}));var th;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(th||(th={}));var nh;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(nh||(nh={}));var oh;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(oh||(oh={}));var ih;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ih||(ih={}));var rh;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(rh||(rh={}));var sh;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(sh||(sh={}));var lh;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(lh||(lh={}));var ah;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(ah||(ah={}));var uh;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(uh||(uh={}));var ch;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ch||(ch={}));var dh;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(dh||(dh={}));var fh;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(fh||(fh={}));var ph;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(ph||(ph={}));var hh;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(hh||(hh={}));var ul;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(ul||(ul={}));var mh;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(mh||(mh={}));var gh;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(gh||(gh={}));var yh;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(yh||(yh={}));var qu;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qu||(qu={}));var vh;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(vh||(vh={}));var xh;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(xh||(xh={}));var Sh;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Sh||(Sh={}));var Th;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Th||(Th={}));var wh;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(wh||(wh={}));var Eh;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Eh||(Eh={}));var Ch;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Ch||(Ch={}));var Nh;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Nh||(Nh={}));var Ih;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Ih||(Ih={}));var kh;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(kh||(kh={}));var _h;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_h||(_h={}));var Ah;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ah||(Ah={}));var bh;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(bh||(bh={}));var Ph;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ph||(Ph={}));var Rh;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Rh||(Rh={}));var Mh;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Mh||(Mh={}));var Dh;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Dh||(Dh={}));var Lh;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Lh||(Lh={}));var Fh;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Fh||(Fh={}));var Uh;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Uh||(Uh={}));var Vh;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Vh||(Vh={}));var Gh;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Gh||(Gh={}));var Bh;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Bh||(Bh={}));var zh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(zh||(zh={}));var Oh;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Oh||(Oh={}));var Hh;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Hh||(Hh={}));var $h;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})($h||($h={}));var qh;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(qh||(qh={}));var jh;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jh||(jh={}));var Jh;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Jh||(Jh={}));var Wh;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Wh||(Wh={}));var Wo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Wo||(Wo={}));class ju{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Bi{get text(){var t,n,o,i,r,s,a,l;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const p of(l=(a=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&h.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,u+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,n,o,i,r,s,a,l;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(a=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[p,g]of Object.entries(h))p!=="inlineData"&&(g!==null||g!==void 0)&&d.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,o,i,r,s,a,l;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,o,i,r,s,a,l,u;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(a=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,o,i,r,s,a,l,u;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(a=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class Kh{}class Yh{}class CE{}class NE{}class IE{}class kE{}class Xh{}class Qh{}class Zh{}class _E{}class cl{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new cl;let i;const r=t;return n?i=fE(r):i=dE(r),Object.assign(o,i),o}}class em{}class tm{}class nm{}class om{}class AE{}class bE{}class PE{}class Dd{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Dd,r=xE(t);return Object.assign(o,r),o}}class RE{}class ME{}class DE{}class im{}class LE{get text(){var t,n,o;let i="",r=!1;const s=[];for(const a of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;r=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var t,n,o;let i="";const r=[];for(const s of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&r.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class FE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ld{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Ld,r=yv(t);return Object.assign(o,r),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pe(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function vv(e,t){const n=pe(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function xv(e){return Array.isArray(e)?e.map(t=>dl(t)):[dl(e)]}function dl(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Sv(e){const t=dl(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Tv(e){const t=dl(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function rm(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function wv(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>rm(t)):[rm(e)]}function Ju(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function sm(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function lm(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function nt(e){if(e==null)throw new Error("ContentUnion is required");return Ju(e)?e:{role:"user",parts:wv(e)}}function Fd(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=nt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=nt(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>nt(n)):[nt(t)]}function Lt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(sm(e)||lm(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[nt(e)]}const t=[],n=[],o=Ju(e[0]);for(const i of e){const r=Ju(i);if(r!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)t.push(i);else{if(sm(i)||lm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return o||t.push({role:"user",parts:wv(n)}),t}function UE(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(Vn).includes(n[0].toUpperCase())?n[0].toUpperCase():Vn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(Vn).includes(o.toUpperCase())?o.toUpperCase():Vn.TYPE_UNSPECIFIED})}}function ai(e){const t={},n=["items"],o=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=e.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(t.nullable=!0,e=r[1]):r[1].type==="null"&&(t.nullable=!0,e=r[0])),e.type instanceof Array&&UE(e.type,t);for(const[s,a]of Object.entries(e))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(Vn).includes(a.toUpperCase())?a.toUpperCase():Vn.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=ai(a);else if(o.includes(s)){const l=[];for(const u of a){if(u.type=="null"){t.nullable=!0;continue}l.push(ai(u))}t[s]=l}else if(i.includes(s)){const l={};for(const[u,d]of Object.entries(a))l[u]=ai(d);t[s]=l}else{if(s==="additionalProperties")continue;t[s]=a}return t}function Ud(e){return ai(e)}function Vd(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Gd(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ci(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ai(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ai(t.response));return e}function Ni(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function VE(e,t,n,o=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function kn(e,t){if(typeof t!="string")throw new Error("name must be a string");return VE(e,t,"cachedContents")}function Ev(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function eo(e){return Md(e)}function GE(e){return e!=null&&typeof e=="object"&&"name"in e}function BE(e){return e!=null&&typeof e=="object"&&"video"in e}function zE(e){return e!=null&&typeof e=="object"&&"uri"in e}function Cv(e){var t;let n;if(GE(e)&&(n=e.name),!(zE(e)&&(n=e.uri,n===void 0))&&!(BE(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Nv(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Iv(e){for(const t of["models","tunedModels","publisherModels"])if(OE(e,t))return e[t];return[]}function OE(e,t){return e!==null&&typeof e=="object"&&t in e}function HE(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function $E(e,t={}){const n=[],o=new Set;for(const i of e){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const s=HE(i,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function kv(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function qE(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function _v(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let r=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){r=!0;break}}return r&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ii(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Av(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jE(e){const t={},n=c(e,["responsesFile"]);n!=null&&f(t,["fileName"],n);const o=c(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>IC(s))),f(t,["inlinedResponses"],r)}const i=c(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["inlinedEmbedContentResponses"],r)}return t}function JE(e){const t={},n=c(e,["predictionsFormat"]);n!=null&&f(t,["format"],n);const o=c(e,["gcsDestination","outputUriPrefix"]);o!=null&&f(t,["gcsUri"],o);const i=c(e,["bigqueryDestination","outputUri"]);return i!=null&&f(t,["bigqueryUri"],i),t}function WE(e){const t={},n=c(e,["format"]);n!=null&&f(t,["predictionsFormat"],n);const o=c(e,["gcsUri"]);o!=null&&f(t,["gcsDestination","outputUriPrefix"],o);const i=c(e,["bigqueryUri"]);if(i!=null&&f(t,["bigqueryDestination","outputUri"],i),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function bs(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata","displayName"]);o!=null&&f(t,["displayName"],o);const i=c(e,["metadata","state"]);i!=null&&f(t,["state"],Av(i));const r=c(e,["metadata","createTime"]);r!=null&&f(t,["createTime"],r);const s=c(e,["metadata","endTime"]);s!=null&&f(t,["endTime"],s);const a=c(e,["metadata","updateTime"]);a!=null&&f(t,["updateTime"],a);const l=c(e,["metadata","model"]);l!=null&&f(t,["model"],l);const u=c(e,["metadata","output"]);return u!=null&&f(t,["dest"],jE(_v(u))),t}function Wu(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const i=c(e,["state"]);i!=null&&f(t,["state"],Av(i));const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["createTime"]);s!=null&&f(t,["createTime"],s);const a=c(e,["startTime"]);a!=null&&f(t,["startTime"],a);const l=c(e,["endTime"]);l!=null&&f(t,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&f(t,["updateTime"],u);const d=c(e,["model"]);d!=null&&f(t,["model"],d);const h=c(e,["inputConfig"]);h!=null&&f(t,["src"],KE(h));const p=c(e,["outputConfig"]);p!=null&&f(t,["dest"],JE(_v(p)));const g=c(e,["completionStats"]);return g!=null&&f(t,["completionStats"],g),t}function KE(e){const t={},n=c(e,["instancesFormat"]);n!=null&&f(t,["format"],n);const o=c(e,["gcsSource","uris"]);o!=null&&f(t,["gcsUri"],o);const i=c(e,["bigquerySource","inputUri"]);return i!=null&&f(t,["bigqueryUri"],i),t}function YE(e,t){const n={};if(c(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=c(t,["fileName"]);o!=null&&f(n,["fileName"],o);const i=c(t,["inlinedRequests"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>NC(e,s))),f(n,["requests","requests"],r)}return n}function XE(e){const t={},n=c(e,["format"]);n!=null&&f(t,["instancesFormat"],n);const o=c(e,["gcsUri"]);o!=null&&f(t,["gcsSource","uris"],o);const i=c(e,["bigqueryUri"]);if(i!=null&&f(t,["bigquerySource","inputUri"],i),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function QE(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function ZE(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Ii(e,o)),n}function eC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Ii(e,o)),n}function tC(e){const t={},n=c(e,["content"]);n!=null&&f(t,["content"],n);const o=c(e,["citationMetadata"]);o!=null&&f(t,["citationMetadata"],nC(o));const i=c(e,["tokenCount"]);i!=null&&f(t,["tokenCount"],i);const r=c(e,["finishReason"]);r!=null&&f(t,["finishReason"],r);const s=c(e,["avgLogprobs"]);s!=null&&f(t,["avgLogprobs"],s);const a=c(e,["groundingMetadata"]);a!=null&&f(t,["groundingMetadata"],a);const l=c(e,["index"]);l!=null&&f(t,["index"],l);const u=c(e,["logprobsResult"]);u!=null&&f(t,["logprobsResult"],u);const d=c(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),f(t,["safetyRatings"],p)}const h=c(e,["urlContextMetadata"]);return h!=null&&f(t,["urlContextMetadata"],h),t}function nC(e){const t={},n=c(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),f(t,["citations"],o)}return t}function bv(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>MC(r))),f(t,["parts"],i)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function oC(e,t){const n={},o=c(e,["displayName"]);if(t!==void 0&&o!=null&&f(t,["batch","displayName"],o),c(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function iC(e,t){const n={},o=c(e,["displayName"]);t!==void 0&&o!=null&&f(t,["displayName"],o);const i=c(e,["dest"]);return t!==void 0&&i!=null&&f(t,["outputConfig"],WE(qE(i))),n}function am(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["src"]);i!=null&&f(n,["batch","inputConfig"],YE(e,kv(e,i)));const r=c(t,["config"]);return r!=null&&oC(r,n),n}function rC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["model"],pe(e,o));const i=c(t,["src"]);i!=null&&f(n,["inputConfig"],XE(kv(e,i)));const r=c(t,["config"]);return r!=null&&iC(r,n),n}function sC(e,t){const n={},o=c(e,["displayName"]);return t!==void 0&&o!=null&&f(t,["batch","displayName"],o),n}function lC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["src"]);i!=null&&f(n,["batch","inputConfig"],hC(e,i));const r=c(t,["config"]);return r!=null&&sC(r,n),n}function aC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Ii(e,o)),n}function uC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Ii(e,o)),n}function cC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);return r!=null&&f(t,["error"],r),t}function dC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);return r!=null&&f(t,["error"],r),t}function fC(e,t){const n={},o=c(t,["contents"]);if(o!=null){let r=Fd(e,o);Array.isArray(r)&&(r=r.map(s=>s)),f(n,["requests[]","request","content"],r)}const i=c(t,["config"]);return i!=null&&(f(n,["_self"],pC(i,n)),uE(n,{"requests[].*":"requests[].request.*"})),n}function pC(e,t){const n={},o=c(e,["taskType"]);t!==void 0&&o!=null&&f(t,["requests[]","taskType"],o);const i=c(e,["title"]);t!==void 0&&i!=null&&f(t,["requests[]","title"],i);const r=c(e,["outputDimensionality"]);if(t!==void 0&&r!=null&&f(t,["requests[]","outputDimensionality"],r),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function hC(e,t){const n={},o=c(t,["fileName"]);o!=null&&f(n,["file_name"],o);const i=c(t,["inlinedRequests"]);return i!=null&&f(n,["requests"],fC(e,i)),n}function mC(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function gC(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function yC(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const o=c(e,["allowedFunctionNames"]);if(o!=null&&f(t,["allowedFunctionNames"],o),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function vC(e,t,n){const o={},i=c(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],bv(nt(i)));const r=c(t,["temperature"]);r!=null&&f(o,["temperature"],r);const s=c(t,["topP"]);s!=null&&f(o,["topP"],s);const a=c(t,["topK"]);a!=null&&f(o,["topK"],a);const l=c(t,["candidateCount"]);l!=null&&f(o,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&f(o,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(o,["stopSequences"],d);const h=c(t,["responseLogprobs"]);h!=null&&f(o,["responseLogprobs"],h);const p=c(t,["logprobs"]);p!=null&&f(o,["logprobs"],p);const g=c(t,["presencePenalty"]);g!=null&&f(o,["presencePenalty"],g);const v=c(t,["frequencyPenalty"]);v!=null&&f(o,["frequencyPenalty"],v);const T=c(t,["seed"]);T!=null&&f(o,["seed"],T);const w=c(t,["responseMimeType"]);w!=null&&f(o,["responseMimeType"],w);const S=c(t,["responseSchema"]);S!=null&&f(o,["responseSchema"],Ud(S));const y=c(t,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=c(t,["safetySettings"]);if(n!==void 0&&x!=null){let j=x;Array.isArray(j)&&(j=j.map($=>DC($))),f(n,["safetySettings"],j)}const E=c(t,["tools"]);if(n!==void 0&&E!=null){let j=Ni(E);Array.isArray(j)&&(j=j.map($=>FC(Ci($)))),f(n,["tools"],j)}const I=c(t,["toolConfig"]);if(n!==void 0&&I!=null&&f(n,["toolConfig"],LC(I)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=c(t,["cachedContent"]);n!==void 0&&C!=null&&f(n,["cachedContent"],kn(e,C));const k=c(t,["responseModalities"]);k!=null&&f(o,["responseModalities"],k);const _=c(t,["mediaResolution"]);_!=null&&f(o,["mediaResolution"],_);const b=c(t,["speechConfig"]);if(b!=null&&f(o,["speechConfig"],Vd(b)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=c(t,["thinkingConfig"]);M!=null&&f(o,["thinkingConfig"],M);const L=c(t,["imageConfig"]);L!=null&&f(o,["imageConfig"],CC(L));const ne=c(t,["enableEnhancedCivicAnswers"]);return ne!=null&&f(o,["enableEnhancedCivicAnswers"],ne),o}function xC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["candidates"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>tC(u))),f(t,["candidates"],l)}const i=c(e,["modelVersion"]);i!=null&&f(t,["modelVersion"],i);const r=c(e,["promptFeedback"]);r!=null&&f(t,["promptFeedback"],r);const s=c(e,["responseId"]);s!=null&&f(t,["responseId"],s);const a=c(e,["usageMetadata"]);return a!=null&&f(t,["usageMetadata"],a),t}function SC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Ii(e,o)),n}function TC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Ii(e,o)),n}function wC(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function EC(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function CC(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const o=c(e,["imageSize"]);if(o!=null&&f(t,["imageSize"],o),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function NC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["request","model"],pe(e,o));const i=c(t,["contents"]);if(i!=null){let a=Lt(i);Array.isArray(a)&&(a=a.map(l=>bv(l))),f(n,["request","contents"],a)}const r=c(t,["metadata"]);r!=null&&f(n,["metadata"],r);const s=c(t,["config"]);return s!=null&&f(n,["request","generationConfig"],vC(e,s,c(n,["request"],{}))),n}function IC(e){const t={},n=c(e,["response"]);n!=null&&f(t,["response"],xC(n));const o=c(e,["error"]);return o!=null&&f(t,["error"],o),t}function kC(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);if(t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),c(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function _C(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);t!==void 0&&i!=null&&f(t,["_query","pageToken"],i);const r=c(e,["filter"]);return t!==void 0&&r!=null&&f(t,["_query","filter"],r),n}function AC(e){const t={},n=c(e,["config"]);return n!=null&&kC(n,t),t}function bC(e){const t={},n=c(e,["config"]);return n!=null&&_C(n,t),t}function PC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["operations"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>bs(s))),f(t,["batchJobs"],r)}return t}function RC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["batchPredictionJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Wu(s))),f(t,["batchJobs"],r)}return t}function MC(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const r=c(e,["fileData"]);r!=null&&f(t,["fileData"],mC(r));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],gC(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],QE(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const p=c(e,["videoMetadata"]);return p!=null&&f(t,["videoMetadata"],p),t}function DC(e){const t={},n=c(e,["category"]);if(n!=null&&f(t,["category"],n),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(e,["threshold"]);return o!=null&&f(t,["threshold"],o),t}function LC(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],yC(n));const o=c(e,["retrievalConfig"]);return o!=null&&f(t,["retrievalConfig"],o),t}function FC(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const r=c(e,["fileSearch"]);r!=null&&f(t,["fileSearch"],r);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],wC(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],EC(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(wn||(wn={}));class Po{constructor(t,n,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,i)}init(t,n,o){var i,r;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(r=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UC extends In{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Po(wn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=am(this.apiClient,t),o=n._url,i=G("{model}:batchGenerateContent",o),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=p,h.request=g}u.push(h)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const r=this.getGcsUri(t),s=this.getBigqueryUri(t);if(r)r.endsWith(".jsonl")?o.dest=`${r.slice(0,-6)}/dest`:o.dest=`${r}_dest_${i}`;else if(s)o.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=rC(this.apiClient,t);return a=G("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Wu(d))}else{const u=am(this.apiClient,t);return a=G("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>bs(d))}}async createEmbeddingsInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=lC(this.apiClient,t);return r=G("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>bs(l))}}async get(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=TC(this.apiClient,t);return a=G("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Wu(d))}else{const u=SC(this.apiClient,t);return a=G("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>bs(d))}}async cancel(t){var n,o,i,r;let s="",a={};if(this.apiClient.isVertexAI()){const l=eC(this.apiClient,t);s=G("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const l=ZE(this.apiClient,t);s=G("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=bC(t);return a=G("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=RC(d),p=new im;return Object.assign(p,h),p})}else{const u=AC(t);return a=G("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=PC(d),p=new im;return Object.assign(p,h),p})}}async delete(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=uC(this.apiClient,t);return a=G("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>dC(d))}else{const u=aC(this.apiClient,t);return a=G("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>cC(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VC(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function um(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>lN(r))),f(t,["parts"],i)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function GC(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const i=c(e,["expireTime"]);t!==void 0&&i!=null&&f(t,["expireTime"],i);const r=c(e,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const s=c(e,["contents"]);if(t!==void 0&&s!=null){let d=Lt(s);Array.isArray(d)&&(d=d.map(h=>um(h))),f(t,["contents"],d)}const a=c(e,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],um(nt(a)));const l=c(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>uN(h))),f(t,["tools"],d)}const u=c(e,["toolConfig"]);if(t!==void 0&&u!=null&&f(t,["toolConfig"],aN(u)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function BC(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const i=c(e,["expireTime"]);t!==void 0&&i!=null&&f(t,["expireTime"],i);const r=c(e,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const s=c(e,["contents"]);if(t!==void 0&&s!=null){let h=Lt(s);Array.isArray(h)&&(h=h.map(p=>p)),f(t,["contents"],h)}const a=c(e,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],nt(a));const l=c(e,["tools"]);if(t!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>cN(p))),f(t,["tools"],h)}const u=c(e,["toolConfig"]);t!==void 0&&u!=null&&f(t,["toolConfig"],u);const d=c(e,["kmsKeyName"]);return t!==void 0&&d!=null&&f(t,["encryption_spec","kmsKeyName"],d),n}function zC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["model"],vv(e,o));const i=c(t,["config"]);return i!=null&&GC(i,n),n}function OC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["model"],vv(e,o));const i=c(t,["config"]);return i!=null&&BC(i,n),n}function HC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],kn(e,o)),n}function $C(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],kn(e,o)),n}function qC(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function jC(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function JC(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function WC(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function KC(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const o=c(e,["allowedFunctionNames"]);if(o!=null&&f(t,["allowedFunctionNames"],o),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function YC(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const i=c(e,["parameters"]);i!=null&&f(t,["parameters"],i);const r=c(e,["parametersJsonSchema"]);r!=null&&f(t,["parametersJsonSchema"],r);const s=c(e,["response"]);s!=null&&f(t,["response"],s);const a=c(e,["responseJsonSchema"]);return a!=null&&f(t,["responseJsonSchema"],a),t}function XC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],kn(e,o)),n}function QC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],kn(e,o)),n}function ZC(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function eN(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function tN(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function nN(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function oN(e){const t={},n=c(e,["config"]);return n!=null&&tN(n,t),t}function iN(e){const t={},n=c(e,["config"]);return n!=null&&nN(n,t),t}function rN(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["cachedContents"],r)}return t}function sN(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["cachedContents"],r)}return t}function lN(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const r=c(e,["fileData"]);r!=null&&f(t,["fileData"],JC(r));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],WC(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],VC(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const p=c(e,["videoMetadata"]);return p!=null&&f(t,["videoMetadata"],p),t}function aN(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],KC(n));const o=c(e,["retrievalConfig"]);return o!=null&&f(t,["retrievalConfig"],o),t}function uN(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const r=c(e,["fileSearch"]);r!=null&&f(t,["fileSearch"],r);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],ZC(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],eN(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function cN(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>YC(p))),f(t,["functionDeclarations"],h)}const o=c(e,["retrieval"]);o!=null&&f(t,["retrieval"],o);const i=c(e,["googleSearchRetrieval"]);i!=null&&f(t,["googleSearchRetrieval"],i);const r=c(e,["computerUse"]);if(r!=null&&f(t,["computerUse"],r),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(e,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const a=c(e,["enterpriseWebSearch"]);a!=null&&f(t,["enterpriseWebSearch"],a);const l=c(e,["googleMaps"]);l!=null&&f(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function dN(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const i=c(e,["expireTime"]);return t!==void 0&&i!=null&&f(t,["expireTime"],i),n}function fN(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const i=c(e,["expireTime"]);return t!==void 0&&i!=null&&f(t,["expireTime"],i),n}function pN(e,t){const n={},o=c(t,["name"]);o!=null&&f(n,["_url","name"],kn(e,o));const i=c(t,["config"]);return i!=null&&dN(i,n),n}function hN(e,t){const n={},o=c(t,["name"]);o!=null&&f(n,["_url","name"],kn(e,o));const i=c(t,["config"]);return i!=null&&fN(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mN extends In{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Po(wn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=OC(this.apiClient,t);return a=G("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=zC(this.apiClient,t);return a=G("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=QC(this.apiClient,t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=XC(this.apiClient,t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=$C(this.apiClient,t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=jC(d),p=new nm;return Object.assign(p,h),p})}else{const u=HC(this.apiClient,t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=qC(d),p=new nm;return Object.assign(p,h),p})}}async update(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hN(this.apiClient,t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=pN(this.apiClient,t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=iN(t);return a=G("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=sN(d),p=new om;return Object.assign(p,h),p})}else{const u=oN(t);return a=G("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=rN(d),p=new om;return Object.assign(p,h),p})}}}function fl(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n}function cm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(e){return this instanceof ie?(this.v=e,this):new ie(e)}function Zt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(v){return Promise.resolve(v).then(g,h)}}function a(g,v){o[g]&&(i[g]=function(T){return new Promise(function(w,S){r.push([g,T,w,S])>1||l(g,T)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(o[g](v))}catch(T){p(r[0][3],T)}}function u(g){g.value instanceof ie?Promise.resolve(g.value.v).then(d,h):p(r[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function p(g,v){g(v),r.shift(),r.length&&l(r[0][0],r[0][1])}}function en(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof cm=="function"?cm(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(r){n[r]=e[r]&&function(s){return new Promise(function(a,l){s=e[r](s),i(a,l,s.done,s.value)})}}function i(r,s,a,l){Promise.resolve(l).then(function(u){r({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gN(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Pv(n)}function Pv(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function yN(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function dm(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const i=[];let r=!0;for(;o<n&&e[o].role==="model";)i.push(e[o]),r&&!Pv(e[o])&&(r=!1),o++;r?t.push(...i):t.pop()}return t}class vN{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new xN(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class xN{constructor(t,n,o,i={},r=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),yN(r)}async sendMessage(t){var n;await this.sendPromise;const o=nt(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,s,a;const l=await i,u=(s=(r=l.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];d!=null&&(p=(a=d.slice(h))!==null&&a!==void 0?a:[]);const g=u?[u]:[];this.recordHistory(o,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const o=nt(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(t=!1){const n=t?dm(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Zt(this,arguments,function*(){var i,r,s,a,l,u;const d=[];try{for(var h=!0,p=en(t),g;g=yield ie(p.next()),i=g.done,!i;h=!0){a=g.value,h=!1;const v=a;if(gN(v)){const T=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;T!==void 0&&d.push(T)}yield yield ie(v)}}catch(v){r={error:v}}finally{try{!h&&!i&&(s=p.return)&&(yield ie(s.call(p)))}finally{if(r)throw r.error}}this.recordHistory(n,d)})}recordHistory(t,n,o){let i=[];n.length>0&&n.every(r=>r.role!==void 0)?i=n:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...dm(o)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,zl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SN(e){const t={},n=c(e,["file"]);return n!=null&&f(t,["file"],n),t}function TN(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function wN(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","file"],Cv(n)),t}function EN(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function CN(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","file"],Cv(n)),t}function NN(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function IN(e){const t={},n=c(e,["config"]);return n!=null&&NN(n,t),t}function kN(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _N extends In{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Po(wn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=IN(t);return r=G("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=kN(l),d=new RE;return Object.assign(d,u),d})}}async createInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=SN(t);return r=G("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=TN(l),d=new ME;return Object.assign(d,u),d})}}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=CN(t);return r=G("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=wN(t);return r=G("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=EN(l),d=new DE;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ps(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function AN(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>qN(r))),f(t,["parts"],i)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function bN(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function PN(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function RN(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const i=c(e,["parameters"]);i!=null&&f(t,["parameters"],i);const r=c(e,["parametersJsonSchema"]);r!=null&&f(t,["parametersJsonSchema"],r);const s=c(e,["response"]);s!=null&&f(t,["response"],s);const a=c(e,["responseJsonSchema"]);return a!=null&&f(t,["responseJsonSchema"],a),t}function MN(e){const t={},n=c(e,["modelSelectionConfig"]);n!=null&&f(t,["modelConfig"],n);const o=c(e,["responseJsonSchema"]);o!=null&&f(t,["responseJsonSchema"],o);const i=c(e,["audioTimestamp"]);i!=null&&f(t,["audioTimestamp"],i);const r=c(e,["candidateCount"]);r!=null&&f(t,["candidateCount"],r);const s=c(e,["enableAffectiveDialog"]);s!=null&&f(t,["enableAffectiveDialog"],s);const a=c(e,["frequencyPenalty"]);a!=null&&f(t,["frequencyPenalty"],a);const l=c(e,["logprobs"]);l!=null&&f(t,["logprobs"],l);const u=c(e,["maxOutputTokens"]);u!=null&&f(t,["maxOutputTokens"],u);const d=c(e,["mediaResolution"]);d!=null&&f(t,["mediaResolution"],d);const h=c(e,["presencePenalty"]);h!=null&&f(t,["presencePenalty"],h);const p=c(e,["responseLogprobs"]);p!=null&&f(t,["responseLogprobs"],p);const g=c(e,["responseMimeType"]);g!=null&&f(t,["responseMimeType"],g);const v=c(e,["responseModalities"]);v!=null&&f(t,["responseModalities"],v);const T=c(e,["responseSchema"]);T!=null&&f(t,["responseSchema"],T);const w=c(e,["routingConfig"]);w!=null&&f(t,["routingConfig"],w);const S=c(e,["seed"]);S!=null&&f(t,["seed"],S);const y=c(e,["speechConfig"]);y!=null&&f(t,["speechConfig"],y);const x=c(e,["stopSequences"]);x!=null&&f(t,["stopSequences"],x);const E=c(e,["temperature"]);E!=null&&f(t,["temperature"],E);const I=c(e,["thinkingConfig"]);I!=null&&f(t,["thinkingConfig"],I);const C=c(e,["topK"]);C!=null&&f(t,["topK"],C);const k=c(e,["topP"]);if(k!=null&&f(t,["topP"],k),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function DN(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function LN(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function FN(e,t){const n={},o=c(e,["generationConfig"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig"],o);const i=c(e,["responseModalities"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","responseModalities"],i);const r=c(e,["temperature"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","temperature"],r);const s=c(e,["topP"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topP"],s);const a=c(e,["topK"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","topK"],a);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const h=c(e,["speechConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","speechConfig"],Gd(h));const p=c(e,["thinkingConfig"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","thinkingConfig"],p);const g=c(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=c(e,["systemInstruction"]);t!==void 0&&v!=null&&f(t,["setup","systemInstruction"],AN(nt(v)));const T=c(e,["tools"]);if(t!==void 0&&T!=null){let C=Ni(T);Array.isArray(C)&&(C=C.map(k=>JN(Ci(k)))),f(t,["setup","tools"],C)}const w=c(e,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],jN(w));const S=c(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&f(t,["setup","inputAudioTranscription"],S);const y=c(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&f(t,["setup","outputAudioTranscription"],y);const x=c(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&f(t,["setup","realtimeInputConfig"],x);const E=c(e,["contextWindowCompression"]);t!==void 0&&E!=null&&f(t,["setup","contextWindowCompression"],E);const I=c(e,["proactivity"]);if(t!==void 0&&I!=null&&f(t,["setup","proactivity"],I),c(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function UN(e,t){const n={},o=c(e,["generationConfig"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig"],MN(o));const i=c(e,["responseModalities"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","responseModalities"],i);const r=c(e,["temperature"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","temperature"],r);const s=c(e,["topP"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topP"],s);const a=c(e,["topK"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","topK"],a);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const h=c(e,["speechConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","speechConfig"],Gd(h));const p=c(e,["thinkingConfig"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","thinkingConfig"],p);const g=c(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=c(e,["systemInstruction"]);t!==void 0&&v!=null&&f(t,["setup","systemInstruction"],nt(v));const T=c(e,["tools"]);if(t!==void 0&&T!=null){let k=Ni(T);Array.isArray(k)&&(k=k.map(_=>WN(Ci(_)))),f(t,["setup","tools"],k)}const w=c(e,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],w);const S=c(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&f(t,["setup","inputAudioTranscription"],S);const y=c(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&f(t,["setup","outputAudioTranscription"],y);const x=c(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&f(t,["setup","realtimeInputConfig"],x);const E=c(e,["contextWindowCompression"]);t!==void 0&&E!=null&&f(t,["setup","contextWindowCompression"],E);const I=c(e,["proactivity"]);t!==void 0&&I!=null&&f(t,["setup","proactivity"],I);const C=c(e,["explicitVadSignal"]);return t!==void 0&&C!=null&&f(t,["setup","explicitVadSignal"],C),n}function VN(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["setup","model"],pe(e,o));const i=c(t,["config"]);return i!=null&&f(n,["config"],FN(i,n)),n}function GN(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["setup","model"],pe(e,o));const i=c(t,["config"]);return i!=null&&f(n,["config"],UN(i,n)),n}function BN(e){const t={},n=c(e,["musicGenerationConfig"]);return n!=null&&f(t,["musicGenerationConfig"],n),t}function zN(e){const t={},n=c(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),f(t,["weightedPrompts"],o)}return t}function ON(e){const t={},n=c(e,["media"]);if(n!=null){let u=xv(n);Array.isArray(u)&&(u=u.map(d=>Ps(d))),f(t,["mediaChunks"],u)}const o=c(e,["audio"]);o!=null&&f(t,["audio"],Ps(Tv(o)));const i=c(e,["audioStreamEnd"]);i!=null&&f(t,["audioStreamEnd"],i);const r=c(e,["video"]);r!=null&&f(t,["video"],Ps(Sv(r)));const s=c(e,["text"]);s!=null&&f(t,["text"],s);const a=c(e,["activityStart"]);a!=null&&f(t,["activityStart"],a);const l=c(e,["activityEnd"]);return l!=null&&f(t,["activityEnd"],l),t}function HN(e){const t={},n=c(e,["media"]);if(n!=null){let u=xv(n);Array.isArray(u)&&(u=u.map(d=>d)),f(t,["mediaChunks"],u)}const o=c(e,["audio"]);o!=null&&f(t,["audio"],Tv(o));const i=c(e,["audioStreamEnd"]);i!=null&&f(t,["audioStreamEnd"],i);const r=c(e,["video"]);r!=null&&f(t,["video"],Sv(r));const s=c(e,["text"]);s!=null&&f(t,["text"],s);const a=c(e,["activityStart"]);a!=null&&f(t,["activityStart"],a);const l=c(e,["activityEnd"]);return l!=null&&f(t,["activityEnd"],l),t}function $N(e){const t={},n=c(e,["setupComplete"]);n!=null&&f(t,["setupComplete"],n);const o=c(e,["serverContent"]);o!=null&&f(t,["serverContent"],o);const i=c(e,["toolCall"]);i!=null&&f(t,["toolCall"],i);const r=c(e,["toolCallCancellation"]);r!=null&&f(t,["toolCallCancellation"],r);const s=c(e,["usageMetadata"]);s!=null&&f(t,["usageMetadata"],KN(s));const a=c(e,["goAway"]);a!=null&&f(t,["goAway"],a);const l=c(e,["sessionResumptionUpdate"]);l!=null&&f(t,["sessionResumptionUpdate"],l);const u=c(e,["voiceActivityDetectionSignal"]);return u!=null&&f(t,["voiceActivityDetectionSignal"],u),t}function qN(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const r=c(e,["fileData"]);r!=null&&f(t,["fileData"],bN(r));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],PN(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],Ps(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const p=c(e,["videoMetadata"]);return p!=null&&f(t,["videoMetadata"],p),t}function jN(e){const t={},n=c(e,["handle"]);if(n!=null&&f(t,["handle"],n),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function JN(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const r=c(e,["fileSearch"]);r!=null&&f(t,["fileSearch"],r);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],DN(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],LN(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function WN(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>RN(p))),f(t,["functionDeclarations"],h)}const o=c(e,["retrieval"]);o!=null&&f(t,["retrieval"],o);const i=c(e,["googleSearchRetrieval"]);i!=null&&f(t,["googleSearchRetrieval"],i);const r=c(e,["computerUse"]);if(r!=null&&f(t,["computerUse"],r),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(e,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const a=c(e,["enterpriseWebSearch"]);a!=null&&f(t,["enterpriseWebSearch"],a);const l=c(e,["googleMaps"]);l!=null&&f(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function KN(e){const t={},n=c(e,["promptTokenCount"]);n!=null&&f(t,["promptTokenCount"],n);const o=c(e,["cachedContentTokenCount"]);o!=null&&f(t,["cachedContentTokenCount"],o);const i=c(e,["candidatesTokenCount"]);i!=null&&f(t,["responseTokenCount"],i);const r=c(e,["toolUsePromptTokenCount"]);r!=null&&f(t,["toolUsePromptTokenCount"],r);const s=c(e,["thoughtsTokenCount"]);s!=null&&f(t,["thoughtsTokenCount"],s);const a=c(e,["totalTokenCount"]);a!=null&&f(t,["totalTokenCount"],a);const l=c(e,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),f(t,["promptTokensDetails"],g)}const u=c(e,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),f(t,["cacheTokensDetails"],g)}const d=c(e,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),f(t,["responseTokensDetails"],g)}const h=c(e,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),f(t,["toolUsePromptTokensDetails"],g)}const p=c(e,["trafficType"]);return p!=null&&f(t,["trafficType"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YN(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function XN(e){const t={},n=c(e,["content"]);n!=null&&f(t,["content"],n);const o=c(e,["citationMetadata"]);o!=null&&f(t,["citationMetadata"],QN(o));const i=c(e,["tokenCount"]);i!=null&&f(t,["tokenCount"],i);const r=c(e,["finishReason"]);r!=null&&f(t,["finishReason"],r);const s=c(e,["avgLogprobs"]);s!=null&&f(t,["avgLogprobs"],s);const a=c(e,["groundingMetadata"]);a!=null&&f(t,["groundingMetadata"],a);const l=c(e,["index"]);l!=null&&f(t,["index"],l);const u=c(e,["logprobsResult"]);u!=null&&f(t,["logprobsResult"],u);const d=c(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),f(t,["safetyRatings"],p)}const h=c(e,["urlContextMetadata"]);return h!=null&&f(t,["urlContextMetadata"],h),t}function QN(e){const t={},n=c(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),f(t,["citations"],o)}return t}function ZN(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["contents"]);if(i!=null){let r=Lt(i);Array.isArray(r)&&(r=r.map(s=>s)),f(n,["contents"],r)}return n}function eI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["tokensInfo"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),f(t,["tokensInfo"],i)}return t}function tI(e){const t={},n=c(e,["values"]);n!=null&&f(t,["values"],n);const o=c(e,["statistics"]);return o!=null&&f(t,["statistics"],nI(o)),t}function nI(e){const t={},n=c(e,["truncated"]);n!=null&&f(t,["truncated"],n);const o=c(e,["token_count"]);return o!=null&&f(t,["tokenCount"],o),t}function Ol(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>dk(r))),f(t,["parts"],i)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function oI(e){const t={},n=c(e,["controlType"]);n!=null&&f(t,["controlType"],n);const o=c(e,["enableControlImageComputation"]);return o!=null&&f(t,["computeControl"],o),t}function iI(e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function rI(e,t){const n={},o=c(e,["systemInstruction"]);t!==void 0&&o!=null&&f(t,["systemInstruction"],nt(o));const i=c(e,["tools"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Lv(a))),f(t,["tools"],s)}const r=c(e,["generationConfig"]);return t!==void 0&&r!=null&&f(t,["generationConfig"],YI(r)),n}function sI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["contents"]);if(i!=null){let s=Lt(i);Array.isArray(s)&&(s=s.map(a=>Ol(a))),f(n,["contents"],s)}const r=c(t,["config"]);return r!=null&&iI(r),n}function lI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["contents"]);if(i!=null){let s=Lt(i);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["contents"],s)}const r=c(t,["config"]);return r!=null&&rI(r,n),n}function aI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["totalTokens"]);o!=null&&f(t,["totalTokens"],o);const i=c(e,["cachedContentTokenCount"]);return i!=null&&f(t,["cachedContentTokenCount"],i),t}function uI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["totalTokens"]);return o!=null&&f(t,["totalTokens"],o),t}function cI(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],pe(e,o)),n}function dI(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],pe(e,o)),n}function fI(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function pI(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function hI(e,t){const n={},o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&f(t,["parameters","storageUri"],o);const i=c(e,["negativePrompt"]);t!==void 0&&i!=null&&f(t,["parameters","negativePrompt"],i);const r=c(e,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const s=c(e,["aspectRatio"]);t!==void 0&&s!=null&&f(t,["parameters","aspectRatio"],s);const a=c(e,["guidanceScale"]);t!==void 0&&a!=null&&f(t,["parameters","guidanceScale"],a);const l=c(e,["seed"]);t!==void 0&&l!=null&&f(t,["parameters","seed"],l);const u=c(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&f(t,["parameters","safetySetting"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=c(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&f(t,["parameters","includeSafetyAttributes"],h);const p=c(e,["includeRaiReason"]);t!==void 0&&p!=null&&f(t,["parameters","includeRaiReason"],p);const g=c(e,["language"]);t!==void 0&&g!=null&&f(t,["parameters","language"],g);const v=c(e,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const T=c(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","compressionQuality"],T);const w=c(e,["addWatermark"]);t!==void 0&&w!=null&&f(t,["parameters","addWatermark"],w);const S=c(e,["labels"]);t!==void 0&&S!=null&&f(t,["labels"],S);const y=c(e,["editMode"]);t!==void 0&&y!=null&&f(t,["parameters","editMode"],y);const x=c(e,["baseSteps"]);return t!==void 0&&x!=null&&f(t,["parameters","editConfig","baseSteps"],x),n}function mI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const r=c(t,["referenceImages"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>yk(l))),f(n,["instances[0]","referenceImages"],a)}const s=c(t,["config"]);return s!=null&&hI(s,n),n}function gI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Hl(r))),f(t,["generatedImages"],i)}return t}function yI(e,t){const n={},o=c(e,["taskType"]);t!==void 0&&o!=null&&f(t,["requests[]","taskType"],o);const i=c(e,["title"]);t!==void 0&&i!=null&&f(t,["requests[]","title"],i);const r=c(e,["outputDimensionality"]);if(t!==void 0&&r!=null&&f(t,["requests[]","outputDimensionality"],r),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vI(e,t){const n={},o=c(e,["taskType"]);t!==void 0&&o!=null&&f(t,["instances[]","task_type"],o);const i=c(e,["title"]);t!==void 0&&i!=null&&f(t,["instances[]","title"],i);const r=c(e,["outputDimensionality"]);t!==void 0&&r!=null&&f(t,["parameters","outputDimensionality"],r);const s=c(e,["mimeType"]);t!==void 0&&s!=null&&f(t,["instances[]","mimeType"],s);const a=c(e,["autoTruncate"]);return t!==void 0&&a!=null&&f(t,["parameters","autoTruncate"],a),n}function xI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["contents"]);if(i!=null){let a=Fd(e,i);Array.isArray(a)&&(a=a.map(l=>l)),f(n,["requests[]","content"],a)}const r=c(t,["config"]);r!=null&&yI(r,n);const s=c(t,["model"]);return s!==void 0&&f(n,["requests[]","model"],pe(e,s)),n}function SI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["contents"]);if(i!=null){let s=Fd(e,i);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["instances[]","content"],s)}const r=c(t,["config"]);return r!=null&&vI(r,n),n}function TI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["embeddings"],r)}const i=c(e,["metadata"]);return i!=null&&f(t,["metadata"],i),t}function wI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>tI(s))),f(t,["embeddings"],r)}const i=c(e,["metadata"]);return i!=null&&f(t,["metadata"],i),t}function EI(e){const t={},n=c(e,["endpoint"]);n!=null&&f(t,["name"],n);const o=c(e,["deployedModelId"]);return o!=null&&f(t,["deployedModelId"],o),t}function CI(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function NI(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function II(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const o=c(e,["allowedFunctionNames"]);if(o!=null&&f(t,["allowedFunctionNames"],o),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function kI(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const i=c(e,["parameters"]);i!=null&&f(t,["parameters"],i);const r=c(e,["parametersJsonSchema"]);r!=null&&f(t,["parametersJsonSchema"],r);const s=c(e,["response"]);s!=null&&f(t,["response"],s);const a=c(e,["responseJsonSchema"]);return a!=null&&f(t,["responseJsonSchema"],a),t}function _I(e,t,n){const o={},i=c(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],Ol(nt(i)));const r=c(t,["temperature"]);r!=null&&f(o,["temperature"],r);const s=c(t,["topP"]);s!=null&&f(o,["topP"],s);const a=c(t,["topK"]);a!=null&&f(o,["topK"],a);const l=c(t,["candidateCount"]);l!=null&&f(o,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&f(o,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(o,["stopSequences"],d);const h=c(t,["responseLogprobs"]);h!=null&&f(o,["responseLogprobs"],h);const p=c(t,["logprobs"]);p!=null&&f(o,["logprobs"],p);const g=c(t,["presencePenalty"]);g!=null&&f(o,["presencePenalty"],g);const v=c(t,["frequencyPenalty"]);v!=null&&f(o,["frequencyPenalty"],v);const T=c(t,["seed"]);T!=null&&f(o,["seed"],T);const w=c(t,["responseMimeType"]);w!=null&&f(o,["responseMimeType"],w);const S=c(t,["responseSchema"]);S!=null&&f(o,["responseSchema"],Ud(S));const y=c(t,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=c(t,["safetySettings"]);if(n!==void 0&&x!=null){let j=x;Array.isArray(j)&&(j=j.map($=>vk($))),f(n,["safetySettings"],j)}const E=c(t,["tools"]);if(n!==void 0&&E!=null){let j=Ni(E);Array.isArray(j)&&(j=j.map($=>Nk(Ci($)))),f(n,["tools"],j)}const I=c(t,["toolConfig"]);if(n!==void 0&&I!=null&&f(n,["toolConfig"],Ck(I)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=c(t,["cachedContent"]);n!==void 0&&C!=null&&f(n,["cachedContent"],kn(e,C));const k=c(t,["responseModalities"]);k!=null&&f(o,["responseModalities"],k);const _=c(t,["mediaResolution"]);_!=null&&f(o,["mediaResolution"],_);const b=c(t,["speechConfig"]);if(b!=null&&f(o,["speechConfig"],Vd(b)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=c(t,["thinkingConfig"]);M!=null&&f(o,["thinkingConfig"],M);const L=c(t,["imageConfig"]);L!=null&&f(o,["imageConfig"],tk(L));const ne=c(t,["enableEnhancedCivicAnswers"]);return ne!=null&&f(o,["enableEnhancedCivicAnswers"],ne),o}function AI(e,t,n){const o={},i=c(t,["systemInstruction"]);n!==void 0&&i!=null&&f(n,["systemInstruction"],nt(i));const r=c(t,["temperature"]);r!=null&&f(o,["temperature"],r);const s=c(t,["topP"]);s!=null&&f(o,["topP"],s);const a=c(t,["topK"]);a!=null&&f(o,["topK"],a);const l=c(t,["candidateCount"]);l!=null&&f(o,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&f(o,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(o,["stopSequences"],d);const h=c(t,["responseLogprobs"]);h!=null&&f(o,["responseLogprobs"],h);const p=c(t,["logprobs"]);p!=null&&f(o,["logprobs"],p);const g=c(t,["presencePenalty"]);g!=null&&f(o,["presencePenalty"],g);const v=c(t,["frequencyPenalty"]);v!=null&&f(o,["frequencyPenalty"],v);const T=c(t,["seed"]);T!=null&&f(o,["seed"],T);const w=c(t,["responseMimeType"]);w!=null&&f(o,["responseMimeType"],w);const S=c(t,["responseSchema"]);S!=null&&f(o,["responseSchema"],Ud(S));const y=c(t,["responseJsonSchema"]);y!=null&&f(o,["responseJsonSchema"],y);const x=c(t,["routingConfig"]);x!=null&&f(o,["routingConfig"],x);const E=c(t,["modelSelectionConfig"]);E!=null&&f(o,["modelConfig"],E);const I=c(t,["safetySettings"]);if(n!==void 0&&I!=null){let se=I;Array.isArray(se)&&(se=se.map(X=>X)),f(n,["safetySettings"],se)}const C=c(t,["tools"]);if(n!==void 0&&C!=null){let se=Ni(C);Array.isArray(se)&&(se=se.map(X=>Lv(Ci(X)))),f(n,["tools"],se)}const k=c(t,["toolConfig"]);n!==void 0&&k!=null&&f(n,["toolConfig"],k);const _=c(t,["labels"]);n!==void 0&&_!=null&&f(n,["labels"],_);const b=c(t,["cachedContent"]);n!==void 0&&b!=null&&f(n,["cachedContent"],kn(e,b));const M=c(t,["responseModalities"]);M!=null&&f(o,["responseModalities"],M);const L=c(t,["mediaResolution"]);L!=null&&f(o,["mediaResolution"],L);const ne=c(t,["speechConfig"]);ne!=null&&f(o,["speechConfig"],Vd(ne));const j=c(t,["audioTimestamp"]);j!=null&&f(o,["audioTimestamp"],j);const $=c(t,["thinkingConfig"]);$!=null&&f(o,["thinkingConfig"],$);const ae=c(t,["imageConfig"]);if(ae!=null&&f(o,["imageConfig"],nk(ae)),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function fm(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["contents"]);if(i!=null){let s=Lt(i);Array.isArray(s)&&(s=s.map(a=>Ol(a))),f(n,["contents"],s)}const r=c(t,["config"]);return r!=null&&f(n,["generationConfig"],_I(e,r,n)),n}function pm(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["contents"]);if(i!=null){let s=Lt(i);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["contents"],s)}const r=c(t,["config"]);return r!=null&&f(n,["generationConfig"],AI(e,r,n)),n}function hm(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["candidates"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>XN(u))),f(t,["candidates"],l)}const i=c(e,["modelVersion"]);i!=null&&f(t,["modelVersion"],i);const r=c(e,["promptFeedback"]);r!=null&&f(t,["promptFeedback"],r);const s=c(e,["responseId"]);s!=null&&f(t,["responseId"],s);const a=c(e,["usageMetadata"]);return a!=null&&f(t,["usageMetadata"],a),t}function mm(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["candidates"],u)}const i=c(e,["createTime"]);i!=null&&f(t,["createTime"],i);const r=c(e,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const s=c(e,["promptFeedback"]);s!=null&&f(t,["promptFeedback"],s);const a=c(e,["responseId"]);a!=null&&f(t,["responseId"],a);const l=c(e,["usageMetadata"]);return l!=null&&f(t,["usageMetadata"],l),t}function bI(e,t){const n={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=c(e,["numberOfImages"]);t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o);const i=c(e,["aspectRatio"]);t!==void 0&&i!=null&&f(t,["parameters","aspectRatio"],i);const r=c(e,["guidanceScale"]);if(t!==void 0&&r!=null&&f(t,["parameters","guidanceScale"],r),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=c(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&f(t,["parameters","safetySetting"],s);const a=c(e,["personGeneration"]);t!==void 0&&a!=null&&f(t,["parameters","personGeneration"],a);const l=c(e,["includeSafetyAttributes"]);t!==void 0&&l!=null&&f(t,["parameters","includeSafetyAttributes"],l);const u=c(e,["includeRaiReason"]);t!==void 0&&u!=null&&f(t,["parameters","includeRaiReason"],u);const d=c(e,["language"]);t!==void 0&&d!=null&&f(t,["parameters","language"],d);const h=c(e,["outputMimeType"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","mimeType"],h);const p=c(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&f(t,["parameters","outputOptions","compressionQuality"],p),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=c(e,["imageSize"]);if(t!==void 0&&g!=null&&f(t,["parameters","sampleImageSize"],g),c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function PI(e,t){const n={},o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&f(t,["parameters","storageUri"],o);const i=c(e,["negativePrompt"]);t!==void 0&&i!=null&&f(t,["parameters","negativePrompt"],i);const r=c(e,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const s=c(e,["aspectRatio"]);t!==void 0&&s!=null&&f(t,["parameters","aspectRatio"],s);const a=c(e,["guidanceScale"]);t!==void 0&&a!=null&&f(t,["parameters","guidanceScale"],a);const l=c(e,["seed"]);t!==void 0&&l!=null&&f(t,["parameters","seed"],l);const u=c(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&f(t,["parameters","safetySetting"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=c(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&f(t,["parameters","includeSafetyAttributes"],h);const p=c(e,["includeRaiReason"]);t!==void 0&&p!=null&&f(t,["parameters","includeRaiReason"],p);const g=c(e,["language"]);t!==void 0&&g!=null&&f(t,["parameters","language"],g);const v=c(e,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const T=c(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","compressionQuality"],T);const w=c(e,["addWatermark"]);t!==void 0&&w!=null&&f(t,["parameters","addWatermark"],w);const S=c(e,["labels"]);t!==void 0&&S!=null&&f(t,["labels"],S);const y=c(e,["imageSize"]);t!==void 0&&y!=null&&f(t,["parameters","sampleImageSize"],y);const x=c(e,["enhancePrompt"]);return t!==void 0&&x!=null&&f(t,["parameters","enhancePrompt"],x),n}function RI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const r=c(t,["config"]);return r!=null&&bI(r,n),n}function MI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const r=c(t,["config"]);return r!=null&&PI(r,n),n}function DI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>jI(s))),f(t,["generatedImages"],r)}const i=c(e,["positivePromptSafetyAttributes"]);return i!=null&&f(t,["positivePromptSafetyAttributes"],Mv(i)),t}function LI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>Hl(s))),f(t,["generatedImages"],r)}const i=c(e,["positivePromptSafetyAttributes"]);return i!=null&&f(t,["positivePromptSafetyAttributes"],Dv(i)),t}function FI(e,t){const n={},o=c(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=c(e,["durationSeconds"]);if(t!==void 0&&i!=null&&f(t,["parameters","durationSeconds"],i),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=c(e,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const s=c(e,["resolution"]);t!==void 0&&s!=null&&f(t,["parameters","resolution"],s);const a=c(e,["personGeneration"]);if(t!==void 0&&a!=null&&f(t,["parameters","personGeneration"],a),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=c(e,["negativePrompt"]);t!==void 0&&l!=null&&f(t,["parameters","negativePrompt"],l);const u=c(e,["enhancePrompt"]);if(t!==void 0&&u!=null&&f(t,["parameters","enhancePrompt"],u),c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=c(e,["lastFrame"]);t!==void 0&&d!=null&&f(t,["instances[0]","lastFrame"],$l(d));const h=c(e,["referenceImages"]);if(t!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>Vk(g))),f(t,["instances[0]","referenceImages"],p)}if(c(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function UI(e,t){const n={},o=c(e,["numberOfVideos"]);t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o);const i=c(e,["outputGcsUri"]);t!==void 0&&i!=null&&f(t,["parameters","storageUri"],i);const r=c(e,["fps"]);t!==void 0&&r!=null&&f(t,["parameters","fps"],r);const s=c(e,["durationSeconds"]);t!==void 0&&s!=null&&f(t,["parameters","durationSeconds"],s);const a=c(e,["seed"]);t!==void 0&&a!=null&&f(t,["parameters","seed"],a);const l=c(e,["aspectRatio"]);t!==void 0&&l!=null&&f(t,["parameters","aspectRatio"],l);const u=c(e,["resolution"]);t!==void 0&&u!=null&&f(t,["parameters","resolution"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=c(e,["pubsubTopic"]);t!==void 0&&h!=null&&f(t,["parameters","pubsubTopic"],h);const p=c(e,["negativePrompt"]);t!==void 0&&p!=null&&f(t,["parameters","negativePrompt"],p);const g=c(e,["enhancePrompt"]);t!==void 0&&g!=null&&f(t,["parameters","enhancePrompt"],g);const v=c(e,["generateAudio"]);t!==void 0&&v!=null&&f(t,["parameters","generateAudio"],v);const T=c(e,["lastFrame"]);t!==void 0&&T!=null&&f(t,["instances[0]","lastFrame"],nn(T));const w=c(e,["referenceImages"]);if(t!==void 0&&w!=null){let x=w;Array.isArray(x)&&(x=x.map(E=>Gk(E))),f(t,["instances[0]","referenceImages"],x)}const S=c(e,["mask"]);t!==void 0&&S!=null&&f(t,["instances[0]","mask"],Uk(S));const y=c(e,["compressionQuality"]);return t!==void 0&&y!=null&&f(t,["parameters","compressionQuality"],y),n}function VI(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response","generateVideoResponse"]);return s!=null&&f(t,["response"],OI(s)),t}function GI(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response"]);return s!=null&&f(t,["response"],HI(s)),t}function BI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const r=c(t,["image"]);r!=null&&f(n,["instances[0]","image"],$l(r));const s=c(t,["video"]);s!=null&&f(n,["instances[0]","video"],Fv(s));const a=c(t,["source"]);a!=null&&$I(a,n);const l=c(t,["config"]);return l!=null&&FI(l,n),n}function zI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["prompt"]);i!=null&&f(n,["instances[0]","prompt"],i);const r=c(t,["image"]);r!=null&&f(n,["instances[0]","image"],nn(r));const s=c(t,["video"]);s!=null&&f(n,["instances[0]","video"],Uv(s));const a=c(t,["source"]);a!=null&&qI(a,n);const l=c(t,["config"]);return l!=null&&UI(l,n),n}function OI(e){const t={},n=c(e,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>WI(s))),f(t,["generatedVideos"],r)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function HI(e){const t={},n=c(e,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>KI(s))),f(t,["generatedVideos"],r)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const i=c(e,["raiMediaFilteredReasons"]);return i!=null&&f(t,["raiMediaFilteredReasons"],i),t}function $I(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const i=c(e,["image"]);t!==void 0&&i!=null&&f(t,["instances[0]","image"],$l(i));const r=c(e,["video"]);return t!==void 0&&r!=null&&f(t,["instances[0]","video"],Fv(r)),n}function qI(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const i=c(e,["image"]);t!==void 0&&i!=null&&f(t,["instances[0]","image"],nn(i));const r=c(e,["video"]);return t!==void 0&&r!=null&&f(t,["instances[0]","video"],Uv(r)),n}function jI(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["image"],ok(n));const o=c(e,["raiFilteredReason"]);o!=null&&f(t,["raiFilteredReason"],o);const i=c(e,["_self"]);return i!=null&&f(t,["safetyAttributes"],Mv(i)),t}function Hl(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["image"],Rv(n));const o=c(e,["raiFilteredReason"]);o!=null&&f(t,["raiFilteredReason"],o);const i=c(e,["_self"]);i!=null&&f(t,["safetyAttributes"],Dv(i));const r=c(e,["prompt"]);return r!=null&&f(t,["enhancedPrompt"],r),t}function JI(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["mask"],Rv(n));const o=c(e,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),f(t,["labels"],i)}return t}function WI(e){const t={},n=c(e,["video"]);return n!=null&&f(t,["video"],Lk(n)),t}function KI(e){const t={},n=c(e,["_self"]);return n!=null&&f(t,["video"],Fk(n)),t}function YI(e){const t={},n=c(e,["modelSelectionConfig"]);n!=null&&f(t,["modelConfig"],n);const o=c(e,["responseJsonSchema"]);o!=null&&f(t,["responseJsonSchema"],o);const i=c(e,["audioTimestamp"]);i!=null&&f(t,["audioTimestamp"],i);const r=c(e,["candidateCount"]);r!=null&&f(t,["candidateCount"],r);const s=c(e,["enableAffectiveDialog"]);s!=null&&f(t,["enableAffectiveDialog"],s);const a=c(e,["frequencyPenalty"]);a!=null&&f(t,["frequencyPenalty"],a);const l=c(e,["logprobs"]);l!=null&&f(t,["logprobs"],l);const u=c(e,["maxOutputTokens"]);u!=null&&f(t,["maxOutputTokens"],u);const d=c(e,["mediaResolution"]);d!=null&&f(t,["mediaResolution"],d);const h=c(e,["presencePenalty"]);h!=null&&f(t,["presencePenalty"],h);const p=c(e,["responseLogprobs"]);p!=null&&f(t,["responseLogprobs"],p);const g=c(e,["responseMimeType"]);g!=null&&f(t,["responseMimeType"],g);const v=c(e,["responseModalities"]);v!=null&&f(t,["responseModalities"],v);const T=c(e,["responseSchema"]);T!=null&&f(t,["responseSchema"],T);const w=c(e,["routingConfig"]);w!=null&&f(t,["routingConfig"],w);const S=c(e,["seed"]);S!=null&&f(t,["seed"],S);const y=c(e,["speechConfig"]);y!=null&&f(t,["speechConfig"],y);const x=c(e,["stopSequences"]);x!=null&&f(t,["stopSequences"],x);const E=c(e,["temperature"]);E!=null&&f(t,["temperature"],E);const I=c(e,["thinkingConfig"]);I!=null&&f(t,["thinkingConfig"],I);const C=c(e,["topK"]);C!=null&&f(t,["topK"],C);const k=c(e,["topP"]);if(k!=null&&f(t,["topP"],k),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function XI(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],pe(e,o)),n}function QI(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],pe(e,o)),n}function ZI(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function ek(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function tk(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const o=c(e,["imageSize"]);if(o!=null&&f(t,["imageSize"],o),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function nk(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const o=c(e,["imageSize"]);o!=null&&f(t,["imageSize"],o);const i=c(e,["outputMimeType"]);i!=null&&f(t,["imageOutputOptions","mimeType"],i);const r=c(e,["outputCompressionQuality"]);return r!=null&&f(t,["imageOutputOptions","compressionQuality"],r),t}function ok(e){const t={},n=c(e,["bytesBase64Encoded"]);n!=null&&f(t,["imageBytes"],eo(n));const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function Rv(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["gcsUri"],n);const o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["imageBytes"],eo(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}function $l(e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(e,["imageBytes"]);n!=null&&f(t,["bytesBase64Encoded"],eo(n));const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function nn(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["gcsUri"],n);const o=c(e,["imageBytes"]);o!=null&&f(t,["bytesBase64Encoded"],eo(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}function ik(e,t,n){const o={},i=c(t,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);const r=c(t,["pageToken"]);n!==void 0&&r!=null&&f(n,["_query","pageToken"],r);const s=c(t,["filter"]);n!==void 0&&s!=null&&f(n,["_query","filter"],s);const a=c(t,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],Nv(e,a)),o}function rk(e,t,n){const o={},i=c(t,["pageSize"]);n!==void 0&&i!=null&&f(n,["_query","pageSize"],i);const r=c(t,["pageToken"]);n!==void 0&&r!=null&&f(n,["_query","pageToken"],r);const s=c(t,["filter"]);n!==void 0&&s!=null&&f(n,["_query","filter"],s);const a=c(t,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],Nv(e,a)),o}function sk(e,t){const n={},o=c(t,["config"]);return o!=null&&ik(e,o,n),n}function lk(e,t){const n={},o=c(t,["config"]);return o!=null&&rk(e,o,n),n}function ak(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["_self"]);if(i!=null){let r=Iv(i);Array.isArray(r)&&(r=r.map(s=>Ku(s))),f(t,["models"],r)}return t}function uk(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["_self"]);if(i!=null){let r=Iv(i);Array.isArray(r)&&(r=r.map(s=>Yu(s))),f(t,["models"],r)}return t}function ck(e){const t={},n=c(e,["maskMode"]);n!=null&&f(t,["maskMode"],n);const o=c(e,["segmentationClasses"]);o!=null&&f(t,["maskClasses"],o);const i=c(e,["maskDilation"]);return i!=null&&f(t,["dilation"],i),t}function Ku(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const i=c(e,["description"]);i!=null&&f(t,["description"],i);const r=c(e,["version"]);r!=null&&f(t,["version"],r);const s=c(e,["_self"]);s!=null&&f(t,["tunedModelInfo"],Ik(s));const a=c(e,["inputTokenLimit"]);a!=null&&f(t,["inputTokenLimit"],a);const l=c(e,["outputTokenLimit"]);l!=null&&f(t,["outputTokenLimit"],l);const u=c(e,["supportedGenerationMethods"]);u!=null&&f(t,["supportedActions"],u);const d=c(e,["temperature"]);d!=null&&f(t,["temperature"],d);const h=c(e,["maxTemperature"]);h!=null&&f(t,["maxTemperature"],h);const p=c(e,["topP"]);p!=null&&f(t,["topP"],p);const g=c(e,["topK"]);g!=null&&f(t,["topK"],g);const v=c(e,["thinking"]);return v!=null&&f(t,["thinking"],v),t}function Yu(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const i=c(e,["description"]);i!=null&&f(t,["description"],i);const r=c(e,["versionId"]);r!=null&&f(t,["version"],r);const s=c(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>EI(p))),f(t,["endpoints"],h)}const a=c(e,["labels"]);a!=null&&f(t,["labels"],a);const l=c(e,["_self"]);l!=null&&f(t,["tunedModelInfo"],kk(l));const u=c(e,["defaultCheckpointId"]);u!=null&&f(t,["defaultCheckpointId"],u);const d=c(e,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>p)),f(t,["checkpoints"],h)}return t}function dk(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const r=c(e,["fileData"]);r!=null&&f(t,["fileData"],CI(r));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],NI(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],YN(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const p=c(e,["videoMetadata"]);return p!=null&&f(t,["videoMetadata"],p),t}function fk(e){const t={},n=c(e,["productImage"]);return n!=null&&f(t,["image"],nn(n)),t}function pk(e,t){const n={},o=c(e,["numberOfImages"]);t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o);const i=c(e,["baseSteps"]);t!==void 0&&i!=null&&f(t,["parameters","baseSteps"],i);const r=c(e,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const s=c(e,["seed"]);t!==void 0&&s!=null&&f(t,["parameters","seed"],s);const a=c(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&f(t,["parameters","safetySetting"],a);const l=c(e,["personGeneration"]);t!==void 0&&l!=null&&f(t,["parameters","personGeneration"],l);const u=c(e,["addWatermark"]);t!==void 0&&u!=null&&f(t,["parameters","addWatermark"],u);const d=c(e,["outputMimeType"]);t!==void 0&&d!=null&&f(t,["parameters","outputOptions","mimeType"],d);const h=c(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","compressionQuality"],h);const p=c(e,["enhancePrompt"]);t!==void 0&&p!=null&&f(t,["parameters","enhancePrompt"],p);const g=c(e,["labels"]);return t!==void 0&&g!=null&&f(t,["labels"],g),n}function hk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["source"]);i!=null&&gk(i,n);const r=c(t,["config"]);return r!=null&&pk(r,n),n}function mk(e){const t={},n=c(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Hl(i))),f(t,["generatedImages"],o)}return t}function gk(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const i=c(e,["personImage"]);t!==void 0&&i!=null&&f(t,["instances[0]","personImage","image"],nn(i));const r=c(e,["productImages"]);if(t!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>fk(a))),f(t,["instances[0]","productImages"],s)}return n}function yk(e){const t={},n=c(e,["referenceImage"]);n!=null&&f(t,["referenceImage"],nn(n));const o=c(e,["referenceId"]);o!=null&&f(t,["referenceId"],o);const i=c(e,["referenceType"]);i!=null&&f(t,["referenceType"],i);const r=c(e,["maskImageConfig"]);r!=null&&f(t,["maskImageConfig"],ck(r));const s=c(e,["controlImageConfig"]);s!=null&&f(t,["controlImageConfig"],oI(s));const a=c(e,["styleImageConfig"]);a!=null&&f(t,["styleImageConfig"],a);const l=c(e,["subjectImageConfig"]);return l!=null&&f(t,["subjectImageConfig"],l),t}function Mv(e){const t={},n=c(e,["safetyAttributes","categories"]);n!=null&&f(t,["categories"],n);const o=c(e,["safetyAttributes","scores"]);o!=null&&f(t,["scores"],o);const i=c(e,["contentType"]);return i!=null&&f(t,["contentType"],i),t}function Dv(e){const t={},n=c(e,["safetyAttributes","categories"]);n!=null&&f(t,["categories"],n);const o=c(e,["safetyAttributes","scores"]);o!=null&&f(t,["scores"],o);const i=c(e,["contentType"]);return i!=null&&f(t,["contentType"],i),t}function vk(e){const t={},n=c(e,["category"]);if(n!=null&&f(t,["category"],n),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(e,["threshold"]);return o!=null&&f(t,["threshold"],o),t}function xk(e){const t={},n=c(e,["image"]);return n!=null&&f(t,["image"],nn(n)),t}function Sk(e,t){const n={},o=c(e,["mode"]);t!==void 0&&o!=null&&f(t,["parameters","mode"],o);const i=c(e,["maxPredictions"]);t!==void 0&&i!=null&&f(t,["parameters","maxPredictions"],i);const r=c(e,["confidenceThreshold"]);t!==void 0&&r!=null&&f(t,["parameters","confidenceThreshold"],r);const s=c(e,["maskDilation"]);t!==void 0&&s!=null&&f(t,["parameters","maskDilation"],s);const a=c(e,["binaryColorThreshold"]);t!==void 0&&a!=null&&f(t,["parameters","binaryColorThreshold"],a);const l=c(e,["labels"]);return t!==void 0&&l!=null&&f(t,["labels"],l),n}function Tk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["source"]);i!=null&&Ek(i,n);const r=c(t,["config"]);return r!=null&&Sk(r,n),n}function wk(e){const t={},n=c(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>JI(i))),f(t,["generatedMasks"],o)}return t}function Ek(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const i=c(e,["image"]);t!==void 0&&i!=null&&f(t,["instances[0]","image"],nn(i));const r=c(e,["scribbleImage"]);return t!==void 0&&r!=null&&f(t,["instances[0]","scribble"],xk(r)),n}function Ck(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],II(n));const o=c(e,["retrievalConfig"]);return o!=null&&f(t,["retrievalConfig"],o),t}function Nk(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const r=c(e,["fileSearch"]);r!=null&&f(t,["fileSearch"],r);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],ZI(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],ek(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function Lv(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>kI(p))),f(t,["functionDeclarations"],h)}const o=c(e,["retrieval"]);o!=null&&f(t,["retrieval"],o);const i=c(e,["googleSearchRetrieval"]);i!=null&&f(t,["googleSearchRetrieval"],i);const r=c(e,["computerUse"]);if(r!=null&&f(t,["computerUse"],r),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(e,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const a=c(e,["enterpriseWebSearch"]);a!=null&&f(t,["enterpriseWebSearch"],a);const l=c(e,["googleMaps"]);l!=null&&f(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function Ik(e){const t={},n=c(e,["baseModel"]);n!=null&&f(t,["baseModel"],n);const o=c(e,["createTime"]);o!=null&&f(t,["createTime"],o);const i=c(e,["updateTime"]);return i!=null&&f(t,["updateTime"],i),t}function kk(e){const t={},n=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(t,["baseModel"],n);const o=c(e,["createTime"]);o!=null&&f(t,["createTime"],o);const i=c(e,["updateTime"]);return i!=null&&f(t,["updateTime"],i),t}function _k(e,t){const n={},o=c(e,["displayName"]);t!==void 0&&o!=null&&f(t,["displayName"],o);const i=c(e,["description"]);t!==void 0&&i!=null&&f(t,["description"],i);const r=c(e,["defaultCheckpointId"]);return t!==void 0&&r!=null&&f(t,["defaultCheckpointId"],r),n}function Ak(e,t){const n={},o=c(e,["displayName"]);t!==void 0&&o!=null&&f(t,["displayName"],o);const i=c(e,["description"]);t!==void 0&&i!=null&&f(t,["description"],i);const r=c(e,["defaultCheckpointId"]);return t!==void 0&&r!=null&&f(t,["defaultCheckpointId"],r),n}function bk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","name"],pe(e,o));const i=c(t,["config"]);return i!=null&&_k(i,n),n}function Pk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["config"]);return i!=null&&Ak(i,n),n}function Rk(e,t){const n={},o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&f(t,["parameters","storageUri"],o);const i=c(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&f(t,["parameters","safetySetting"],i);const r=c(e,["personGeneration"]);t!==void 0&&r!=null&&f(t,["parameters","personGeneration"],r);const s=c(e,["includeRaiReason"]);t!==void 0&&s!=null&&f(t,["parameters","includeRaiReason"],s);const a=c(e,["outputMimeType"]);t!==void 0&&a!=null&&f(t,["parameters","outputOptions","mimeType"],a);const l=c(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&f(t,["parameters","outputOptions","compressionQuality"],l);const u=c(e,["enhanceInputImage"]);t!==void 0&&u!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],u);const d=c(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=c(e,["labels"]);t!==void 0&&h!=null&&f(t,["labels"],h);const p=c(e,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const g=c(e,["mode"]);return t!==void 0&&g!=null&&f(t,["parameters","mode"],g),n}function Mk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],pe(e,o));const i=c(t,["image"]);i!=null&&f(n,["instances[0]","image"],nn(i));const r=c(t,["upscaleFactor"]);r!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],r);const s=c(t,["config"]);return s!=null&&Rk(s,n),n}function Dk(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Hl(r))),f(t,["generatedImages"],i)}return t}function Lk(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const o=c(e,["encodedVideo"]);o!=null&&f(t,["videoBytes"],eo(o));const i=c(e,["encoding"]);return i!=null&&f(t,["mimeType"],i),t}function Fk(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["uri"],n);const o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["videoBytes"],eo(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}function Uk(e){const t={},n=c(e,["image"]);n!=null&&f(t,["_self"],nn(n));const o=c(e,["maskMode"]);return o!=null&&f(t,["maskMode"],o),t}function Vk(e){const t={},n=c(e,["image"]);n!=null&&f(t,["image"],$l(n));const o=c(e,["referenceType"]);return o!=null&&f(t,["referenceType"],o),t}function Gk(e){const t={},n=c(e,["image"]);n!=null&&f(t,["image"],nn(n));const o=c(e,["referenceType"]);return o!=null&&f(t,["referenceType"],o),t}function Fv(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const o=c(e,["videoBytes"]);o!=null&&f(t,["encodedVideo"],eo(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["encoding"],i),t}function Uv(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["gcsUri"],n);const o=c(e,["videoBytes"]);o!=null&&f(t,["bytesBase64Encoded"],eo(o));const i=c(e,["mimeType"]);return i!=null&&f(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bk(e,t){const n={},o=c(e,["displayName"]);return t!==void 0&&o!=null&&f(t,["displayName"],o),n}function zk(e){const t={},n=c(e,["config"]);return n!=null&&Bk(n,t),t}function Ok(e,t){const n={},o=c(e,["force"]);return t!==void 0&&o!=null&&f(t,["_query","force"],o),n}function Hk(e){const t={},n=c(e,["name"]);n!=null&&f(t,["_url","name"],n);const o=c(e,["config"]);return o!=null&&Ok(o,t),t}function $k(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","name"],n),t}function qk(e,t){const n={},o=c(e,["customMetadata"]);if(t!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["customMetadata"],r)}const i=c(e,["chunkingConfig"]);return t!==void 0&&i!=null&&f(t,["chunkingConfig"],i),n}function jk(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const i=c(e,["done"]);i!=null&&f(t,["done"],i);const r=c(e,["error"]);r!=null&&f(t,["error"],r);const s=c(e,["response"]);return s!=null&&f(t,["response"],Wk(s)),t}function Jk(e){const t={},n=c(e,["fileSearchStoreName"]);n!=null&&f(t,["_url","file_search_store_name"],n);const o=c(e,["fileName"]);o!=null&&f(t,["fileName"],o);const i=c(e,["config"]);return i!=null&&qk(i,t),t}function Wk(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["parent"]);o!=null&&f(t,["parent"],o);const i=c(e,["documentName"]);return i!=null&&f(t,["documentName"],i),t}function Kk(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function Yk(e){const t={},n=c(e,["config"]);return n!=null&&Kk(n,t),t}function Xk(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["fileSearchStores"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["fileSearchStores"],r)}return t}function Vv(e,t){const n={},o=c(e,["mimeType"]);t!==void 0&&o!=null&&f(t,["mimeType"],o);const i=c(e,["displayName"]);t!==void 0&&i!=null&&f(t,["displayName"],i);const r=c(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),f(t,["customMetadata"],a)}const s=c(e,["chunkingConfig"]);return t!==void 0&&s!=null&&f(t,["chunkingConfig"],s),n}function Qk(e){const t={},n=c(e,["fileSearchStoreName"]);n!=null&&f(t,["_url","file_search_store_name"],n);const o=c(e,["config"]);return o!=null&&Vv(o,t),t}function Zk(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e_="Content-Type",t_="X-Server-Timeout",n_="User-Agent",Xu="x-goog-api-client",o_="1.34.0",i_=`google-genai-sdk/${o_}`,r_="v1beta1",s_="v1beta";class l_{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:r_,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:s_,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const i=[this.getRequestUrlInternal(n)];return o&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[s,a]of Object.entries(t.queryParams))i.searchParams.append(s,String(a));let r={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=t.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),t.abortSignal),this.unaryApiCall(i,r,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[i,r]of Object.entries(n))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=t.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),t.abortSignal),this.streamApiCall(i,r,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,i){if(n&&n.timeout||i){const r=new AbortController,s=r.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>r.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),t.signal=s}return n&&n.extraBody!==null&&a_(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await gm(i),new ju(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await gm(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Zt(this,arguments,function*(){var o;const i=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield ie(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=r.decode(d,{stream:!0});try{const v=JSON.parse(h);if("error"in v){const T=JSON.parse(JSON.stringify(v.error)),w=T.status,S=T.code,y=`got status: ${w}. ${JSON.stringify(v)}`;if(S>=400&&S<600)throw new zl({message:y,status:S})}}catch(v){if(v.name==="ApiError")throw v}s+=h;let p=-1,g=0;for(;;){p=-1,g=0;for(const w of l){const S=s.indexOf(w);S!==-1&&(p===-1||S<p)&&(p=S,g=w.length)}if(p===-1)break;const v=s.substring(0,p);s=s.substring(p+g);const T=v.trim();if(T.startsWith(a)){const w=T.substring(a.length).trim();try{const S=new Response(w,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ie(new ju(S))}catch(S){throw new Error(`exception parsing stream chunk ${w}. ${S}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=i_+" "+this.clientOptions.userAgentExtra;return t[n_]=n,t[Xu]=n,t[e_]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[i,r]of Object.entries(t.headers))o.append(i,r);t.timeout&&t.timeout>0&&o.append(t_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,s=await r.stat(t);i.sizeBytes=String(s.size);const a=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(t),d=G("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return r.upload(t,h,this)}async uploadFileToFileSearchStore(t,n,o){var i;const r=this.clientOptions.uploader,s=await r.stat(n),a=String(s.size),l=(i=o==null?void 0:o.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),h={};o!=null&&Vv(o,h);const p=await this.fetchUploadUrl(u,a,l,d,h,o==null?void 0:o.httpOptions);return r.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,i,r,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(r),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function gm(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(o);throw n>=400&&n<600?new zl({message:i,status:n}):new Error(i)}}function a_(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const r=JSON.parse(e.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(r,s){const a=Object.assign({},r);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],d=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?a[l]=o(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=o(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u_="mcp_used/unknown";let c_=!1;function Gv(e){for(const t of e)if(d_(t)||typeof t=="object"&&"inputSchema"in t)return!0;return c_}function Bv(e){var t;const n=(t=e[Xu])!==null&&t!==void 0?t:"";e[Xu]=(n+` ${u_}`).trimStart()}function d_(e){return e!==null&&typeof e=="object"&&e instanceof Bd}function f_(e){return Zt(this,arguments,function*(n,o=100){let i,r=0;for(;r<o;){const s=yield ie(n.listTools({cursor:i}));for(const a of s.tools)yield yield ie(a),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class Bd{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Bd(t,n)}async initialize(){var t,n,o,i;if(this.mcpTools.length>0)return;const r={},s=[];for(const d of this.mcpClients)try{for(var a=!0,l=(n=void 0,en(f_(d))),u;u=await l.next(),t=u.done,!t;a=!0){i=u.value,a=!1;const h=i;s.push(h);const p=h.name;if(r[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);r[p]=d}}catch(h){n={error:h}}finally{try{!a&&!t&&(o=l.return)&&await o.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),$E(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const s=await i.callTool({name:o.name,arguments:o.args},void 0,r);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function p_(e,t,n){const o=new FE;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(o,i),t(o)}class h_{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),s=y_(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const d=new Promise(x=>{u=x}),h=t.callbacks,p=function(){u({})},g=this.apiClient,v={onopen:p,onmessage:x=>{p_(g,h.onmessage,x)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(x){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(x){}},T=this.webSocketFactory.create(l,g_(s),v);T.connect(),await d;const y={setup:{model:pe(this.apiClient,t.model)}};return T.send(JSON.stringify(y)),new m_(T,this.apiClient)}}class m_{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=zN(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=BN(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Wo.PLAY)}pause(){this.sendPlaybackControl(Wo.PAUSE)}stop(){this.sendPlaybackControl(Wo.STOP)}resetContext(){this.sendPlaybackControl(Wo.RESET_CONTEXT)}close(){this.conn.close()}}function g_(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function y_(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function x_(e,t,n){const o=new LE;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const r=JSON.parse(i);if(e.isVertexAI()){const s=$N(r);Object.assign(o,s)}else Object.assign(o,r);t(o)}class S_{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new h_(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,i,r,s,a;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&Gv(t.config.tools)&&Bv(h);const p=C_(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d);else{const b=this.apiClient.getApiKey();let M="BidiGenerateContent",L="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",L="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${M}?${L}=${b}`}let g=()=>{};const v=new Promise(b=>{g=b}),T=t.callbacks,w=function(){var b;(b=T==null?void 0:T.onopen)===null||b===void 0||b.call(T),g({})},S=this.apiClient,y={onopen:w,onmessage:b=>{x_(S,T.onmessage,b)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(b){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(b){}},x=this.webSocketFactory.create(d,E_(p),y);x.connect(),await v;let E=pe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const b=this.apiClient.getProject(),M=this.apiClient.getLocation();E=`projects/${b}/locations/${M}/`+E}let I={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ul.AUDIO]}:t.config.responseModalities=[ul.AUDIO]),!((r=t.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(a=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],k=[];for(const b of C)if(this.isCallableTool(b)){const M=b;k.push(await M.tool())}else k.push(b);k.length>0&&(t.config.tools=k);const _={model:E,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?I=GN(this.apiClient,_):I=VN(this.apiClient,_),delete I.config,x.send(JSON.stringify(I)),new w_(x,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const T_={turnComplete:!0};class w_{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Lt(n.turns),t.isVertexAI()||(o=o.map(i=>Ol(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!t.isVertexAI()&&!("id"in r))throw new Error(v_)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},T_),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:HN(t)}:n={realtimeInput:ON(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function E_(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function C_(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ym=10;function vm(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(ui(s)){i=!0;break}if(!i)return!0;const r=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function ui(e){return"callTool"in e&&typeof e.callTool=="function"}function N_(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>ui(i)))!==null&&o!==void 0?o:!1}function xm(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,i)=>{if(ui(o))return;const r=o;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(i)}),n}function Sm(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I_ extends In{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,i,r,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!N_(n)||vm(n.config))return await this.generateContentInternal(l);const u=xm(n);if(u.length>0){const T=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let d,h;const p=Lt(l.contents),g=(r=(i=(o=l.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:ym;let v=0;for(;v<g&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const T=d.candidates[0].content,w=[];for(const S of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(ui(S)){const x=await S.callTool(d.functionCalls);w.push(...x)}v++,h={role:"user",parts:w},l.contents=Lt(l.contents),l.contents.push(T),l.contents.push(h),Sm(l.config)&&(p.push(T),p.push(h))}return Sm(l.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{var o,i,r,s,a;if(this.maybeMoveToResponseJsonSchem(n),vm(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const l=xm(n);if(l.length>0){const h=l.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(r=(i=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||r===void 0?void 0:r.streamFunctionCallArguments,d=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var i;let r;const s=[];if(o!=null&&o.generatedImages)for(const l of o.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=l==null?void 0:l.safetyAttributes:s.push(l);let a;return r?a={generatedImages:s,positivePromptSafetyAttributes:r,sdkHttpResponse:o.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},a}),this.list=async n=>{var o;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Po(wn.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var o,i,r,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(r=n.source)===null||r===void 0?void 0:r.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,i;const r=(n=t.config)===null||n===void 0?void 0:n.tools;if(!r)return t;const s=await Promise.all(r.map(async l=>ui(l)?await l.tool():l)),a={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(a.config.tools=s,t.config&&t.config.tools&&Gv(t.config.tools)){const l=(i=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Bv(u),a.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(t){var n,o,i;const r=new Map;for(const s of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(ui(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(r.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);r.set(u.name,a)}}return r}async processAfcStream(t){var n,o,i;const r=(i=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:ym;let s=!1,a=0;const l=await this.initAfcToolsMap(t);return function(u,d,h){return Zt(this,arguments,function*(){for(var p,g,v,T,w,S;a<r;){s&&(a++,s=!1);const I=yield ie(u.processParamsMaybeAddMcpUsage(h)),C=yield ie(u.generateContentStreamInternal(I)),k=[],_=[];try{for(var y=!0,x=(g=void 0,en(C)),E;E=yield ie(x.next()),p=E.done,!p;y=!0){T=E.value,y=!1;const b=T;if(yield yield ie(b),b.candidates&&(!((w=b.candidates[0])===null||w===void 0)&&w.content)){_.push(b.candidates[0].content);for(const M of(S=b.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(a<r&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(M.functionCall.name)){const L=yield ie(d.get(M.functionCall.name).callTool([M.functionCall]));k.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(b){g={error:b}}finally{try{!y&&!p&&(v=x.return)&&(yield ie(v.call(x)))}finally{if(g)throw g.error}}if(k.length>0){s=!0;const b=new Bi;b.candidates=[{content:{role:"user",parts:k}}],yield yield ie(b);const M=[];M.push(..._),M.push({role:"user",parts:k});const L=Lt(h.contents).concat(M);h.contents=L}else break}})}(this,l,t)}async generateContentInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pm(this.apiClient,t);return a=G("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=mm(d),p=new Bi;return Object.assign(p,h),p})}else{const u=fm(this.apiClient,t);return a=G("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=hm(d),p=new Bi;return Object.assign(p,h),p})}}async generateContentStreamInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pm(this.apiClient,t);return a=G("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(h){return Zt(this,arguments,function*(){var p,g,v,T;try{for(var w=!0,S=en(h),y;y=yield ie(S.next()),p=y.done,!p;w=!0){T=y.value,w=!1;const x=T,E=mm(yield ie(x.json()));E.sdkHttpResponse={headers:x.headers};const I=new Bi;Object.assign(I,E),yield yield ie(I)}}catch(x){g={error:x}}finally{try{!w&&!p&&(v=S.return)&&(yield ie(v.call(S)))}finally{if(g)throw g.error}}})})}else{const u=fm(this.apiClient,t);return a=G("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(h){return Zt(this,arguments,function*(){var p,g,v,T;try{for(var w=!0,S=en(h),y;y=yield ie(S.next()),p=y.done,!p;w=!0){T=y.value,w=!1;const x=T,E=hm(yield ie(x.json()));E.sdkHttpResponse={headers:x.headers};const I=new Bi;Object.assign(I,E),yield yield ie(I)}}catch(x){g={error:x}}finally{try{!w&&!p&&(v=S.return)&&(yield ie(v.call(S)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=SI(this.apiClient,t);return a=G("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=wI(d),p=new Kh;return Object.assign(p,h),p})}else{const u=xI(this.apiClient,t);return a=G("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=TI(d),p=new Kh;return Object.assign(p,h),p})}}async generateImagesInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=MI(this.apiClient,t);return a=G("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=LI(d),p=new Yh;return Object.assign(p,h),p})}else{const u=RI(this.apiClient,t);return a=G("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=DI(d),p=new Yh;return Object.assign(p,h),p})}}async editImageInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=mI(this.apiClient,t);return r=G("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=gI(l),d=new CE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=Mk(this.apiClient,t);return r=G("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Dk(l),d=new NE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=hk(this.apiClient,t);return r=G("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=mk(l),d=new IE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=Tk(this.apiClient,t);return r=G("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=wk(l),d=new kE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=QI(this.apiClient,t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Yu(d))}else{const u=XI(this.apiClient,t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>Ku(d))}}async listInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=lk(this.apiClient,t);return a=G("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=uk(d),p=new Xh;return Object.assign(p,h),p})}else{const u=sk(this.apiClient,t);return a=G("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=ak(d),p=new Xh;return Object.assign(p,h),p})}}async update(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Pk(this.apiClient,t);return a=G("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Yu(d))}else{const u=bk(this.apiClient,t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>Ku(d))}}async delete(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=dI(this.apiClient,t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=pI(d),p=new Qh;return Object.assign(p,h),p})}else{const u=cI(this.apiClient,t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=fI(d),p=new Qh;return Object.assign(p,h),p})}}async countTokens(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=lI(this.apiClient,t);return a=G("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=uI(d),p=new Zh;return Object.assign(p,h),p})}else{const u=sI(this.apiClient,t);return a=G("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=aI(d),p=new Zh;return Object.assign(p,h),p})}}async computeTokens(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=ZN(this.apiClient,t);return r=G("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=eI(l),d=new _E;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=zI(this.apiClient,t);return a=G("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const h=GI(d),p=new cl;return Object.assign(p,h),p})}else{const u=BI(this.apiClient,t);return a=G("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const h=VI(d),p=new cl;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k_ extends In{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=vE(t);return a=G("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s}else{const u=yE(t);return a=G("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=cE(t);return r=G("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function __(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function A_(e){const t={},n=c(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>V_(r))),f(t,["parts"],i)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function b_(e,t,n){const o={},i=c(t,["expireTime"]);n!==void 0&&i!=null&&f(n,["expireTime"],i);const r=c(t,["newSessionExpireTime"]);n!==void 0&&r!=null&&f(n,["newSessionExpireTime"],r);const s=c(t,["uses"]);n!==void 0&&s!=null&&f(n,["uses"],s);const a=c(t,["liveConnectConstraints"]);n!==void 0&&a!=null&&f(n,["bidiGenerateContentSetup"],U_(e,a));const l=c(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&f(n,["fieldMask"],l),o}function P_(e,t){const n={},o=c(t,["config"]);return o!=null&&f(n,["config"],b_(e,o,n)),n}function R_(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function M_(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const i=c(e,["name"]);if(i!=null&&f(t,["name"],i),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function D_(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function L_(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function F_(e,t){const n={},o=c(e,["generationConfig"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig"],o);const i=c(e,["responseModalities"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","responseModalities"],i);const r=c(e,["temperature"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","temperature"],r);const s=c(e,["topP"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topP"],s);const a=c(e,["topK"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","topK"],a);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const h=c(e,["speechConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","speechConfig"],Gd(h));const p=c(e,["thinkingConfig"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","thinkingConfig"],p);const g=c(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=c(e,["systemInstruction"]);t!==void 0&&v!=null&&f(t,["setup","systemInstruction"],A_(nt(v)));const T=c(e,["tools"]);if(t!==void 0&&T!=null){let C=Ni(T);Array.isArray(C)&&(C=C.map(k=>B_(Ci(k)))),f(t,["setup","tools"],C)}const w=c(e,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],G_(w));const S=c(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&f(t,["setup","inputAudioTranscription"],S);const y=c(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&f(t,["setup","outputAudioTranscription"],y);const x=c(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&f(t,["setup","realtimeInputConfig"],x);const E=c(e,["contextWindowCompression"]);t!==void 0&&E!=null&&f(t,["setup","contextWindowCompression"],E);const I=c(e,["proactivity"]);if(t!==void 0&&I!=null&&f(t,["setup","proactivity"],I),c(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function U_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["setup","model"],pe(e,o));const i=c(t,["config"]);return i!=null&&f(n,["config"],F_(i,n)),n}function V_(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const i=c(e,["executableCode"]);i!=null&&f(t,["executableCode"],i);const r=c(e,["fileData"]);r!=null&&f(t,["fileData"],R_(r));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],M_(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],__(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const p=c(e,["videoMetadata"]);return p!=null&&f(t,["videoMetadata"],p),t}function G_(e){const t={},n=c(e,["handle"]);if(n!=null&&f(t,["handle"],n),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function B_(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const i=c(e,["computerUse"]);i!=null&&f(t,["computerUse"],i);const r=c(e,["fileSearch"]);r!=null&&f(t,["fileSearch"],r);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],D_(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],L_(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${n}.${r}`);t.push(...i)}else t.push(n)}return t.join(",")}function O_(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(e.bidiGenerateContentSetup=r,n=r):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const r=z_(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)r?e.fieldMask=r:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];r&&l.push(r),a.length>0&&l.push(...a),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class H_ extends In{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=P_(this.apiClient,t);r=G("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=O_(a,t.config);return i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $_(e,t){const n={},o=c(e,["force"]);return t!==void 0&&o!=null&&f(t,["_query","force"],o),n}function q_(e){const t={},n=c(e,["name"]);n!=null&&f(t,["_url","name"],n);const o=c(e,["config"]);return o!=null&&$_(o,t),t}function j_(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","name"],n),t}function J_(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const i=c(e,["pageToken"]);return t!==void 0&&i!=null&&f(t,["_query","pageToken"],i),n}function W_(e){const t={},n=c(e,["parent"]);n!=null&&f(t,["_url","parent"],n);const o=c(e,["config"]);return o!=null&&J_(o,t),t}function K_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const i=c(e,["documents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),f(t,["documents"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y_ extends In{constructor(t){super(),this.apiClient=t,this.list=async n=>new Po(wn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=j_(t);return r=G("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=q_(t);i=G("{name}",s._url),r=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=W_(t);return r=G("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=K_(l),d=new AE;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X_ extends In{constructor(t,n=new Y_(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new Po(wn.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zk(t);return r=G("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$k(t);return r=G("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Hk(t);i=G("{name}",s._url),r=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Yk(t);return r=G("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Xk(l),d=new bE;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Qk(t);return r=G("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Zk(l),d=new PE;return Object.assign(d,u),d})}}async importFile(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Jk(t);return r=G("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),i.then(l=>{const u=jk(l),d=new Dd;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let zv=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return zv=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const Q_=()=>zv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Zu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gt extends Error{}class ct extends Gt{constructor(t,n,o,i){super(`${ct.makeMessage(t,n,o)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,o){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,o,i){if(!t||!i)return new ql({message:o,cause:Zu(n)});const r=n;return t===400?new Hv(t,r,o,i):t===401?new $v(t,r,o,i):t===403?new qv(t,r,o,i):t===404?new jv(t,r,o,i):t===409?new Jv(t,r,o,i):t===422?new Wv(t,r,o,i):t===429?new Kv(t,r,o,i):t>=500?new Yv(t,r,o,i):new ct(t,r,o,i)}}class ec extends ct{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ql extends ct{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Ov extends ql{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Hv extends ct{}class $v extends ct{}class qv extends ct{}class jv extends ct{}class Jv extends ct{}class Wv extends ct{}class Kv extends ct{}class Yv extends ct{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z_=/^[a-z][a-z0-9+.-]*:/i,eA=e=>Z_.test(e);let tc=e=>(tc=Array.isArray,tc(e));const tA=tc;let nA=tA;const Tm=nA;function oA(e){if(!e)return!0;for(const t in e)return!1;return!0}function iA(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const rA=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Gt(`${e} must be an integer`);if(t<0)throw new Gt(`${e} must be a positive integer`);return t},sA=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lA=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const uA=()=>{var e,t,n,o,i;const r=aA();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Lo,"X-Stainless-OS":Em(Deno.build.os),"X-Stainless-Arch":wm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Lo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Lo,"X-Stainless-OS":Em((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":wm((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=cA();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Lo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Lo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function cA(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const o=n.exec(navigator.userAgent);if(o){const i=o[1]||0,r=o[2]||0,s=o[3]||0;return{browser:t,version:`${i}.${r}.${s}`}}}return null}const wm=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Em=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let ss;const dA=()=>ss??(ss=uA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Xv(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function pA(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Xv({start(){},async pull(n){const{done:o,value:i}=await t.next();o?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Qv(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function hA(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const o=e.getReader(),i=o.cancel();o.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mA=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zv=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ra(e,t,n){return Zv(),new File(e,t??"unknown_file",n)}function gA(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const yA=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ex=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",vA=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&ex(e),xA=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function SA(e,t,n){if(Zv(),e=await e,vA(e))return e instanceof File?e:Ra([await e.arrayBuffer()],e.name);if(xA(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Ra(await nc(i),t,n)}const o=await nc(e);if(t||(t=gA(e)),!(n!=null&&n.type)){const i=o.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Ra(o,t,n)}async function nc(e){var t,n,o,i,r;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(ex(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(yA(e))try{for(var a=!0,l=en(e),u;u=await l.next(),t=u.done,!t;a=!0){i=u.value,a=!1;const d=i;s.push(...await nc(d))}}catch(d){n={error:d}}finally{try{!a&&!t&&(o=l.return)&&await o.call(l)}finally{if(n)throw n.error}}else{const d=(r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${TA(e)}`)}return s}function TA(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tx{constructor(t){this._client=t}}tx._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nx(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Cm=Object.freeze(Object.create(null)),wA=(e=nx)=>function(n,...o){if(n.length===1)return n[0];let i=!1;const r=[],s=n.reduce((d,h,p)=>{var g,v,T;/[?#]/.test(h)&&(i=!0);const w=o[p];let S=(i?encodeURIComponent:e)(""+w);return p!==o.length&&(w==null||typeof w=="object"&&w.toString===((T=Object.getPrototypeOf((v=Object.getPrototypeOf((g=w.hasOwnProperty)!==null&&g!==void 0?g:Cm))!==null&&v!==void 0?v:Cm))===null||T===void 0?void 0:T.toString))&&(S=w+"",r.push({start:d.length+h.length,length:S.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),d+h+(p===o.length?"":S)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)r.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(r.sort((d,h)=>d.start-h.start),r.length>0){let d=0;const h=r.reduce((p,g)=>{const v=" ".repeat(g.start-d),T="^".repeat(g.length);return d=g.start+g.length,p+v+T},"");throw new Gt(`Path parameters result in path with invalid segments:
${r.map(p=>p.error).join(`
`)}
${s}
${h}`)}return s},ls=wA(nx);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ox extends tx{create(t,n){var o;const{api_version:i=this._client.apiVersion}=t,r=fl(t,["api_version"]);if("model"in r&&"agent_config"in r)throw new Gt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new Gt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ls`/${i}/interactions`,Object.assign(Object.assign({body:r},n),{stream:(o=t.stream)!==null&&o!==void 0?o:!1}))}delete(t,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ls`/${i}/interactions/${t}`,o)}cancel(t,n={},o){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ls`/${i}/interactions/${t}/cancel`,o)}get(t,n={},o){var i;const r=n??{},{api_version:s=this._client.apiVersion}=r,a=fl(r,["api_version"]);return this._client.get(ls`/${s}/interactions/${t}`,Object.assign(Object.assign({query:a},o),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}ox._key=Object.freeze(["interactions"]);class ix extends ox{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EA(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let o=0;for(const i of e)n.set(i,o),o+=i.length;return n}let as;function zd(e){let t;return(as??(t=new globalThis.TextEncoder,as=t.encode.bind(t)))(e)}let us;function Nm(e){let t;return(us??(t=new globalThis.TextDecoder,us=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?zd(t):t;this.buffer=EA([this.buffer,n]);const o=[];let i;for(;(i=CA(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){o.push(Nm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=Nm(this.buffer.subarray(0,r));o.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}jl.NEWLINE_CHARS=new Set([`
`,"\r"]);jl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function CA(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function NA(e){for(let o=0;o<e.length-1;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pl={off:0,error:200,warn:300,info:400,debug:500},Im=(e,t,n)=>{if(e){if(iA(pl,e))return e;rt(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(pl))}`)}};function Ji(){}function cs(e,t,n){return!t||pl[e]>pl[n]?Ji:t[e].bind(t)}const IA={error:Ji,warn:Ji,info:Ji,debug:Ji};let km=new WeakMap;function rt(e){var t;const n=e.logger,o=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return IA;const i=km.get(n);if(i&&i[0]===o)return i[1];const r={error:cs("error",n,o),warn:cs("warn",n,o),info:cs("info",n,o),debug:cs("debug",n,o)};return km.set(n,[o,r]),r}const lo=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ko{constructor(t,n,o){this.iterator=t,this.controller=n,this.client=o}static fromSSEResponse(t,n,o){let i=!1;const r=o?rt(o):console;function s(){return Zt(this,arguments,function*(){var l,u,d,h;if(i)throw new Gt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var g=!0,v=en(kA(t,n)),T;T=yield ie(v.next()),l=T.done,!l;g=!0){h=T.value,g=!1;const w=h;if(!p)if(w.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield ie(JSON.parse(w.data))}catch(S){throw r.error("Could not parse message into JSON:",w.data),r.error("From chunk:",w.raw),S}}}catch(w){u={error:w}}finally{try{!g&&!l&&(d=v.return)&&(yield ie(d.call(v)))}finally{if(u)throw u.error}}p=!0}catch(w){if(Qu(w))return yield ie(void 0);throw w}finally{p||n.abort()}})}return new Ko(s,n,o)}static fromReadableStream(t,n,o){let i=!1;function r(){return Zt(this,arguments,function*(){var l,u,d,h;const p=new jl,g=Qv(t);try{for(var v=!0,T=en(g),w;w=yield ie(T.next()),l=w.done,!l;v=!0){h=w.value,v=!1;const S=h;for(const y of p.decode(S))yield yield ie(y)}}catch(S){u={error:S}}finally{try{!v&&!l&&(d=T.return)&&(yield ie(d.call(T)))}finally{if(u)throw u.error}}for(const S of p.flush())yield yield ie(S)})}function s(){return Zt(this,arguments,function*(){var l,u,d,h;if(i)throw new Gt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var g=!0,v=en(r()),T;T=yield ie(v.next()),l=T.done,!l;g=!0){h=T.value,g=!1;const w=h;p||w&&(yield yield ie(JSON.parse(w)))}}catch(w){u={error:w}}finally{try{!g&&!l&&(d=v.return)&&(yield ie(d.call(v)))}finally{if(u)throw u.error}}p=!0}catch(w){if(Qu(w))return yield ie(void 0);throw w}finally{p||n.abort()}})}return new Ko(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],o=this.iterator(),i=r=>({next:()=>{if(r.length===0){const s=o.next();t.push(s),n.push(s)}return r.shift()}});return[new Ko(()=>i(t),this.controller,this.client),new Ko(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Xv({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{const{value:i,done:r}=await n.next();if(r)return o.close();const s=zd(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function kA(e,t){return Zt(this,arguments,function*(){var o,i,r,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Gt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Gt("Attempted to iterate over a response with no body");const a=new AA,l=new jl,u=Qv(e.body);try{for(var d=!0,h=en(_A(u)),p;p=yield ie(h.next()),o=p.done,!o;d=!0){s=p.value,d=!1;const g=s;for(const v of l.decode(g)){const T=a.decode(v);T&&(yield yield ie(T))}}}catch(g){i={error:g}}finally{try{!d&&!o&&(r=h.return)&&(yield ie(r.call(h)))}finally{if(i)throw i.error}}for(const g of l.flush()){const v=a.decode(g);v&&(yield yield ie(v))}})}function _A(e){return Zt(this,arguments,function*(){var n,o,i,r;let s=new Uint8Array;try{for(var a=!0,l=en(e),u;u=yield ie(l.next()),n=u.done,!n;a=!0){r=u.value,a=!1;const d=r;if(d==null)continue;const h=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?zd(d):d;let p=new Uint8Array(s.length+h.length);p.set(s),p.set(h,s.length),s=p;let g;for(;(g=NA(s))!==-1;)yield yield ie(s.slice(0,g)),s=s.slice(g)}}catch(d){o={error:d}}finally{try{!a&&!n&&(i=l.return)&&(yield ie(i.call(l)))}finally{if(o)throw o.error}}s.length>0&&(yield yield ie(s))})}class AA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,o,i]=bA(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function bA(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PA(e,t){const{response:n,requestLogID:o,retryOfRequestLogID:i,startTime:r}=t,s=await(async()=>{var a;if(t.options.stream)return rt(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ko.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return rt(e).debug(`[${o}] response parsed`,lo({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-r})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Od extends Promise{constructor(t,n,o=PA){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=o,this.client=t}_thenUnwrap(t){return new Od(this.client,this.responsePromise,async(n,o)=>t(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rx=Symbol("brand.privateNullableHeaders");function*RA(e){if(!e)return;if(rx in e){const{values:o,nulls:i}=e;yield*o.entries();for(const r of i)yield[r,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Tm(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let o of n){const i=o[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const r=Tm(o[1])?o[1]:[o[1]];let s=!1;for(const a of r)a!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const zi=e=>{const t=new Headers,n=new Set;for(const o of e){const i=new Set;for(const[r,s]of RA(o)){const a=r.toLowerCase();i.has(a)||(t.delete(r),i.add(a)),s===null?(t.delete(r),n.add(a)):(t.append(r,s),n.delete(a))}}return{[rx]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ma=e=>{var t,n,o,i,r,s;if(typeof globalThis.process<"u")return(o=(n=(t=iE)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(r=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||r===void 0?void 0:r.call(i,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sx;class Jl{constructor(t){var n,o,i,r,s,a,l,{baseURL:u=Ma("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=Ma("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:h="v1beta"}=t,p=fl(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:d,apiVersion:h},p),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(o=g.timeout)!==null&&o!==void 0?o:Jl.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(r=Im(g.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:Im(Ma("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=g.fetchOptions,this.maxRetries=(a=g.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:fA(),this.encoder=mA,this._options=g,this.apiKey=d,this.apiVersion=h,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=zi([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return zi([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return zi([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new Gt(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Lo}`}defaultIdempotencyKey(){return`stainless-node-retry-${Q_()}`}makeStatusError(t,n,o,i){return ct.generate(t,n,o,i)}buildURL(t,n,o){const i=!this.baseURLOverridden()&&o||this.baseURL,r=eA(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return oA(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:o}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,o){return this.request(Promise.resolve(o).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Od(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,o){var i,r,s;const a=await t,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:d,timeout:h}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:d,options:a});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=o===void 0?"":`, retryOf: ${o}`,v=Date.now();if(rt(this).debug(`[${p}] sending request`,lo({retryOfRequestLogID:o,method:a.method,url:d,options:a,headers:u.headers})),!((r=a.signal)===null||r===void 0)&&r.aborted)throw new ec;const T=new AbortController,w=await this.fetchWithTimeout(d,u,h,T).catch(Zu),S=Date.now();if(w instanceof globalThis.Error){const x=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new ec;const E=Qu(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return rt(this).info(`[${p}] connection ${E?"timed out":"failed"} - ${x}`),rt(this).debug(`[${p}] connection ${E?"timed out":"failed"} (${x})`,lo({retryOfRequestLogID:o,url:d,durationMs:S-v,message:w.message})),this.retryRequest(a,n,o??p);throw rt(this).info(`[${p}] connection ${E?"timed out":"failed"} - error; no more retries left`),rt(this).debug(`[${p}] connection ${E?"timed out":"failed"} (error; no more retries left)`,lo({retryOfRequestLogID:o,url:d,durationMs:S-v,message:w.message})),E?new Ov:new ql({cause:w})}const y=`[${p}${g}] ${u.method} ${d} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${S-v}ms`;if(!w.ok){const x=await this.shouldRetry(w);if(n&&x){const b=`retrying, ${n} attempts remaining`;return await hA(w.body),rt(this).info(`${y} - ${b}`),rt(this).debug(`[${p}] response error (${b})`,lo({retryOfRequestLogID:o,url:w.url,status:w.status,headers:w.headers,durationMs:S-v})),this.retryRequest(a,n,o??p,w.headers)}const E=x?"error; no more retries left":"error; not retryable";rt(this).info(`${y} - ${E}`);const I=await w.text().catch(b=>Zu(b).message),C=sA(I),k=C?void 0:I;throw rt(this).debug(`[${p}] response error (${E})`,lo({retryOfRequestLogID:o,url:w.url,status:w.status,headers:w.headers,message:k,durationMs:Date.now()-v})),this.makeStatusError(w.status,C,k,w.headers)}return rt(this).info(y),rt(this).debug(`[${p}] response start`,lo({retryOfRequestLogID:o,url:w.url,status:w.status,headers:w.headers,durationMs:S-v})),{response:w,options:a,controller:T,requestLogID:p,retryOfRequestLogID:o,startTime:v}}async fetchWithTimeout(t,n,o,i){const r=n||{},{signal:s,method:a}=r,l=fl(r,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),o),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(u)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,o,i){var r;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(r=t.maxRetries)!==null&&r!==void 0?r:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await lA(s),this.makeRequest(t,n-1,o)}calculateDefaultRetryTimeoutMillis(t,n){const r=n-t,s=Math.min(.5*Math.pow(2,r),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(t,{retryCount:n=0}={}){var o,i,r;const s=Object.assign({},t),{method:a,path:l,query:u,defaultBaseURL:d}=s,h=this.buildURL(l,u,d);"timeout"in s&&rA("timeout",s.timeout),s.timeout=(o=s.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:g}=this.buildBody({options:s}),v=await this.buildHeaders({options:t,method:a,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(r=s.fetchOptions)!==null&&r!==void 0?r:{}),url:h,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:o,retryCount:i}){let r={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let a=zi([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),dA()),this._options.defaultHeaders,o,t.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const o=zi([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:pA(t)}:this.encoder({body:t,headers:o})}}Jl.DEFAULT_TIMEOUT=6e4;class Je extends Jl{constructor(){super(...arguments),this.interactions=new ix(this)}}sx=Je;Je.GeminiNextGenAPIClient=sx;Je.GeminiNextGenAPIClientError=Gt;Je.APIError=ct;Je.APIConnectionError=ql;Je.APIConnectionTimeoutError=Ov;Je.APIUserAbortError=ec;Je.NotFoundError=jv;Je.ConflictError=Jv;Je.RateLimitError=Kv;Je.BadRequestError=Hv;Je.AuthenticationError=$v;Je.InternalServerError=Yv;Je.PermissionDeniedError=qv;Je.UnprocessableEntityError=Wv;Je.toFile=SA;Je.Interactions=ix;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MA(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function DA(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function LA(e,t){const n={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function FA(e,t){const n={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function UA(e,t,n){const o={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=c(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&f(t,["displayName"],i),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=c(e,["epochCount"]);t!==void 0&&r!=null&&f(t,["tuningTask","hyperparameters","epochCount"],r);const s=c(e,["learningRateMultiplier"]);if(s!=null&&f(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=c(e,["batchSize"]);t!==void 0&&a!=null&&f(t,["tuningTask","hyperparameters","batchSize"],a);const l=c(e,["learningRate"]);if(t!==void 0&&l!=null&&f(t,["tuningTask","hyperparameters","learningRate"],l),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function VA(e,t,n){const o={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=c(e,["validationDataset"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec"],_m(g))}else if(i==="PREFERENCE_TUNING"){const g=c(e,["validationDataset"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec"],_m(g))}const r=c(e,["tunedModelDisplayName"]);t!==void 0&&r!=null&&f(t,["tunedModelDisplayName"],r);const s=c(e,["description"]);t!==void 0&&s!=null&&f(t,["description"],s);let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=c(e,["epochCount"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){const g=c(e,["epochCount"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=c(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=c(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=c(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=c(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=c(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=c(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=c(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=c(e,["adapterSize"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=c(e,["adapterSize"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=c(e,["labels"]);t!==void 0&&h!=null&&f(t,["labels"],h);const p=c(e,["beta"]);return t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function GA(e,t){const n={},o=c(e,["baseModel"]);o!=null&&f(n,["baseModel"],o);const i=c(e,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);const r=c(e,["trainingDataset"]);r!=null&&YA(r);const s=c(e,["config"]);return s!=null&&UA(s,n),n}function BA(e,t){const n={},o=c(e,["baseModel"]);o!=null&&f(n,["baseModel"],o);const i=c(e,["preTunedModel"]);i!=null&&f(n,["preTunedModel"],i);const r=c(e,["trainingDataset"]);r!=null&&XA(r,n,t);const s=c(e,["config"]);return s!=null&&VA(s,n,t),n}function zA(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function OA(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function HA(e,t,n){const o={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&f(t,["_query","pageSize"],i);const r=c(e,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const s=c(e,["filter"]);return t!==void 0&&s!=null&&f(t,["_query","filter"],s),o}function $A(e,t,n){const o={},i=c(e,["pageSize"]);t!==void 0&&i!=null&&f(t,["_query","pageSize"],i);const r=c(e,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const s=c(e,["filter"]);return t!==void 0&&s!=null&&f(t,["_query","filter"],s),o}function qA(e,t){const n={},o=c(e,["config"]);return o!=null&&HA(o,n),n}function jA(e,t){const n={},o=c(e,["config"]);return o!=null&&$A(o,n),n}function JA(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const i=c(e,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const r=c(e,["tunedModels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>lx(a))),f(n,["tuningJobs"],s)}return n}function WA(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const i=c(e,["nextPageToken"]);i!=null&&f(n,["nextPageToken"],i);const r=c(e,["tuningJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>oc(a))),f(n,["tuningJobs"],s)}return n}function KA(e,t){const n={},o=c(e,["name"]);o!=null&&f(n,["model"],o);const i=c(e,["name"]);return i!=null&&f(n,["endpoint"],i),n}function YA(e,t){const n={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=c(e,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),f(n,["examples","examples"],i)}return n}function XA(e,t,n){const o={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=c(e,["gcsUri"]);t!==void 0&&s!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=c(e,["gcsUri"]);t!==void 0&&s!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let r=c(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const s=c(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){const s=c(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function lx(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const i=c(e,["name"]);i!=null&&f(n,["name"],i);const r=c(e,["state"]);r!=null&&f(n,["state"],Ev(r));const s=c(e,["createTime"]);s!=null&&f(n,["createTime"],s);const a=c(e,["tuningTask","startTime"]);a!=null&&f(n,["startTime"],a);const l=c(e,["tuningTask","completeTime"]);l!=null&&f(n,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(e,["description"]);d!=null&&f(n,["description"],d);const h=c(e,["baseModel"]);h!=null&&f(n,["baseModel"],h);const p=c(e,["_self"]);return p!=null&&f(n,["tunedModel"],KA(p)),n}function oc(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const i=c(e,["name"]);i!=null&&f(n,["name"],i);const r=c(e,["state"]);r!=null&&f(n,["state"],Ev(r));const s=c(e,["createTime"]);s!=null&&f(n,["createTime"],s);const a=c(e,["startTime"]);a!=null&&f(n,["startTime"],a);const l=c(e,["endTime"]);l!=null&&f(n,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(e,["error"]);d!=null&&f(n,["error"],d);const h=c(e,["description"]);h!=null&&f(n,["description"],h);const p=c(e,["baseModel"]);p!=null&&f(n,["baseModel"],p);const g=c(e,["tunedModel"]);g!=null&&f(n,["tunedModel"],g);const v=c(e,["preTunedModel"]);v!=null&&f(n,["preTunedModel"],v);const T=c(e,["supervisedTuningSpec"]);T!=null&&f(n,["supervisedTuningSpec"],T);const w=c(e,["preferenceOptimizationSpec"]);w!=null&&f(n,["preferenceOptimizationSpec"],w);const S=c(e,["tuningDataStats"]);S!=null&&f(n,["tuningDataStats"],S);const y=c(e,["encryptionSpec"]);y!=null&&f(n,["encryptionSpec"],y);const x=c(e,["partnerModelTuningSpec"]);x!=null&&f(n,["partnerModelTuningSpec"],x);const E=c(e,["customBaseModel"]);E!=null&&f(n,["customBaseModel"],E);const I=c(e,["experiment"]);I!=null&&f(n,["experiment"],I);const C=c(e,["labels"]);C!=null&&f(n,["labels"],C);const k=c(e,["outputUri"]);k!=null&&f(n,["outputUri"],k);const _=c(e,["pipelineJob"]);_!=null&&f(n,["pipelineJob"],_);const b=c(e,["serviceAccount"]);b!=null&&f(n,["serviceAccount"],b);const M=c(e,["tunedModelDisplayName"]);M!=null&&f(n,["tunedModelDisplayName"],M);const L=c(e,["veoTuningSpec"]);return L!=null&&f(n,["veoTuningSpec"],L),n}function QA(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const i=c(e,["name"]);i!=null&&f(n,["name"],i);const r=c(e,["metadata"]);r!=null&&f(n,["metadata"],r);const s=c(e,["done"]);s!=null&&f(n,["done"],s);const a=c(e,["error"]);return a!=null&&f(n,["error"],a),n}function _m(e,t){const n={},o=c(e,["gcsUri"]);o!=null&&f(n,["validationDatasetUri"],o);const i=c(e,["vertexDatasetResource"]);return i!=null&&f(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZA extends In{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Po(wn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},n),{preTunedModel:i});return r.baseModel=void 0,await this.tuneInternal(r)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),r=await this.tuneMldevInternal(i);let s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:qu.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=OA(t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>oc(d))}else{const u=zA(t);return a=G("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>lx(d))}}async listInternal(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jA(t);return a=G("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=WA(d),p=new em;return Object.assign(p,h),p})}else{const u=qA(t);return a=G("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=JA(d),p=new em;return Object.assign(p,h),p})}}async cancel(t){var n,o,i,r;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=DA(t);return a=G("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=FA(d),p=new tm;return Object.assign(p,h),p})}else{const u=MA(t);return a=G("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{const h=LA(d),p=new tm;return Object.assign(p,h),p})}}async tuneInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI()){const a=BA(t,t);return r=G("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>oc(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let i,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=GA(t);return r=G("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>QA(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e2{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const t2=1024*1024*8,n2=3,o2=1e3,i2=2,hl="x-goog-upload-status";async function r2(e,t,n){var o;const i=await ax(e,t,n),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[hl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return r.file}async function s2(e,t,n){var o;const i=await ax(e,t,n),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[hl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=yv(r),a=new Ld;return Object.assign(a,s),a}async function ax(e,t,n){var o,i;let r=0,s=0,a=new ju(new Response),l="upload";for(r=e.size;s<r;){const u=Math.min(t2,r-s),d=e.slice(s,s+u);s+u>=r&&(l+=", finalize");let h=0,p=o2;for(;h<n2&&(a=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((o=a==null?void 0:a.headers)===null||o===void 0)&&o[hl]));)h++,await a2(p),p=p*i2;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[hl])!=="active")break;if(r<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function l2(e){return{size:e.size,type:e.type}}function a2(e){return new Promise(t=>setTimeout(t,e))}class u2{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await r2(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await s2(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await l2(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c2{create(t,n,o){return new d2(t,n,o)}}class d2{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Am="x-goog-api-key";class f2{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Am)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Am,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p2="gl-node/";class h2{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Je({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=aE(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new f2(this.apiKey);this.apiClient=new l_({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:p2+"web",uploader:new u2,downloader:new e2}),this.models=new I_(this.apiClient),this.live=new S_(this.apiClient,i,new c2),this.batches=new UC(this.apiClient),this.chats=new vN(this.models,this.apiClient),this.caches=new mN(this.apiClient),this.files=new _N(this.apiClient),this.operations=new k_(this.apiClient),this.authTokens=new H_(this.apiClient),this.tunings=new ZA(this.apiClient),this.fileSearchStores=new X_(this.apiClient)}}const ux={ESTJ:{type:"ESTJ",othersSee:"ESTJESTJESTJ",functions:"Te-Si-Ne-FiTi-Se-Ni-Fe",bestState:"ESTJ",growth:"",features:""},INTP:{type:"INTP",othersSee:"INTP",functions:"Ti-Ne-Si-FeTe-Ni-Se-Fi",bestState:"INTP",growth:"",features:""},ISFP:{type:"ISFP",othersSee:"ISFP",functions:"Fi-Se-Ni-Te, Fe-Si-Ne-Ti",bestState:"ISFP",growth:"",features:""},ENTP:{type:"ENTP",othersSee:"ENTP",functions:"Ne-Ti-Fe-SiNi-Te-Fi-Se",bestState:"",growth:"",features:""},ISTP:{type:"ISTP",othersSee:"ISTP",functions:"Ti-Se-Ni-Fe, Te-Si-Ne-Fi",bestState:"ISTP",growth:"",features:""},ENFJ:{type:"ENFJ",othersSee:"ENFJ",functions:"Fe-Ni-Se-TiFi-Ne-Si-Te",bestState:"ENFJ",growth:"",features:""},ENTJ:{type:"ENTJ",othersSee:"ENTJENTJ",functions:"Te-Ni-Se-FiTi-Ne-Si-Fe",bestState:"ENTJ",growth:"",features:""},ESTP:{type:"ESTP",othersSee:"ESTP",functions:"Se-Ti-Fe-NiSi-Te-Fi-Ne",bestState:"ESTP",growth:"",features:""},INFJ:{type:"INFJ",othersSee:"INFJ",functions:"Ni-Fe-Ti-Se, Ne-Fi-Te-Si",bestState:"",growth:"",features:""},ISTJ:{type:"ISTJ",othersSee:"ISTJ",functions:"Si-Te-Fi-NeSe-Ti-Fe-Ni",bestState:"ISTJ",growth:"",features:""},ENFP:{type:"ENFP",othersSee:"ENFPENFP",functions:"Ne-Fi-Te-SiNi-Fe-Ti-Se",bestState:"",growth:"",features:""},ESFP:{type:"ESFP",othersSee:"ESFP",functions:"Se-Fi-Te-NiSi-Fe-Ti-Ne",bestState:"",growth:"",features:""},INTJ:{type:"INTJ",othersSee:"INTJ",functions:"Ni-Te-Fi-Se, Ne-Ti-Fe-Si",bestState:"",growth:"",features:""},ESFJ:{type:"ESFJ",othersSee:"ESFJ",functions:"Fe-Si-Ne-TiFi-Se-Ni-Te",bestState:"",growth:"",features:""},INFP:{type:"INFP",othersSee:"INFP",functions:"Fi-Ne-Si-TeFe-Ni-Se-Ti",bestState:"",growth:"",features:""},ISFJ:{type:"ISFJ",othersSee:"ISFJ",functions:"Si-Fe-Ti-Ne, Se-Fi-Te-Ni",bestState:"",growth:"",features:""}},cx=[{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Te"},{title:"",description:"30",functionId:"Te"},{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Ti"},{title:"",description:"/",functionId:"Fe"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Fi"},{title:"",description:"",functionId:"Fi"},{title:"",description:"vs",functionId:"Fe"},{title:"",description:"",functionId:"Fi"},{title:"",description:"3",functionId:"Fi"},{title:"",description:"/",functionId:"Fi"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Fi"},{title:"",description:"103",functionId:"Se"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Se"},{title:"",description:"",functionId:"Se"},{title:"",description:"",functionId:"Fi"},{title:"",description:"",functionId:"Se"},{title:"",description:"",functionId:"Fi"},{title:"",description:"30",functionId:"Se"},{title:"",description:"10",functionId:"Se"},{title:"",description:"",functionId:"Se"},{title:"",description:"",functionId:"Se"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Si"},{title:"",description:"......",functionId:"Ne"},{title:"",description:"",functionId:"Ni"},{title:"",description:"",functionId:"Ni"},{title:"",description:"",functionId:"Ni"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Ni"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Ni"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Ni"}],m2=(e,t=4)=>[...cx.filter(i=>i.functionId===e)].sort(()=>Math.random()-.5).slice(0,t).map((i,r)=>({category:["standard","truth","dare","deep"][r%4],title:i.title,description:i.description,multiplier:[1,1.2,1.2,1.5][r%4],scoreType:["expression","insight","expression","trust"][r%4],durationSeconds:60})),bm={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ao=e=>bm&&bm[e]||"",lt={gemini:ao("VITE_GEMINI_KEY")||ao("VITE_API_KEY"),groq:ao("VITE_GROQ_KEY"),openRouter:ao("VITE_OPENROUTER_KEY"),zhipu:ao("VITE_ZHIPU_KEY"),deepseek:ao("VITE_DEEPSEEK_KEY")},ic={ENFJ:`
[] (Fe - Ni)
[] 
[] 
[ / ] Ti / Se(Ti)
[] 
`,ENFP:`
[] (Ne - Fi)
[] 
[] 
[ / ] Si / Te(Si)
[] 
`,ENTJ:`
[] (Te - Ni)
[] 
[] 
[ / ] Fi / Se(Fi)
[] 
`,ENTP:`
[] (Ne - Ti)
[] 
[] 
[ / ] Si / Fe(Si)
[] 
`,ESFJ:`
[] (Fe - Si)
[] 
[] 
[ / ] Ti / Ne(Ti)
[] 
`,ESFP:`
[] (Se - Fi)
[] 
[] 
[ / ] Ni / Te(Ni)
[] 
`,ESTJ:`
[] (Te - Si)
[] 
[] 
[ / ] Fi / Ne(Fi)
[] 
`,ESTP:`
[] (Se - Ti)
[] 
[] 
[ / ] Ni / Fe(Ni)
[] 
`,INFJ:`
[] (Ni - Fe)
[] 
[] 
[ / ] Se / Ti(Se)
[] 
`,INFP:`
[] (Fi - Ne)
[] 
[] 
[ / ] Te / Si(Te)
[] 
`,INTJ:`
[] (Ni - Te)
[] 
[] 
[ / ] Se / Fi(Se)
[] 
`,INTP:`
[] (Ti - Ne)
[] 
[] 
[ / ] Fe / Si(Fe)
[] 
`,ISFJ:`
[] (Si - Fe)
[] 
[] 
[ / ] Ne / Ti(Ne)
[] 
`,ISFP:`
[] (Fi - Se)
[] 
[] 
[ / ] Te / Ni(Te)
[] 
`,ISTJ:`
[] (Si - Te)
[] 
[] 
[ / ] Ne / Fi(Ne)
[] 
`,ISTP:`
[] (Ti - Se)
[] 
[] 
[ / ] Fe / Ni(Fe)
[] 
`},g2=`

- 
- 

1. 
2. 
3. 
`.trim(),y2=`
[]
 AI


`.trim(),v2=`
[]
 4 

[]
1. ** (The Iceberg Strategy)**
   - ""**" (Dare)"**""
   - ""**" (Standard)"**
2. ****
   - Fe
   - 

[]
- "standard" (): 
- "truth" (): 
- "dare" (): 
- "deep" (): 

[]
Strict JSON object. Simplified Chinese.
{
  "standard": { "title": "", "description": "", "scoreType": "trust"|"insight"|"expression", "durationSeconds": 60 },
  ... (truth, dare, deep)
}
`.trim(),x2=`
[]


[]
1. ****CP
2. ****
   -  ****
   -  ****
3. ****

[]
Strict JSON array with "groupAnalysis" and "playerAnalysis":
{
  "groupAnalysis": "200' NT ...' ",
  "playerAnalysis": {
     "PLAYER_ID": "100 ****[]...  ****[]...  # # #"
  }
}
`.trim(),ds={geminiKey:"",openRouterKey:"",groqKey:"",geminiModel:"gemini-2.5-flash",openRouterModel:"anthropic/claude-3-haiku",groqModel:"llama3-70b-8192",designPhilosophy:g2,systemPersona:y2,taskPromptTemplate:v2,reportPromptTemplate:x2,zhipuKey:"",deepseekKey:"",deepseekModel:"deepseek-chat",regionMode:"auto"},S2=()=>{if(typeof window>"u")return ds;const e=localStorage.getItem("PSYCHEPOLY_AI_CONFIG_V2");if(e)try{return{...ds,...JSON.parse(e)}}catch{return ds}return ds};let Ge=S2();const dx=()=>Ge,T2=e=>{Ge={...Ge,...e},localStorage.setItem("PSYCHEPOLY_AI_CONFIG_V2",JSON.stringify(Ge))},w2=async(e,t,n,o)=>{var l,u,d;const i=Ge.groqKey||lt.groq;if(!i)throw new Error("Skipped: No Groq Key");const r=[{type:"text",text:t}];o&&r.push({type:"image_url",image_url:{url:o.startsWith("data:")?o:`data: image / jpeg; base64, ${o} `}});const s=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${i} `,"Content-Type":"application/json"},body:JSON.stringify({model:Ge.groqModel,messages:[{role:"system",content:e},{role:"user",content:r}],response_format:{type:"json_object"}})});if(!s.ok)throw new Error(`Groq ${s.statusText} `);return((d=(u=(l=(await s.json()).choices)==null?void 0:l[0])==null?void 0:u.message)==null?void 0:d.content)||"{}"},E2=async(e,t,n,o)=>{var l,u,d;const i=Ge.openRouterKey||lt.openRouter;if(!i)throw new Error("Skipped: No OpenRouter Key");const r=[{type:"text",text:t}];o&&r.push({type:"image_url",image_url:{url:o.startsWith("data:")?o:`data: image / jpeg; base64, ${o} `}});const s=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${i} `,"Content-Type":"application/json","HTTP-Referer":window.location.href,"X-Title":"PsychePoly"},body:JSON.stringify({model:Ge.openRouterModel,messages:[{role:"system",content:e},{role:"user",content:r}],response_format:{type:"json_object"}})});if(!s.ok)throw new Error(`OpenRouter ${s.statusText} `);return((d=(u=(l=(await s.json()).choices)==null?void 0:l[0])==null?void 0:u.message)==null?void 0:d.content)||"{}"},C2=async(e,t,n,o)=>{const i=Ge.geminiKey||lt.gemini;if(!i)throw new Error("Skipped: No Gemini Key");const r=new h2({apiKey:i}),s=o?{inlineData:{data:o.split(",")[1]||o,mimeType:"image/jpeg"}}:null;return(await r.models.generateContent({model:Ge.geminiModel,contents:[{role:"user",parts:[...s?[s]:[],{text:t}]}],config:{systemInstruction:e,responseMimeType:"application/json"}})).text||"{}"},Pm=async(e,t,n,o)=>{var d,h,p;const i=Ge.zhipuKey||lt.zhipu;if(!i)throw new Error("Skipped: No Zhipu Key");const r=!!o,s=r?"glm-4v":"glm-4-flash",a=[{type:"text",text:t}];o&&a.push({type:"image_url",image_url:{url:o.startsWith("data:")?o:`data:image/jpeg;base64,${o}`}});const l=await fetch("https://open.bigmodel.cn/api/paas/v4/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${i} `,"Content-Type":"application/json"},body:JSON.stringify({model:s,messages:[{role:"system",content:e},{role:"user",content:r?a:t}],response_format:{type:"json_object"},temperature:.7})});if(!l.ok)throw new Error(`Zhipu ${l.statusText} `);return((p=(h=(d=(await l.json()).choices)==null?void 0:d[0])==null?void 0:h.message)==null?void 0:p.content)||"{}"},Rm=async(e,t,n)=>{var s,a,l;const o=Ge.deepseekKey||lt.deepseek;if(!o)throw new Error("Skipped: No DeepSeek Key");const i=await fetch("https://api.deepseek.com/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${o} `,"Content-Type":"application/json"},body:JSON.stringify({model:Ge.deepseekModel||"deepseek-chat",messages:[{role:"system",content:e},{role:"user",content:t}],response_format:{type:"json_object"},temperature:.7})});if(!i.ok)throw new Error(`DeepSeek ${i.statusText} `);return((l=(a=(s=(await i.json()).choices)==null?void 0:s[0])==null?void 0:a.message)==null?void 0:l.content)||"{}"},N2={INTJ:["Ni","Te","Fi","Se"],INTP:["Ti","Ne","Si","Fe"],ENTJ:["Te","Ni","Se","Fi"],ENTP:["Ne","Ti","Fe","Si"],INFJ:["Ni","Fe","Ti","Se"],INFP:["Fi","Ne","Si","Te"],ENFJ:["Fe","Ni","Se","Ti"],ENFP:["Ne","Fi","Te","Si"],ISTJ:["Si","Te","Fi","Ne"],ISFJ:["Si","Fe","Ti","Ne"],ESTJ:["Te","Si","Ne","Fi"],ESFJ:["Fe","Si","Ne","Ti"],ISTP:["Ti","Se","Ni","Fe"],ISFP:["Fi","Se","Ni","Te"],ESTP:["Se","Ti","Fe","Ni"],ESFP:["Se","Fi","Te","Ni"]},I2=(e,t)=>{const n=N2[e.mbti];if(!n)return"";const o=n.indexOf(t);if(o===0)return`[]  ${t} `;if(o===1)return`[]  ${t} `;if(o===3)return`[] ${t} `;if(kr[t]){const r={E:"I",I:"E",S:"N",N:"S",T:"F",F:"T",J:"P",P:"J"},s=e.mbti.split("").map(a=>r[a]||a).join("");if(t===s)return`[]  ${t}`}return`[]  ${t} `},k2=async(e,t,n)=>{const o=`${e} 

${t} 

 JSON `,i=await fetch(`https://text.pollinations.ai/${encodeURIComponent(o)}`);if(!i.ok)throw new Error(`Pollinations ${i.statusText}`);let r=await i.text();return r=r.replace(/```json/g,"").replace(/```/g,"").trim(),r},Wl=e=>{try{const t=e.indexOf("{"),n=e.indexOf("[");let o="",i=-1;if(t!==-1&&(n===-1||t<n)?(o="{",i=t):n!==-1&&(o="[",i=n),i===-1)return e.trim();const r=o==="{"?"}":"]",s=e.lastIndexOf(r);if(s!==-1&&s>i)return e.substring(i,s+1)}catch(t){console.warn("JSON extraction lookup failed",t)}return e.trim()},_2=()=>{if(ao("VITE_PLATFORM")==="china")return"china";try{const t=Intl.DateTimeFormat().resolvedOptions().timeZone||"";if(t.includes("Asia/Shanghai")||t.includes("Asia/Urumqi")||t.includes("Asia/Chongqing")||t.includes("Asia/Harbin")||new Date().getTimezoneOffset()===-480)return"china"}catch{}return"overseas"},ki=async(e,t,n)=>{let o=t||Ge.systemPersona;o.toLowerCase().includes("json")||(o+=`

 JSON  Markdown `);const i=[],r=!!n,s=e.length>15e3,a=Ge.regionMode==="auto"?_2():Ge.regionMode;let l=[];if(a==="china"?r?l=[{name:"Zhipu",call:()=>Pm(o,e,!0,n)},{name:"DeepSeek",call:()=>Rm(o,e)}]:l=[{name:"DeepSeek",call:()=>Rm(o,e)},{name:"Zhipu",call:()=>Pm(o,e,!0,n)}]:l=[{name:"Groq",call:()=>w2(o,e,!0,n)},{name:"Gemini",call:()=>C2(o,e,!0,n)},{name:"OpenRouter",call:()=>E2(o,e,!0,n)},{name:"Pollinations",call:()=>k2(o,e)}],r||s){const u=l.findIndex(d=>d.name==="Gemini");if(u>0){const[d]=l.splice(u,1);l.unshift(d)}}else if(a==="overseas"){const u=l.findIndex(d=>d.name==="Groq");if(u>0){const[d]=l.splice(u,1);l.unshift(d)}}for(const u of l)try{return console.log(`Calling [${u.name}]...`),await u.call()}catch(d){i.push(`${u.name}: ${d.message}`)}throw console.error("All AI providers failed in current region segment:",i),new Error(`ALL_AI_FAILED_IN_${a.toUpperCase()}`)},fx=e=>e.map(t=>`${t.id}|${t.name}|${t.mbti}|${t.trustScore}|${t.insightScore}|${t.expressionScore}`).join(`
`),px=e=>{const t=Array.from(new Set(e.map(o=>o.mbti)));let n=`
[ - ]
`;return t.forEach(o=>{const i=ic[o];if(i){const r=i.match(/\[\] (.*)/),s=r?r[1]:"",a=i.match(/\((.*)\)/),l=a?a[1]:"";n+=`- ${o}: ${s} (${l}). 
`}}),n},A2=(e,t)=>{var o;const n={};e.forEach(i=>n[i.id]=[]);for(const i of t){if(!i.taskDetails||!i.taskDetails.includes(":"))continue;const r=e.find(s=>s.name===i.author);if(r){const s=(o=i.taskDetails.split(":")[1])==null?void 0:o.trim();s&&n[r.id].push(s)}}return e.map(i=>{const r=n[i.id].slice(-5);return`[ ${i.name}(${i.id})]: (${r.join("; ")||""})`}).join(`
`)},hx=async(e,t)=>{const n=" 20 ",o=`: ${t}`;try{return(await ki(o,n,e)).trim()||""}catch{return""}},b2=(e,t)=>{const n=fx(e),o=t.filter(i=>i.taskDetails&&i.taskDetails.includes(":")).slice(-10).map(i=>{var a,l;const r=((l=(a=i.taskDetails)==null?void 0:a.split(":")[1])==null?void 0:l.trim())||"",s=r.length>60?r.substring(0,60)+"...":r;return`[${i.author}]: ${s}`}).join(`
`);return`
[ - ]
[(ID|Name|MBTI|Trust|Insight|Expr)]
${n}

[()]
${o||"..."}
`.trim()},P2=async e=>{const t=`
    
     4 
    
    []
    1. 
    2.  3  MBTI
    3. reason 20 

    []
     JSON 
    [
      { "type": "INTJ", "percentage": 85, "reason": "" },
      ...
    ]
  `.trim(),n=e.map(o=>`${o.q}: ${o.val}`).join(`
`);try{const o=await ki(n,t),i=JSON.parse(Wl(o));if(Array.isArray(i)&&i.length>0&&i[0].type)return i;throw new Error("Invalid format")}catch(o){return console.warn("Analysis fallback",o),[{type:"ISFP",percentage:70,reason:""},{type:"INFP",percentage:50,reason:""},{type:"ESFP",percentage:30,reason:""}]}},Rs=async(e,t,n,o=[])=>{const i=b2(t,o),r=cx.filter(p=>p.functionId===e).sort(()=>Math.random()-.5).slice(0,2);r.length>0&&`${r.map(p=>`- ${p.title}: ${p.description}`).join(`
`)}`,ic[n.mbti]&&`${n.mbti}${ic[n.mbti]}`;const s=I2(n,e);let a="";try{if(window.nativeGetHistory){const p=await window.nativeGetHistory(n.name,n.mbti),g=JSON.parse(p);g.exists&&g.summary&&(a=`
[ ()]
 ${g.count} 
${g.summary}

`)}}catch(p){console.warn("Native history fetch failed:",p)}let l=`: "${e}" (: ${s}).`;const u=kr[e];if(u)if(e==="Hub"){const g={ISTJ:"",ISFJ:"",ESTJ:"",ESFJ:"",ISTP:"",ISFP:"",ESTP:"",ESFP:"",INFJ:"",INFP:"",ENFJ:"",ENFP:"",INTJ:"",INTP:"",ENTJ:"",ENTP:""}[n.mbti]||"";l=`
                [ (The Sanctuary)]
                
                
                
                []: ${n.mbti}
                []: ${g}

                []
                1. 
                2. 
                3. 
                4. "deep" () 
            `}else l=`
                []
                ${e}${u}
                 MBTI  (${e})  ${u} 
                
            `;const d=px([n]),h=`
${Ge.designPhilosophy}

[]
: ${n.name} (: ${n.mbti}).
: ${l}

${a}

${d}

${i}

${Ge.taskPromptTemplate}
    `.trim();try{const p=await ki(h),g=JSON.parse(Wl(p)),v={};return["standard","truth","dare","deep"].forEach(w=>{const S=g[w]||{},y=xo[w];v[w]={category:w,title:S.title||"",description:S.description||"AI ",scoreType:S.scoreType||"expression",durationSeconds:S.durationSeconds||60,multiplier:y.multiplier}}),v}catch{console.warn("Falling back to Static Data from Local Library");const g=m2(e,4),v={};return["standard","truth","dare","deep"].forEach((T,w)=>{const S=g[w]||{title:"",description:"",scoreType:"expression",durationSeconds:60},y=xo[T];v[T]={category:T,title:S.title,description:S.description,scoreType:S.scoreType,durationSeconds:S.durationSeconds,multiplier:y.multiplier}}),v}},R2=async(e,t,n,o)=>{const i=`
    
     ${e.mbti} 
    
    []
    : ${t.title}
    : ${t.description}
    : ${t.scoreType}

    []
    : "${n||""}"
    ${o?`AI : "${o}"`:""}

    [ - !]
    1. [][]...
    2.  Fi 
    3. 

    []
     JSON 
    {
      "tag": "#",
      "mood": "()",
      "feedback": "(80)...",
      "scores": { "trust": 3, "insight": 4, "expression": 2 }
    }
    `.trim(),r="";try{const s=await ki(r,i),a=JSON.parse(Wl(s));return{tag:a.tag||"#",mood:a.mood||"",feedback:a.feedback||"",scores:a.scores||{trust:3,insight:3,expression:3}}}catch{return{tag:"#",mood:"",feedback:"",scores:{trust:3,insight:3,expression:3}}}},M2=async(e,t,n=[])=>{const o=fx(e),i=A2(e,n),r=px(e),s=Ge.reportPromptTemplate,a=`
${Ge.designPhilosophy}

[: ]
(ID|Name|MBTI|T|I|E):
${o}

[]:
${i}

${r}

${s}
    `.trim();try{const l=await ki(a),u=JSON.parse(Wl(l)),d={};return e.forEach(h=>{var g;let p=(g=u.playerAnalysis)==null?void 0:g[h.id];if(!p&&u.playerAnalysis){const v=Object.keys(u.playerAnalysis).find(T=>T.includes(h.name));v&&(p=u.playerAnalysis[v])}d[h.id]=p||`${h.name} ... `}),{groupAnalysis:u.groupAnalysis||"",playerAnalysis:d}}catch(l){console.error("Report Generation Fail",l);const u={};return e.forEach(d=>{const h=ux[d.mbti];h?u[d.id]=`AI ...

 **** ${d.mbti} ${h.bestState}

 ****${h.growth}

 ****${h.othersSee}`:u[d.id]=""}),{groupAnalysis:"AI ",playerAnalysis:u}}},D2=async(e,t)=>{const n=t.map(r=>`${r.type} (${r.percentage}%): ${r.reason}`).join(`
`),o=`
 "${e.name}" 
 MBTI 


[]
1. 
2. 
`.trim(),i=` "${e.name}" 
${n}

`;try{const r=await ki(i,o);return{groupAnalysis:` ${e.name} `,playerAnalysis:{[e.mbti]:r}}}catch{const s=ux[e.mbti];return{groupAnalysis:"",playerAnalysis:{[e.mbti]:s?`
${s.type} ${s.othersSee}


${s.bestState}


${s.growth}`:" AI "}}}};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mx=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:i="",children:r,iconNode:s,...a},l)=>A.createElement("svg",{ref:l,...F2,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:mx("lucide",i),...a},[...s.map(([u,d])=>A.createElement(u,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=(e,t)=>{const n=A.forwardRef(({className:o,...i},r)=>A.createElement(U2,{ref:r,iconNode:t,className:mx(`lucide-${L2(e)}`,o),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=W("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=W("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=W("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=W("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=W("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=W("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=W("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=W("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=W("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=W("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=W("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=W("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=W("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=W("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=W("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=W("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=W("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=W("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=W("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=W("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=W("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=W("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=W("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=W("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=W("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=W("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=W("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=W("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=W("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=W("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=W("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=W("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=W("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=W("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=W("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=W("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=W("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=W("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=W("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=W("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=W("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=W("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=W("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=W("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=W("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=W("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=W("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),qd=A.createContext({});function jd(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const Jd=typeof window<"u",Nx=Jd?A.useLayoutEffect:A.useEffect,Xl=A.createContext(null);function Wd(e,t){e.indexOf(t)===-1&&e.push(t)}function Kd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const En=(e,t,n)=>n>t?t:n<e?e:n;let Yd=()=>{};const Cn={},Ix=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function kx(e){return typeof e=="object"&&e!==null}const _x=e=>/^0[^.\s]+$/u.test(e);function Xd(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ft=e=>e,yb=(e,t)=>n=>t(e(n)),Gr=(...e)=>e.reduce(yb),Ar=(e,t,n)=>{const o=t-e;return o===0?1:(n-e)/o};class Qd{constructor(){this.subscriptions=[]}add(t){return Wd(this.subscriptions,t),()=>Kd(this.subscriptions,t)}notify(t,n,o){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,o);else for(let r=0;r<i;r++){const s=this.subscriptions[r];s&&s(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dn=e=>e*1e3,Mt=e=>e/1e3;function Ax(e,t){return t?e*(1e3/t):0}const bx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vb=1e-7,xb=12;function Sb(e,t,n,o,i){let r,s,a=0;do s=t+(n-t)/2,r=bx(s,o,i)-e,r>0?n=s:t=s;while(Math.abs(r)>vb&&++a<xb);return s}function Br(e,t,n,o){if(e===t&&n===o)return Ft;const i=r=>Sb(r,0,1,e,n);return r=>r===0||r===1?r:bx(i(r),t,o)}const Px=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Rx=e=>t=>1-e(1-t),Mx=Br(.33,1.53,.69,.99),Zd=Rx(Mx),Dx=Px(Zd),Lx=e=>(e*=2)<1?.5*Zd(e):.5*(2-Math.pow(2,-10*(e-1))),ef=e=>1-Math.sin(Math.acos(e)),Fx=Rx(ef),Ux=Px(ef),Tb=Br(.42,0,1,1),wb=Br(0,0,.58,1),Vx=Br(.42,0,.58,1),Eb=e=>Array.isArray(e)&&typeof e[0]!="number",Gx=e=>Array.isArray(e)&&typeof e[0]=="number",Cb={linear:Ft,easeIn:Tb,easeInOut:Vx,easeOut:wb,circIn:ef,circInOut:Ux,circOut:Fx,backIn:Zd,backInOut:Dx,backOut:Mx,anticipate:Lx},Nb=e=>typeof e=="string",Um=e=>{if(Gx(e)){Yd(e.length===4);const[t,n,o,i]=e;return Br(t,n,o,i)}else if(Nb(e))return Cb[e];return e},fs=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ib(e,t){let n=new Set,o=new Set,i=!1,r=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){s.has(d)&&(u.schedule(d),e()),d(a)}const u={schedule:(d,h=!1,p=!1)=>{const v=p&&i?n:o;return h&&s.add(d),v.has(d)||v.add(d),d},cancel:d=>{o.delete(d),s.delete(d)},process:d=>{if(a=d,i){r=!0;return}i=!0,[n,o]=[o,n],n.forEach(l),n.clear(),i=!1,r&&(r=!1,u.process(d))}};return u}const kb=40;function Bx(e,t){let n=!1,o=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,s=fs.reduce((x,E)=>(x[E]=Ib(r),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:p,render:g,postRender:v}=s,T=()=>{const x=Cn.useManualTiming?i.timestamp:performance.now();n=!1,Cn.useManualTiming||(i.delta=o?1e3/60:Math.max(Math.min(x-i.timestamp,kb),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),p.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&t&&(o=!1,e(T))},w=()=>{n=!0,o=!0,i.isProcessing||e(T)};return{schedule:fs.reduce((x,E)=>{const I=s[E];return x[E]=(C,k=!1,_=!1)=>(n||w(),I.schedule(C,k,_)),x},{}),cancel:x=>{for(let E=0;E<fs.length;E++)s[fs[E]].cancel(x)},state:i,steps:s}}const{schedule:Ie,cancel:Kn,state:Ye,steps:Fa}=Bx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ft,!0);let Ds;function _b(){Ds=void 0}const mt={now:()=>(Ds===void 0&&mt.set(Ye.isProcessing||Cn.useManualTiming?Ye.timestamp:performance.now()),Ds),set:e=>{Ds=e,queueMicrotask(_b)}},zx=e=>t=>typeof t=="string"&&t.startsWith(e),Ox=zx("--"),Ab=zx("var(--"),tf=e=>Ab(e)?bb.test(e.split("/*")[0].trim()):!1,bb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_i={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},br={..._i,transform:e=>En(0,1,e)},ps={..._i,default:1},rr=e=>Math.round(e*1e5)/1e5,nf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Pb(e){return e==null}const Rb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,of=(e,t)=>n=>!!(typeof n=="string"&&Rb.test(n)&&n.startsWith(e)||t&&!Pb(n)&&Object.prototype.hasOwnProperty.call(n,t)),Hx=(e,t,n)=>o=>{if(typeof o!="string")return o;const[i,r,s,a]=o.match(nf);return{[e]:parseFloat(i),[t]:parseFloat(r),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Mb=e=>En(0,255,e),Ua={..._i,transform:e=>Math.round(Mb(e))},mo={test:of("rgb","red"),parse:Hx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+Ua.transform(e)+", "+Ua.transform(t)+", "+Ua.transform(n)+", "+rr(br.transform(o))+")"};function Db(e){let t="",n="",o="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,o+=o,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:i?parseInt(i,16)/255:1}}const uc={test:of("#"),parse:Db,transform:mo.transform},zr=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Pn=zr("deg"),fn=zr("%"),te=zr("px"),Lb=zr("vh"),Fb=zr("vw"),Vm={...fn,parse:e=>fn.parse(e)/100,transform:e=>fn.transform(e*100)},Yo={test:of("hsl","hue"),parse:Hx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+fn.transform(rr(t))+", "+fn.transform(rr(n))+", "+rr(br.transform(o))+")"},Ue={test:e=>mo.test(e)||uc.test(e)||Yo.test(e),parse:e=>mo.test(e)?mo.parse(e):Yo.test(e)?Yo.parse(e):uc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?mo.transform(e):Yo.transform(e),getAnimatableNone:e=>{const t=Ue.parse(e);return t.alpha=0,Ue.transform(t)}},Ub=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Vb(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(nf))==null?void 0:t.length)||0)+(((n=e.match(Ub))==null?void 0:n.length)||0)>0}const $x="number",qx="color",Gb="var",Bb="var(",Gm="${}",zb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pr(e){const t=e.toString(),n=[],o={color:[],number:[],var:[]},i=[];let r=0;const a=t.replace(zb,l=>(Ue.test(l)?(o.color.push(r),i.push(qx),n.push(Ue.parse(l))):l.startsWith(Bb)?(o.var.push(r),i.push(Gb),n.push(l)):(o.number.push(r),i.push($x),n.push(parseFloat(l))),++r,Gm)).split(Gm);return{values:n,split:a,indexes:o,types:i}}function jx(e){return Pr(e).values}function Jx(e){const{split:t,types:n}=Pr(e),o=t.length;return i=>{let r="";for(let s=0;s<o;s++)if(r+=t[s],i[s]!==void 0){const a=n[s];a===$x?r+=rr(i[s]):a===qx?r+=Ue.transform(i[s]):r+=i[s]}return r}}const Ob=e=>typeof e=="number"?0:Ue.test(e)?Ue.getAnimatableNone(e):e;function Hb(e){const t=jx(e);return Jx(e)(t.map(Ob))}const Yn={test:Vb,parse:jx,createTransformer:Jx,getAnimatableNone:Hb};function Va(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $b({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,t/=100,n/=100;let i=0,r=0,s=0;if(!t)i=r=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Va(l,a,e+1/3),r=Va(l,a,e),s=Va(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(s*255),alpha:o}}function gl(e,t){return n=>n>0?t:e}const Ae=(e,t,n)=>e+(t-e)*n,Ga=(e,t,n)=>{const o=e*e,i=n*(t*t-o)+o;return i<0?0:Math.sqrt(i)},qb=[uc,mo,Yo],jb=e=>qb.find(t=>t.test(e));function Bm(e){const t=jb(e);if(!t)return!1;let n=t.parse(e);return t===Yo&&(n=$b(n)),n}const zm=(e,t)=>{const n=Bm(e),o=Bm(t);if(!n||!o)return gl(e,t);const i={...n};return r=>(i.red=Ga(n.red,o.red,r),i.green=Ga(n.green,o.green,r),i.blue=Ga(n.blue,o.blue,r),i.alpha=Ae(n.alpha,o.alpha,r),mo.transform(i))},cc=new Set(["none","hidden"]);function Jb(e,t){return cc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Wb(e,t){return n=>Ae(e,t,n)}function rf(e){return typeof e=="number"?Wb:typeof e=="string"?tf(e)?gl:Ue.test(e)?zm:Xb:Array.isArray(e)?Wx:typeof e=="object"?Ue.test(e)?zm:Kb:gl}function Wx(e,t){const n=[...e],o=n.length,i=e.map((r,s)=>rf(r)(r,t[s]));return r=>{for(let s=0;s<o;s++)n[s]=i[s](r);return n}}function Kb(e,t){const n={...e,...t},o={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(o[i]=rf(e[i])(e[i],t[i]));return i=>{for(const r in o)n[r]=o[r](i);return n}}function Yb(e,t){const n=[],o={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const r=t.types[i],s=e.indexes[r][o[r]],a=e.values[s]??0;n[i]=a,o[r]++}return n}const Xb=(e,t)=>{const n=Yn.createTransformer(t),o=Pr(e),i=Pr(t);return o.indexes.var.length===i.indexes.var.length&&o.indexes.color.length===i.indexes.color.length&&o.indexes.number.length>=i.indexes.number.length?cc.has(e)&&!i.values.length||cc.has(t)&&!o.values.length?Jb(e,t):Gr(Wx(Yb(o,i),i.values),n):gl(e,t)};function Kx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ae(e,t,n):rf(e)(e,t)}const Qb=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ie.update(t,n),stop:()=>Kn(t),now:()=>Ye.isProcessing?Ye.timestamp:mt.now()}},Yx=(e,t,n=10)=>{let o="";const i=Math.max(Math.round(t/n),2);for(let r=0;r<i;r++)o+=Math.round(e(r/(i-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},yl=2e4;function sf(e){let t=0;const n=50;let o=e.next(t);for(;!o.done&&t<yl;)t+=n,o=e.next(t);return t>=yl?1/0:t}function Zb(e,t=100,n){const o=n({...e,keyframes:[0,t]}),i=Math.min(sf(o),yl);return{type:"keyframes",ease:r=>o.next(i*r).value/t,duration:Mt(i)}}const eP=5;function Xx(e,t,n){const o=Math.max(t-eP,0);return Ax(n-e(o),t-o)}const Me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ba=.001;function tP({duration:e=Me.duration,bounce:t=Me.bounce,velocity:n=Me.velocity,mass:o=Me.mass}){let i,r,s=1-t;s=En(Me.minDamping,Me.maxDamping,s),e=En(Me.minDuration,Me.maxDuration,Mt(e)),s<1?(i=u=>{const d=u*s,h=d*e,p=d-n,g=dc(u,s),v=Math.exp(-h);return Ba-p/g*v},r=u=>{const h=u*s*e,p=h*n+n,g=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-h),T=dc(Math.pow(u,2),s);return(-i(u)+Ba>0?-1:1)*((p-g)*v)/T}):(i=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Ba+d*h},r=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,l=oP(i,r,a);if(e=dn(e),isNaN(l))return{stiffness:Me.stiffness,damping:Me.damping,duration:e};{const u=Math.pow(l,2)*o;return{stiffness:u,damping:s*2*Math.sqrt(o*u),duration:e}}}const nP=12;function oP(e,t,n){let o=n;for(let i=1;i<nP;i++)o=o-e(o)/t(o);return o}function dc(e,t){return e*Math.sqrt(1-t*t)}const iP=["duration","bounce"],rP=["stiffness","damping","mass"];function Om(e,t){return t.some(n=>e[n]!==void 0)}function sP(e){let t={velocity:Me.velocity,stiffness:Me.stiffness,damping:Me.damping,mass:Me.mass,isResolvedFromDuration:!1,...e};if(!Om(e,rP)&&Om(e,iP))if(e.visualDuration){const n=e.visualDuration,o=2*Math.PI/(n*1.2),i=o*o,r=2*En(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Me.mass,stiffness:i,damping:r}}else{const n=tP(e);t={...t,...n,mass:Me.mass},t.isResolvedFromDuration=!0}return t}function vl(e=Me.visualDuration,t=Me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:i}=n;const r=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:g}=sP({...n,velocity:-Mt(n.velocity||0)}),v=p||0,T=u/(2*Math.sqrt(l*d)),w=s-r,S=Mt(Math.sqrt(l/d)),y=Math.abs(w)<5;o||(o=y?Me.restSpeed.granular:Me.restSpeed.default),i||(i=y?Me.restDelta.granular:Me.restDelta.default);let x;if(T<1){const I=dc(S,T);x=C=>{const k=Math.exp(-T*S*C);return s-k*((v+T*S*w)/I*Math.sin(I*C)+w*Math.cos(I*C))}}else if(T===1)x=I=>s-Math.exp(-S*I)*(w+(v+S*w)*I);else{const I=S*Math.sqrt(T*T-1);x=C=>{const k=Math.exp(-T*S*C),_=Math.min(I*C,300);return s-k*((v+T*S*w)*Math.sinh(_)+I*w*Math.cosh(_))/I}}const E={calculatedDuration:g&&h||null,next:I=>{const C=x(I);if(g)a.done=I>=h;else{let k=I===0?v:0;T<1&&(k=I===0?dn(v):Xx(x,I,C));const _=Math.abs(k)<=o,b=Math.abs(s-C)<=i;a.done=_&&b}return a.value=a.done?s:C,a},toString:()=>{const I=Math.min(sf(E),yl),C=Yx(k=>E.next(I*k).value,I,30);return I+"ms "+C},toTransition:()=>{}};return E}vl.applyToOptions=e=>{const t=Zb(e,100,vl);return e.ease=t.ease,e.duration=dn(t.duration),e.type="keyframes",e};function fc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],p={done:!1,value:h},g=_=>a!==void 0&&_<a||l!==void 0&&_>l,v=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let T=n*t;const w=h+T,S=s===void 0?w:s(w);S!==w&&(T=S-h);const y=_=>-T*Math.exp(-_/o),x=_=>S+y(_),E=_=>{const b=y(_),M=x(_);p.done=Math.abs(b)<=u,p.value=p.done?S:M};let I,C;const k=_=>{g(p.value)&&(I=_,C=vl({keyframes:[p.value,v(p.value)],velocity:Xx(x,_,p.value),damping:i,stiffness:r,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:_=>{let b=!1;return!C&&I===void 0&&(b=!0,E(_),k(_)),I!==void 0&&_>=I?C.next(_-I):(!b&&E(_),p)}}}function lP(e,t,n){const o=[],i=n||Cn.mix||Kx,r=e.length-1;for(let s=0;s<r;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Ft:t;a=Gr(l,a)}o.push(a)}return o}function aP(e,t,{clamp:n=!0,ease:o,mixer:i}={}){const r=e.length;if(Yd(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=lP(t,o,i),l=a.length,u=d=>{if(s&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const p=Ar(e[h],e[h+1],d);return a[h](p)};return n?d=>u(En(e[0],e[r-1],d)):u}function uP(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const i=Ar(0,t,o);e.push(Ae(n,1,i))}}function cP(e){const t=[0];return uP(t,e.length-1),t}function dP(e,t){return e.map(n=>n*t)}function fP(e,t){return e.map(()=>t||Vx).splice(0,e.length-1)}function sr({duration:e=300,keyframes:t,times:n,ease:o="easeInOut"}){const i=Eb(o)?o.map(Um):Um(o),r={done:!1,value:t[0]},s=dP(n&&n.length===t.length?n:cP(t),e),a=aP(s,t,{ease:Array.isArray(i)?i:fP(t,i)});return{calculatedDuration:e,next:l=>(r.value=a(l),r.done=l>=e,r)}}const pP=e=>e!==null;function lf(e,{repeat:t,repeatType:n="loop"},o,i=1){const r=e.filter(pP),a=i<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!a||o===void 0?r[a]:o}const hP={decay:fc,inertia:fc,tween:sr,keyframes:sr,spring:vl};function Qx(e){typeof e.type=="string"&&(e.type=hP[e.type])}class af{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const mP=e=>e/100;class uf extends af{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var o,i;const{motionValue:n}=this.options;n&&n.updatedAt!==mt.now()&&this.tick(mt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(o=this.options).onStop)==null||i.call(o))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Qx(t);const{type:n=sr,repeat:o=0,repeatDelay:i=0,repeatType:r,velocity:s=0}=t;let{keyframes:a}=t;const l=n||sr;l!==sr&&typeof a[0]!="number"&&(this.mixKeyframes=Gr(mP,Kx(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});r==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=sf(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(o+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:o,totalDuration:i,mixKeyframes:r,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return o.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:g,type:v,onUpdate:T,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const S=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,E=o;if(h){const _=Math.min(this.currentTime,i)/a;let b=Math.floor(_),M=_%1;!M&&_>=1&&(M=1),M===1&&b--,b=Math.min(b,h+1),!!(b%2)&&(p==="reverse"?(M=1-M,g&&(M-=g/a)):p==="mirror"&&(E=s)),x=En(0,1,M)*a}const I=y?{done:!1,value:d[0]}:E.next(x);r&&(I.value=r(I.value));let{done:C}=I;!y&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&v!==fc&&(I.value=lf(d,this.options,w,this.speed)),T&&T(I.value),k&&this.finish(),I}then(t,n){return this.finished.then(t,n)}get duration(){return Mt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Mt(t)}get time(){return Mt(this.currentTime)}set time(t){var n;t=dn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Mt(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:t=Qb,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(r=(i=this.options).onPlay)==null||r.call(i);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=n??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function gP(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const go=e=>e*180/Math.PI,pc=e=>{const t=go(Math.atan2(e[1],e[0]));return hc(t)},yP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:pc,rotateZ:pc,skewX:e=>go(Math.atan(e[1])),skewY:e=>go(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hc=e=>(e=e%360,e<0&&(e+=360),e),Hm=pc,$m=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qm=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),vP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$m,scaleY:qm,scale:e=>($m(e)+qm(e))/2,rotateX:e=>hc(go(Math.atan2(e[6],e[5]))),rotateY:e=>hc(go(Math.atan2(-e[2],e[0]))),rotateZ:Hm,rotate:Hm,skewX:e=>go(Math.atan(e[4])),skewY:e=>go(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function mc(e){return e.includes("scale")?1:0}function gc(e,t){if(!e||e==="none")return mc(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,i;if(n)o=vP,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=yP,i=a}if(!i)return mc(t);const r=o[t],s=i[1].split(",").map(SP);return typeof r=="function"?r(s):s[r]}const xP=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gc(n,t)};function SP(e){return parseFloat(e.trim())}const Ai=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bi=new Set(Ai),jm=e=>e===_i||e===te,TP=new Set(["x","y","z"]),wP=Ai.filter(e=>!TP.has(e));function EP(e){const t=[];return wP.forEach(n=>{const o=e.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t}const So={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gc(t,"x"),y:(e,{transform:t})=>gc(t,"y")};So.translateX=So.x;So.translateY=So.y;const To=new Set;let yc=!1,vc=!1,xc=!1;function Zx(){if(vc){const e=Array.from(To).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),n=new Map;t.forEach(o=>{const i=EP(o);i.length&&(n.set(o,i),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const i=n.get(o);i&&i.forEach(([r,s])=>{var a;(a=o.getValue(r))==null||a.set(s)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}vc=!1,yc=!1,To.forEach(e=>e.complete(xc)),To.clear()}function eS(){To.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vc=!0)})}function CP(){xc=!0,eS(),Zx(),xc=!1}class cf{constructor(t,n,o,i,r,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=o,this.motionValue=i,this.element=r,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(To.add(this),yc||(yc=!0,Ie.read(eS),Ie.resolveKeyframes(Zx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:o,motionValue:i}=this;if(t[0]===null){const r=i==null?void 0:i.get(),s=t[t.length-1];if(r!==void 0)t[0]=r;else if(o&&n){const a=o.readValue(n,s);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=s),i&&r===void 0&&i.set(t[0])}gP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),To.delete(this)}cancel(){this.state==="scheduled"&&(To.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NP=e=>e.startsWith("--");function IP(e,t,n){NP(t)?e.style.setProperty(t,n):e.style[t]=n}const kP=Xd(()=>window.ScrollTimeline!==void 0),_P={};function AP(e,t){const n=Xd(e);return()=>_P[t]??n()}const tS=AP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wi=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`,Jm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wi([0,.65,.55,1]),circOut:Wi([.55,0,1,.45]),backIn:Wi([.31,.01,.66,-.59]),backOut:Wi([.33,1.53,.69,.99])};function nS(e,t){if(e)return typeof e=="function"?tS()?Yx(e,t):"ease-out":Gx(e)?Wi(e):Array.isArray(e)?e.map(n=>nS(n,t)||Jm.easeOut):Jm[e]}function bP(e,t,n,{delay:o=0,duration:i=300,repeat:r=0,repeatType:s="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[t]:n};l&&(d.offset=l);const h=nS(a,i);Array.isArray(h)&&(d.easing=h);const p={delay:o,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:s==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(d,p)}function oS(e){return typeof e=="function"&&"applyToOptions"in e}function PP({type:e,...t}){return oS(e)&&tS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class RP extends af{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:o,keyframes:i,pseudoElement:r,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!r,this.allowFlatten=s,this.options=t,Yd(typeof t.type!="string");const u=PP(t);this.animation=bP(n,o,i,u,r),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const d=lf(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):IP(n,o,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,o;const t=((o=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:o.call(n).duration)||0;return Mt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Mt(t)}get time(){return Mt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=dn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&kP()?(this.animation.timeline=t,Ft):n(this)}}const iS={anticipate:Lx,backInOut:Dx,circInOut:Ux};function MP(e){return e in iS}function DP(e){typeof e.ease=="string"&&MP(e.ease)&&(e.ease=iS[e.ease])}const Wm=10;class LP extends RP{constructor(t){DP(t),Qx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:o,onComplete:i,element:r,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new uf({...s,autoplay:!1}),l=dn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Wm).value,a.sample(l).value,Wm),a.stop()}}const Km=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yn.test(e)||e==="0")&&!e.startsWith("url("));function FP(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function UP(e,t,n,o){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],s=Km(i,t),a=Km(r,t);return!s||!a?!1:FP(e)||(n==="spring"||oS(n))&&o}function Sc(e){e.duration=0,e.type="keyframes"}const VP=new Set(["opacity","clipPath","filter","transform"]),GP=Xd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BP(e){var d;const{motionValue:t,name:n,repeatDelay:o,repeatType:i,damping:r,type:s}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return GP()&&n&&VP.has(n)&&(n!=="transform"||!u)&&!l&&!o&&i!=="mirror"&&r!==0&&s!=="inertia"}const zP=40;class OP extends af{constructor({autoplay:t=!0,delay:n=0,type:o="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var T,w;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=mt.now();const p={autoplay:t,delay:n,type:o,repeat:i,repeatDelay:r,repeatType:s,name:l,motionValue:u,element:d,...h},g=(d==null?void 0:d.KeyframeResolver)||cf;this.keyframeResolver=new g(a,(T,w,S)=>this.onKeyframesResolved(T,w,p,!S),l,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,o,i){this.keyframeResolver=void 0;const{name:r,type:s,velocity:a,delay:l,isHandoff:u,onUpdate:d}=o;this.resolvedAt=mt.now(),UP(t,r,s,a)||((Cn.instantAnimations||!l)&&(d==null||d(lf(t,o,n))),t[0]=t[t.length-1],Sc(o),o.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>zP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...o,keyframes:t},g=!u&&BP(p)?new LP({...p,element:p.motionValue.owner.current}):new uf(p);g.finished.then(()=>this.notifyFinished()).catch(Ft),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),CP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const HP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $P(e){const t=HP.exec(e);if(!t)return[,];const[,n,o,i]=t;return[`--${n??o}`,i]}function rS(e,t,n=1){const[o,i]=$P(e);if(!o)return;const r=window.getComputedStyle(t).getPropertyValue(o);if(r){const s=r.trim();return Ix(s)?parseFloat(s):s}return tf(i)?rS(i,t,n+1):i}function df(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const sS=new Set(["width","height","top","left","right","bottom",...Ai]),qP={test:e=>e==="auto",parse:e=>e},lS=e=>t=>t.test(e),aS=[_i,te,fn,Pn,Fb,Lb,qP],Ym=e=>aS.find(lS(e));function jP(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||_x(e):!0}const JP=new Set(["brightness","contrast","saturate","opacity"]);function WP(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=n.match(nf)||[];if(!o)return e;const i=n.replace(o,"");let r=JP.has(t)?1:0;return o!==n&&(r*=100),t+"("+r+i+")"}const KP=/\b([a-z-]*)\(.*?\)/gu,Tc={...Yn,getAnimatableNone:e=>{const t=e.match(KP);return t?t.map(WP).join(" "):e}},Xm={..._i,transform:Math.round},YP={rotate:Pn,rotateX:Pn,rotateY:Pn,rotateZ:Pn,scale:ps,scaleX:ps,scaleY:ps,scaleZ:ps,skew:Pn,skewX:Pn,skewY:Pn,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:br,originX:Vm,originY:Vm,originZ:te},ff={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,backgroundPositionX:te,backgroundPositionY:te,...YP,zIndex:Xm,fillOpacity:br,strokeOpacity:br,numOctaves:Xm},XP={...ff,color:Ue,backgroundColor:Ue,outlineColor:Ue,fill:Ue,stroke:Ue,borderColor:Ue,borderTopColor:Ue,borderRightColor:Ue,borderBottomColor:Ue,borderLeftColor:Ue,filter:Tc,WebkitFilter:Tc},uS=e=>XP[e];function cS(e,t){let n=uS(e);return n!==Tc&&(n=Yn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const QP=new Set(["auto","none","0"]);function ZP(e,t,n){let o=0,i;for(;o<e.length&&!i;){const r=e[o];typeof r=="string"&&!QP.has(r)&&Pr(r).values.length&&(i=e[o]),o++}if(i&&n)for(const r of t)e[r]=cS(n,i)}class eR extends cf{constructor(t,n,o,i,r){super(t,n,o,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:o}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),tf(u))){const d=rS(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!sS.has(o)||t.length!==2)return;const[i,r]=t,s=Ym(i),a=Ym(r);if(s!==a)if(jm(s)&&jm(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else So[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,o=[];for(let i=0;i<t.length;i++)(t[i]===null||jP(t[i]))&&o.push(i);o.length&&ZP(t,o,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=So[o](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(o,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=o.length-1,s=o[r];o[r]=So[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function tR(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;const i=(n==null?void 0:n[e])??o.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const dS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function fS(e){return kx(e)&&"offsetHeight"in e}const Qm=30,nR=e=>!isNaN(parseFloat(e));class oR{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{var r;const i=mt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=nR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Qd);const o=this.events[t].add(n);return t==="change"?()=>{o(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Qm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Qm);return Ax(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xi(e,t){return new oR(e,t)}const{schedule:pf}=Bx(queueMicrotask,!1),qt={x:!1,y:!1};function pS(){return qt.x||qt.y}function iR(e){return e==="x"||e==="y"?qt[e]?null:(qt[e]=!0,()=>{qt[e]=!1}):qt.x||qt.y?null:(qt.x=qt.y=!0,()=>{qt.x=qt.y=!1})}function hS(e,t){const n=tR(e),o=new AbortController,i={passive:!0,...t,signal:o.signal};return[n,i,()=>o.abort()]}function Zm(e){return!(e.pointerType==="touch"||pS())}function rR(e,t,n={}){const[o,i,r]=hS(e,n),s=a=>{if(!Zm(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const d=h=>{Zm(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return o.forEach(a=>{a.addEventListener("pointerenter",s,i)}),r}const mS=(e,t)=>t?e===t?!0:mS(e,t.parentElement):!1,hf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,sR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lR(e){return sR.has(e.tagName)||e.tabIndex!==-1}const Ls=new WeakSet;function e0(e){return t=>{t.key==="Enter"&&e(t)}}function za(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aR=(e,t)=>{const n=e.currentTarget;if(!n)return;const o=e0(()=>{if(Ls.has(n))return;za(n,"down");const i=e0(()=>{za(n,"up")}),r=()=>za(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",o,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",o),t)};function t0(e){return hf(e)&&!pS()}function uR(e,t,n={}){const[o,i,r]=hS(e,n),s=a=>{const l=a.currentTarget;if(!t0(a))return;Ls.add(l);const u=t(l,a),d=(g,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),Ls.has(l)&&Ls.delete(l),t0(g)&&typeof u=="function"&&u(g,{success:v})},h=g=>{d(g,l===window||l===document||n.useGlobalTarget||mS(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return o.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),fS(a)&&(a.addEventListener("focus",u=>aR(u,i)),!lR(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),r}function gS(e){return kx(e)&&"ownerSVGElement"in e}function cR(e){return gS(e)&&e.tagName==="svg"}const ot=e=>!!(e&&e.getVelocity),dR=[...aS,Ue,Yn],fR=e=>dR.find(lS(e)),mf=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function n0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pR(...e){return t=>{let n=!1;const o=e.map(i=>{const r=n0(i,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let i=0;i<o.length;i++){const r=o[i];typeof r=="function"?r():n0(e[i],null)}}}}function hR(...e){return A.useCallback(pR(...e),e)}class mR extends A.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=n.offsetParent,i=fS(o)&&o.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gR({children:e,isPresent:t,anchorX:n,root:o}){const i=A.useId(),r=A.useRef(null),s=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=A.useContext(mf),l=hR(r,e==null?void 0:e.ref);return A.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:g}=s.current;if(t||!r.current||!u||!d)return;const v=n==="left"?`left: ${p}`:`right: ${g}`;r.current.dataset.motionPopId=i;const T=document.createElement("style");a&&(T.nonce=a);const w=o??document.head;return w.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{w.contains(T)&&w.removeChild(T)}},[t]),m.jsx(mR,{isPresent:t,childRef:r,sizeRef:s,children:A.cloneElement(e,{ref:l})})}const yR=({children:e,initial:t,isPresent:n,onExitComplete:o,custom:i,presenceAffectsLayout:r,mode:s,anchorX:a,root:l})=>{const u=jd(vR),d=A.useId();let h=!0,p=A.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;o&&o()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,o]);return r&&h&&(p={...p}),A.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[n]),A.useEffect(()=>{!n&&!u.size&&o&&o()},[n]),s==="popLayout"&&(e=m.jsx(gR,{isPresent:n,anchorX:a,root:l,children:e})),m.jsx(Xl.Provider,{value:p,children:e})};function vR(){return new Map}function yS(e=!0){const t=A.useContext(Xl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:i}=t,r=A.useId();A.useEffect(()=>{if(e)return i(r)},[e]);const s=A.useCallback(()=>e&&o&&o(r),[r,o,e]);return!n&&o?[!1,s]:[!0]}const hs=e=>e.key||"";function o0(e){const t=[];return A.Children.forEach(e,n=>{A.isValidElement(n)&&t.push(n)}),t}const Wt=({children:e,custom:t,initial:n=!0,onExitComplete:o,presenceAffectsLayout:i=!0,mode:r="sync",propagate:s=!1,anchorX:a="left",root:l})=>{const[u,d]=yS(s),h=A.useMemo(()=>o0(e),[e]),p=s&&!u?[]:h.map(hs),g=A.useRef(!0),v=A.useRef(h),T=jd(()=>new Map),[w,S]=A.useState(h),[y,x]=A.useState(h);Nx(()=>{g.current=!1,v.current=h;for(let C=0;C<y.length;C++){const k=hs(y[C]);p.includes(k)?T.delete(k):T.get(k)!==!0&&T.set(k,!1)}},[y,p.length,p.join("-")]);const E=[];if(h!==w){let C=[...h];for(let k=0;k<y.length;k++){const _=y[k],b=hs(_);p.includes(b)||(C.splice(k,0,_),E.push(_))}return r==="wait"&&E.length&&(C=E),x(o0(C)),S(h),null}const{forceRender:I}=A.useContext(qd);return m.jsx(m.Fragment,{children:y.map(C=>{const k=hs(C),_=s&&!u?!1:h===y||p.includes(k),b=()=>{if(T.has(k))T.set(k,!0);else return;let M=!0;T.forEach(L=>{L||(M=!1)}),M&&(I==null||I(),x(v.current),s&&(d==null||d()),o&&o())};return m.jsx(yR,{isPresent:_,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:r,root:l,onExitComplete:_?void 0:b,anchorX:a,children:C},k)})})},vS=A.createContext({strict:!1}),i0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Si={};for(const e in i0)Si[e]={isEnabled:t=>i0[e].some(n=>!!t[n])};function xR(e){for(const t in e)Si[t]={...Si[t],...e[t]}}const SR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||SR.has(e)}let xS=e=>!xl(e);function TR(e){typeof e=="function"&&(xS=t=>t.startsWith("on")?!xl(t):e(t))}try{TR(require("@emotion/is-prop-valid").default)}catch{}function wR(e,t,n){const o={};for(const i in e)i==="values"&&typeof e.values=="object"||(xS(i)||n===!0&&xl(i)||!t&&!xl(i)||e.draggable&&i.startsWith("onDrag"))&&(o[i]=e[i]);return o}const Ql=A.createContext({});function Zl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Rr(e){return typeof e=="string"||Array.isArray(e)}const gf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yf=["initial",...gf];function ea(e){return Zl(e.animate)||yf.some(t=>Rr(e[t]))}function SS(e){return!!(ea(e)||e.variants)}function ER(e,t){if(ea(e)){const{initial:n,animate:o}=e;return{initial:n===!1||Rr(n)?n:void 0,animate:Rr(o)?o:void 0}}return e.inherit!==!1?t:{}}function CR(e){const{initial:t,animate:n}=ER(e,A.useContext(Ql));return A.useMemo(()=>({initial:t,animate:n}),[r0(t),r0(n)])}function r0(e){return Array.isArray(e)?e.join(" "):e}function s0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Oi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(te.test(e))e=parseFloat(e);else return e;const n=s0(e,t.target.x),o=s0(e,t.target.y);return`${n}% ${o}%`}},NR={correct:(e,{treeScale:t,projectionDelta:n})=>{const o=e,i=Yn.parse(e);if(i.length>5)return o;const r=Yn.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=Ae(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),r(i)}},wc={borderRadius:{...Oi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oi,borderTopRightRadius:Oi,borderBottomLeftRadius:Oi,borderBottomRightRadius:Oi,boxShadow:NR};function TS(e,{layout:t,layoutId:n}){return bi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wc[e]||e==="opacity")}const IR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kR=Ai.length;function _R(e,t,n){let o="",i=!0;for(let r=0;r<kR;r++){const s=Ai[r],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=dS(a,ff[s]);if(!l){i=!1;const d=IR[s]||s;o+=`${d}(${u}) `}n&&(t[s]=u)}}return o=o.trim(),n?o=n(t,i?"":o):i&&(o="none"),o}function vf(e,t,n){const{style:o,vars:i,transformOrigin:r}=e;let s=!1,a=!1;for(const l in t){const u=t[l];if(bi.has(l)){s=!0;continue}else if(Ox(l)){i[l]=u;continue}else{const d=dS(u,ff[l]);l.startsWith("origin")?(a=!0,r[l]=d):o[l]=d}}if(t.transform||(s||n?o.transform=_R(t,e.transform,n):o.transform&&(o.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=r;o.transformOrigin=`${l} ${u} ${d}`}}const xf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wS(e,t,n){for(const o in t)!ot(t[o])&&!TS(o,n)&&(e[o]=t[o])}function AR({transformTemplate:e},t){return A.useMemo(()=>{const n=xf();return vf(n,t,e),Object.assign({},n.vars,n.style)},[t])}function bR(e,t){const n=e.style||{},o={};return wS(o,n,e),Object.assign(o,AR(e,t)),o}function PR(e,t){const n={},o=bR(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const RR={offset:"stroke-dashoffset",array:"stroke-dasharray"},MR={offset:"strokeDashoffset",array:"strokeDasharray"};function DR(e,t,n=1,o=0,i=!0){e.pathLength=1;const r=i?RR:MR;e[r.offset]=te.transform(-o);const s=te.transform(t),a=te.transform(n);e[r.array]=`${s} ${a}`}function ES(e,{attrX:t,attrY:n,attrScale:o,pathLength:i,pathSpacing:r=1,pathOffset:s=0,...a},l,u,d){if(vf(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),o!==void 0&&(h.scale=o),i!==void 0&&DR(h,i,r,s,!1)}const CS=()=>({...xf(),attrs:{}}),NS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function LR(e,t,n,o){const i=A.useMemo(()=>{const r=CS();return ES(r,t,NS(o),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};wS(r,e.style,e),i.style={...r,...i.style}}return i}const FR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sf(e){return typeof e!="string"||e.includes("-")?!1:!!(FR.indexOf(e)>-1||/[A-Z]/u.test(e))}function UR(e,t,n,{latestValues:o},i,r=!1){const a=(Sf(e)?LR:PR)(t,o,i,e),l=wR(t,typeof e=="string",r),u=e!==A.Fragment?{...l,...a,ref:n}:{},{children:d}=t,h=A.useMemo(()=>ot(d)?d.get():d,[d]);return A.createElement(e,{...u,children:h})}function l0(e){const t=[{},{}];return e==null||e.values.forEach((n,o)=>{t[0][o]=n.get(),t[1][o]=n.getVelocity()}),t}function Tf(e,t,n,o){if(typeof t=="function"){const[i,r]=l0(o);t=t(n!==void 0?n:e.custom,i,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,r]=l0(o);t=t(n!==void 0?n:e.custom,i,r)}return t}function Fs(e){return ot(e)?e.get():e}function VR({scrapeMotionValuesFromProps:e,createRenderState:t},n,o,i){return{latestValues:GR(n,o,i,e),renderState:t()}}function GR(e,t,n,o){const i={},r=o(e,{});for(const p in r)i[p]=Fs(r[p]);let{initial:s,animate:a}=e;const l=ea(e),u=SS(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const h=d?a:s;if(h&&typeof h!="boolean"&&!Zl(h)){const p=Array.isArray(h)?h:[h];for(let g=0;g<p.length;g++){const v=Tf(e,p[g]);if(v){const{transitionEnd:T,transition:w,...S}=v;for(const y in S){let x=S[y];if(Array.isArray(x)){const E=d?x.length-1:0;x=x[E]}x!==null&&(i[y]=x)}for(const y in T)i[y]=T[y]}}}return i}const IS=e=>(t,n)=>{const o=A.useContext(Ql),i=A.useContext(Xl),r=()=>VR(e,t,o,i);return n?r():jd(r)};function wf(e,t,n){var r;const{style:o}=e,i={};for(const s in o)(ot(o[s])||t.style&&ot(t.style[s])||TS(s,e)||((r=n==null?void 0:n.getValue(s))==null?void 0:r.liveStyle)!==void 0)&&(i[s]=o[s]);return i}const BR=IS({scrapeMotionValuesFromProps:wf,createRenderState:xf});function kS(e,t,n){const o=wf(e,t,n);for(const i in e)if(ot(e[i])||ot(t[i])){const r=Ai.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;o[r]=e[i]}return o}const zR=IS({scrapeMotionValuesFromProps:kS,createRenderState:CS}),OR=Symbol.for("motionComponentSymbol");function Xo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function HR(e,t,n){return A.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):Xo(n)&&(n.current=o))},[t])}const Ef=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$R="framerAppearId",_S="data-"+Ef($R),AS=A.createContext({});function qR(e,t,n,o,i){var T,w;const{visualElement:r}=A.useContext(Ql),s=A.useContext(vS),a=A.useContext(Xl),l=A.useContext(mf).reducedMotion,u=A.useRef(null);o=o||s.renderer,!u.current&&o&&(u.current=o(e,{visualState:t,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=A.useContext(AS);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&jR(u.current,n,i,h);const p=A.useRef(!1);A.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const g=n[_S],v=A.useRef(!!g&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,g))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,g)));return Nx(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),A.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,g)}),v.current=!1),d.enteringChildren=void 0)}),d}function jR(e,t,n,o){const{layoutId:i,layout:r,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bS(e.parent)),e.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!s||a&&Xo(a),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:o,crossfade:d,layoutScroll:l,layoutRoot:u})}function bS(e){if(e)return e.options.allowProjection!==!1?e.projection:bS(e.parent)}function Oa(e,{forwardMotionProps:t=!1}={},n,o){n&&xR(n);const i=Sf(e)?zR:BR;function r(a,l){let u;const d={...A.useContext(mf),...a,layoutId:JR(a)},{isStatic:h}=d,p=CR(a),g=i(a,h);if(!h&&Jd){WR();const v=KR(d);u=v.MeasureLayout,p.visualElement=qR(e,g,d,o,v.ProjectionNode)}return m.jsxs(Ql.Provider,{value:p,children:[u&&p.visualElement?m.jsx(u,{visualElement:p.visualElement,...d}):null,UR(e,a,HR(g,p.visualElement,l),g,h,t)]})}r.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=A.forwardRef(r);return s[OR]=e,s}function JR({layoutId:e}){const t=A.useContext(qd).id;return t&&e!==void 0?t+"-"+e:e}function WR(e,t){A.useContext(vS).strict}function KR(e){const{drag:t,layout:n}=Si;if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function YR(e,t){if(typeof Proxy>"u")return Oa;const n=new Map,o=(r,s)=>Oa(r,s,e,t),i=(r,s)=>o(r,s);return new Proxy(i,{get:(r,s)=>s==="create"?o:(n.has(s)||n.set(s,Oa(s,void 0,e,t)),n.get(s))})}function PS({top:e,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:e,max:o}}}function XR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function QR(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function Ha(e){return e===void 0||e===1}function Ec({scale:e,scaleX:t,scaleY:n}){return!Ha(e)||!Ha(t)||!Ha(n)}function uo(e){return Ec(e)||RS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function RS(e){return a0(e.x)||a0(e.y)}function a0(e){return e&&e!=="0%"}function Sl(e,t,n){const o=e-n,i=t*o;return n+i}function u0(e,t,n,o,i){return i!==void 0&&(e=Sl(e,i,o)),Sl(e,n,o)+t}function Cc(e,t=0,n=1,o,i){e.min=u0(e.min,t,n,o,i),e.max=u0(e.max,t,n,o,i)}function MS(e,{x:t,y:n}){Cc(e.x,t.translate,t.scale,t.originPoint),Cc(e.y,n.translate,n.scale,n.originPoint)}const c0=.999999999999,d0=1.0000000000001;function ZR(e,t,n,o=!1){const i=n.length;if(!i)return;t.x=t.y=1;let r,s;for(let a=0;a<i;a++){r=n[a],s=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(o&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Zo(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,MS(e,s)),o&&uo(r.latestValues)&&Zo(e,r.latestValues))}t.x<d0&&t.x>c0&&(t.x=1),t.y<d0&&t.y>c0&&(t.y=1)}function Qo(e,t){e.min=e.min+t,e.max=e.max+t}function f0(e,t,n,o,i=.5){const r=Ae(e.min,e.max,i);Cc(e,t,n,r,o)}function Zo(e,t){f0(e.x,t.x,t.scaleX,t.scale,t.originX),f0(e.y,t.y,t.scaleY,t.scale,t.originY)}function DS(e,t){return PS(QR(e.getBoundingClientRect(),t))}function eM(e,t,n){const o=DS(e,n),{scroll:i}=t;return i&&(Qo(o.x,i.offset.x),Qo(o.y,i.offset.y)),o}const p0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ei=()=>({x:p0(),y:p0()}),h0=()=>({min:0,max:0}),ze=()=>({x:h0(),y:h0()}),Nc={current:null},LS={current:!1};function tM(){if(LS.current=!0,!!Jd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Nc.current=e.matches;e.addEventListener("change",t),t()}else Nc.current=!1}const nM=new WeakMap;function oM(e,t,n){for(const o in t){const i=t[o],r=n[o];if(ot(i))e.addValue(o,i);else if(ot(r))e.addValue(o,xi(i,{owner:e}));else if(r!==i)if(e.hasValue(o)){const s=e.getValue(o);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(o);e.addValue(o,xi(s!==void 0?s:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const m0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iM{scrapeMotionValuesFromProps(t,n,o){return{}}constructor({parent:t,props:n,presenceContext:o,reducedMotionConfig:i,blockInitialAnimation:r,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=mt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ie.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=ea(n),this.isVariantNode=SS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&ot(g)&&g.set(l[p])}}mount(t){var n;this.current=t,nM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,i)=>this.bindToMotionValue(i,o)),LS.current||tM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nc.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Kn(this.notifyUpdate),Kn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const o=this.features[n];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=bi.has(t);o&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Si){const n=Si[t];if(!n)continue;const{isEnabled:o,Feature:i}=n;if(!this.features[t]&&i&&o(this.props)&&(this.features[t]=new i(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<m0.length;o++){const i=m0[o];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,s=t[r];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=oM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const o=this.values.get(t);n!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&n!==void 0&&(o=xi(n===null?void 0:n,{owner:this}),this.addValue(t,o)),o}readValue(t,n){let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(Ix(o)||_x(o))?o=parseFloat(o):!fR(o)&&Yn.test(n)&&(o=cS(t,n)),this.setBaseTarget(t,ot(o)?o.get():o)),ot(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const s=Tf(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);s&&(o=s[t])}if(n&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ot(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Qd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){pf.render(this.render)}}class FS extends iM{constructor(){super(...arguments),this.KeyframeResolver=eR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:o}){delete n[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ot(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function US(e,{style:t,vars:n},o,i){const r=e.style;let s;for(s in t)r[s]=t[s];i==null||i.applyProjectionStyles(r,o);for(s in n)r.setProperty(s,n[s])}function rM(e){return window.getComputedStyle(e)}class sM extends FS{constructor(){super(...arguments),this.type="html",this.renderInstance=US}readValueFromInstance(t,n){var o;if(bi.has(n))return(o=this.projection)!=null&&o.isProjecting?mc(n):xP(t,n);{const i=rM(t),r=(Ox(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return DS(t,n)}build(t,n,o){vf(t,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,n,o){return wf(t,n,o)}}const VS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lM(e,t,n,o){US(e,t,void 0,o);for(const i in t.attrs)e.setAttribute(VS.has(i)?i:Ef(i),t.attrs[i])}class aM extends FS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(bi.has(n)){const o=uS(n);return o&&o.default||0}return n=VS.has(n)?n:Ef(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,o){return kS(t,n,o)}build(t,n,o){ES(t,n,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(t,n,o,i){lM(t,n,o,i)}mount(t){this.isSVGTag=NS(t.tagName),super.mount(t)}}const uM=(e,t)=>Sf(e)?new aM(t):new sM(t,{allowProjection:e!==A.Fragment});function ci(e,t,n){const o=e.getProps();return Tf(o,t,n!==void 0?n:o.custom,e)}const Ic=e=>Array.isArray(e);function cM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xi(n))}function dM(e){return Ic(e)?e[e.length-1]||0:e}function fM(e,t){const n=ci(e,t);let{transitionEnd:o={},transition:i={},...r}=n||{};r={...r,...o};for(const s in r){const a=dM(r[s]);cM(e,s,a)}}function pM(e){return!!(ot(e)&&e.add)}function kc(e,t){const n=e.getValue("willChange");if(pM(n))return n.add(t);if(!n&&Cn.WillChange){const o=new Cn.WillChange("auto");e.addValue("willChange",o),o.add(t)}}function GS(e){return e.props[_S]}const hM=e=>e!==null;function mM(e,{repeat:t,repeatType:n="loop"},o){const i=e.filter(hM),r=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[r]}const gM={type:"spring",stiffness:500,damping:25,restSpeed:10},yM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vM={type:"keyframes",duration:.8},xM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SM=(e,{keyframes:t})=>t.length>2?vM:bi.has(e)?e.startsWith("scale")?yM(t[1]):gM:xM;function TM({when:e,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:i,repeat:r,repeatType:s,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Cf=(e,t,n,o={},i,r)=>s=>{const a=df(o,e)||{},l=a.delay||o.delay||0;let{elapsed:u=0}=o;u=u-dn(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:r?void 0:i};TM(a)||Object.assign(d,SM(e,d)),d.duration&&(d.duration=dn(d.duration)),d.repeatDelay&&(d.repeatDelay=dn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Sc(d),d.delay===0&&(h=!0)),(Cn.instantAnimations||Cn.skipAnimations)&&(h=!0,Sc(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!r&&t.get()!==void 0){const p=mM(d.keyframes,a);if(p!==void 0){Ie.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new uf(d):new OP(d)};function wM({protectedKeys:e,needsAnimating:t},n){const o=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,o}function BS(e,t,{delay:n=0,transitionOverride:o,type:i}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:s,...a}=t;o&&(r=o);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),p=a[d];if(p===void 0||u&&wM(u,d))continue;const g={delay:n,...df(r||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const S=GS(e);if(S){const y=window.MotionHandoffAnimation(S,d,Ie);y!==null&&(g.startTime=y,T=!0)}}kc(e,d),h.start(Cf(d,h,p,e.shouldReduceMotion&&sS.has(d)?{type:!1}:g,e,T));const w=h.animation;w&&l.push(w)}return s&&Promise.all(l).then(()=>{Ie.update(()=>{s&&fM(e,s)})}),l}function zS(e,t,n,o=0,i=1){const r=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),s=e.size,a=(s-1)*o;return typeof n=="function"?n(r,s):i===1?r*o:a-r*o}function _c(e,t,n={}){var l;const o=ci(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(i=n.transitionOverride);const r=o?()=>Promise.all(BS(e,o,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=i;return EM(e,t,u,d,h,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[r,s]:[s,r];return u().then(()=>d())}else return Promise.all([r(),s(n.delay)])}function EM(e,t,n=0,o=0,i=0,r=1,s){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(_c(l,t,{...s,delay:n+(typeof o=="function"?0:o)+zS(e.variantChildren,l,o,i,r)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function CM(e,t,n={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const i=t.map(r=>_c(e,r,n));o=Promise.all(i)}else if(typeof t=="string")o=_c(e,t,n);else{const i=typeof t=="function"?ci(e,t,n.custom):t;o=Promise.all(BS(e,i,n))}return o.then(()=>{e.notify("AnimationComplete",t)})}function OS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}const NM=yf.length;function HS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?HS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<NM;n++){const o=yf[n],i=e.props[o];(Rr(i)||i===!1)&&(t[o]=i)}return t}const IM=[...gf].reverse(),kM=gf.length;function _M(e){return t=>Promise.all(t.map(({animation:n,options:o})=>CM(e,n,o)))}function AM(e){let t=_M(e),n=g0(),o=!0;const i=l=>(u,d)=>{var p;const h=ci(e,d,l==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:g,transitionEnd:v,...T}=h;u={...u,...T,...v}}return u};function r(l){t=l(e)}function s(l){const{props:u}=e,d=HS(e.parent)||{},h=[],p=new Set;let g={},v=1/0;for(let w=0;w<kM;w++){const S=IM[w],y=n[S],x=u[S]!==void 0?u[S]:d[S],E=Rr(x),I=S===l?y.isActive:null;I===!1&&(v=w);let C=x===d[S]&&x!==u[S]&&E;if(C&&o&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...g},!y.isActive&&I===null||!x&&!y.prevProp||Zl(x)||typeof x=="boolean")continue;const k=bM(y.prevProp,x);let _=k||S===l&&y.isActive&&!C&&E||w>v&&E,b=!1;const M=Array.isArray(x)?x:[x];let L=M.reduce(i(S),{});I===!1&&(L={});const{prevResolvedValues:ne={}}=y,j={...ne,...L},$=X=>{_=!0,p.has(X)&&(b=!0,p.delete(X)),y.needsAnimating[X]=!0;const D=e.getValue(X);D&&(D.liveStyle=!1)};for(const X in j){const D=L[X],U=ne[X];if(g.hasOwnProperty(X))continue;let B=!1;Ic(D)&&Ic(U)?B=!OS(D,U):B=D!==U,B?D!=null?$(X):p.add(X):D!==void 0&&p.has(X)?$(X):y.protectedKeys[X]=!0}y.prevProp=x,y.prevResolvedValues=L,y.isActive&&(g={...g,...L}),o&&e.blockInitialAnimation&&(_=!1);const ae=C&&k;_&&(!ae||b)&&h.push(...M.map(X=>{const D={type:S};if(typeof X=="string"&&o&&!ae&&e.manuallyAnimateOnMount&&e.parent){const{parent:U}=e,B=ci(U,X);if(U.enteringChildren&&B){const{delayChildren:oe}=B.transition||{};D.delay=zS(U.enteringChildren,e,oe)}}return{animation:X,options:D}}))}if(p.size){const w={};if(typeof u.initial!="boolean"){const S=ci(e,Array.isArray(u.initial)?u.initial[0]:u.initial);S&&S.transition&&(w.transition=S.transition)}p.forEach(S=>{const y=e.getBaseTarget(S),x=e.getValue(S);x&&(x.liveStyle=!0),w[S]=y??null}),h.push({animation:w})}let T=!!h.length;return o&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(T=!1),o=!1,T?t(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=s(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=g0()}}}function bM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!OS(t,e):!1}function io(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g0(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}class to{constructor(t){this.isMounted=!1,this.node=t}update(){}}class PM extends to{constructor(t){super(t),t.animationState||(t.animationState=AM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let RM=0;class MM extends to{constructor(){super(...arguments),this.id=RM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const DM={animation:{Feature:PM},exit:{Feature:MM}};function Mr(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}function Or(e){return{point:{x:e.pageX,y:e.pageY}}}const LM=e=>t=>hf(t)&&e(t,Or(t));function lr(e,t,n,o){return Mr(e,t,LM(n),o)}const $S=1e-4,FM=1-$S,UM=1+$S,qS=.01,VM=0-qS,GM=0+qS;function at(e){return e.max-e.min}function BM(e,t,n){return Math.abs(e-t)<=n}function y0(e,t,n,o=.5){e.origin=o,e.originPoint=Ae(t.min,t.max,e.origin),e.scale=at(n)/at(t),e.translate=Ae(n.min,n.max,e.origin)-e.originPoint,(e.scale>=FM&&e.scale<=UM||isNaN(e.scale))&&(e.scale=1),(e.translate>=VM&&e.translate<=GM||isNaN(e.translate))&&(e.translate=0)}function ar(e,t,n,o){y0(e.x,t.x,n.x,o?o.originX:void 0),y0(e.y,t.y,n.y,o?o.originY:void 0)}function v0(e,t,n){e.min=n.min+t.min,e.max=e.min+at(t)}function zM(e,t,n){v0(e.x,t.x,n.x),v0(e.y,t.y,n.y)}function x0(e,t,n){e.min=t.min-n.min,e.max=e.min+at(t)}function Tl(e,t,n){x0(e.x,t.x,n.x),x0(e.y,t.y,n.y)}function _t(e){return[e("x"),e("y")]}const jS=({current:e})=>e?e.ownerDocument.defaultView:null,S0=(e,t)=>Math.abs(e-t);function OM(e,t){const n=S0(e.x,t.x),o=S0(e.y,t.y);return Math.sqrt(n**2+o**2)}class JS{constructor(t,n,{transformPagePoint:o,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=qa(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=OM(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:T}=p,{timestamp:w}=Ye;this.history.push({...T,timestamp:w});const{onStart:S,onMove:y}=this.handlers;g||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=$a(g,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:T,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=qa(p.type==="pointercancel"?this.lastMoveEventInfo:$a(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,S),T&&T(p,S)},!hf(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=o,this.distanceThreshold=s,this.contextWindow=i||window;const a=Or(t),l=$a(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=Ye;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,qa(l,this.history)),this.removeListeners=Gr(lr(this.contextWindow,"pointermove",this.handlePointerMove),lr(this.contextWindow,"pointerup",this.handlePointerUp),lr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Kn(this.updatePoint)}}function $a(e,t){return t?{point:t(e.point)}:e}function T0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qa({point:e},t){return{point:e,delta:T0(e,WS(t)),offset:T0(e,HM(t)),velocity:$M(t,.1)}}function HM(e){return e[0]}function WS(e){return e[e.length-1]}function $M(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const i=WS(e);for(;n>=0&&(o=e[n],!(i.timestamp-o.timestamp>dn(t)));)n--;if(!o)return{x:0,y:0};const r=Mt(i.timestamp-o.timestamp);if(r===0)return{x:0,y:0};const s={x:(i.x-o.x)/r,y:(i.y-o.y)/r};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function qM(e,{min:t,max:n},o){return t!==void 0&&e<t?e=o?Ae(t,e,o.min):Math.max(e,t):n!==void 0&&e>n&&(e=o?Ae(n,e,o.max):Math.min(e,n)),e}function w0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function jM(e,{top:t,left:n,bottom:o,right:i}){return{x:w0(e.x,n,i),y:w0(e.y,t,o)}}function E0(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}function JM(e,t){return{x:E0(e.x,t.x),y:E0(e.y,t.y)}}function WM(e,t){let n=.5;const o=at(e),i=at(t);return i>o?n=Ar(t.min,t.max-o,e.min):o>i&&(n=Ar(e.min,e.max-i,t.min)),En(0,1,n)}function KM(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ac=.35;function YM(e=Ac){return e===!1?e=0:e===!0&&(e=Ac),{x:C0(e,"left","right"),y:C0(e,"top","bottom")}}function C0(e,t,n){return{min:N0(e,t),max:N0(e,n)}}function N0(e,t){return typeof e=="number"?e:e[t]||0}const XM=new WeakMap;class QM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:o}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Or(h).point)},s=(h,p)=>{const{drag:g,dragPropagation:v,onDragStart:T}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iR(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_t(S=>{let y=this.getAxisMotionValue(S).get()||0;if(fn.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const E=x.layout.layoutBox[S];E&&(y=at(E)*(parseFloat(y)/100))}}this.originPoint[S]=y}),T&&Ie.postRender(()=>T(h,p)),kc(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:T,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:S}=p;if(v&&this.currentDirection===null){this.currentDirection=ZM(S),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),w&&w(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>_t(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new JS(t,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:o,contextWindow:jS(this.visualElement)})}stop(t,n){const o=t||this.latestPointerEvent,i=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!o)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ie.postRender(()=>a(o,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:i}=this.getProps();if(!o||!ms(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let s=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(s=qM(s,this.constraints[t],this.elastic[t])),r.set(s)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;t&&Xo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=jM(o.layoutBox,t):this.constraints=!1,this.elastic=YM(n),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&_t(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=KM(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xo(t))return!1;const o=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=eM(o,i.root,this.visualElement.getTransformPagePoint());let s=JM(i.layout.layoutBox,r);if(n){const a=n(XR(s));this.hasMutatedConstraints=!!a,a&&(s=PS(a))}return s}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:i,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=_t(d=>{if(!ms(d,n,this.currentDirection))return;let h=l&&l[d]||{};s&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:o?t[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return kc(this.visualElement,t),o.start(Cf(t,o,0,n,this.visualElement,!1))}stopAnimation(){_t(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_t(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),i=o[n];return i||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){_t(n=>{const{drag:o}=this.getProps();if(!ms(n,o,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];r.set(t[n]-Ae(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!Xo(n)||!o||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_t(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=WM({min:l,max:l},this.constraints[s])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),_t(s=>{if(!ms(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Ae(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;XM.set(this.visualElement,this);const t=this.visualElement.current,n=lr(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),o=()=>{const{dragConstraints:l}=this.getProps();Xo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",o);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ie.read(o);const s=Mr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(_t(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),r(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:s=Ac,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:i,dragConstraints:r,dragElastic:s,dragMomentum:a}}}function ms(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ZM(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class e5 extends to{constructor(t){super(t),this.removeGroupControls=Ft,this.removeListeners=Ft,this.controls=new QM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ft}unmount(){this.removeGroupControls(),this.removeListeners()}}const I0=e=>(t,n)=>{e&&Ie.postRender(()=>e(t,n))};class t5 extends to{constructor(){super(...arguments),this.removePointerDownListener=Ft}onPointerDown(t){this.session=new JS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:o,onPanEnd:i}=this.node.getProps();return{onSessionStart:I0(t),onStart:I0(n),onMove:o,onEnd:(r,s)=>{delete this.session,i&&Ie.postRender(()=>i(r,s))}}}mount(){this.removePointerDownListener=lr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Us={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ja=!1;class n5 extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o,layoutId:i}=this.props,{projection:r}=t;r&&(n.group&&n.group.add(r),o&&o.register&&i&&o.register(r),ja&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Us.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:o,drag:i,isPresent:r}=this.props,{projection:s}=o;return s&&(s.isPresent=r,ja=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==r?s.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?s.promote():s.relegate()||Ie.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),pf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:i}=t;ja=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),o&&o.deregister&&o.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function KS(e){const[t,n]=yS(),o=A.useContext(qd);return m.jsx(n5,{...e,layoutGroup:o,switchLayoutGroup:A.useContext(AS),isPresent:t,safeToRemove:n})}function o5(e,t,n){const o=ot(e)?e:xi(e);return o.start(Cf("",o,t,n)),o.animation}const i5=(e,t)=>e.depth-t.depth;class r5{constructor(){this.children=[],this.isDirty=!1}add(t){Wd(this.children,t),this.isDirty=!0}remove(t){Kd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(i5),this.isDirty=!1,this.children.forEach(t)}}function s5(e,t){const n=mt.now(),o=({timestamp:i})=>{const r=i-n;r>=t&&(Kn(o),e(r-t))};return Ie.setup(o,!0),()=>Kn(o)}const YS=["TopLeft","TopRight","BottomLeft","BottomRight"],l5=YS.length,k0=e=>typeof e=="string"?parseFloat(e):e,_0=e=>typeof e=="number"||te.test(e);function a5(e,t,n,o,i,r){i?(e.opacity=Ae(0,n.opacity??1,u5(o)),e.opacityExit=Ae(t.opacity??1,0,c5(o))):r&&(e.opacity=Ae(t.opacity??1,n.opacity??1,o));for(let s=0;s<l5;s++){const a=`border${YS[s]}Radius`;let l=A0(t,a),u=A0(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||_0(l)===_0(u)?(e[a]=Math.max(Ae(k0(l),k0(u),o),0),(fn.test(u)||fn.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Ae(t.rotate||0,n.rotate||0,o))}function A0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const u5=XS(0,.5,Fx),c5=XS(.5,.95,Ft);function XS(e,t,n){return o=>o<e?0:o>t?1:n(Ar(e,t,o))}function b0(e,t){e.min=t.min,e.max=t.max}function $t(e,t){b0(e.x,t.x),b0(e.y,t.y)}function P0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function R0(e,t,n,o,i){return e-=t,e=Sl(e,1/n,o),i!==void 0&&(e=Sl(e,1/i,o)),e}function d5(e,t=0,n=1,o=.5,i,r=e,s=e){if(fn.test(t)&&(t=parseFloat(t),t=Ae(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Ae(r.min,r.max,o);e===r&&(a-=t),e.min=R0(e.min,t,n,a,i),e.max=R0(e.max,t,n,a,i)}function M0(e,t,[n,o,i],r,s){d5(e,t[n],t[o],t[i],t.scale,r,s)}const f5=["x","scaleX","originX"],p5=["y","scaleY","originY"];function D0(e,t,n,o){M0(e.x,t,f5,n?n.x:void 0,o?o.x:void 0),M0(e.y,t,p5,n?n.y:void 0,o?o.y:void 0)}function L0(e){return e.translate===0&&e.scale===1}function QS(e){return L0(e.x)&&L0(e.y)}function F0(e,t){return e.min===t.min&&e.max===t.max}function h5(e,t){return F0(e.x,t.x)&&F0(e.y,t.y)}function U0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ZS(e,t){return U0(e.x,t.x)&&U0(e.y,t.y)}function V0(e){return at(e.x)/at(e.y)}function G0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class m5{constructor(){this.members=[]}add(t){Wd(this.members,t),t.scheduleRender()}remove(t){if(Kd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let o;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){o=r;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function g5(e,t,n){let o="";const i=e.x.translate/t.x,r=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||r||s)&&(o=`translate3d(${i}px, ${r}px, ${s}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:g,skewY:v}=n;u&&(o=`perspective(${u}px) ${o}`),d&&(o+=`rotate(${d}deg) `),h&&(o+=`rotateX(${h}deg) `),p&&(o+=`rotateY(${p}deg) `),g&&(o+=`skewX(${g}deg) `),v&&(o+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(o+=`scale(${a}, ${l})`),o||"none"}const Ja=["","X","Y","Z"],y5=1e3;let v5=0;function Wa(e,t,n,o){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),o&&(o[e]=0))}function eT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=GS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ie,!(i||r))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&eT(o)}function tT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=v5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(T5),this.nodes.forEach(N5),this.nodes.forEach(I5),this.nodes.forEach(w5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new r5)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Qd),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=gS(s)&&!cR(s),this.instance=s;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const p=()=>this.root.updateBlockedByResize=!1;Ie.read(()=>{h=window.innerWidth}),e(s,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,d&&d(),d=s5(p,250),Us.hasAnimatedSinceResize&&(Us.hasAnimatedSinceResize=!1,this.nodes.forEach(O0)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||P5,{onLayoutAnimationStart:T,onLayoutAnimationComplete:w}=u.getProps(),S=!this.targetLayout||!ZS(this.targetLayout,g),y=!h&&p;if(this.options.layoutRoot||this.resumeFrom||y||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...df(v,"layout"),onPlay:T,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,y)}else h||O0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Kn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k5),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(B0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(z0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(C5),this.nodes.forEach(x5),this.nodes.forEach(S5)):this.nodes.forEach(z0),this.clearAllSnapshots();const a=mt.now();Ye.delta=En(0,1e3/60,a-Ye.timestamp),Ye.timestamp=a,Ye.isProcessing=!0,Fa.update.process(Ye),Fa.preRender.process(Ye),Fa.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(E5),this.sharedNodes.forEach(_5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!at(this.snapshot.measuredBox.x)&&!at(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const l=o(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!QS(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&this.instance&&(a||uo(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),R5(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return ze();const a=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(M5))){const{scroll:d}=this.root;d&&(Qo(a.x,d.offset.x),Qo(a.y,d.offset.y))}return a}removeElementScroll(s){var l;const a=ze();if($t(a,s),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&$t(a,s),Qo(a.x,h.offset.x),Qo(a.y,h.offset.y))}return a}applyTransform(s,a=!1){const l=ze();$t(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Zo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),uo(d.latestValues)&&Zo(l,d.latestValues)}return uo(this.latestValues)&&Zo(l,this.latestValues),l}removeTransform(s){const a=ze();$t(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!uo(u.latestValues))continue;Ec(u.latestValues)&&u.updateSnapshot();const d=ze(),h=u.measurePageBox();$t(d,h),D0(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return uo(this.latestValues)&&D0(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Ye.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$t(this.target,this.layout.layoutBox),MS(this.target,this.targetDelta)):$t(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ec(this.parent.latestValues)||RS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,a,l){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Tl(this.relativeTargetOrigin,a,l),$t(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;$t(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;ZR(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ze());const{target:g}=s;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(P0(this.prevProjectionDelta.x,this.projectionDelta.x),P0(this.prevProjectionDelta.y,this.projectionDelta.y)),ar(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!G0(this.projectionDelta.x,this.prevProjectionDelta.x)||!G0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ei(),this.projectionDelta=ei(),this.projectionDeltaWithTransform=ei()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=ei();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ze(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,T=g!==v,w=this.getStack(),S=!w||w.members.length<=1,y=!!(T&&!S&&this.options.crossfade===!0&&!this.path.some(b5));this.animationProgress=0;let x;this.mixTargetDelta=E=>{const I=E/1e3;H0(h.x,s.x,I),H0(h.y,s.y,I),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A5(this.relativeTarget,this.relativeTargetOrigin,p,I),x&&h5(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ze()),$t(x,this.relativeTarget)),T&&(this.animationValues=d,a5(d,u,this.latestValues,I,y,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Kn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Us.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xi(0)),this.currentAnimation=o5(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),s.onUpdate&&s.onUpdate(d)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(y5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&nT(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ze();const h=at(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const p=at(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}$t(a,l),Zo(a,d),ar(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new m5),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Wa("z",s,u,this.animationValues);for(let d=0;d<Ja.length;d++)Wa(`rotate${Ja[d]}`,s,u,this.animationValues),Wa(`skew${Ja[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Fs(a==null?void 0:a.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Fs(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!uo(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=g5(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),s.transform=h;const{x:p,y:g}=this.projectionDelta;s.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?s.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in wc){if(d[v]===void 0)continue;const{correct:T,applyTo:w,isCSSVariable:S}=wc[v],y=h==="none"?d[v]:T(d[v],u);if(w){const x=w.length;for(let E=0;E<x;E++)s[w[E]]=y}else S?this.options.visualElement.renderState.vars[v]=y:s[v]=y}this.options.layoutId&&(s.pointerEvents=u===this?Fs(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(B0),this.root.sharedNodes.clear()}}}function x5(e){e.updateLayout()}function S5(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:i}=e.layout,{animationType:r}=e.options,s=t.source!==e.layout.source;r==="size"?_t(h=>{const p=s?t.measuredBox[h]:t.layoutBox[h],g=at(p);p.min=o[h].min,p.max=p.min+g}):nT(r,t.layoutBox,o)&&_t(h=>{const p=s?t.measuredBox[h]:t.layoutBox[h],g=at(o[h]);p.max=p.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=ei();ar(a,o,t.layoutBox);const l=ei();s?ar(l,e.applyTransform(i,!0),t.measuredBox):ar(l,o,t.layoutBox);const u=!QS(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const v=ze();Tl(v,t.layoutBox,p.layoutBox);const T=ze();Tl(T,o,g.layoutBox),ZS(v,T)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function T5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function w5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function E5(e){e.clearSnapshot()}function B0(e){e.clearMeasurements()}function z0(e){e.isLayoutDirty=!1}function C5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function O0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function N5(e){e.resolveTargetDelta()}function I5(e){e.calcProjection()}function k5(e){e.resetSkewAndRotation()}function _5(e){e.removeLeadSnapshot()}function H0(e,t,n){e.translate=Ae(t.translate,0,n),e.scale=Ae(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $0(e,t,n,o){e.min=Ae(t.min,n.min,o),e.max=Ae(t.max,n.max,o)}function A5(e,t,n,o){$0(e.x,t.x,n.x,o),$0(e.y,t.y,n.y,o)}function b5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const P5={duration:.45,ease:[.4,0,.1,1]},q0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),j0=q0("applewebkit/")&&!q0("chrome/")?Math.round:Ft;function J0(e){e.min=j0(e.min),e.max=j0(e.max)}function R5(e){J0(e.x),J0(e.y)}function nT(e,t,n){return e==="position"||e==="preserve-aspect"&&!BM(V0(t),V0(n),.2)}function M5(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const D5=tT({attachResizeListener:(e,t)=>Mr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ka={current:void 0},oT=tT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ka.current){const e=new D5({});e.mount(window),e.setOptions({layoutScroll:!0}),Ka.current=e}return Ka.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),L5={pan:{Feature:t5},drag:{Feature:e5,ProjectionNode:oT,MeasureLayout:KS}};function W0(e,t,n){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=o[i];r&&Ie.postRender(()=>r(t,Or(t)))}class F5 extends to{mount(){const{current:t}=this.node;t&&(this.unmount=rR(t,(n,o)=>(W0(this.node,o,"Start"),i=>W0(this.node,i,"End"))))}unmount(){}}class U5 extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gr(Mr(this.node.current,"focus",()=>this.onFocus()),Mr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function K0(e,t,n){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=o[i];r&&Ie.postRender(()=>r(t,Or(t)))}class V5 extends to{mount(){const{current:t}=this.node;t&&(this.unmount=uR(t,(n,o)=>(K0(this.node,o,"Start"),(i,{success:r})=>K0(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bc=new WeakMap,Ya=new WeakMap,G5=e=>{const t=bc.get(e.target);t&&t(e)},B5=e=>{e.forEach(G5)};function z5({root:e,...t}){const n=e||document;Ya.has(n)||Ya.set(n,{});const o=Ya.get(n),i=JSON.stringify(t);return o[i]||(o[i]=new IntersectionObserver(B5,{root:e,...t})),o[i]}function O5(e,t,n){const o=z5(t);return bc.set(e,n),o.observe(e),()=>{bc.delete(e),o.unobserve(e)}}const H5={some:0,all:1};class $5 extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:o,amount:i="some",once:r}=t,s={root:n?n.current:void 0,rootMargin:o,threshold:typeof i=="number"?i:H5[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(l)};return O5(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(q5(t,n))&&this.startObserver()}unmount(){}}function q5({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const j5={inView:{Feature:$5},tap:{Feature:V5},focus:{Feature:U5},hover:{Feature:F5}},J5={layout:{ProjectionNode:oT,MeasureLayout:KS}},W5={...DM,...j5,...L5,...J5},le=YR(W5,uM),Pc=({onClose:e})=>{const[t,n]=A.useState("keys"),[o,i]=A.useState(dx()),r=A.useRef(null),s=()=>{T2(o),e();const p=o.regionMode==="china"?" (DeepSeek/Zhipu)":o.regionMode==="overseas"?" (Groq/Gemini)":"";alert(`AI 
: ${p}`)},a=()=>{confirm(" prompt ")&&(localStorage.removeItem("PSYCHEPOLY_AI_CONFIG_V2"),window.location.reload())},l=()=>{const p="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(o,null,2)),g=document.createElement("a");g.setAttribute("href",p),g.setAttribute("download","psychepoly_ai_config.json"),document.body.appendChild(g),g.click(),g.remove()},u=()=>{var p;(p=r.current)==null||p.click()},d=p=>{var T;const g=(T=p.target.files)==null?void 0:T[0];if(!g)return;const v=new FileReader;v.onload=w=>{var S;try{const y=(S=w.target)==null?void 0:S.result,x=JSON.parse(y);x.geminiModel||x.systemPersona?(i({...o,...x}),alert("")):alert("")}catch{alert("JSON ")}},v.readAsText(g),r.current&&(r.current.value="")},h=(p,g,v,T,w,S,y,x)=>m.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("label",{className:`text-xs font-bold ${g} flex items-center gap-1`,children:p}),m.jsx("input",{type:"text",value:S,onChange:E=>y(E.target.value),className:"bg-slate-900 border border-slate-700 rounded px-2 py-0.5 text-[10px] text-slate-400 w-32 text-right",placeholder:"Model ID"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"password",value:v,onChange:E=>T(E.target.value),className:`w-full bg-slate-900 border rounded-lg px-3 py-2 text-sm text-white outline-none font-mono ${v?"border-slate-700":w?"border-teal-500/50":"border-slate-800"}`,placeholder:w?" Key ()":x}),!v&&w&&m.jsxs("div",{className:"absolute right-3 top-2.5 flex items-center gap-1 text-[10px] text-teal-500 pointer-events-none",children:[m.jsx(ub,{size:12})," "]})]})]});return m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"w-full max-w-2xl bg-slate-900 rounded-2xl border border-slate-700 shadow-2xl flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-teal-500/20 rounded-lg text-teal-400",children:m.jsx(Dm,{size:24})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold text-white",children:"AI "}),m.jsx("p",{className:"text-[10px] text-slate-400",children:"AI: Groq > OpenRouter > Zhipu > Gemini > P"})]})]}),m.jsx("button",{onClick:e,className:"text-slate-500 hover:text-white transition",children:m.jsx(Yl,{size:24})})]}),m.jsxs("div",{className:"flex border-b border-slate-800",children:[m.jsxs("button",{onClick:()=>n("keys"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition ${t==="keys"?"border-teal-500 text-teal-400 bg-slate-800/50":"border-transparent text-slate-500 hover:text-white"}`,children:[m.jsx(Y2,{size:16})," API  & "]}),m.jsxs("button",{onClick:()=>n("prompts"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition ${t==="prompts"?"border-teal-500 text-teal-400 bg-slate-800/50":"border-transparent text-slate-500 hover:text-white"}`,children:[m.jsx(nb,{size:16})," Prompt "]})]}),m.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1 custom-scrollbar",children:[t==="keys"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800 space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1",children:[m.jsx(Lm,{size:14,className:"text-teal-400"}),"  (Region Mode)"]}),m.jsx("div",{className:"text-[10px] text-slate-500 bg-slate-900 px-2 py-0.5 rounded border border-slate-800",children:o.regionMode==="auto"?".":""})]}),m.jsx("div",{className:"flex bg-slate-900 p-1 rounded-xl",children:[{id:"auto",label:"",icon:m.jsx(Dm,{size:14})},{id:"china",label:"",icon:m.jsx(Sx,{size:14})},{id:"overseas",label:"",icon:m.jsx(Lm,{size:14})}].map(p=>m.jsxs("button",{onClick:()=>i({...o,regionMode:p.id}),className:`flex-1 flex items-center justify-center gap-2 py-2 text-xs font-bold rounded-lg transition-all ${o.regionMode===p.id?"bg-teal-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:[p.icon,p.label]},p.id))}),m.jsx("p",{className:"text-[10px] text-slate-500 leading-relaxed px-1",children:o.regionMode==="china"?"DeepSeek &  ":o.regionMode==="overseas"?"Groq & Gemini ":""})]}),h("1. Groq (G) - ","text-orange-400",o.groqKey,p=>i({...o,groqKey:p}),!!lt.groq,o.groqModel,p=>i({...o,groqModel:p}),"gsk_..."),h("2. OpenRouter (O) - ","text-blue-400",o.openRouterKey,p=>i({...o,openRouterKey:p}),!!lt.openRouter,o.openRouterModel,p=>i({...o,openRouterModel:p}),"sk-or-..."),h("3. DeepSeek - ","text-cyan-400",o.deepseekKey,p=>i({...o,deepseekKey:p}),!!lt.deepseek,o.deepseekModel,p=>i({...o,deepseekModel:p}),"sk-..."),h("4. Zhipu () - ","text-red-400",o.zhipuKey,p=>i({...o,zhipuKey:p}),!!lt.zhipu,"glm-4-flash",p=>{}," API Key..."),h("5. Gemini (Flash 2.5) - ","text-teal-400",o.geminiKey,p=>i({...o,geminiKey:p}),!!lt.gemini,o.geminiModel,p=>i({...o,geminiModel:p}),"AIza..."),m.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg flex items-center gap-3 text-xs text-slate-400",children:[m.jsx($2,{size:16}),m.jsxs("span",{children:[" Key  ",m.jsx("strong",{children:"Pollinations.ai (P)"}),""]})]})]}),t==="prompts"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-teal-400 uppercase tracking-wider flex items-center gap-1",children:" (Soul)"}),m.jsx("textarea",{value:o.designPhilosophy,onChange:p=>i({...o,designPhilosophy:p.target.value}),className:"w-full h-28 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-300 focus:border-teal-500 outline-none resize-none font-mono leading-relaxed",placeholder:"..."}),m.jsx("p",{className:"text-[10px] text-slate-500",children:" AI "})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-purple-400 uppercase tracking-wider flex items-center gap-1",children:" (Identity)"}),m.jsx("textarea",{value:o.systemPersona,onChange:p=>i({...o,systemPersona:p.target.value}),className:"w-full h-32 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-300 focus:border-purple-500 outline-none resize-none font-mono leading-relaxed",placeholder:"[]... []..."}),m.jsx("p",{className:"text-[10px] text-slate-500",children:" AI "})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-green-400 uppercase tracking-wider flex items-center gap-1",children:" (Instruction)"}),m.jsx("textarea",{value:o.taskPromptTemplate,onChange:p=>i({...o,taskPromptTemplate:p.target.value}),className:"w-full h-40 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-300 focus:border-green-500 outline-none resize-none font-mono"}),m.jsx("p",{className:"text-[10px] text-slate-500",children:" JSON  (keys: standard, truth, dare, deep)"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-yellow-400 uppercase tracking-wider flex items-center gap-1",children:" (Logic)"}),m.jsx("textarea",{value:o.reportPromptTemplate,onChange:p=>i({...o,reportPromptTemplate:p.target.value}),className:"w-full h-40 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-300 focus:border-yellow-500 outline-none resize-none font-mono"}),m.jsx("p",{className:"text-[10px] text-slate-500",children:"Te, Ti, Fe"})]})]})]}),m.jsxs("div",{className:"p-5 border-t border-slate-800 flex flex-wrap gap-3 bg-slate-900/50 rounded-b-2xl",children:[m.jsx("input",{type:"file",ref:r,className:"hidden",accept:".json",onChange:d}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:u,className:"px-3 py-2 bg-slate-800 text-slate-400 rounded-lg text-xs font-bold hover:bg-slate-700 hover:text-white flex items-center gap-1 transition",title:"",children:[m.jsx(pb,{size:14})," "]}),m.jsxs("button",{onClick:l,className:"px-3 py-2 bg-slate-800 text-slate-400 rounded-lg text-xs font-bold hover:bg-slate-700 hover:text-white flex items-center gap-1 transition",title:"",children:[m.jsx(xx,{size:14})," "]})]}),m.jsx("div",{className:"flex-1"}),m.jsxs("button",{onClick:a,className:"px-4 py-2 bg-slate-800 text-slate-400 rounded-lg text-sm font-bold hover:text-white flex items-center gap-2 transition",children:[m.jsx(Ex,{size:16})," "]}),m.jsxs("button",{onClick:s,className:"px-6 py-2 bg-teal-600 hover:bg-teal-500 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-2 shadow-lg transition",children:[m.jsx(ab,{size:16})," "]})]})]})})},Y0={INTJ:{title:"",nickname:"",description:" and ",strengths:["","","",""],growth:["","",""],socialTip:""},INTP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ENTJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ENTP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},INFJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},INFP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ENFJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ENFP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ISTJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ISFJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ESTJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ESFJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ISTP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ISFP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ESTP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ESFP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""}},K5=({playerName:e,mbtiType:t,analysisResults:n,onBackToHub:o})=>{const[i,r]=xe.useState(t),s=Y0[i]||Y0.INTJ,a=kr[i]||"",l=ir[i]||[];let u="",d="";return Object.entries(Yt).forEach(([h,p])=>{p.types.includes(i)&&(u=h,d=p.hexColor)}),m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white overflow-y-auto touch-pan-y",children:[m.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[m.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/10 rounded-full blur-[150px]"}),m.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[50%] h-[50%] bg-teal-500/10 rounded-full blur-[150px]"})]}),m.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto px-6 py-12",children:[m.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[m.jsx("div",{className:"inline-block px-4 py-2 bg-gradient-to-r from-teal-500/20 to-purple-500/20 rounded-full border border-white/10 mb-6",children:m.jsx("span",{className:"text-sm font-bold text-teal-300",children:" AI "})}),m.jsxs("h1",{className:"text-4xl md:text-5xl font-black mb-4",children:[e||"",""]}),m.jsx("p",{className:"text-slate-400 text-lg",children:""})]}),m.jsxs(le.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"bg-slate-800/50 backdrop-blur-xl rounded-3xl border border-white/10 p-8 mb-8 text-center transition-all bg-gradient-to-b from-white/5 to-transparent",style:{borderColor:`${d}40`},children:[m.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full mb-6 text-4xl font-black bg-slate-900 shadow-xl",style:{color:d,boxShadow:`0 0 30px ${d}20`},children:i}),m.jsx("h2",{className:"text-3xl font-bold mb-2",children:s.title}),m.jsx("p",{className:"text-slate-400 mb-4",children:s.nickname}),m.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[m.jsx("span",{className:"px-3 py-1 bg-slate-700/50 rounded-full text-xs text-slate-300 border border-white/5",children:u}),m.jsxs("span",{className:"px-3 py-1 bg-slate-700/50 rounded-full text-xs text-slate-300 border border-white/5",children:[": ",a]})]}),m.jsx("p",{className:"text-slate-300 leading-relaxed max-w-lg mx-auto",children:s.description})]},i),n.length>0&&m.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-slate-800/30 backdrop-blur rounded-2xl border border-white/5 p-6 mb-8",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[m.jsx(ko,{size:20,className:"text-teal-400"}),"AI  ()"]}),m.jsx("div",{className:"space-y-3",children:n.map((h,p)=>m.jsxs("button",{onClick:()=>r(h.type),className:`w-full text-left flex items-center justify-between p-4 rounded-xl transition-all duration-200 group ${h.type===i?"bg-teal-500/20 border border-teal-500/50 shadow-[0_0_15px_rgba(20,184,166,0.1)]":"bg-slate-700/30 border border-transparent hover:bg-slate-700/50 hover:scale-[1.01]"}`,children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`w-2 h-10 rounded-full ${h.type===i?"bg-teal-400":"bg-slate-600"}`}),m.jsxs("div",{children:[m.jsx("span",{className:`font-black text-lg block ${h.type===i?"text-teal-300":"text-slate-300"}`,children:h.type}),m.jsx("span",{className:"text-slate-400 text-xs",children:h.reason})]})]}),m.jsxs("span",{className:`font-mono font-bold text-xl ${h.type===i?"text-teal-400":"text-slate-500"}`,children:[h.percentage,"%"]})]},h.type))})]}),m.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-slate-800/30 backdrop-blur rounded-2xl border border-white/5 p-6 mb-8",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[m.jsx(z2,{size:20,className:"text-purple-400"}),""]}),m.jsx("div",{className:"grid grid-cols-4 gap-2",children:l.slice(0,4).map((h,p)=>{const g=Rd.find(v=>v.id===h);return m.jsxs("div",{className:"p-3 rounded-xl text-center",style:{backgroundColor:`${g==null?void 0:g.color}20`},children:[m.jsx("div",{className:"font-bold text-lg",style:{color:g==null?void 0:g.color},children:h}),m.jsx("div",{className:"text-[10px] text-slate-400 mt-1",children:p===0?"":p===1?"":p===2?"":""})]},p)})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[m.jsxs(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-emerald-500/10 backdrop-blur rounded-2xl border border-emerald-500/20 p-6",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-emerald-400",children:[m.jsx(Hd,{size:20}),""]}),m.jsx("ul",{className:"space-y-2",children:s.strengths.map((h,p)=>m.jsxs("li",{className:"flex items-center gap-2 text-slate-300",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full"}),h]},p))})]}),m.jsxs(le.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-amber-500/10 backdrop-blur rounded-2xl border border-amber-500/20 p-6",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-amber-400",children:[m.jsx($d,{size:20}),""]}),m.jsx("ul",{className:"space-y-2",children:s.growth.map((h,p)=>m.jsxs("li",{className:"flex items-center gap-2 text-slate-300",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full"}),h]},p))})]})]}),m.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-r from-teal-500/10 to-purple-500/10 backdrop-blur rounded-2xl border border-white/10 p-6 mb-12",children:[m.jsxs("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[m.jsx(ml,{size:20,className:"text-pink-400"}),""]}),m.jsxs("p",{className:"text-slate-300 leading-relaxed italic",children:['"',s.socialTip,'"']})]}),m.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col gap-4",children:[m.jsxs("button",{onClick:o,className:"w-full py-4 bg-gradient-to-r from-teal-600 to-blue-600 hover:brightness-110 rounded-2xl font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2",children:[m.jsx(gx,{size:20})," MBTI Hub"]}),m.jsx("p",{className:"text-center text-slate-500 text-sm",children:'" Party"'})]})]})]})},X0=[{id:1,text:"...",left:" ()",right:" ()",dimension:"E-I"},{id:2,text:"...",left:"",right:"",dimension:"S-N"},{id:3,text:"...",left:"",right:"TA",dimension:"T-F"},{id:4,text:"...",left:"Excel",right:"",dimension:"J-P"}],Y5=({onClose:e})=>m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"w-full max-w-3xl bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[m.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(yx,{className:"text-teal-600 dark:text-teal-400"}),m.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:""})]}),m.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800 dark:hover:text-white transition",children:m.jsx(Yl,{size:24})})]}),m.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar prose dark:prose-invert max-w-none text-slate-700 dark:text-slate-300 space-y-8",children:[m.jsxs("div",{className:"bg-teal-50 dark:bg-teal-900/20 p-6 rounded-2xl border border-teal-100 dark:border-teal-800/50",children:[m.jsx("h3",{className:"mt-0 text-teal-800 dark:text-teal-200 flex items-center gap-2",children:" "}),m.jsx("p",{className:"mb-0 text-sm leading-relaxed",children:""})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("h4",{className:"flex items-center gap-2 text-indigo-600 dark:text-indigo-400 mb-0",children:[m.jsx(ob,{size:20})," 1. "]}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"AI "})," ",m.jsx(Kl,{size:14,className:"inline"}),"  API Key  Gemini/Groq ",m.jsx("strong",{children:"Zhipu ()"}),""]}),m.jsxs("li",{children:[m.jsx("strong",{children:""}),""]}),m.jsxs("li",{children:[m.jsx("strong",{children:""})," AI "]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("h4",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 mb-0",children:[m.jsx(ko,{size:20})," 2. "]}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsxs("li",{children:[m.jsx("strong",{children:""}),""]}),m.jsxs("li",{children:[m.jsx("strong",{children:" (?)"}),""]}),m.jsxs("li",{children:[m.jsx("strong",{children:""}),""]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("h4",{className:"flex items-center gap-2 text-teal-600 dark:text-teal-400 mb-0",children:[m.jsx(_r,{size:20})," 3. "]}),m.jsxs("ul",{className:"text-sm space-y-2",children:[m.jsxs("li",{children:[m.jsx("strong",{children:""}),"AI  AI "]}),m.jsxs("li",{children:[m.jsx("strong",{children:""}),""]})]})]}),m.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl text-[11px] text-slate-500 border border-slate-200 dark:border-slate-700 italic",children:" "})]}),m.jsx("div",{className:"p-5 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950 flex justify-end",children:m.jsx("button",{onClick:e,className:"px-6 py-2 bg-teal-600 hover:bg-teal-500 text-white rounded-lg font-bold",children:""})})]})}),X5=({onComplete:e,isDarkMode:t,toggleTheme:n,initialStep:o="setup",isSoloTest:i=!1,onBackToHub:r,onShowQuickReport:s})=>{var Ro;const[a,l]=A.useState(o),[u,d]=A.useState([{id:"p1",name:"",mbti:""}]),[h,p]=A.useState(0),[g,v]=A.useState(null),T=A.useRef(null),w=A.useRef(null),[S,y]=A.useState({1:50,2:50,3:50,4:50}),[x,E]=A.useState([]),[I,C]=A.useState({}),[k,_]=A.useState(ke.JUNG_8),[b,M]=A.useState(0),[L,ne]=A.useState(40),[j,$]=A.useState(!1),[ae,se]=A.useState(!1),[X,D]=A.useState(!1),[U,B]=A.useState("");A.useEffect(()=>{let J=null;return g!==null&&navigator.mediaDevices.getUserMedia({video:{width:{ideal:300},height:{ideal:300}}}).then(ee=>{J=ee,T.current&&(T.current.srcObject=J,T.current.play())}).catch(ee=>{console.error("Camera error:",ee),v(null),alert("")}),()=>{J&&J.getTracks().forEach(ee=>ee.stop())}},[g]);const oe=J=>{if(T.current&&w.current){const ee=w.current.getContext("2d");if(ee){const de=Math.min(T.current.videoWidth,T.current.videoHeight),on=(T.current.videoWidth-de)/2,It=(T.current.videoHeight-de)/2;ee.drawImage(T.current,on,It,de,de,0,0,300,300);const no=w.current.toDataURL("image/jpeg"),oo=[...u];oo[J].avatarImage=no,d(oo),v(null)}}},Z=async(J,ee,de)=>{if(window.nativeGetHistory&&ee&&de)try{const on=await window.nativeGetHistory(ee,de),It=JSON.parse(on);It.exists?C(no=>({...no,[J]:{count:It.count,summary:It.summary}})):C(no=>{const oo={...no};return delete oo[J],oo})}catch(on){console.error("History check failed",on)}},ge=()=>{u.length<16&&d([...u,{id:`p${Date.now()}`,name:"",mbti:""}])},Te=J=>{if(u.length>1){const ee=[...u];ee.splice(J,1),d(ee)}},Bt=(J,ee)=>{const de=[...u];de[J].name=ee,d(de),Z(J,ee,de[J].mbti)},Fe=(J,ee)=>{const de=[...u];de[J].mbti=ee,d(de),Z(J,de[J].name,ee)},Nt=J=>{p(J),y({1:50,2:50,3:50,4:50}),l("quiz")},Y=async()=>{l("analyzing");const J=X0.map(de=>({q:de.text,val:S[de.id]})),ee=await P2(J);E(ee),l("results")},re=J=>{i?(B(J),D(!0)):(Fe(h,J),l("setup"))},ye=()=>u.every(J=>J.name.trim()!==""&&J.mbti!==""),Ce=()=>{ye()&&e(u,k,b,L)};if(a==="quiz")return m.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 overflow-y-auto",children:m.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-slate-800/90 backdrop-blur p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-2xl",children:[m.jsxs("h3",{className:"text-xl font-bold mb-6 text-center text-teal-600 dark:text-teal-300",children:[u[h].name||""," "]}),m.jsx("div",{className:"space-y-8",children:X0.map(J=>m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"text-slate-800 dark:text-white font-medium text-lg",children:J.text}),m.jsxs("div",{className:"relative pt-1",children:[m.jsx("input",{type:"range",min:"0",max:"100",value:S[J.id],onChange:ee=>y({...S,[J.id]:parseInt(ee.target.value)}),className:"w-full h-2 bg-slate-200 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-teal-500 relative z-10"}),m.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 font-bold mt-2",children:[m.jsx("span",{children:J.left}),m.jsx("span",{children:J.right})]})]})]},J.id))}),m.jsxs("div",{className:"flex gap-4 mt-10",children:[m.jsx("button",{onClick:()=>i?r&&r():l("setup"),className:"flex-1 py-3 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-700/50 rounded-xl",children:i?"":""}),m.jsx("button",{onClick:Y,className:"flex-1 py-3 bg-teal-600 rounded-xl font-bold text-white hover:bg-teal-500 shadow-lg shadow-teal-500/20",children:""})]})]})});const _n=dx();let zt="AI ";const ve=(J,ee)=>J&&J.length>0||ee&&ee.length>0;return _n.regionMode==="china"?ve(_n.deepseekKey,lt.deepseek)?zt="D":ve(_n.zhipuKey,lt.zhipu)?zt="Z":zt="D":ve(_n.groqKey,lt.groq)?zt="G":ve(_n.geminiKey,lt.gemini)?zt="F":ve(_n.openRouterKey,lt.openRouter)?zt="O":zt="P",a==="analyzing"?m.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[m.jsx(Z2,{size:48,className:"text-teal-500 animate-spin mb-4"}),m.jsxs("p",{className:"text-xl text-slate-600 dark:text-slate-300 font-medium animate-pulse",children:[zt," ..."]})]}):X&&U?m.jsx(K5,{playerName:((Ro=u[h])==null?void 0:Ro.name)||"",mbtiType:U,analysisResults:x,onBackToHub:()=>{D(!1),r&&r()}}):a==="results"?m.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 overflow-y-auto",children:m.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-slate-800/90 backdrop-blur p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-2xl",children:[m.jsx("h3",{className:"text-xl font-bold mb-2 text-center text-slate-800 dark:text-white",children:""}),m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-6 text-sm",children:" AI "}),m.jsx("div",{className:"space-y-4",children:x.map((J,ee)=>m.jsxs("button",{onClick:()=>re(J.type),className:"w-full p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 hover:border-teal-500 transition text-left group relative overflow-hidden",children:[m.jsxs("div",{className:"flex justify-between items-end mb-2 relative z-10",children:[m.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white group-hover:text-teal-600 dark:group-hover:text-teal-300",children:J.type}),m.jsxs("span",{className:"text-lg font-mono font-bold text-teal-600 dark:text-teal-400",children:[J.percentage,"%"]})]}),m.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-teal-500/20 w-full",children:m.jsx("div",{className:"h-full bg-teal-500",style:{width:`${J.percentage}%`}})}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 relative z-10",children:J.reason})]},J.type))}),m.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700 text-center flex flex-col gap-3",children:[i&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>{var ee;const J=((ee=x[0])==null?void 0:ee.type)||"INTJ";B(J),D(!0)},className:"w-full py-4 bg-gradient-to-r from-teal-600 to-indigo-600 text-white rounded-xl font-bold hover:brightness-110 shadow-lg shadow-teal-500/20 flex items-center justify-center gap-2 transition",children:[m.jsx(ko,{size:20})," "]}),m.jsx("button",{onClick:()=>r&&r(),className:"w-full py-3 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-white rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition",children:""})]}),m.jsx("button",{onClick:()=>l("setup"),className:"text-slate-500 hover:text-slate-800 dark:hover:text-white text-sm",children:i?"":""})]})]})}):m.jsxs("div",{className:"flex flex-col items-center min-h-screen p-4 overflow-y-auto bg-slate-50 dark:bg-slate-900 transition-colors duration-300 gpu-accelerated",children:[m.jsxs("div",{className:"w-full max-w-6xl bg-white dark:bg-slate-800 p-6 md:p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-2xl my-4 relative gpu-accelerated",children:[m.jsxs("div",{className:"absolute top-6 right-6 flex gap-3 z-10",children:[m.jsxs("button",{onClick:()=>se(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 text-indigo-600 dark:text-indigo-300 text-xs font-bold transition",children:[m.jsx(yx,{size:16})," "]}),m.jsx("button",{onClick:n,className:"p-2 rounded-lg bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 hover:text-amber-500 dark:hover:text-yellow-400 transition",children:t?m.jsx(sc,{size:18}):m.jsx(rc,{size:18})}),m.jsx("button",{onClick:()=>$(!0),className:"p-2 rounded-lg bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 transition",title:"AI Settings",children:m.jsx(Kl,{size:18})})]}),m.jsxs("div",{className:"text-center mb-6 pt-2",children:[m.jsx("h2",{className:"text-3xl font-bold mb-2 text-transparent bg-clip-text bg-[linear-gradient(to_right,#ef4444,#f97316,#eab308,#22c55e,#3b82f6,#a855f7)] tracking-tight",children:""}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:""})]}),m.jsxs("div",{className:"flex flex-col gap-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h4",{className:"text-teal-600 dark:text-teal-400 font-bold flex items-center gap-2",children:[m.jsx(ac,{size:18}),"  (",u.length,"/16)"]}),u.length<16&&m.jsxs("button",{onClick:ge,className:"text-xs bg-teal-50 hover:bg-teal-100 dark:bg-teal-900/50 dark:hover:bg-teal-900 text-teal-700 dark:text-teal-200 px-3 py-1.5 rounded-full flex items-center gap-1 transition",children:[m.jsx(sb,{size:12})," "]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4",children:u.map((J,ee)=>m.jsxs("div",{className:`bg-slate-100/60 dark:bg-slate-900/50 p-4 rounded-xl border relative transition hover:border-slate-400 dark:hover:border-slate-600 flex gap-4 items-start ${I[ee]?"border-amber-400 dark:border-amber-600 shadow-[0_0_10px_rgba(251,191,36,0.2)]":"border-slate-200 dark:border-slate-700"}`,children:[I[ee]&&m.jsxs("div",{className:"absolute -top-3 left-4 bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-400 text-[10px] font-bold px-2 py-0.5 rounded-full border border-amber-200 dark:border-amber-700/50 shadow-sm flex items-center gap-1 animate-in slide-in-from-bottom-2 z-20",children:[m.jsx(_r,{size:10}),"  (Lv.",I[ee].count,")"]}),u.length>1&&m.jsx("button",{onClick:()=>Te(ee),className:"absolute top-2 right-2 text-slate-400 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition",children:m.jsx(fb,{size:14})}),m.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-2",children:[m.jsxs("div",{className:"w-16 h-16 rounded-full bg-slate-200 dark:bg-slate-800 border-2 border-slate-300 dark:border-slate-600 overflow-hidden flex items-center justify-center relative group",children:[J.avatarImage?m.jsx("img",{src:J.avatarImage,alt:"Avatar",className:"w-full h-full object-cover"}):m.jsx(lc,{size:32,className:"text-slate-400 dark:text-slate-500"}),g===ee?m.jsxs("div",{className:"absolute inset-0 bg-black z-10 flex flex-col items-center justify-center",children:[m.jsx("video",{ref:T,className:"absolute inset-0 w-full h-full object-cover opacity-50",autoPlay:!0,playsInline:!0,muted:!0}),m.jsx("button",{onClick:()=>oe(ee),className:"relative z-20 bg-white/20 p-1 rounded-full animate-pulse hover:bg-white/40",children:m.jsx(Mm,{size:16})}),m.jsx("canvas",{ref:w,width:"300",height:"300",className:"hidden"})]}):m.jsx("button",{onClick:()=>v(ee),className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition",children:m.jsx(Mm,{size:20,className:"text-white"})})]}),J.avatarImage&&m.jsx("button",{onClick:()=>{const de=[...u];de[ee].avatarImage=void 0,d(de)},className:"text-[10px] text-red-500 dark:text-red-400 hover:underline",children:""})]}),m.jsxs("div",{className:"flex flex-col gap-3 flex-1",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase block mb-1",children:""}),m.jsx("input",{type:"text",value:J.name,onChange:de=>Bt(ee,de.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white text-sm focus:ring-1 focus:ring-teal-500 outline-none",placeholder:` ${ee+1}`})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase",children:" (MBTI)"}),!J.mbti&&m.jsxs("button",{onClick:()=>Nt(ee),className:"text-[10px] text-teal-600 dark:text-teal-400 hover:text-teal-500 dark:hover:text-teal-300 flex items-center gap-1",children:[m.jsx(ko,{size:10})," AI "]})]}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Object.entries(Yt).map(([de,on])=>m.jsxs("div",{className:`rounded-lg p-2 border ${on.color} flex flex-col gap-1`,children:[m.jsx("div",{className:"text-[10px] font-bold opacity-80 uppercase tracking-wide text-center mb-1 text-slate-700 dark:text-slate-300",children:de.split(" ")[0]}),m.jsx("div",{className:"grid grid-cols-2 gap-1",children:on.types.map(It=>m.jsx("button",{onClick:()=>Fe(ee,It),className:`text-[10px] py-1 rounded font-bold transition ${J.mbti===It?"bg-slate-800 text-white dark:bg-white dark:text-slate-900 shadow-md transform scale-105":"bg-black/5 hover:bg-black/10 dark:bg-black/20 dark:hover:bg-black/40 text-slate-600 dark:text-inherit"}`,children:It},It))})]},de))})]})]})]},J.id))})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-4 border-t border-slate-200 dark:border-slate-700/50",children:[m.jsxs("div",{children:[m.jsxs("h4",{className:"text-blue-500 dark:text-blue-400 font-bold mb-3 flex items-center gap-2 text-sm",children:[m.jsx(X2,{size:16})," "]}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx("button",{onClick:()=>_(ke.JUNG_8),className:`px-3 py-2 rounded-lg border text-left transition text-sm ${k===ke.JUNG_8?"bg-blue-100 border-blue-500 text-blue-800 dark:bg-blue-600/20 dark:text-white":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-700 text-slate-500 dark:text-slate-400"}`,children:m.jsx("span",{className:"font-bold",children:""})}),m.jsx("button",{onClick:()=>_(ke.MBTI_16),className:`px-3 py-2 rounded-lg border text-left transition text-sm ${k===ke.MBTI_16?"bg-purple-100 border-purple-500 text-purple-800 dark:bg-purple-600/20 dark:text-white":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-700 text-slate-500 dark:text-slate-400"}`,children:m.jsx("span",{className:"font-bold",children:"MBTI "})})]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-orange-500 dark:text-orange-400 font-bold mb-3 flex items-center gap-2 text-sm",children:[m.jsx(lc,{size:16})," : ",b]}),m.jsx("input",{type:"range",min:"0",max:"5",value:b,onChange:J=>M(parseInt(J.target.value)),className:"w-full h-1.5 bg-slate-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-orange-500"}),m.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-2",children:[m.jsx("span",{children:" Bot"}),m.jsx("span",{children:"5 Bots"})]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-yellow-500 dark:text-yellow-400 font-bold mb-3 flex items-center gap-2 text-sm",children:[m.jsx(_r,{size:16})," : ",L]}),m.jsx("input",{type:"range",min:"20",max:"100",step:"10",value:L,onChange:J=>ne(parseInt(J.target.value)),className:"w-full h-1.5 bg-slate-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-yellow-500"}),m.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-2",children:[m.jsx("span",{children:" (20)"}),m.jsx("span",{children:" (100)"})]})]})]})]}),m.jsxs("button",{onClick:Ce,disabled:!ye(),className:"w-full mt-8 py-3.5 bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-500 hover:to-blue-500 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl font-bold text-white text-lg transition shadow-lg hover:shadow-teal-500/20 flex items-center justify-center gap-2",children:[" ",m.jsx(ho,{size:20})]}),m.jsx("div",{className:"flex justify-center mt-8",children:m.jsxs(le.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>{console.log("Anchor clicked - returning to hub"),r&&r()},className:"flex items-center gap-2 px-6 py-2.5 text-slate-400 hover:text-teal-600 dark:text-slate-500 dark:hover:text-teal-400 transition-all duration-300 text-sm font-bold group bg-slate-100/50 dark:bg-slate-800/30 hover:bg-white dark:hover:bg-slate-800 rounded-full border border-transparent hover:border-teal-500/30 shadow-sm hover:shadow-md",children:[m.jsx(gx,{size:16,className:"group-hover:rotate-[20deg] group-hover:scale-110 transition-transform duration-300"}),""]})})]}),j&&m.jsx(Pc,{onClose:()=>$(!1)}),ae&&m.jsx(Y5,{onClose:()=>se(!1)})]})},wl=60,Rc=110,Q0=(e,t,n)=>{let o=[];for(let i=0;i<6;i++){const r=2*Math.PI/6*(i+.5);o.push(`${e+n*Math.cos(r)},${t+n*Math.sin(r)}`)}return o.join(" ")},Z0=(e,t)=>{const n=wl*(Math.sqrt(3)*e+Math.sqrt(3)/2*t),o=wl*(3/2*t);return{x:n+600,y:o+450}},eg=(e,t)=>{const n=(e-3)*Rc+600,o=(t-3)*Rc+450;return{x:n,y:o}},Q5=({players:e,currentPlayerId:t,boardLayout:n,validMoves:o,onTileClick:i,gameMode:r,visibilityRadius:s,isMobile:a,isDarkMode:l})=>{const u=()=>n.map(b=>{const{x:M,y:L}=Z0(b.q,b.r),ne=Rd.find(D=>D.id===b.functionId),j=b.q===0&&b.r===0;let $=ne?ne.color:j?"#94a3b8":"#64748b";const ae=e.filter(D=>D.position===b.index),se=o.includes(b.index),X=se;return m.jsxs("g",{className:`transition-all duration-300 ${se?"cursor-pointer":""}`,onClick:()=>se&&i(b.index),children:[m.jsx("polygon",{points:Q0(M,L,wl-2),className:"fill-slate-200 stroke-slate-300 dark:fill-slate-900 dark:stroke-slate-700",style:{fill:j?l?"#334155":"#cbd5e1":void 0},stroke:X?"#2dd4bf":$,strokeWidth:X?6:j?3:2,strokeOpacity:X?1:.7}),m.jsx("polygon",{points:Q0(M,L,wl-8),fill:$,fillOpacity:X?.6:.2}),b.functionId==="Hub"?m.jsxs("g",{children:[m.jsx(le.g,{animate:{scale:[1,1.15,1],filter:["drop-shadow(0 0 5px #f43f5e)","drop-shadow(0 0 15px #f43f5e)","drop-shadow(0 0 5px #f43f5e)"]},transition:{duration:2,repeat:1/0},children:m.jsx(ml,{x:M-20,y:L-25,size:40,className:"fill-red-500 text-red-500"})}),m.jsx("text",{x:M,y:L+25,textAnchor:"middle",className:"fill-slate-600 dark:fill-slate-300 font-bold",fontSize:"14",style:{pointerEvents:"none",userSelect:"none"},children:""})]}):m.jsx("text",{x:M,y:L+10,textAnchor:"middle",className:"fill-slate-600 dark:fill-slate-300",style:{fill:X?"#ffffff":$,pointerEvents:"none",userSelect:"none"},fontWeight:"bold",fontSize:"18",children:b.functionId}),h(ae,M,L,t,!1)]},b.index)}),d=()=>{const b=e.find(L=>L.id===t),M=n.find(L=>L.index===(b==null?void 0:b.position));return n.map(L=>{const{x:ne,y:j}=eg(L.q,L.r);let $=!1,ae=999;M?(ae=Math.abs(L.q-M.q)+Math.abs(L.r-M.r),$=ae<=s||L.functionId==="Hub"):$=L.functionId==="Hub";const se=L.zone==="Hub",X=e.filter(ge=>ge.position===L.index),D=o.includes(L.index);let U="#64748b";L.zone==="NT"?U=Yt[" (NT)"].hexColor:L.zone==="NF"?U=Yt[" (NF)"].hexColor:L.zone==="SJ"?U=Yt[" (SJ)"].hexColor:L.zone==="SP"?U=Yt[" (SP)"].hexColor:se&&(U="#f59e0b");let B=U,oe=1;$?se?B="#f59e0b":B=U:(B=U,oe=.4);const Z=Rc-6;return m.jsxs("g",{className:`transition-all duration-500 ${D?"cursor-pointer":""}`,onClick:()=>D&&i(L.index),children:[m.jsx("rect",{x:ne-Z/2,y:j-Z/2,width:Z,height:Z,rx:se?30:12,className:`
                        ${$?se?"fill-amber-50 dark:fill-amber-900/30":"fill-stone-50 dark:fill-slate-800":"fill-slate-200 dark:fill-slate-900"} 
                        transition-colors duration-500
                    `,fillOpacity:$?.9:.2,stroke:D?"#2dd4bf":B,strokeWidth:D?4:$?2:1,strokeOpacity:D?1:oe,style:{filter:$?`drop-shadow(0 4px 6px ${B}40)`:"none"}}),$&&!se&&m.jsx("rect",{x:ne-Z/2+4,y:j-Z/2+4,width:Z-8,height:Z-8,rx:8,fill:B,fillOpacity:.05,stroke:"none"}),$&&m.jsx("g",{className:"animate-in fade-in zoom-in duration-500",children:L.functionId==="Hub"?m.jsxs(m.Fragment,{children:[m.jsx(le.g,{animate:{scale:[1,1.15,1],filter:["drop-shadow(0 0 5px #f43f5e)","drop-shadow(0 0 15px #f43f5e)","drop-shadow(0 0 5px #f43f5e)"]},transition:{duration:2,repeat:1/0},children:m.jsx(ml,{x:ne-20,y:j-25,size:40,className:"fill-red-500 text-red-500"})}),m.jsx("text",{x:ne,y:j+25,textAnchor:"middle",className:"fill-slate-900 dark:fill-white font-black",fontSize:"14",style:{pointerEvents:"none",userSelect:"none"},children:""})]}):m.jsxs(m.Fragment,{children:[m.jsx("text",{x:ne,y:j-5,textAnchor:"middle",fill:D?"#2dd4bf":B,fontWeight:"bold",fontSize:"18",style:{pointerEvents:"none",userSelect:"none"},children:L.functionId}),L.characterName&&m.jsx("text",{x:ne,y:j+18,textAnchor:"middle",className:"fill-slate-500 dark:fill-slate-400",fontSize:"12",style:{pointerEvents:"none",userSelect:"none"},children:L.characterName})]})}),h(X,ne,j,t,!0)]},L.index)})},h=(b,M,L,ne,j)=>b.length===0?null:m.jsx("g",{transform:`translate(${M}, ${L})`,children:b.map(($,ae)=>{const se=b.length,X=j?35:32,D=2*Math.PI/(se||1),B=Math.PI/2+ae*D,oe=Math.cos(B)*X,Z=Math.sin(B)*X,ge=j?10:12;return m.jsxs("g",{className:"transition-all duration-500",children:[m.jsx("circle",{cx:oe,cy:Z,r:j?25:30,fill:$.color,fillOpacity:"0.2",className:"animate-pulse",style:{filter:"blur(8px)"}}),m.jsx("defs",{children:m.jsx("clipPath",{id:`clip-${$.id}`,children:m.jsx("circle",{cx:oe,cy:Z,r:ge})})}),m.jsx("circle",{cx:oe,cy:Z,r:ge+1,fill:$.color,stroke:"white",strokeWidth:"2",className:"shadow-md"}),$.avatar&&$.avatar.startsWith("data:")?m.jsx("image",{x:oe-ge,y:Z-ge,width:ge*2,height:ge*2,href:$.avatar,clipPath:`url(#clip-${$.id})`,preserveAspectRatio:"xMidYMid slice"}):m.jsx("text",{x:oe,y:Z+ge/2-1,textAnchor:"middle",fill:"white",fontSize:ge-2,fontWeight:"bold",children:$.name[0].toUpperCase()}),$.id===ne&&m.jsx("circle",{cx:oe,cy:Z,r:ge+6,stroke:$.color,strokeWidth:"3",fill:"none",className:"animate-ping",opacity:"0.8"})]},$.id)})}),[p,g]=xe.useState({x:0,y:0}),[v,T]=xe.useState(!1),w=xe.useRef({x:0,y:0}),S=e.find(b=>b.id===t),y=S?n[S.position]:null;xe.useEffect(()=>{g({x:0,y:0})},[t,S==null?void 0:S.position]);const x=b=>{if(!a)return;T(!0);const M="touches"in b?b.touches[0].clientX:b.clientX,L="touches"in b?b.touches[0].clientY:b.clientY;w.current={x:M,y:L}},E=b=>{if(!v||!a)return;const M="touches"in b?b.touches[0].clientX:b.clientX,L="touches"in b?b.touches[0].clientY:b.clientY,ne=M-w.current.x,j=L-w.current.y,$=500,ae=b.currentTarget.getBoundingClientRect(),se=$/ae.width,X=$/ae.height;g(D=>({x:D.x-ne*se,y:D.y-j*X})),w.current={x:M,y:L}},I=()=>{T(!1)};let C={x:600,y:450};y&&(r===ke.JUNG_8?C=Z0(y.q,y.r):C=eg(y.q,y.r));const k=500,_=a?`${C.x-k/2+p.x} ${C.y-k/2+p.y} ${k} ${k}`:"0 0 1200 900";return m.jsxs("div",{className:`w-full h-full bg-stone-100 dark:bg-slate-900/50 rounded-2xl border border-slate-300 dark:border-slate-700 relative shadow-inner flex items-center justify-center transition-colors duration-300 ${a?"overflow-hidden touch-none":"overflow-hidden cursor-move"}`,onMouseDown:x,onMouseMove:E,onMouseUp:I,onMouseLeave:I,onTouchStart:x,onTouchMove:E,onTouchEnd:I,children:[!a&&m.jsx("div",{className:"absolute top-4 left-4 text-slate-500 dark:text-slate-500 text-xs font-mono z-10 bg-slate-100/80 dark:bg-slate-900/80 px-2 py-1 rounded",children:r===ke.MBTI_16?"MBTI  (33) - ":" (Rainbow Ark)"}),m.jsx("svg",{viewBox:_,className:`w-full h-full animate-fade-in select-none ${a?"cursor-grab active:cursor-grabbing":"touch-pan-y"}`,style:{transition:a&&!v?"viewBox 0.3s ease-out":void 0},children:r===ke.JUNG_8?u():d()}),a&&(Math.abs(p.x)>30||Math.abs(p.y)>30)&&m.jsx("button",{onClick:()=>g({x:0,y:0}),className:"absolute bottom-24 right-6 bg-teal-600 dark:bg-teal-500 text-white px-3 py-1.5 rounded-full border border-white dark:border-slate-800 shadow-2xl text-[10px] font-black uppercase tracking-widest animate-in fade-in slide-in-from-bottom-4 transition-all active:scale-95 z-50",children:""})]})};var Z5=Object.defineProperty,El=Object.getOwnPropertySymbols,iT=Object.prototype.hasOwnProperty,rT=Object.prototype.propertyIsEnumerable,tg=(e,t,n)=>t in e?Z5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mc=(e,t)=>{for(var n in t||(t={}))iT.call(t,n)&&tg(e,n,t[n]);if(El)for(var n of El(t))rT.call(t,n)&&tg(e,n,t[n]);return e},Dc=(e,t)=>{var n={};for(var o in e)iT.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&El)for(var o of El(e))t.indexOf(o)<0&&rT.call(e,o)&&(n[o]=e[o]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var _o;(e=>{const t=class ue{constructor(l,u,d,h){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<ue.MIN_VERSION||l>ue.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let p=[];for(let v=0;v<this.size;v++)p.push(!1);for(let v=0;v<this.size;v++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),h==-1){let v=1e9;for(let T=0;T<8;T++){this.applyMask(T),this.drawFormatBits(T);const w=this.getPenaltyScore();w<v&&(h=T,v=w),this.applyMask(T)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(l,u){const d=e.QrSegment.makeSegments(l);return ue.encodeSegments(d,u)}static encodeBinary(l,u){const d=e.QrSegment.makeBytes(l);return ue.encodeSegments([d],u)}static encodeSegments(l,u,d=1,h=40,p=-1,g=!0){if(!(ue.MIN_VERSION<=d&&d<=h&&h<=ue.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let v,T;for(v=d;;v++){const x=ue.getNumDataCodewords(v,u)*8,E=s.getTotalBits(l,v);if(E<=x){T=E;break}if(v>=h)throw new RangeError("Data too long")}for(const x of[ue.Ecc.MEDIUM,ue.Ecc.QUARTILE,ue.Ecc.HIGH])g&&T<=ue.getNumDataCodewords(v,x)*8&&(u=x);let w=[];for(const x of l){n(x.mode.modeBits,4,w),n(x.numChars,x.mode.numCharCountBits(v),w);for(const E of x.getData())w.push(E)}i(w.length==T);const S=ue.getNumDataCodewords(v,u)*8;i(w.length<=S),n(0,Math.min(4,S-w.length),w),n(0,(8-w.length%8)%8,w),i(w.length%8==0);for(let x=236;w.length<S;x^=253)n(x,8,w);let y=[];for(;y.length*8<w.length;)y.push(0);return w.forEach((x,E)=>y[E>>>3]|=x<<7-(E&7)),new ue(v,u,y,p)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(l[d],l[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let d=u;for(let p=0;p<10;p++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;i(h>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,o(h,p));this.setFunctionModule(8,7,o(h,6)),this.setFunctionModule(8,8,o(h,7)),this.setFunctionModule(7,8,o(h,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,o(h,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,o(h,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,o(h,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let d=0;d<18;d++){const h=o(u,d),p=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(p,g,h),this.setFunctionModule(g,p,h)}}drawFinderPattern(l,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const p=Math.max(Math.abs(h),Math.abs(d)),g=l+h,v=u+d;0<=g&&g<this.size&&0<=v&&v<this.size&&this.setFunctionModule(g,v,p!=2&&p!=4)}}drawAlignmentPattern(l,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(l+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(l,u,d){this.modules[u][l]=d,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,d=this.errorCorrectionLevel;if(l.length!=ue.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=ue.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],p=ue.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(ue.getNumRawDataModules(u)/8),v=h-g%h,T=Math.floor(g/h);let w=[];const S=ue.reedSolomonComputeDivisor(p);for(let x=0,E=0;x<h;x++){let I=l.slice(E,E+T-p+(x<v?0:1));E+=I.length;const C=ue.reedSolomonComputeRemainder(I,S);x<v&&I.push(0),w.push(I.concat(C))}let y=[];for(let x=0;x<w[0].length;x++)w.forEach((E,I)=>{(x!=T-p||I>=v)&&y.push(E[x])});return i(y.length==g),y}drawCodewords(l){if(l.length!=Math.floor(ue.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let p=0;p<2;p++){const g=d-p,T=(d+1&2)==0?this.size-1-h:h;!this.isFunction[T][g]&&u<l.length*8&&(this.modules[T][g]=o(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(l){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let l=0;for(let p=0;p<this.size;p++){let g=!1,v=0,T=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[p][w]==g?(v++,v==5?l+=ue.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,T),g||(l+=this.finderPenaltyCountPatterns(T)*ue.PENALTY_N3),g=this.modules[p][w],v=1);l+=this.finderPenaltyTerminateAndCount(g,v,T)*ue.PENALTY_N3}for(let p=0;p<this.size;p++){let g=!1,v=0,T=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][p]==g?(v++,v==5?l+=ue.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,T),g||(l+=this.finderPenaltyCountPatterns(T)*ue.PENALTY_N3),g=this.modules[w][p],v=1);l+=this.finderPenaltyTerminateAndCount(g,v,T)*ue.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let g=0;g<this.size-1;g++){const v=this.modules[p][g];v==this.modules[p][g+1]&&v==this.modules[p+1][g]&&v==this.modules[p+1][g+1]&&(l+=ue.PENALTY_N2)}let u=0;for(const p of this.modules)u=p.reduce((g,v)=>g+(v?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=h&&h<=9),l+=h*ue.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let h=this.size-7;d.length<l;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(l){if(l<ue.MIN_VERSION||l>ue.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;u-=(25*d-10)*d-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(ue.getNumRawDataModules(l)/8)-ue.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*ue.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<l-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<l;h++){for(let p=0;p<u.length;p++)u[p]=ue.reedSolomonMultiply(u[p],d),p+1<u.length&&(u[p]^=u[p+1]);d=ue.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(l,u){let d=u.map(h=>0);for(const h of l){const p=h^d.shift();d.push(0),u.forEach((g,v)=>d[v]^=ue.reedSolomonMultiply(g,p))}return d}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*l;return i(d>>>8==0),d}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const d=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(d&&l[0]>=u*4&&l[6]>=u?1:0)+(d&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,d){return l&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(a,l,u){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)u.push(a>>>d&1)}function o(a,l){return(a>>>l&1)!=0}function i(a){if(!a)throw new Error("Assertion error")}const r=class Re{constructor(l,u,d){if(this.mode=l,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let u=[];for(const d of l)n(d,8,u);return new Re(Re.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!Re.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<l.length;){const h=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+h),10),h*3+1,u),d+=h}return new Re(Re.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!Re.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=l.length;d+=2){let h=Re.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;h+=Re.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(h,11,u)}return d<l.length&&n(Re.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,u),new Re(Re.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:Re.isNumeric(l)?[Re.makeNumeric(l)]:Re.isAlphanumeric(l)?[Re.makeAlphanumeric(l)]:[Re.makeBytes(Re.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new Re(Re.Mode.ECI,0,u)}static isNumeric(l){return Re.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Re.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let d=0;for(const h of l){const p=h.mode.numCharCountBits(u);if(h.numChars>=1<<p)return 1/0;d+=4+p+h.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?u.push(l.charCodeAt(d)):(u.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return u}};r.NUMERIC_REGEX=/^[0-9]*$/,r.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,r.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=r;e.QrSegment=r})(_o||(_o={}));(e=>{(t=>{const n=class{constructor(i,r){this.ordinal=i,this.formatBits=r}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(_o||(_o={}));(e=>{(t=>{const n=class{constructor(i,r){this.modeBits=i,this.numBitsCharCount=r}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(_o||(_o={}));var ti=_o;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var eD={L:ti.QrCode.Ecc.LOW,M:ti.QrCode.Ecc.MEDIUM,Q:ti.QrCode.Ecc.QUARTILE,H:ti.QrCode.Ecc.HIGH},sT=128,lT="L",aT="#FFFFFF",uT="#000000",cT=!1,dT=1,tD=4,nD=0,oD=.1;function fT(e,t=0){const n=[];return e.forEach(function(o,i){let r=null;o.forEach(function(s,a){if(!s&&r!==null){n.push(`M${r+t} ${i+t}h${a-r}v1H${r+t}z`),r=null;return}if(a===o.length-1){if(!s)return;r===null?n.push(`M${a+t},${i+t} h1v1H${a+t}z`):n.push(`M${r+t},${i+t} h${a+1-r}v1H${r+t}z`);return}s&&r===null&&(r=a)})}),n.join("")}function pT(e,t){return e.slice().map((n,o)=>o<t.y||o>=t.y+t.h?n:n.map((i,r)=>r<t.x||r>=t.x+t.w?i:!1))}function iD(e,t,n,o){if(o==null)return null;const i=e.length+n*2,r=Math.floor(t*oD),s=i/t,a=(o.width||r)*s,l=(o.height||r)*s,u=o.x==null?e.length/2-a/2:o.x*s,d=o.y==null?e.length/2-l/2:o.y*s,h=o.opacity==null?1:o.opacity;let p=null;if(o.excavate){let v=Math.floor(u),T=Math.floor(d),w=Math.ceil(a+u-v),S=Math.ceil(l+d-T);p={x:v,y:T,w,h:S}}const g=o.crossOrigin;return{x:u,y:d,h:l,w:a,excavation:p,opacity:h,crossOrigin:g}}function rD(e,t){return t!=null?Math.max(Math.floor(t),0):e?tD:nD}function hT({value:e,level:t,minVersion:n,includeMargin:o,marginSize:i,imageSettings:r,size:s,boostLevel:a}){let l=xe.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((T,w)=>(T.push(...ti.QrSegment.makeSegments(w)),T),[]);return ti.QrCode.encodeSegments(v,eD[t],n,void 0,void 0,a)},[e,t,n,a]);const{cells:u,margin:d,numCells:h,calculatedImageSettings:p}=xe.useMemo(()=>{let g=l.getModules();const v=rD(o,i),T=g.length+v*2,w=iD(g,s,v,r);return{cells:g,margin:v,numCells:T,calculatedImageSettings:w}},[l,s,r,o,i]);return{qrcode:l,margin:d,cells:u,numCells:h,calculatedImageSettings:p}}var sD=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),mT=xe.forwardRef(function(t,n){const o=t,{value:i,size:r=sT,level:s=lT,bgColor:a=aT,fgColor:l=uT,includeMargin:u=cT,minVersion:d=dT,boostLevel:h,marginSize:p,imageSettings:g}=o,T=Dc(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:w}=T,S=Dc(T,["style"]),y=g==null?void 0:g.src,x=xe.useRef(null),E=xe.useRef(null),I=xe.useCallback($=>{x.current=$,typeof n=="function"?n($):n&&(n.current=$)},[n]),[C,k]=xe.useState(!1),{margin:_,cells:b,numCells:M,calculatedImageSettings:L}=hT({value:i,level:s,minVersion:d,boostLevel:h,includeMargin:u,marginSize:p,imageSettings:g,size:r});xe.useEffect(()=>{if(x.current!=null){const $=x.current,ae=$.getContext("2d");if(!ae)return;let se=b;const X=E.current,D=L!=null&&X!==null&&X.complete&&X.naturalHeight!==0&&X.naturalWidth!==0;D&&L.excavation!=null&&(se=pT(b,L.excavation));const U=window.devicePixelRatio||1;$.height=$.width=r*U;const B=r/M*U;ae.scale(B,B),ae.fillStyle=a,ae.fillRect(0,0,M,M),ae.fillStyle=l,sD?ae.fill(new Path2D(fT(se,_))):b.forEach(function(oe,Z){oe.forEach(function(ge,Te){ge&&ae.fillRect(Te+_,Z+_,1,1)})}),L&&(ae.globalAlpha=L.opacity),D&&ae.drawImage(X,L.x+_,L.y+_,L.w,L.h)}}),xe.useEffect(()=>{k(!1)},[y]);const ne=Mc({height:r,width:r},w);let j=null;return y!=null&&(j=xe.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{k(!0)},ref:E,crossOrigin:L==null?void 0:L.crossOrigin})),xe.createElement(xe.Fragment,null,xe.createElement("canvas",Mc({style:ne,height:r,width:r,ref:I,role:"img"},S)),j)});mT.displayName="QRCodeCanvas";var lD=xe.forwardRef(function(t,n){const o=t,{value:i,size:r=sT,level:s=lT,bgColor:a=aT,fgColor:l=uT,includeMargin:u=cT,minVersion:d=dT,boostLevel:h,title:p,marginSize:g,imageSettings:v}=o,T=Dc(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:w,cells:S,numCells:y,calculatedImageSettings:x}=hT({value:i,level:s,minVersion:d,boostLevel:h,includeMargin:u,marginSize:g,imageSettings:v,size:r});let E=S,I=null;v!=null&&x!=null&&(x.excavation!=null&&(E=pT(S,x.excavation)),I=xe.createElement("image",{href:v.src,height:x.h,width:x.w,x:x.x+w,y:x.y+w,preserveAspectRatio:"none",opacity:x.opacity,crossOrigin:x.crossOrigin}));const C=fT(E,w);return xe.createElement("svg",Mc({height:r,width:r,viewBox:`0 0 ${y} ${y}`,ref:n,role:"img"},T),!!p&&xe.createElement("title",null,p),xe.createElement("path",{fill:a,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),xe.createElement("path",{fill:l,d:C,shapeRendering:"crispEdges"}),I)});lD.displayName="QRCodeSVG";var gT={exports:{}};(function(e){var t=function(){var n=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function s(l,u){if(!r[l]){r[l]={};for(var d=0;d<l.length;d++)r[l][l.charAt(d)]=d}return r[l][u]}var a={compressToBase64:function(l){if(l==null)return"";var u=a._compress(l,6,function(d){return o.charAt(d)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(u){return s(o,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=a.compress(l),d=new Uint8Array(u.length*2),h=0,p=u.length;h<p;h++){var g=u.charCodeAt(h);d[h*2]=g>>>8,d[h*2+1]=g%256}return d},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var u=new Array(l.length/2),d=0,h=u.length;d<h;d++)u[d]=l[d*2]*256+l[d*2+1];var p=[];return u.forEach(function(g){p.push(n(g))}),a.decompress(p.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(u){return s(i,l.charAt(u))}))},compress:function(l){return a._compress(l,16,function(u){return n(u)})},_compress:function(l,u,d){if(l==null)return"";var h,p,g={},v={},T="",w="",S="",y=2,x=3,E=2,I=[],C=0,k=0,_;for(_=0;_<l.length;_+=1)if(T=l.charAt(_),Object.prototype.hasOwnProperty.call(g,T)||(g[T]=x++,v[T]=!0),w=S+T,Object.prototype.hasOwnProperty.call(g,w))S=w;else{if(Object.prototype.hasOwnProperty.call(v,S)){if(S.charCodeAt(0)<256){for(h=0;h<E;h++)C=C<<1,k==u-1?(k=0,I.push(d(C)),C=0):k++;for(p=S.charCodeAt(0),h=0;h<8;h++)C=C<<1|p&1,k==u-1?(k=0,I.push(d(C)),C=0):k++,p=p>>1}else{for(p=1,h=0;h<E;h++)C=C<<1|p,k==u-1?(k=0,I.push(d(C)),C=0):k++,p=0;for(p=S.charCodeAt(0),h=0;h<16;h++)C=C<<1|p&1,k==u-1?(k=0,I.push(d(C)),C=0):k++,p=p>>1}y--,y==0&&(y=Math.pow(2,E),E++),delete v[S]}else for(p=g[S],h=0;h<E;h++)C=C<<1|p&1,k==u-1?(k=0,I.push(d(C)),C=0):k++,p=p>>1;y--,y==0&&(y=Math.pow(2,E),E++),g[w]=x++,S=String(T)}if(S!==""){if(Object.prototype.hasOwnProperty.call(v,S)){if(S.charCodeAt(0)<256){for(h=0;h<E;h++)C=C<<1,k==u-1?(k=0,I.push(d(C)),C=0):k++;for(p=S.charCodeAt(0),h=0;h<8;h++)C=C<<1|p&1,k==u-1?(k=0,I.push(d(C)),C=0):k++,p=p>>1}else{for(p=1,h=0;h<E;h++)C=C<<1|p,k==u-1?(k=0,I.push(d(C)),C=0):k++,p=0;for(p=S.charCodeAt(0),h=0;h<16;h++)C=C<<1|p&1,k==u-1?(k=0,I.push(d(C)),C=0):k++,p=p>>1}y--,y==0&&(y=Math.pow(2,E),E++),delete v[S]}else for(p=g[S],h=0;h<E;h++)C=C<<1|p&1,k==u-1?(k=0,I.push(d(C)),C=0):k++,p=p>>1;y--,y==0&&(y=Math.pow(2,E),E++)}for(p=2,h=0;h<E;h++)C=C<<1|p&1,k==u-1?(k=0,I.push(d(C)),C=0):k++,p=p>>1;for(;;)if(C=C<<1,k==u-1){I.push(d(C));break}else k++;return I.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,d){var h=[],p=4,g=4,v=3,T="",w=[],S,y,x,E,I,C,k,_={val:d(0),position:u,index:1};for(S=0;S<3;S+=1)h[S]=S;for(x=0,I=Math.pow(2,2),C=1;C!=I;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;switch(x){case 0:for(x=0,I=Math.pow(2,8),C=1;C!=I;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;k=n(x);break;case 1:for(x=0,I=Math.pow(2,16),C=1;C!=I;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;k=n(x);break;case 2:return""}for(h[3]=k,y=k,w.push(k);;){if(_.index>l)return"";for(x=0,I=Math.pow(2,v),C=1;C!=I;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;switch(k=x){case 0:for(x=0,I=Math.pow(2,8),C=1;C!=I;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;h[g++]=n(x),k=g-1,p--;break;case 1:for(x=0,I=Math.pow(2,16),C=1;C!=I;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;h[g++]=n(x),k=g-1,p--;break;case 2:return w.join("")}if(p==0&&(p=Math.pow(2,v),v++),h[k])T=h[k];else if(k===g)T=y+y.charAt(0);else return null;w.push(T),h[g++]=y+T.charAt(0),p--,y=T,p==0&&(p=Math.pow(2,v),v++)}}};return a}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(gT);var aD=gT.exports;const yT=ig(aD),gs=({title:e,icon:t,player:n,gradientClass:o,borderColorClass:i,glowColor:r,desc:s})=>m.jsxs("div",{className:`relative w-full overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-1 border-t border-white/20 ${o} group`,children:[m.jsx("div",{className:"absolute -top-12 -right-12 w-48 h-48 bg-white opacity-10 rounded-full blur-3xl pointer-events-none"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-full h-3/4 bg-gradient-to-t from-black/60 via-black/20 to-transparent pointer-events-none"}),m.jsxs("div",{className:"relative z-10 flex flex-col items-center p-5 text-center",children:[m.jsxs("div",{className:"w-full flex justify-center items-center relative mb-4",children:[m.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white/80 group-hover:text-white group-hover:scale-110 transition-all duration-500 filter drop-shadow-md",children:t}),m.jsx("h3",{className:"text-2xl font-black text-white tracking-wider drop-shadow-md",children:e})]}),m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full mb-3",children:[m.jsxs("div",{className:"relative mb-3",children:[m.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full blur-md transform scale-110 group-hover:scale-125 transition duration-700"}),m.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white/90 relative z-10 shadow-2xl bg-slate-200 dark:bg-slate-700",children:n.avatar.startsWith("data:")?m.jsx("img",{src:n.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-4xl text-slate-500",children:n.name[0]})}),m.jsx("div",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 bg-white text-slate-900 text-xs font-bold px-3 py-0.5 rounded-full shadow-lg z-20 border border-slate-200 whitespace-nowrap",children:n.mbti})]}),m.jsx("div",{className:"text-3xl font-bold text-white drop-shadow-md mt-2",children:n.name})]}),m.jsx("div",{className:"w-full bg-black/20 backdrop-blur-md border border-white/10 rounded-xl p-2.5 flex items-center justify-center",children:m.jsx("p",{className:"text-xs text-white/90 font-medium leading-snug",children:s})})]})]}),ng=({players:e,report:t,onReturnHome:n,startTime:o,gameMode:i})=>{const[r,s]=A.useState({awards:!0,group:!1,winner:!1}),[a,l]=A.useState({}),[u,d]=A.useState(!1);`${window.location.origin}${window.location.pathname}${yT.compressToEncodedURIComponent(JSON.stringify({players:e,report:t,startTime:o,gameMode:i}))}`;const h=[...e].sort((y,x)=>x.trustScore+x.insightScore+x.expressionScore-(y.trustScore+y.insightScore+y.expressionScore)),p=h[0],g=y=>[...e].sort((x,E)=>E[y]-x[y])[0],v=[...e].sort((y,x)=>x.totalRatingGiven-y.totalRatingGiven)[0],T=y=>{s(x=>({...x,[y]:!x[y]}))},w=y=>{l(x=>({...x,[y]:!x[y]}))},S=()=>{const y=new Date(o).toLocaleString("zh-CN"),x=Math.floor((Date.now()-o)/6e4),E=`
        <!DOCTYPE html>
        <html lang="zh-CN">
        <head>
            <meta charset="UTF-8">
            <title> -  (${y})</title>
            <style>
                body { font-family: sans-serif; background: #0f172a; color: #e2e8f0; padding: 40px; max-width: 800px; margin: 0 auto; }
                h1, h2 { color: #2dd4bf; border-bottom: 1px solid #334155; padding-bottom: 10px; }
                .card { background: #1e293b; padding: 20px; margin-bottom: 20px; border-radius: 12px; border: 1px solid #334155; }
                .highlight { color: #f59e0b; font-weight: bold; }
                .player-row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; padding: 10px; background: #0f172a; border-radius: 8px; }
                .tag { font-size: 0.8em; padding: 2px 8px; border-radius: 12px; background: #334155; }
            </style>
        </head>
        <body>
            <h1>  - </h1>
            <div class="card">
                <p><strong>:</strong> ${y}</p>
                <p><strong>:</strong> ${x} </p>
                <p><strong>:</strong> ${i}</p>
                <p><strong>:</strong> ${e.length} </p>
            </div>

            <h2> </h2>
            <div class="card">
                <p> <strong> ():</strong> ${p.name}</p>
                <p> <strong> ():</strong> ${g("trustScore").name}</p>
                <p> <strong> ():</strong> ${g("insightScore").name}</p>
                <p> <strong> ():</strong> ${g("expressionScore").name}</p>
                <p> <strong> ():</strong> ${v.name}</p>
            </div>

            <h2> </h2>
            <div class="card">
                <p>${t.groupAnalysis}</p>
            </div>

            <h2> </h2>
            ${h.map(_=>`
                <div class="card">
                    <div class="player-row">
                        <strong>${_.name}</strong> <span class="tag">${_.mbti}</span>
                        <span style="margin-left:auto" class="highlight">: ${_.trustScore+_.insightScore+_.expressionScore}</span>
                    </div>
                    <p><em>"${t.playerAnalysis[_.id]||"..."}"</em></p>
                    <p style="font-size: 0.9em; opacity: 0.8">
                        : ${_.trustScore} | : ${_.insightScore} | : ${_.expressionScore}
                    </p>
                </div>
            `).join("")}
            
            <footer style="text-align: center; margin-top: 40px; color: #64748b; font-size: 0.8em;">
                Generated by Rainbow Boat
            </footer>
        </body>
        </html>
      `,I=new Blob([E],{type:"text/html"}),C=URL.createObjectURL(I),k=document.createElement("a");k.href=C,k.download=`__${new Date().toISOString().slice(0,10)}.html`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(C)};return xe.useEffect(()=>{window.nativeSaveResult&&(e.forEach(y=>{const x=t.playerAnalysis[y.id]||"",E=y.trustScore+y.insightScore+y.expressionScore;window.nativeSaveResult(y.name,y.mbti,x,JSON.stringify(t),E)}),console.log("Game results archived to local soul-vault."))},[e,t]),m.jsx("div",{className:"min-h-screen w-full overflow-y-auto p-8 bg-slate-50/80 dark:bg-slate-900/80 text-slate-800 dark:text-white custom-scrollbar transition-colors duration-300 backdrop-blur-sm",children:m.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-20",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx(le.div,{initial:{scale:0},animate:{scale:1},className:"inline-block p-4 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full shadow-lg mb-4",children:m.jsx(_r,{size:48,className:"text-white"})}),m.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-[linear-gradient(to_right,#ef4444,#f97316,#eab308,#22c55e,#3b82f6,#a855f7)]",children:"  "}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg font-light tracking-wide",children:"  "})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-2 px-2",children:[m.jsx(B2,{className:"text-teal-600 dark:text-teal-400"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:""})]}),m.jsx(Wt,{children:r.awards&&m.jsxs(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(gs,{title:"",icon:m.jsx(J2,{size:32}),player:g("trustScore"),gradientClass:"bg-gradient-to-br from-blue-400 to-blue-600",borderColorClass:"border-blue-300",glowColor:"#60a5fa",desc:`: ${g("trustScore").trustScore} - `}),m.jsx(gs,{title:"",icon:m.jsx(Q2,{size:32}),player:g("insightScore"),gradientClass:"bg-gradient-to-br from-purple-400 to-purple-600",borderColorClass:"border-purple-300",glowColor:"#a855f7",desc:`: ${g("insightScore").insightScore} - `}),m.jsx(gs,{title:"",icon:m.jsx(ko,{size:32}),player:g("expressionScore"),gradientClass:"bg-gradient-to-br from-orange-400 to-red-500",borderColorClass:"border-orange-300",glowColor:"#f97316",desc:`: ${g("expressionScore").expressionScore} - `}),m.jsx(gs,{title:"",icon:m.jsx(ml,{size:32}),player:v,gradientClass:"bg-gradient-to-br from-pink-400 to-rose-600",borderColorClass:"border-pink-300",glowColor:"#ec4899",desc:`: ${v.totalRatingGiven} - `})]})}),m.jsx("div",{className:"mt-12 flex justify-center",children:m.jsx("button",{onClick:()=>T("winner"),className:"relative group w-full max-w-3xl",children:m.jsx("div",{className:`w-full p-1 rounded-3xl transition-all duration-500 transform hover:scale-[1.02] ${r.winner?"bg-gradient-to-r from-yellow-300 via-amber-400 to-yellow-300 animate-pulse":"bg-slate-200 dark:bg-slate-700"}`,children:m.jsx("div",{className:`w-full h-full p-8 rounded-[22px] border-2 flex flex-col items-center shadow-2xl relative overflow-hidden ${r.winner?"bg-slate-50 dark:bg-slate-900 border-transparent":"bg-slate-100 dark:bg-slate-800 border-dashed border-slate-300 dark:border-slate-600"}`,children:r.winner?m.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 flex flex-col md:flex-row items-center gap-10 w-full justify-center",children:[m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-yellow-500/20 rounded-full blur-3xl -z-10"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden border-[6px] border-yellow-400 shadow-[0_0_30px_rgba(251,191,36,0.6)]",children:p.avatar.startsWith("data:")?m.jsx("img",{src:p.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 w-full h-full flex items-center justify-center font-bold text-5xl",children:p.name[0]})}),m.jsx("div",{className:"absolute -top-6 -right-6 text-7xl drop-shadow-lg filter animate-bounce",children:""})]}),m.jsxs("div",{className:"text-center md:text-left",children:[m.jsx("div",{className:"text-amber-500 dark:text-amber-400 font-black text-2xl mb-2 uppercase tracking-[0.2em]",children:""}),m.jsx("div",{className:"text-5xl font-black text-slate-900 dark:text-white mb-4 drop-shadow-sm",children:p.name}),m.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start",children:[m.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700",children:m.jsx("span",{className:"text-lg font-bold text-slate-800 dark:text-white",children:p.mbti})}),m.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 px-4 py-2 rounded-lg border border-yellow-200 dark:border-yellow-700",children:[m.jsx("span",{className:"text-sm text-yellow-600 dark:text-yellow-500 mr-2",children:""}),m.jsx("span",{className:"text-2xl font-black text-yellow-600 dark:text-yellow-400",children:p.trustScore+p.insightScore+p.expressionScore})]})]})]})]}):m.jsxs("div",{className:"py-8 flex flex-col items-center text-slate-500 dark:text-slate-400",children:[m.jsx(La,{size:48,className:"mb-4 text-slate-400 dark:text-slate-500"}),m.jsx("span",{className:"font-bold text-xl",children:""})]})})})})})]}),m.jsxs("div",{className:"space-y-4 pt-8 border-t border-slate-200 dark:border-slate-700/50",children:[m.jsxs("button",{onClick:()=>T("group"),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 hover:border-teal-500 transition group",children:[m.jsxs("span",{className:"font-bold text-xl flex items-center gap-3 text-teal-600 dark:text-teal-400 group-hover:scale-105 transition-transform",children:[m.jsx(V2,{})," "]}),r.group?m.jsx(O2,{}):m.jsx(La,{size:18,className:"text-slate-400"})]}),m.jsx(Wt,{children:r.group&&m.jsx(le.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:m.jsx("div",{className:"text-slate-700 dark:text-slate-200 leading-relaxed text-lg bg-slate-50 dark:bg-slate-900/80 p-8 rounded-2xl border border-slate-200 dark:border-slate-700/50 shadow-inner whitespace-pre-wrap",children:t.groupAnalysis||"AI ..."})})})]}),m.jsxs("div",{className:"space-y-4 pt-4",children:[m.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-blue-600 dark:text-blue-400 px-2",children:[m.jsx(lc,{}),"  ()"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map((y,x)=>m.jsxs(le.div,{className:`bg-white dark:bg-slate-800/60 backdrop-blur rounded-xl border transition-all duration-300 ${a[y.id]?"border-teal-500 shadow-lg ring-1 ring-teal-500/20":"border-slate-200 dark:border-slate-700 hover:border-slate-400"}`,children:[m.jsxs("button",{onClick:()=>w(y.id),className:"w-full p-4 flex items-center gap-4 text-left",children:[m.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-slate-200 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 shrink-0 shadow-sm",children:y.avatar.startsWith("data:")?m.jsx("img",{src:y.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-xl",children:y.name[0]})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:y.name}),m.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-900 text-slate-600 dark:text-slate-400 px-2 py-1 rounded-full font-mono border border-slate-200 dark:border-slate-700",children:y.mbti})]}),m.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:a[y.id]?m.jsxs(m.Fragment,{children:[m.jsx(eb,{size:12,className:"text-teal-500"})," "]}):m.jsxs(m.Fragment,{children:[m.jsx(La,{size:12})," ..."]})})]})]}),m.jsx(Wt,{children:a[y.id]&&m.jsx(le.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden px-4 pb-4 border-t border-slate-100 dark:border-slate-700/50",children:m.jsxs("div",{className:"pt-4",children:[m.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-300 italic mb-4 bg-slate-50 dark:bg-slate-900/30 p-4 rounded-lg border-l-4 border-teal-500 whitespace-pre-wrap leading-relaxed",children:['"',t.playerAnalysis[y.id]||"AI ...",'"']}),m.jsxs("div",{className:"flex gap-2 text-xs font-mono opacity-90",children:[m.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:[": ",y.trustScore]}),m.jsxs("span",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-1 rounded",children:[": ",y.insightScore]}),m.jsxs("span",{className:"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 px-2 py-1 rounded",children:[": ",y.expressionScore]})]})]})})})]},y.id))})]}),m.jsxs("div",{className:"flex justify-center pt-8 gap-4",children:[m.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 dark:bg-slate-800 dark:hover:bg-slate-700 text-white px-6 py-3 rounded-full font-bold transition shadow-lg border border-slate-600",children:[m.jsx(xx,{size:20})," "]}),m.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-full font-bold transition shadow-lg border border-purple-400",children:[m.jsx(Fm,{size:20})," "]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-500 hover:to-blue-500 text-white px-8 py-3 rounded-full font-bold transition shadow-lg transform hover:scale-105",children:[m.jsx(W2,{size:20})," "]})]}),u&&m.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-slate-900/90 dark:bg-slate-950/95 backdrop-blur-md p-4 animate-in fade-in duration-300",children:m.jsxs("div",{className:"w-full max-w-5xl h-[85vh] flex flex-col bg-white dark:bg-slate-800 rounded-[2.5rem] overflow-hidden shadow-2xl border border-slate-200 dark:border-slate-700",children:[m.jsxs("div",{className:"p-8 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 z-10",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-2xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[m.jsx(Fm,{size:28,className:"text-purple-500"}),"   "]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 font-medium",children:""})]}),m.jsx("button",{onClick:()=>d(!1),className:"w-12 h-12 flex items-center justify-center bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-500 dark:text-white rounded-full transition-all group",children:m.jsx(Yl,{size:24,className:"group-hover:rotate-90 transition-transform"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/50",children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(y=>{const x=`  - 


${t.groupAnalysis}

${y.name} 
${t.playerAnalysis[y.id]||""}

[]: ${y.trustScore+y.insightScore+y.expressionScore}
(:${y.trustScore} | :${y.insightScore} | :${y.expressionScore})`;return m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 border border-slate-100 dark:border-slate-700 flex flex-col items-center gap-6 hover:border-purple-500 dark:hover:border-purple-500 transition-all shadow-sm hover:shadow-xl group",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl overflow-hidden bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 shadow-inner",children:y.avatar.startsWith("data:")?m.jsx("img",{src:y.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center font-black text-2xl text-slate-400",children:y.name[0]})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-black text-slate-800 dark:text-white text-xl",children:y.name}),m.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 font-black tracking-widest uppercase",children:y.mbti})]})]}),m.jsx("div",{className:"p-4 bg-white rounded-2xl shadow-xl ring-8 ring-slate-50 dark:ring-slate-900/50 group-hover:ring-purple-50 dark:group-hover:ring-purple-900/20 transition-all",children:m.jsx(mT,{value:x,size:200,level:"M",includeMargin:!1})}),m.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 text-center font-bold leading-relaxed",children:["",m.jsx("br",{}),m.jsxs("span",{className:"text-purple-600 dark:text-purple-400 text-sm",children:['"',y.name,'"']}),m.jsx("br",{}),""]})]},y.id)})})})]})})]})})};let an=[];const Lc=()=>{const e=window.speechSynthesis.getVoices();an=e.filter(t=>t.lang==="zh-CN"||t.lang.includes("zh-SG")),an.length===0&&(an=e.filter(t=>t.lang.toLowerCase().includes("zh")&&!t.lang.toLowerCase().includes("hk")&&!t.lang.toLowerCase().includes("mo"))),an.length===0&&(an=e.filter(t=>t.lang.toLowerCase().includes("zh")))};typeof window<"u"&&window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged!==void 0&&(window.speechSynthesis.onvoiceschanged=Lc),Lc());const uD=(e,t="system")=>{if(!window.speechSynthesis)return;window.speechSynthesis.cancel(),an.length===0&&Lc();const n=new SpeechSynthesisUtterance(e);if(n.rate=1.2,n.pitch=1,an.length>0)if(t==="system")n.voice=an[0];else{let o=0;for(let r=0;r<t.length;r++)o=t.charCodeAt(r)+((o<<5)-o);const i=Math.abs(o)%an.length;n.voice=an[i],n.pitch=.8+Math.abs(o)%5/10}window.speechSynthesis.speak(n)};let At=null;const Nf=()=>"webkitSpeechRecognition"in window||"SpeechRecognition"in window,vT=(e,t)=>{if(!Nf())return null;const n=window.SpeechRecognition||window.webkitSpeechRecognition;At=new n,At.continuous=!0,At.interimResults=!0,At.lang="zh-CN",At.onresult=o=>{let i="";for(let r=o.resultIndex;r<o.results.length;++r)o.results[r].isFinal&&(i+=o.results[r][0].transcript);i&&e(i)},At.onerror=o=>{console.warn("Speech recognition error",o.error)},At.onend=()=>{t()};try{At.start()}catch{console.warn("Speech recognition already started")}return At},Fc=()=>{At&&(At.stop(),At=null)},cD=({onSelectMode:e,onOpenConfig:t,isMobile:n})=>{const o=[{id:"test",title:"AI ",desc:" AI ",icon:m.jsx(ko,{className:"text-teal-400",size:n?28:32}),color:"from-teal-600/20 to-emerald-600/20",borderColor:"border-teal-500/30",tag:"",tagColor:"bg-teal-500"},{id:"tasks",title:"",desc:"",icon:m.jsx(_r,{className:"text-amber-400",size:n?28:32}),color:"from-amber-600/20 to-orange-600/20",borderColor:"border-amber-500/30",tag:"",tagColor:"bg-amber-500"},{id:"party",title:" Party",desc:"AI",icon:m.jsx(Cx,{className:"text-blue-400",size:n?28:32}),color:"from-blue-600/20 to-indigo-600/20",borderColor:"border-blue-500/30",tag:"",tagColor:"bg-blue-500"}];return m.jsxs("div",{className:"h-screen flex flex-col items-center justify-center px-4 md:px-6 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-500/10 rounded-full blur-[120px] pointer-events-none"}),m.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-500/10 rounded-full blur-[120px] pointer-events-none"}),m.jsx("button",{onClick:t,className:"absolute top-4 right-4 md:top-6 md:right-6 p-2.5 md:p-3 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 backdrop-blur-sm rounded-xl border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-white transition-all z-20 shadow-sm",title:"AI ",children:m.jsx(Kl,{size:n?18:20})}),m.jsxs(le.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center mb-6 md:mb-10 relative z-10",children:[m.jsx("h1",{className:`${n?"text-4xl":"text-5xl md:text-6xl"} font-black mb-2 tracking-tighter`,children:m.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-500 via-yellow-500 via-green-500 via-blue-500 to-purple-500",children:"MBTI Hub"})}),m.jsx("p",{className:`text-slate-500 dark:text-slate-400 ${n?"text-sm":"text-lg md:text-xl"} font-medium`,children:""})]}),m.jsx("div",{className:`${n?"flex flex-col gap-3 w-full max-w-sm":"flex flex-row gap-6 w-full max-w-6xl"} h-auto max-h-[70vh] relative z-10`,children:o.map((i,r)=>m.jsxs(le.button,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:r*.1},whileHover:n?{scale:1.02}:{y:-12,scale:1.05},whileTap:{scale:.98},onClick:()=>e(i.id),className:`group relative flex-1 flex ${n?"flex-row items-center gap-4 p-4 min-h-[100px]":"flex-col text-left p-8 min-h-[320px] justify-between"} rounded-[2rem] border-2 ${i.borderColor} bg-white dark:bg-slate-900/40 shadow-xl hover:shadow-2xl dark:shadow-none backdrop-blur-xl overflow-hidden transition-all cursor-pointer`,children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i.color} opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none duration-500`}),m.jsx("div",{className:"absolute inset-0 bg-white/40 dark:bg-slate-900/40 group-hover:opacity-0 transition-opacity pointer-events-none duration-500"}),m.jsx("div",{className:`relative z-10 ${n?"p-3":"p-5 mb-4 w-fit"} bg-white dark:bg-slate-800 rounded-2xl group-hover:scale-110 group-hover:rotate-6 transition-all shadow-md group-hover:shadow-lg`,children:i.icon}),m.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-center",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("h3",{className:`${n?"text-xl":"text-2xl"} font-black text-slate-800 dark:text-white group-hover:scale-105 transition-transform origin-left`,children:i.title}),m.jsx("span",{className:`${i.tagColor} text-white text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest shadow-sm`,children:i.tag})]}),m.jsx("p",{className:`text-slate-500 dark:text-slate-400 ${n?"text-xs":"text-base"} leading-relaxed font-bold opacity-80 group-hover:opacity-100 transition-opacity`,children:i.desc})]}),!n&&m.jsxs("div",{className:"relative z-10 flex items-center gap-2 text-slate-400 group-hover:text-white font-black text-sm uppercase tracking-tighter self-end mt-4",children:["Enter ",m.jsx(ho,{size:16})]})]},i.id))}),m.jsxs(le.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:`mt-6 md:mt-10 flex items-center gap-2 text-slate-400 dark:text-slate-500 ${n?"text-[10px]":"text-xs"} bg-slate-100 dark:bg-slate-800/20 px-4 py-2 rounded-full border border-slate-200 dark:border-slate-700/30`,children:[m.jsx(K2,{size:n?12:14}),m.jsx("span",{children:""})]})]})};let di=null,og=null,Do=null,ur=null,Uc;const If=async e=>{try{ur=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),di=new(window.AudioContext||window.webkitAudioContext),Do=di.createAnalyser(),Do.fftSize=256,og=di.createMediaStreamSource(ur),og.connect(Do);const t=new Uint8Array(Do.frequencyBinCount),n=()=>{if(!Do)return;Do.getByteFrequencyData(t);let o=0;for(let s=0;s<t.length;s++)o+=t[s];const r=o/t.length/255;e(r),Uc=requestAnimationFrame(n)};n()}catch(t){console.error("Audio monitoring failed",t)}},Cl=()=>{Uc&&cancelAnimationFrame(Uc),ur&&(ur.getTracks().forEach(e=>e.stop()),ur=null),di&&(di.close(),di=null)},dD=({onBack:e,isMobile:t,isDarkMode:n})=>{const[o,i]=A.useState("INTJ"),[r,s]=A.useState(0),[a,l]=A.useState(null),[u,d]=A.useState(!1),[h,p]=A.useState(null),[g,v]=A.useState("SELECTING"),[T,w]=A.useState(0),[S,y]=A.useState(""),[x,E]=A.useState(!1),[I,C]=A.useState(0),[k,_]=A.useState(new Set),[b,M]=A.useState(0),[L,ne]=A.useState(!1),j=A.useRef(null),$=A.useRef(null),[ae,se]=A.useState(null),X=ir[o]||[],D=X[r]||"Te",U=Rd.find(Y=>Y.id===D),B={id:"solo-user",name:"",mbti:o,isBot:!1,avatar:"user",trustScore:0,insightScore:0,expressionScore:0,totalRatingGiven:0,position:0,previousPosition:null,stackIndex:r,skipUsedCount:0,color:"teal"},oe=async(Y,re)=>{d(!0),p(null),v("SELECTING"),_(new Set),M(0);try{const ye=await Rs(Y,[B],{...B,mbti:re});l(ye)}catch(ye){console.error(ye)}finally{d(!1)}};A.useEffect(()=>{oe(D,o)},[D,o]),A.useEffect(()=>{let Y;return g==="EXECUTING"&&T>0?Y=setInterval(()=>{w(re=>re-1)},1e3):T===0&&g==="EXECUTING"&&ge(),()=>clearInterval(Y)},[g,T]),A.useEffect(()=>{g==="EXECUTING"?(If(Y=>C(Y)),Nf()&&(E(!0),vT(Y=>y(re=>re+" "+Y),()=>E(!1)))):(Cl(),Fc(),E(!1))},[g]),A.useEffect(()=>{let Y=null;return L&&(g==="SELECTING"||g==="EXECUTING")&&navigator.mediaDevices.getUserMedia({video:!0}).then(re=>{Y=re,j.current&&(j.current.srcObject=re)}).catch(re=>{console.error("Camera error:",re),ne(!1)}),()=>{Y&&Y.getTracks().forEach(re=>re.stop())}},[L,g]);const Z=Y=>{p(Y),w(Y.durationSeconds),y(""),v("EXECUTING")},ge=async()=>{v("FEEDBACK"),d(!0),h&&_(ye=>new Set([...ye,h.category]));let Y="";if(L&&j.current&&$.current&&h){const ye=$.current.getContext("2d");if(ye){ye.drawImage(j.current,0,0,300,300);const Ce=$.current.toDataURL("image/jpeg");Y=await hx(Ce,h.title)}}const re=await R2(B,h,S,Y);se(re),d(!1)},Te=()=>{se(null),p(null),v("SELECTING"),M(0)},Bt=()=>{const Y=(r+1)%X.length;s(Y),se(null),p(null),_(new Set),v("SELECTING"),M(0)},Fe=a?Object.entries(a):[],Nt=Fe.filter(([Y])=>!k.has(Y));return m.jsxs("div",{className:"h-screen bg-stone-50 dark:bg-slate-950 text-slate-800 dark:text-white flex flex-col overflow-hidden transition-colors duration-300",children:[m.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-blue-500/5 dark:bg-blue-500/10 rounded-full blur-[120px] pointer-events-none"}),m.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-500/5 dark:bg-purple-500/10 rounded-full blur-[120px] pointer-events-none"}),m.jsxs("header",{className:"shrink-0 flex items-center justify-between p-4 md:p-6 relative z-10",children:[m.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-white transition group font-medium",children:[m.jsx(G2,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),m.jsx("span",{className:t?"hidden":"",children:" Hub"})]}),m.jsxs("div",{className:"flex items-center gap-2 md:gap-4 bg-white dark:bg-slate-900/50 p-1.5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 px-2 md:px-3",children:[m.jsx(Tx,{size:14,className:"text-teal-500 dark:text-teal-400"}),m.jsx("select",{value:o,onChange:Y=>{i(Y.target.value),s(0)},className:"bg-transparent text-sm font-black outline-none cursor-pointer text-slate-700 dark:text-slate-200",children:al.map(Y=>m.jsx("option",{value:Y,className:"bg-white dark:bg-slate-900 text-slate-800 dark:text-white",children:Y},Y))})]}),!t&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"h-5 w-px bg-slate-200 dark:bg-slate-800"}),m.jsx("button",{onClick:()=>ne(!L),className:`p-1.5 rounded-lg transition-all ${L?"bg-teal-500/10 dark:bg-teal-500/20 text-teal-600 dark:text-teal-400":"bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:L?m.jsx(mb,{size:16}):m.jsx(hb,{size:16})})]}),m.jsx("button",{onClick:()=>oe(D,o),className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition text-slate-400 dark:text-slate-500",children:m.jsx(wx,{size:16,className:u&&g==="SELECTING"?"animate-spin":""})})]})]}),m.jsx("div",{className:"shrink-0 flex items-center justify-center gap-1 md:gap-2 px-4 pb-4 overflow-x-auto no-scrollbar relative z-10 transition-all",children:X.map((Y,re)=>{const ye=re===r,Ce=re<r;return m.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[m.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-[10px] md:text-xs font-black transition-all ${ye?"bg-teal-500 text-white scale-110 shadow-lg shadow-teal-500/30":Ce?"bg-teal-50 dark:bg-slate-800 text-teal-600 dark:text-teal-400 border border-teal-200 dark:border-teal-500/30":"bg-white dark:bg-slate-900 text-slate-300 dark:text-slate-700 border border-slate-200 dark:border-slate-800"}`,children:Y}),re<X.length-1&&m.jsx("div",{className:`w-4 md:w-6 h-px ${re<r?"bg-teal-500/50":"bg-slate-200 dark:bg-slate-800"}`})]},Y)})}),m.jsx("main",{className:"flex-1 flex flex-col items-center justify-center px-4 overflow-hidden relative z-10",children:m.jsxs(Wt,{mode:"wait",children:[g==="SELECTING"&&m.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"w-full max-w-4xl flex flex-col items-center",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsxs("span",{className:"px-3 py-1 bg-teal-500/10 dark:bg-teal-500/10 border border-teal-200 dark:border-teal-500/20 rounded-full text-teal-600 dark:text-teal-400 text-[10px] md:text-xs font-black tracking-widest uppercase mb-2 inline-block",children:["LEVEL ",r+1,": ",U==null?void 0:U.name]}),m.jsx("h2",{className:`${t?"text-xl":"text-2xl"} font-black text-slate-800 dark:text-white`,children:""})]}),u?m.jsx("div",{className:`${t?"flex flex-col":"grid grid-cols-2"} gap-4 w-full h-[60vh]`,children:Array.from({length:4}).map((Y,re)=>m.jsx("div",{className:"flex-1 bg-white dark:bg-slate-900/50 rounded-3xl border border-slate-100 dark:border-slate-800 animate-pulse"},re))}):m.jsx("div",{className:"w-full flex-1 flex flex-col justify-center",children:t?m.jsxs("div",{className:"w-full relative px-10",children:[m.jsx("div",{className:"overflow-hidden py-10",children:m.jsx(le.div,{className:"flex",animate:{x:`-${b*100}%`},transition:{type:"spring",stiffness:200,damping:25},children:Fe.map(([Y,re])=>{const ye=xo[Y],Ce=k.has(Y);return m.jsx("div",{className:"w-full shrink-0 px-4",children:m.jsxs("button",{onClick:()=>!Ce&&Z(re),disabled:Ce,className:`w-full aspect-[4/5] p-8 rounded-[3rem] border-4 ${Ce?"border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/40":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900/50 shadow-2xl"} text-left transition-all relative overflow-hidden flex flex-col justify-between`,children:[m.jsxs("div",{className:`absolute inset-0 bg-white/60 dark:bg-slate-950/80 backdrop-blur-sm flex flex-col items-center justify-center z-10 transition-opacity duration-500 ${Ce?"opacity-100":"opacity-0 pointer-events-none"}`,children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-teal-500 text-white flex items-center justify-center mb-4 shadow-lg shadow-teal-500/20",children:m.jsx(Da,{size:32})}),m.jsx("span",{className:"text-teal-600 dark:text-teal-400 font-black tracking-widest text-[10px]",children:""})]}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:"text-5xl mb-6",children:ye.icon}),m.jsx("div",{className:"px-3 py-1 bg-slate-100 dark:bg-white/10 rounded-full text-[10px] font-black uppercase text-slate-500 dark:text-slate-300 tracking-[0.2em] mb-4 inline-block",children:ye.name}),m.jsx("h3",{className:"text-2xl font-black mb-3 text-slate-800 dark:text-white leading-tight",children:re.title}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed font-bold opacity-80",children:re.description})]}),m.jsxs("div",{className:"relative z-10 flex items-center gap-2 text-teal-500 font-black text-xs",children:["START CHALLENGE ",m.jsx(ho,{size:14})]})]})},Y)})})}),m.jsx("button",{onClick:()=>M(Math.max(0,b-1)),className:`absolute left-0 top-1/2 -translate-y-1/2 p-3 z-20 bg-white dark:bg-slate-800 rounded-full shadow-xl border border-slate-100 dark:border-slate-700 transition-all ${b===0?"opacity-0 scale-50":"opacity-100 scale-100"}`,children:m.jsx(H2,{size:24})}),m.jsx("button",{onClick:()=>M(Math.min(Fe.length-1,b+1)),className:`absolute right-0 top-1/2 -translate-y-1/2 p-3 z-20 bg-white dark:bg-slate-800 rounded-full shadow-xl border border-slate-100 dark:border-slate-700 transition-all ${b===Fe.length-1?"opacity-0 scale-50":"opacity-100 scale-100"}`,children:m.jsx(vx,{size:24})}),m.jsx("div",{className:"flex justify-center gap-2 mt-2",children:Fe.map((Y,re)=>m.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${re===b?"w-8 bg-teal-500":"w-1.5 bg-slate-200 dark:bg-slate-800"}`},re))})]}):m.jsx("div",{className:"grid grid-cols-2 gap-8 w-full max-w-5xl mx-auto h-[60vh]",children:Fe.map(([Y,re])=>{const ye=xo[Y],Ce=k.has(Y);return m.jsxs(le.button,{whileHover:Ce?{}:{scale:1.02,y:-8,boxShadow:"0 25px 50px -12px rgb(0 0 0 / 0.15)"},onClick:()=>!Ce&&Z(re),disabled:Ce,className:`p-10 rounded-[3.5rem] border-2 bg-white dark:bg-slate-900/50 text-left transition-all group relative overflow-hidden flex flex-col justify-between ${Ce?"border-slate-100 dark:border-slate-800 opacity-40 grayscale":"border-slate-200 dark:border-slate-800 hover:border-teal-500/50 shadow-lg hover:shadow-2xl active:scale-95"}`,children:[Ce&&m.jsxs("div",{className:"absolute inset-0 bg-white/40 dark:bg-slate-950/60 backdrop-blur-sm flex flex-col items-center justify-center z-20",children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-teal-500 text-white flex items-center justify-center mb-2",children:m.jsx(Da,{size:32})}),m.jsx("span",{className:"text-teal-600 dark:text-teal-400 font-black tracking-widest text-xs",children:""})]}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("div",{className:"text-5xl group-hover:scale-125 transition-transform duration-500",children:ye.icon}),m.jsx("div",{className:"px-3.5 py-1.5 bg-slate-100 dark:bg-white/5 rounded-full text-[10px] font-black uppercase tracking-[0.25em] text-slate-500 dark:text-slate-400 font-mono shadow-inner",children:ye.name})]}),m.jsx("h3",{className:"text-3xl font-black mb-4 text-slate-800 dark:text-white group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors leading-tight",children:re.title}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg leading-relaxed font-bold opacity-80 group-hover:opacity-100 transition-opacity line-clamp-3",children:re.description})]}),m.jsxs("div",{className:"relative z-10 flex items-center gap-2 text-teal-500 font-black text-xs opacity-0 group-hover:opacity-100 transition-all translate-y-4 group-hover:translate-y-0",children:["START CHALLENGE ",m.jsx(ho,{size:18})]}),m.jsx("div",{className:`absolute -bottom-12 -right-12 w-48 h-48 rounded-full bg-gradient-to-br ${Ce?"from-slate-100 to-slate-200":"from-teal-500/5 to-blue-500/5"} blur-2xl group-hover:scale-150 transition-transform duration-700 pointer-events-none`})]},Y)})})})]},"selecting"),g==="EXECUTING"&&h&&m.jsxs(le.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-2xl bg-white dark:bg-slate-900 rounded-[2.5rem] border border-slate-200 dark:border-slate-800 shadow-2xl overflow-hidden p-6 md:p-10",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4 md:mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:`${t?"text-xl":"text-2xl"} font-black mb-2 text-transparent bg-clip-text bg-gradient-to-r from-teal-500 to-blue-600`,children:h.title}),m.jsxs("div",{className:"flex gap-2 flex-wrap",children:[m.jsxs("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/20 rounded-full text-[10px] font-black text-teal-600 dark:text-teal-400 flex items-center gap-1.5 border border-teal-100 dark:border-teal-500/20",children:[m.jsx(db,{size:12})," ",U==null?void 0:U.name]}),m.jsxs("span",{className:"px-3 py-1 bg-amber-50 dark:bg-amber-900/20 rounded-full text-[10px] font-black text-amber-600 dark:text-amber-400 flex items-center gap-1.5 border border-amber-100 dark:border-amber-500/20",children:[m.jsx(ko,{size:12})," ",h.scoreType]})]})]}),m.jsxs("div",{className:"w-14 h-14 md:w-16 md:h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center shadow-inner",children:[m.jsx("span",{className:"text-[8px] font-black text-slate-400 dark:text-slate-500 uppercase",children:""}),m.jsxs("span",{className:"text-xl md:text-2xl font-black text-slate-700 dark:text-slate-200",children:[T,"s"]})]})]}),m.jsxs("p",{className:`${t?"text-base":"text-lg"} text-slate-600 dark:text-slate-300 leading-relaxed italic mb-6 font-medium`,children:['"',h.description,'"']}),m.jsxs("div",{className:"flex-1 flex flex-col gap-4 min-h-0",children:[m.jsxs("div",{className:"relative flex-1 bg-slate-50 dark:bg-black/40 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 min-h-[120px] md:min-h-[150px] shadow-inner",children:[x&&m.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1.5 text-red-500 animate-pulse text-[10px] font-black uppercase",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full shadow-[0_0_8px_rgba(239,68,68,0.5)]"})," "]}),m.jsx("textarea",{className:"w-full h-full bg-transparent resize-none outline-none text-base md:text-lg leading-relaxed placeholder:text-slate-300 dark:placeholder:text-slate-800 font-bold text-slate-700 dark:text-slate-200",placeholder:"...",value:S,onChange:Y=>y(Y.target.value)}),m.jsx("div",{className:"absolute bottom-4 left-4 right-4 h-8 flex items-end gap-1 pointer-events-none",children:Array.from({length:40}).map((Y,re)=>m.jsx("div",{className:"flex-1 bg-teal-500/30 dark:bg-teal-500/20 rounded-t-full transition-all duration-150",style:{height:`${Math.random()*I*100}%`}},re))})]}),m.jsxs("button",{onClick:ge,className:"w-full py-4 md:py-5 bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 rounded-2xl font-black text-white shadow-xl shadow-teal-500/20 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-3 text-lg",children:[" ",m.jsx(ho,{size:22,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),L&&!t&&m.jsxs("div",{className:"absolute top-10 right-10 w-48 h-36 rounded-2xl border-2 border-white dark:border-slate-800 shadow-2xl overflow-hidden group",children:[m.jsx("video",{ref:j,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700"}),m.jsx("div",{className:"absolute inset-0 bg-teal-500/10 pointer-events-none"}),m.jsxs("div",{className:"absolute bottom-2 left-2 flex items-center gap-1.5 text-white font-black text-[8px] uppercase tracking-widest drop-shadow-md",children:[m.jsx(Ms,{size:10})," AI "]})]})]},"executing"),g==="FEEDBACK"&&m.jsx(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-2xl overflow-hidden rounded-[3rem] bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-2xl",children:u?m.jsxs("div",{className:"p-16 flex flex-col items-center justify-center text-center",children:[m.jsxs("div",{className:"w-16 h-16 mb-8 relative",children:[m.jsx("div",{className:"absolute inset-0 border-4 border-teal-500/10 rounded-full"}),m.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})]}),m.jsx("h2",{className:"text-2xl font-black mb-2 text-slate-800 dark:text-white",children:"..."}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:""})]}):ae&&m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("div",{className:`${t?"p-8":"p-12"} bg-gradient-to-br from-teal-500/5 to-blue-500/5 dark:from-teal-500/10 dark:to-blue-500/10 border-b border-slate-100 dark:border-slate-800 text-center relative overflow-hidden`,children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("div",{className:"w-16 h-16 bg-white dark:bg-slate-800 rounded-3xl rotate-12 flex items-center justify-center shadow-xl border border-slate-100 dark:border-slate-700 scale-110",children:m.jsx("div",{className:"-rotate-12 bg-teal-500 rounded-xl p-2.5",children:m.jsx(Da,{size:24,className:"text-white"})})})}),m.jsx("h2",{className:`${t?"text-2xl":"text-3xl"} font-black mb-2 text-slate-800 dark:text-white tracking-tight`,children:""}),m.jsx("p",{className:"text-teal-600 dark:text-teal-400 font-black uppercase tracking-[0.3em] text-[10px]",children:"Cognitive Evolution Achieved"})]}),m.jsxs("div",{className:`${t?"p-6":"p-10"}`,children:[m.jsx("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[{label:"",score:ae.scores.trust,color:"text-teal-500",fill:"#14b8a6"},{label:"",score:ae.scores.insight,color:"text-purple-500",fill:"#a855f7"},{label:"",score:ae.scores.expression,color:"text-amber-500",fill:"#f59e0b"}].map((Y,re)=>m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/40 border border-slate-100 dark:border-slate-800/60 p-4 rounded-2xl text-center shadow-sm",children:[m.jsx("div",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 mb-2 uppercase tracking-widest",children:Y.label}),m.jsx("div",{className:"flex justify-center gap-1",children:Array.from({length:5}).map((ye,Ce)=>m.jsx(Hd,{size:14,fill:Ce<Y.score?Y.fill:"none",stroke:Ce<Y.score?Y.fill:"#cbd5e1",strokeWidth:Ce<Y.score?1:2},Ce))})]},re))}),m.jsxs("div",{className:"p-6 md:p-8 bg-slate-50/80 dark:bg-slate-800/30 border border-slate-200/50 dark:border-slate-700/50 rounded-2xl mb-8 relative",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 dark:opacity-10 pointer-events-none",children:m.jsx(Ms,{size:64})}),m.jsxs("h4",{className:"text-slate-400 dark:text-teal-400/80 font-black mb-4 flex items-center gap-2 text-xs uppercase tracking-widest",children:[m.jsx(Ms,{size:16})," "]}),m.jsxs("p",{className:`${t?"text-sm":"text-base"} text-slate-700 dark:text-slate-200 leading-relaxed font-bold italic`,children:['"',ae.feedback,'"']})]}),m.jsxs("div",{className:"flex flex-col gap-4",children:[Nt.length>0&&m.jsxs("button",{onClick:Te,className:"w-full py-4 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-white rounded-2xl font-black transition-all flex items-center justify-center gap-3 border-2 border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx(Ex,{size:18}),"  ",D," (",Nt.length,")"]}),m.jsxs("button",{onClick:Bt,className:"w-full py-5 bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white rounded-2xl font-black shadow-xl shadow-teal-500/20 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-3 text-lg",children:["",X[(r+1)%X.length]," ",m.jsx(ho,{size:22})]})]})]})]})},"feedback")]})}),m.jsx("canvas",{ref:$,width:"300",height:"300",className:"hidden"})]})},ys=["#ef4444","#f97316","#eab308","#84cc16","#06b6d4","#8b5cf6","#d946ef","#f43f5e","#be123c","#0f766e","#1d4ed8","#4338ca","#a21caf","#be185d","#881337","#7c2d12"],fD=()=>al[Math.floor(Math.random()*al.length)],pD=({value:e,rolling:t})=>m.jsxs("div",{className:"relative w-24 h-24 perspective-[800px] flex items-center justify-center pointer-events-none z-20",children:[m.jsx("style",{children:`
                .dice-wrap { width: 60px; height: 60px; position: relative; transform-style: preserve-3d; }
                .dice-wrap.spinning { animation: spin3d 0.5s infinite linear; }
                @keyframes spin3d {
                    0% { transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg); }
                    100% { transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); }
                }
                .face { position: absolute; width: 60px; height: 60px; background: rgba(20, 184, 166, 0.9); border: 2px solid #fff; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size: 24px; color: #fff; box-shadow: 0 0 15px rgba(45,212,191,0.5); border-radius: 8px; }
                .face:nth-child(1) { transform: rotateY(0deg) translateZ(30px); }
                .face:nth-child(2) { transform: rotateY(90deg) translateZ(30px); }
                .face:nth-child(3) { transform: rotateY(180deg) translateZ(30px); }
                .face:nth-child(4) { transform: rotateY(-90deg) translateZ(30px); }
                .face:nth-child(5) { transform: rotateX(90deg) translateZ(30px); }
                .face:nth-child(6) { transform: rotateX(-90deg) translateZ(30px); }
            `}),m.jsx("div",{className:`dice-wrap ${t?"spinning":""} transition-all duration-500`,children:[1,2,3,4,8,6].map((n,o)=>m.jsx("div",{className:"face",children:t?"?":o===0?e:n},o))})]}),hD=()=>{const[e,t]=A.useState(0),[n,o]=A.useState(!1);return A.useEffect(()=>((()=>{o(!0),If(r=>t(r))})(),()=>{Cl(),o(!1)}),[]),m.jsx("div",{className:"absolute top-0 left-0 right-0 h-40 pointer-events-none flex items-center justify-center overflow-hidden opacity-40 z-0",children:m.jsx("div",{className:"relative w-full h-full flex items-center justify-center gap-1.5 px-4",children:Array.from({length:96}).map((i,r)=>{const s=r/96,a=Math.sin(s*Math.PI);return m.jsx("div",{className:`w-1 rounded-full transition-all duration-75 ${e>.05?"bg-teal-400 shadow-[0_0_10px_#2dd4bf]":"bg-slate-500/20"}`,style:{height:`${Math.max(4,e*200*a+Math.random()*10*a)}px`}},r)})})})},mD=({reviewer:e,actor:t,onSubmit:n,hasHighEnergyBonus:o})=>{const[i,r]=A.useState(5);return m.jsx(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md",children:m.jsxs("div",{className:"bg-slate-800 p-8 rounded-3xl border border-slate-700 shadow-2xl max-w-md w-full text-center",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-slate-500 relative",children:e.avatar.startsWith("data:")?m.jsx("img",{src:e.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"bg-slate-700 w-full h-full flex items-center justify-center font-bold text-2xl",children:e.name[0]})})}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:""}),m.jsxs("p",{className:"text-slate-400 mb-6",children:[m.jsx("strong",{children:e.name})," ",m.jsx("strong",{children:t.name})," "]}),o&&m.jsx("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500/50 rounded-xl animate-pulse",children:m.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 font-bold",children:[m.jsx($d,{fill:"currentColor",size:20})," "]})}),m.jsx("div",{className:"flex justify-center gap-2 mb-8",children:[1,2,3,4,5].map(s=>m.jsx("button",{onClick:()=>r(s),className:"transition transform hover:scale-110",children:m.jsx(Hd,{size:40,fill:s<=i?"#fbbf24":"none",stroke:s<=i?"#fbbf24":"#475569"})},s))}),m.jsxs("div",{className:"text-xl font-bold text-yellow-500 mb-8",children:[i,"  - ",i===5?"":i>=3?"":""]}),m.jsx("button",{onClick:()=>n(i),className:"w-full py-4 bg-gradient-to-r from-teal-500 to-blue-600 rounded-xl font-bold text-white text-lg shadow-lg",children:""})]})})},gD=e=>{let t=[],n=0;const o=()=>{const i=Math.random();return i<.5?"NORMAL":i<.7?"DOUBLE":i<.8?"HALF":i<.9?"CLONE":"TRANSFER"};if(e===ke.JUNG_8){const i=["Te","Ti","Fe","Fi","Se","Si","Ne","Ni"];let s=[];i.forEach(l=>{for(let u=0;u<7;u++)s.push(l)});for(let l=0;l<4;l++)s.push("?");for(let l=s.length-1;l>0;l--){const u=Math.floor(Math.random()*(l+1));[s[l],s[u]]=[s[u],s[l]]}const a=["FREEDOM","SUBSTITUTE","COMPANION","FREEDOM"];for(let l=-4;l<=4;l++){const u=Math.max(-4,-l-4),d=Math.min(4,-l+4);for(let h=u;h<=d;h++){const p=l===0&&h===0;let g=p?"Hub":s.pop()||"Te",v="NORMAL",T="NONE";g==="?"?p?T="FREEDOM":T=a.pop()||"FREEDOM":v=o(),t.push({index:n++,functionId:g,modifier:v,specialAbility:T,q:l,r:h})}}}else{const i=[{id:"NF",types:Yt[" (NF)"].types,coords:[{q:0,r:0},{q:1,r:0},{q:2,r:0},{q:0,r:1},{q:0,r:2},{q:0,r:3},{q:1,r:3},{q:2,r:3}]},{id:"NT",types:Yt[" (NT)"].types,coords:[{q:6,r:0},{q:5,r:0},{q:4,r:0},{q:6,r:1},{q:6,r:2},{q:3,r:0},{q:3,r:1},{q:3,r:2}]},{id:"SP",types:Yt[" (SP)"].types,coords:[{q:6,r:6},{q:5,r:6},{q:4,r:6},{q:6,r:5},{q:6,r:4},{q:6,r:3},{q:5,r:3},{q:4,r:3}]},{id:"SJ",types:Yt[" (SJ)"].types,coords:[{q:0,r:6},{q:1,r:6},{q:2,r:6},{q:0,r:5},{q:0,r:4},{q:3,r:6},{q:3,r:5},{q:3,r:4}]}];t.push({index:n++,functionId:"Hub",characterName:kr.Hub,q:3,r:3,zone:"Hub",modifier:"NORMAL",specialAbility:"FREEDOM"}),i.forEach(r=>{let s=[];r.types.forEach(a=>{s.push(a),s.push(a)});for(let a=s.length-1;a>0;a--){const l=Math.floor(Math.random()*(a+1));[s[a],s[l]]=[s[l],s[a]]}r.coords.forEach((a,l)=>{const u=s[l]||"INTJ",d=kr[u];t.push({index:n++,functionId:u,characterName:d,q:a.q,r:a.r,zone:r.id,modifier:o(),specialAbility:"NONE"})})})}return t};function yD(){var Bf;const[e,t]=A.useState([]),[n,o]=A.useState([]),[i,r]=A.useState(!1),[s,a]=A.useState(!0),[l,u]=A.useState({players:[],currentPlayerIndex:0,gameMode:ke.JUNG_8,turn:1,targetScore:40,logs:[],phase:"HUB",subPhase:"IDLE",currentTile:null,selectedTask:null,activeModifier:"NORMAL",activeSpecialAbility:"NONE",remainingSteps:0,sightRange:1,helperId:null,scoreTargetPlayerId:null,sharedHelpUsedCount:0,hasReselected:!1,pregeneratedTasks:null,movementState:"IDLE",diceValue:null,highestScore:0,snapshots:[],startTime:Date.now(),peerReviewQueue:[],currentReviewerId:null,accumulatedRating:0}),[d,h]=A.useState(!1),[p,g]=A.useState(!1),[v,T]=A.useState(0),[w,S]=A.useState(null),[y,x]=A.useState(0),[E,I]=A.useState(!1),[C,k]=A.useState(!1),[_,b]=A.useState(""),[M,L]=A.useState(!1),[ne,j]=A.useState(null),[$,ae]=A.useState(0),[se,X]=A.useState(!1),[D,U]=A.useState(!1),[B,oe]=A.useState(!1),Z=A.useRef(null),ge=A.useRef(null),[Te,Bt]=A.useState(null),[Fe,Nt]=A.useState([]),[Y,re]=A.useState(!1),[ye,Ce]=A.useState([]),[_n,zt]=A.useState("");A.useEffect(()=>{const N=()=>{const P=window.innerWidth<1024;h(P),P&&r(!0)};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),A.useEffect(()=>{if(!d||l.phase!=="PLAYING"||l.movementState!=="IDLE"||l.remainingSteps===0)return;const N=l.players[l.currentPlayerIndex];if(N&&!N.isBot&&n.length===1){const P=setTimeout(()=>{na(n[0])},800);return()=>clearTimeout(P)}},[d,n,l.phase,l.movementState,l.remainingSteps]),A.useEffect(()=>{const P=new URLSearchParams(window.location.search).get("share_data");if(P)try{const R=yT.decompressFromEncodedURIComponent(P);if(R){const V=JSON.parse(R);j(V)}}catch(R){console.error("Failed to parse shared data",R)}},[]);const ve=A.useRef(null);A.useEffect(()=>{ve.current=new Audio("https://cdn.pixabay.com/audio/2024/09/25/audio_731ee076e0.mp3"),ve.current.loop=!0,ve.current.volume=.15},[]),A.useEffect(()=>{ve.current&&(p?ve.current.volume=M?.02:.2:ve.current.pause())},[M,p]),A.useEffect(()=>{ve.current&&(p?ve.current.play().catch(N=>console.log("Audio autoplay blocked until interaction")):ve.current.pause())},[p]),A.useEffect(()=>{const N=document.documentElement;s?N.classList.add("dark"):N.classList.remove("dark")},[s]);const Ro=()=>a(!s);A.useEffect(()=>{if(l.phase!=="PLAYING")return;const N=l.players[l.currentPlayerIndex];if(!N||!N.isBot)return;let P;return l.subPhase==="IDLE"&&l.movementState==="IDLE"&&l.remainingSteps===0&&N.isBot&&(P=setTimeout(()=>ta(),1500)),l.movementState==="IDLE"&&l.remainingSteps>0&&n.length>0&&N.isBot&&(P=setTimeout(()=>{const R=n[Math.floor(Math.random()*n.length)];na(R)},1500)),l.subPhase==="SELECTING_CARD"&&(P=setTimeout(()=>{const R=["standard","truth","dare","deep"],V=R[Math.floor(Math.random()*R.length)];Pf(V)},2e3)),l.subPhase==="VIEWING_TASK"&&(P=setTimeout(()=>{Mf(),setTimeout(()=>{Df()},3e3)},2e3)),["SELECTING_SCORE_TARGET","SELECTING_SUBSTITUTE","SELECTING_COMPANION","CHOOSING_HELPER"].includes(l.subPhase)&&(P=setTimeout(()=>{const R=l.players.filter(K=>K.id!==N.id),V=R[Math.floor(Math.random()*R.length)];V&&(l.subPhase==="SELECTING_SCORE_TARGET"?Lf(V.id):l.subPhase==="SELECTING_SUBSTITUTE"?Af(V.id):l.subPhase==="SELECTING_COMPANION"?bf(V.id):l.subPhase==="CHOOSING_HELPER"&&Rf(V.id))},2e3)),()=>clearTimeout(P)},[l.phase,l.subPhase,l.movementState,l.remainingSteps,l.currentPlayerIndex,n,D]),A.useEffect(()=>{if(l.subPhase==="PEER_REVIEW"&&l.currentReviewerId){const N=l.players.find(P=>P.id===l.currentReviewerId);if(N&&N.isBot){const P=setTimeout(()=>{ia(Math.random()>.3?5:4)},1500);return()=>clearTimeout(P)}}},[l.subPhase,l.currentReviewerId]);const J=(N,P)=>{if(P<=0)return[N.position];let R=[N.position],V={[N.position]:N.previousPosition};for(let K=0;K<P;K++){let O=new Set;for(const q of R){const z={...N,position:q,previousPosition:V[q]??null};ee(z,e).forEach(Q=>{O.add(Q),V[Q]===void 0&&(V[Q]=q)})}if(R=Array.from(O),R.length===0)break}return R},ee=(N,P)=>{const R=P.find(Q=>Q.index===N.position);if(!R)return[];let V=[];l.gameMode===ke.JUNG_8?V=oE(R,P):V=nE(R,P);const K=V.filter(Q=>Q.index!==N.previousPosition);if(l.movementState==="TELEPORTING")return P.filter(Q=>Q.functionId!=="Hub").map(Q=>Q.index);if(l.gameMode===ke.MBTI_16)return K.map(Q=>Q.index);const O=ir[N.mbti]||[];let q="?",z=N.stackIndex+1;for(let Q=0;Q<O.length;Q++){const $e=(z+Q)%O.length,Ot=O[$e];if(K.some(We=>We.functionId===Ot)){q=Ot;break}}return K.filter(Q=>Q.functionId===q||Q.functionId==="?").map(Q=>Q.index)};A.useEffect(()=>{if(l.phase!=="PLAYING")return;const N=l.players[l.currentPlayerIndex];if(N)if(l.movementState==="IDLE"&&l.remainingSteps>0){const P=ee(N,e);o(P)}else if(l.movementState==="TELEPORTING"){const P=e.filter(R=>R.index!==N.position).map(R=>R.index);o(P)}else l.remainingSteps===0&&l.movementState==="IDLE"&&o([])},[l.remainingSteps,l.movementState,l.currentPlayerIndex,l.players]);const de=(N,P="system",R,V)=>{const K={id:Date.now().toString()+Math.random(),text:N,type:P,author:R,timestamp:Date.now(),taskDetails:V};if(u(O=>({...O,logs:[...O.logs,K]})),R&&R!=="system"){const O=l.players.find(q=>q.name===R);O&&O.isBot&&uD(N,R)}},on=N=>{u(P=>({...P,snapshots:[...P.snapshots,N]}))},It=(N,P,R,V)=>{u(q=>({...q,phase:"LOADING"}));let K=0;const O=setInterval(()=>{K+=1,x(K),K>=100&&(clearInterval(O),I(!0))},50);window.pendingGameConfig={humanPlayers:N,mode:P,botCount:R,targetScore:V}},no=()=>{const N=window.pendingGameConfig;oo(N.humanPlayers,N.mode,N.botCount,N.targetScore)},oo=(N,P,R,V)=>{ve.current&&ve.current.play().catch(Q=>console.log("Audio play blocked:",Q));const K=gD(P);t(K);const O=P===ke.MBTI_16?3:0,q=P===ke.MBTI_16?3:0,z=K.find(Q=>Q.q===O&&Q.r===q),me=N.map((Q,$e)=>{let Ot=(z==null?void 0:z.index)||0;if(P===ke.MBTI_16){const We=K.filter(kt=>kt.functionId===Q.mbti);We.length>0&&(Ot=We[Math.floor(Math.random()*We.length)].index)}return{id:`user-${$e}`,name:Q.name||`P${$e+1}`,mbti:Q.mbti,isBot:!1,avatar:Q.avatarImage||"user",color:ys[$e%ys.length],trustScore:0,insightScore:0,expressionScore:0,totalRatingGiven:0,position:Ot,previousPosition:null,stackIndex:0,skipUsedCount:0}});for(let Q=0;Q<R;Q++){const $e=fD(),Ot=tE[$e]||[`Bot ${Q}`];let We=(z==null?void 0:z.index)||0;if(P===ke.MBTI_16){const kt=K.filter(An=>An.functionId===$e);kt.length>0&&(We=kt[Math.floor(Math.random()*kt.length)].index)}me.push({id:`bot-${Q}`,name:Ot[0],mbti:$e,isBot:!0,avatar:"bot",color:ys[me.length%ys.length],trustScore:0,insightScore:0,expressionScore:0,totalRatingGiven:0,position:We,previousPosition:null,stackIndex:0,skipUsedCount:0})}u(Q=>({...Q,players:me,gameMode:P,targetScore:V,phase:"PLAYING",subPhase:"IDLE",logs:[{id:"0",text:"",type:"system",timestamp:Date.now()}],sightRange:1})),g(!0),ve.current&&(ve.current.volume=.2,ve.current.play().catch(Q=>console.warn("Autoplay prevented:",Q)))},ST=N=>{N==="test"?(oe(!0),u(P=>({...P,phase:"ONBOARDING"}))):N==="tasks"?(oe(!1),u(P=>({...P,phase:"SOLO_TASKS"}))):(oe(!1),u(P=>({...P,phase:"ONBOARDING"})))},ta=N=>{const P=l.players[l.currentPlayerIndex];u(R=>({...R,movementState:"ROLLING"})),setTimeout(()=>{const R=N||Math.floor(Math.random()*8)+1,V=Math.random()>.5?2:1;u(K=>{const O={...K,diceValue:R,remainingSteps:R,sightRange:V,movementState:"IDLE",activeModifier:"NORMAL",activeSpecialAbility:"NONE",helperId:null,scoreTargetPlayerId:null,pregeneratedTasks:{}},q=J(P,R);return kf(q,K.players,K.logs),O}),X(!1),de(`${P.name}  ${R}  (: ${V})`,"action")},1e3)},na=N=>{if(!n.includes(N))return;const P=l.players[l.currentPlayerIndex],R=e.find(q=>q.index===N);if(!R)return;const V=ir[P.mbti]||[];let K=P.stackIndex;if(l.gameMode===ke.JUNG_8&&R.functionId!=="?")for(let q=1;q<V.length;q++){const z=(P.stackIndex+q)%V.length;if(V[z]===R.functionId){K=z;break}}const O=l.movementState==="TELEPORTING";u(q=>{const z=[...q.players],me=z[q.currentPlayerIndex];me.previousPosition=me.position,me.position=N,me.stackIndex=K;const Q=O?0:q.remainingSteps-1;return{...q,players:z,currentTile:R,remainingSteps:Q,movementState:"MOVING_STEP",activeModifier:R.modifier,activeSpecialAbility:R.specialAbility}}),o([]),setTimeout(()=>{O||l.remainingSteps===1?TT(R,O):u(q=>{const z=ee(q.players[q.currentPlayerIndex],e);return kf(z,q.players,q.logs),{...q,movementState:"IDLE"}})},600)},kf=async(N,P,R)=>{const V=P[l.currentPlayerIndex];N.forEach(async K=>{const O=e.find(z=>z.index===K);if(!O)return;const q=K.toString();u(z=>{var me;return(me=z.pregeneratedTasks)!=null&&me[q]||Rs(O.functionId,z.players,V,z.logs).then(Q=>{u($e=>({...$e,pregeneratedTasks:{...$e.pregeneratedTasks||{},[q]:Q}}))}),z})})},TT=(N,P)=>{var K;const R=l.players[l.currentPlayerIndex],V=N.index.toString();if(u(O=>({...O,movementState:"IDLE"})),!P&&N.specialAbility!=="NONE"&&N.functionId==="?"){_f(N.specialAbility);return}if(l.gameMode===ke.MBTI_16&&N.functionId==="Hub"&&!P){_f("FREEDOM");return}(K=l.pregeneratedTasks)!=null&&K[V]?u(O=>({...O,subPhase:"SELECTING_CARD",selectedTask:null,hasReselected:!1})):(Rs(N.functionId,l.players,R,l.logs).then(O=>{u(q=>({...q,pregeneratedTasks:{...q.pregeneratedTasks||{},[V]:O}}))}),u(O=>({...O,subPhase:"SELECTING_CARD",selectedTask:null,hasReselected:!1}))),de(` ${N.characterName||N.functionId}...`,"system")},_f=N=>{const P=l.players[l.currentPlayerIndex];if(N==="FREEDOM"){u(R=>({...R,movementState:"TELEPORTING"})),de(`${P.name} `,"action");return}if(N==="SUBSTITUTE"){u(R=>({...R,subPhase:"SELECTING_SUBSTITUTE"})),de(`${P.name} ...`,"action");return}if(N==="COMPANION"){u(R=>({...R,subPhase:"SELECTING_COMPANION"})),de(`${P.name} ...`,"action");return}u(R=>({...R,subPhase:"SELECTING_CARD"}))},Af=N=>{u(P=>({...P,helperId:N,subPhase:"IDLE",movementState:"TELEPORTING"})),de("","system")},bf=N=>{u(P=>({...P,helperId:N,subPhase:"IDLE",movementState:"TELEPORTING"})),de("","system")},oa=async N=>{if(!l.players[l.currentPlayerIndex].isBot){Te&&Te.getTracks().forEach(R=>R.stop());try{const R={video:{width:480,height:360,deviceId:N?{exact:N}:void 0}},V=await navigator.mediaDevices.getUserMedia(R);Bt(V),re(!0);const O=(await navigator.mediaDevices.enumerateDevices()).filter(q=>q.kind==="videoinput");if(Ce(O),!N&&O.length>0){const z=V.getVideoTracks()[0].getSettings();z.deviceId&&zt(z.deviceId)}}catch(R){console.warn("Camera access denied or unavailable",R),re(!1)}}},wT=async()=>{if(ye.length<=1)return;const P=(ye.findIndex(V=>V.deviceId===_n)+1)%ye.length,R=ye[P];zt(R.deviceId),await oa(R.deviceId)},Pf=N=>{var K,O;const P=((K=l.currentTile)==null?void 0:K.index.toString())||"",R=(O=l.pregeneratedTasks)==null?void 0:O[P],V=R?R[N]:null;if(V)u(q=>({...q,subPhase:"VIEWING_TASK",selectedTask:V})),oa();else{u(z=>({...z,subPhase:"VIEWING_TASK",selectedTask:null}));const q=l.currentTile;q&&Rs(q.functionId,l.players,l.players[l.currentPlayerIndex],l.logs).then(z=>{u(me=>({...me,selectedTask:z[N],pregeneratedTasks:{...me.pregeneratedTasks||{},[q.index.toString()]:z}})),oa()})}},ET=()=>{var q,z,me;const N=((q=l.currentTile)==null?void 0:q.index.toString())||"",P=(z=l.pregeneratedTasks)==null?void 0:z[N];if(l.hasReselected||!P)return;const R=["standard","truth","dare","deep"],V=(me=l.selectedTask)==null?void 0:me.category,K=R.filter(Q=>Q!==V),O=K[Math.floor(Math.random()*K.length)];u(Q=>({...Q,hasReselected:!0,selectedTask:P[O]}))},CT=()=>{l.players[l.currentPlayerIndex],u(N=>{const P=[...N.players];return P[N.currentPlayerIndex].skipUsedCount+=1,{...N,players:P,subPhase:"IDLE"}}),Uf()},NT=()=>{if(l.sharedHelpUsedCount>=3){alert("");return}u(N=>({...N,subPhase:"CHOOSING_HELPER"}))},Rf=N=>{u(P=>({...P,helperId:N,sharedHelpUsedCount:P.sharedHelpUsedCount+1,subPhase:"VIEWING_TASK"}))},Mf=async()=>{if(!l.selectedTask)return;const N=l.players[l.currentPlayerIndex];b(""),X(!1),Nt([]),N.isBot||Nf()&&(vT(R=>b(V=>V+" "+R),()=>L(!1)),L(!0),If(R=>{ae(R),R>.4&&X(!0)})),u(R=>({...R,subPhase:"TASK_EXECUTION"})),T(l.selectedTask.durationSeconds);const P=setInterval(()=>{T(R=>R<=1?(clearInterval(P),0):R-1)},1e3)};A.useEffect(()=>{if(l.subPhase!=="TASK_EXECUTION"||!Y||!Te||!l.selectedTask)return;const N=l.selectedTask;if(!(N.category==="dare"||/|||||/.test(N.description+N.title)))return;const R=N.durationSeconds,V=[Math.floor(R*.5),Math.floor(R*.1)],K=setInterval(async()=>{if(V.includes(v)&&Z.current&&ge.current){const O=Z.current,q=ge.current,z=q.getContext("2d");if(z){q.width=O.videoWidth,q.height=O.videoHeight,z.drawImage(O,0,0,q.width,q.height);const me=q.toDataURL("image/jpeg",.6);hx(me,N.title).then(Q=>{Nt($e=>[...$e,Q]),de(`[AI ]: ${Q}`,"system")})}}},1e3);return()=>clearInterval(K)},[l.subPhase,v,Y,Te,l.selectedTask]),A.useEffect(()=>{Te&&Z.current&&(Z.current.srcObject=Te)},[Te,l.subPhase]),A.useEffect(()=>{(l.subPhase==="IDLE"||l.subPhase==="SELECTING_CARD")&&(Te&&(Te.getTracks().forEach(N=>N.stop()),Bt(null),re(!1)),M&&(Fc(),Cl(),L(!1)))},[l.subPhase]);const Df=()=>{var O,q;M&&(Fc(),Cl(),L(!1)),Te&&(Te.getTracks().forEach(z=>z.stop()),Bt(null),re(!1));const N=l.players[l.currentPlayerIndex],P=`: ${((O=l.selectedTask)==null?void 0:O.title)||""}`,R=_.trim()?`: "${_.trim()}"`:N.isBot?"Bot ":"",V=Fe.length>0?`| : ${Fe.join("; ")}`:"";de(`${N.name} `,"action",N.name,`${P}${R} ${V}`),on(`${N.name}[${(q=l.selectedTask)==null?void 0:q.category}]${R} ${V}`);const K=l.players.filter(z=>z.id!==l.players[l.currentPlayerIndex].id);if(K.length===0){ia(5);return}u(z=>({...z,subPhase:"PEER_REVIEW",peerReviewQueue:K.map(me=>me.id),currentReviewerId:K[0].id,accumulatedRating:0}))},ia=N=>{const P=l.currentReviewerId;if(P&&u(R=>{const V=[...R.players],K=V.findIndex(O=>O.id===P);return K!==-1&&(V[K]={...V[K],totalRatingGiven:(V[K].totalRatingGiven||0)+N}),{...R,players:V}}),!(P&&l.peerReviewQueue.length>0&&(u(R=>{const V=R.peerReviewQueue.filter(O=>O!==P),K=V.length>0?V[0]:null;return K?{...R,accumulatedRating:R.accumulatedRating+N,peerReviewQueue:V,currentReviewerId:K}:{...R,accumulatedRating:R.accumulatedRating+N,peerReviewQueue:[],currentReviewerId:null}}),l.peerReviewQueue.length>1))){if(l.activeModifier==="CLONE"||l.activeModifier==="TRANSFER"){u(R=>({...R,subPhase:"SELECTING_SCORE_TARGET"}));return}Ff(N)}},Lf=N=>{u(P=>({...P,scoreTargetPlayerId:N})),Ff(0)},Ff=N=>{l.players[l.currentPlayerIndex];const P=l.selectedTask;if(!P)return;const R=Math.max(1,l.players.length-1),K=(l.accumulatedRating+N)/R;let O=Math.ceil(K*P.multiplier*2);const q=l.activeModifier;l.activeSpecialAbility,q==="DOUBLE"&&(O*=2),q==="HALF"&&(O=Math.floor(O/2)),se&&(O+=5),u(z=>{let me=z.players.map(kt=>({...kt}));const Q=me[z.currentPlayerIndex],$e=z.activeModifier,Ot=z.activeSpecialAbility,We=(kt,An)=>{const zf=me.findIndex(Pi=>Pi.id===kt);if(zf!==-1){const Pi=me[zf];P.scoreType==="trust"?Pi.trustScore+=An:P.scoreType==="insight"?Pi.insightScore+=An:Pi.expressionScore+=An}};if(Ot==="SUBSTITUTE"&&z.helperId)We(z.helperId,O);else if(Ot==="COMPANION"&&z.helperId)We(Q.id,O),We(z.helperId,O);else if(z.helperId&&Ot==="NONE"&&$e==="NORMAL"){const kt=Math.ceil(O/2),An=Math.floor(O/2);We(Q.id,An),We(z.helperId,kt)}else $e==="TRANSFER"&&z.scoreTargetPlayerId?We(z.scoreTargetPlayerId,O):(We(Q.id,O),$e==="CLONE"&&z.scoreTargetPlayerId&&We(z.scoreTargetPlayerId,O));return{...z,players:me}}),Uf()},Uf=()=>{u(N=>{const P=N.players[N.currentPlayerIndex];if(P.trustScore+P.insightScore+P.expressionScore>=N.targetScore)return Vf(N.players),N;const V=(N.currentPlayerIndex+1)%N.players.length;return{...N,currentPlayerIndex:V,subPhase:"IDLE",selectedTask:null,helperId:null,scoreTargetPlayerId:null,activeModifier:"NORMAL",activeSpecialAbility:"NONE",remainingSteps:0,turn:V===0?N.turn+1:N.turn,currentReviewerId:null,peerReviewQueue:[],accumulatedRating:0}})},Vf=async N=>{u(R=>({...R,players:N,phase:"ANALYSIS"}));const P=await M2(N,l.snapshots,l.logs);S(P),ve.current&&(ve.current.pause(),ve.current.currentTime=0),g(!1)},IT=async(N,P)=>{const R={id:"solo-player",name:N.name,mbti:N.mbti,isBot:!1,avatar:"user",trustScore:0,insightScore:0,expressionScore:0,totalRatingGiven:0,position:0,previousPosition:null,stackIndex:0,skipUsedCount:0,color:"teal"};u(K=>({...K,players:[R],phase:"ANALYSIS",currentPlayerIndex:0,startTime:Date.now()}));const V=await D2(N,P);S(V)},kT=()=>{ve.current&&(ve.current.pause(),ve.current.currentTime=0),g(!1)},ra=()=>{u(P=>({players:[],currentPlayerIndex:0,gameMode:ke.JUNG_8,turn:1,targetScore:40,logs:[],phase:"HUB",subPhase:"IDLE",currentTile:null,selectedTask:null,activeModifier:"NORMAL",activeSpecialAbility:"NONE",remainingSteps:0,sightRange:1,helperId:null,scoreTargetPlayerId:null,sharedHelpUsedCount:0,hasReselected:!1,pregeneratedTasks:null,movementState:"IDLE",diceValue:null,highestScore:0,snapshots:[],startTime:Date.now(),peerReviewQueue:[],currentReviewerId:null,accumulatedRating:0})),x(0);const N=setInterval(()=>{x(P=>P>=100?(clearInterval(N),I(!0),100):P+2)},60);I(!1),t([]),o([]),S(null),j(null),oe(!1),kT()};if(ne)return m.jsx(ng,{players:ne.players,report:ne.report,startTime:ne.startTime,gameMode:ne.gameMode,onReturnHome:()=>{window.history.pushState({},"",window.location.pathname),j(null)}});if(l.phase==="HUB")return m.jsxs("div",{className:`h-screen flex flex-col transition-colors duration-300 font-sans ${s?"dark bg-slate-900 text-white":"bg-stone-50 text-slate-800"} overflow-hidden`,children:[m.jsxs("header",{className:"h-16 flex items-center justify-between px-6 border-b border-slate-200 dark:border-white/5 shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-2 font-black text-xl tracking-tighter italic",children:[m.jsx(Cx,{className:"text-blue-500"})," RAINBOW BOAT"]}),m.jsx("div",{className:"flex items-center gap-3",children:m.jsx("button",{onClick:Ro,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition",children:s?m.jsx(sc,{size:18}):m.jsx(rc,{size:18})})})]}),m.jsx("main",{className:"flex-1 relative overflow-hidden",children:m.jsx(cD,{onSelectMode:ST,onOpenConfig:()=>k(!0),isMobile:d})}),C&&m.jsx(Pc,{onClose:()=>k(!1)})]});if(l.phase==="SOLO_TASKS")return m.jsx(dD,{onBack:()=>u(N=>({...N,phase:"HUB"})),isMobile:d,isDarkMode:s});if(l.phase==="ONBOARDING")return m.jsx(X5,{onComplete:It,isDarkMode:s,toggleTheme:Ro,initialStep:B?"quiz":"setup",isSoloTest:B,onBackToHub:ra,onShowQuickReport:IT});if(l.phase==="LOADING"){const N=["...","...","...","...","..."],P=N[Math.floor(y/100*(N.length-1))];return m.jsx("div",{className:"min-h-screen w-full flex flex-col items-center justify-center text-slate-800 dark:text-white relative font-sans transition-colors duration-300",children:m.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-4xl px-8 text-center bg-white/10 dark:bg-black/20 backdrop-blur-md rounded-3xl p-16 shadow-2xl border border-white/10",children:[m.jsx(le.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-8xl font-bold tracking-tight mb-2 text-transparent bg-clip-text bg-[linear-gradient(to_right,#ef4444,#f97316,#eab308,#22c55e,#3b82f6,#a855f7)] drop-shadow-lg",children:""}),m.jsx(le.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-xl font-bold text-teal-500/80 dark:text-teal-400/80 tracking-[0.3em] mb-12",children:""}),m.jsx(hD,{}),m.jsx("div",{className:"w-full h-4 bg-slate-700/50 rounded-full overflow-hidden mb-4 mt-8 relative z-20",children:m.jsx(le.div,{className:"h-full bg-gradient-to-r from-teal-400 via-blue-500 to-purple-600",initial:{width:0},animate:{width:`${y}%`}})}),m.jsx("p",{className:"text-xs font-bold text-slate-500 animate-pulse tracking-widest uppercase",children:P}),E&&m.jsxs(le.button,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},onClick:no,style:{pointerEvents:y<100?"none":"auto"},className:`mt-12 px-16 py-6 rounded-full font-bold text-3xl shadow-2xl flex items-center gap-3 transition-all ${y<100?"bg-slate-700 text-slate-500 grayscale cursor-not-allowed":"bg-white text-slate-900 hover:scale-105 active:scale-95"}`,children:[m.jsx(rb,{size:32,fill:"currentColor"})," ",y<100?"":" "]})]})})}if(l.phase==="ANALYSIS"&&w)return m.jsx(ng,{players:l.players,report:w||{groupAnalysis:"",playerAnalysis:{}},onReturnHome:ra,startTime:l.startTime,gameMode:l.gameMode});const Be=l.players[l.currentPlayerIndex];if(!Be)return m.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:"Loading Game State..."});const Gf=l.currentReviewerId?l.players.find(N=>N.id===l.currentReviewerId):null,_T=ir[Be.mbti]||[];return m.jsxs("div",{className:`h-screen w-full text-slate-800 dark:text-slate-200 font-sans flex flex-col overflow-hidden relative selection:bg-teal-500/30 transition-colors duration-300 ${s?"dark bg-slate-900":"bg-stone-50"} ${d&&l.phase==="SETUP"?"overflow-y-auto":"overflow-hidden"}`,children:[m.jsxs("header",{className:`${d?"h-14 px-3":"h-16 px-6"} bg-white/80 dark:bg-slate-900/60 backdrop-blur border-b border-slate-200 dark:border-white/5 flex items-center justify-between shrink-0 z-30 transition-colors duration-300`,children:[m.jsxs("div",{className:`flex items-center gap-3 ${d?"w-auto":"w-1/3"}`,children:[m.jsx("button",{onClick:ra,className:"flex items-center gap-1 text-slate-500 hover:text-teal-600 dark:text-slate-400 dark:hover:text-white transition group",title:"Return to Home",children:m.jsx(tb,{size:d?14:16,className:"group-hover:-translate-x-1 transition"})}),m.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-800/50 pr-3 rounded-full border border-slate-200 dark:border-slate-700/50 overflow-hidden",children:[m.jsx("div",{className:`${d?"w-7 h-7":"w-10 h-10"} rounded-full border-2 border-teal-500/50 overflow-hidden shrink-0`,children:Be.avatar.startsWith("data:")?m.jsx("img",{src:Be.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 w-full h-full flex items-center justify-center font-bold text-xs",children:Be.name[0]})}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:`font-black text-slate-700 dark:text-white ${d?"text-[10px]":"text-sm"} truncate`,children:Be.name}),m.jsx("div",{className:"text-[8px] font-bold text-teal-600 dark:text-teal-400 truncate",children:Be.mbti})]})]})]}),!d&&m.jsxs("div",{className:"flex-1 flex justify-center px-4 overflow-hidden",children:[l.gameMode===ke.JUNG_8&&m.jsx("div",{className:"flex items-center px-6 py-2 rounded-full bg-white/40 dark:bg-black/40 border border-slate-200 dark:border-white/5 backdrop-blur-md shadow-inner overflow-x-auto no-scrollbar max-w-xl",children:_T.map((N,P)=>{const R=P===Be.stackIndex;return m.jsxs("div",{className:`flex flex-col items-center relative transition-all duration-500 ${R?"mx-3":"mx-1"}`,children:[R&&m.jsx("div",{className:"text-[9px] text-teal-600 dark:text-teal-400 font-bold mb-1 absolute -top-4",children:""}),m.jsx("div",{className:`w-8 h-8 flex items-center justify-center text-[10px] font-bold rounded-full transition-all duration-500 ${R?"bg-teal-500 text-white scale-125 shadow-[0_0_15px_#14b8a6]":"bg-slate-200 dark:bg-slate-800 text-slate-500"}`,children:N})]},P)})}),l.gameMode===ke.MBTI_16&&m.jsx("div",{className:"flex items-center px-6 py-2 rounded-full bg-white/40 dark:bg-black/40 border border-slate-200 dark:border-white/5 backdrop-blur-md shadow-inner overflow-x-auto no-scrollbar max-w-2xl",children:al.map((N,P)=>{var O;const R=((O=l.currentTile)==null?void 0:O.functionId)===N;let V="bg-slate-200 dark:bg-slate-800 text-slate-500";const K=Object.entries(Yt).find(([q,z])=>z.types.includes(N));if(K){const[q,z]=K;R&&(z.hexColor==="#a855f7"?V="bg-purple-500 text-white shadow-[0_0_15px_#a855f7] scale-110":z.hexColor==="#22c55e"?V="bg-green-500 text-white shadow-[0_0_15px_#22c55e] scale-110":z.hexColor==="#3b82f6"?V="bg-blue-500 text-white shadow-[0_0_15px_#3b82f6] scale-110":z.hexColor==="#eab308"&&(V="bg-yellow-500 text-white shadow-[0_0_15px_#eab308] scale-110"))}return m.jsxs("div",{className:"flex flex-col items-center relative transition-all duration-500 mx-1 shrink-0",children:[R&&m.jsx("div",{className:"text-[9px] text-teal-600 dark:text-teal-400 font-bold mb-1 absolute -top-4",children:""}),m.jsx("div",{className:`px-2 py-1 flex items-center justify-center text-[10px] font-bold rounded-md transition-all duration-500 ${R?V:"bg-slate-200 dark:bg-slate-800 text-slate-500"}`,children:N})]},N)})})]}),m.jsxs("div",{className:`${d?"w-auto":"w-1/3"} flex items-center justify-end gap-1.5 md:gap-3`,children:[!d&&m.jsx("button",{onClick:()=>U(!D),className:`px-3 py-1 rounded-full text-xs font-bold border transition ${D?"bg-amber-500 text-white border-amber-600":"bg-slate-100 dark:bg-slate-800 text-slate-400 border-slate-300 dark:border-slate-700"}`,children:D?"":""}),m.jsxs("button",{onClick:()=>Vf(l.players),className:`${d?"p-2":"px-3 py-1.5"} rounded-lg bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/50 border border-red-200 dark:border-red-800/50 text-red-600 dark:text-red-300 transition flex items-center gap-1.5 text-xs font-bold`,children:[m.jsx(Sx,{size:14})," ",!d&&""]}),m.jsx("button",{onClick:Ro,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition transform active:scale-90",children:s?m.jsx(sc,{size:d?16:18}):m.jsx(rc,{size:d?16:18})}),!d&&m.jsx("button",{onClick:()=>k(!0),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 hover:text-teal-600 dark:hover:text-teal-400 transition",children:m.jsx(Kl,{size:18})}),m.jsx("button",{onClick:()=>g(!p),className:`p-2 rounded-full transition ${p?"text-teal-500":"text-slate-600 dark:text-slate-400"}`,children:m.jsx(ib,{size:d?16:18})})]})]}),m.jsxs("main",{className:"flex-1 flex relative overflow-hidden",children:[(l.phase==="PLAYING"||l.phase==="SETUP")&&m.jsxs("div",{className:"flex-1 flex relative overflow-hidden",children:[m.jsxs("div",{className:"flex-1 relative bg-transparent flex flex-col overflow-hidden",children:[m.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing",children:m.jsx(Q5,{players:l.players,currentPlayerId:Be.id,boardLayout:e,validMoves:n,onTileClick:na,gameMode:l.gameMode,visibilityRadius:l.sightRange,isMobile:d,isDarkMode:s})}),m.jsx(Wt,{children:l.remainingSteps>0&&l.movementState!=="ROLLING"&&m.jsx(le.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},className:"absolute inset-0 pointer-events-none flex items-center justify-center z-10",children:m.jsx("div",{className:"text-[10rem] font-bold text-slate-900/10 dark:text-white/20 drop-shadow-lg select-none",children:l.remainingSteps})})}),m.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center z-20",children:m.jsxs("div",{className:"relative w-full h-full max-w-4xl max-h-[800px]",children:[m.jsxs("div",{className:`absolute bottom-20 right-8 pointer-events-auto transition-all duration-300 ${l.gameMode===ke.MBTI_16?"translate-x-24":""}`,children:[D&&l.subPhase==="IDLE"&&l.remainingSteps===0&&m.jsxs("div",{className:"mb-6 p-4 bg-slate-800/80 rounded-2xl border border-amber-500/30 backdrop-blur shadow-xl",children:[m.jsx("h3",{className:"text-amber-400 font-bold mb-3 text-sm uppercase tracking-wider",children:""}),m.jsx("div",{className:"flex gap-2 justify-center",children:[1,2,3,4,5,6,7,8].map(N=>m.jsx("button",{onClick:()=>ta(N),className:"w-12 h-12 rounded-xl bg-slate-700 hover:bg-amber-500 text-white font-bold text-xl transition shadow-lg border border-slate-600",children:N},N))})]}),l.subPhase==="IDLE"&&!Be.isBot&&l.remainingSteps===0&&m.jsxs("button",{onClick:()=>ta(),disabled:D||l.movementState!=="IDLE",className:`group relative w-24 h-24 rounded-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 flex items-center justify-center shadow-2xl transition hover:scale-105 active:scale-95 ${D?"opacity-50 cursor-not-allowed":""}`,children:[m.jsx("div",{className:"absolute inset-0 rounded-full border border-teal-500/30 animate-ping opacity-20"}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx(q2,{className:"text-teal-500 group-hover:text-teal-600 dark:group-hover:text-white transition mb-1",size:28}),m.jsx("span",{className:"text-[10px] text-teal-600/80 dark:text-teal-500/80 font-bold uppercase tracking-widest",children:""})]})]}),l.movementState==="ROLLING"&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center -translate-y-12",children:m.jsx(pD,{value:l.diceValue,rolling:!0})})]}),m.jsx(Wt,{children:l.movementState==="IDLE"&&(l.activeModifier!=="NORMAL"||l.activeSpecialAbility!=="NONE")&&l.subPhase==="SELECTING_CARD"&&m.jsx(le.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:2,opacity:0},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:m.jsxs("div",{className:"bg-white/90 dark:bg-black/80 backdrop-blur-md p-6 rounded-3xl border-2 border-amber-500 text-center shadow-[0_0_50px_rgba(245,158,11,0.5)] text-slate-800 dark:text-white",children:[m.jsxs("div",{className:"text-6xl mb-2",children:[l.activeModifier==="DOUBLE"&&" x2"," ",l.activeModifier==="HALF"&&" 2"," ",l.activeModifier==="CLONE"&&""," ",l.activeModifier==="TRANSFER"&&"",l.activeSpecialAbility==="FREEDOM"&&""," ",l.activeSpecialAbility==="SUBSTITUTE"&&""," ",l.activeSpecialAbility==="COMPANION"&&""]}),m.jsxs("div",{className:"text-2xl font-bold text-amber-500 dark:text-amber-400",children:[l.activeModifier==="DOUBLE"&&""," ",l.activeModifier==="HALF"&&""," ",l.activeModifier==="CLONE"&&""," ",l.activeModifier==="TRANSFER"&&"",l.activeSpecialAbility==="FREEDOM"&&""," ",l.activeSpecialAbility==="SUBSTITUTE"&&""," ",l.activeSpecialAbility==="COMPANION"&&""]})]})})}),m.jsx(Wt,{children:l.subPhase==="SELECTING_CARD"&&m.jsx(le.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"absolute inset-0 flex items-center justify-center pointer-events-auto",children:m.jsx("div",{className:"grid grid-cols-2 gap-6 p-8 bg-white/90 dark:bg-slate-900/80 backdrop-blur-xl rounded-3xl border border-slate-200 dark:border-slate-700 shadow-2xl",children:["standard","truth","dare","deep"].map(N=>{const P=xo[N];return m.jsxs("button",{onClick:()=>Pf(N),className:`w-40 h-48 rounded-2xl flex flex-col items-center justify-center gap-4 transition-all hover:-translate-y-2 hover:shadow-xl border ${P.color} bg-opacity-20 hover:bg-opacity-30 group`,children:[m.jsx("div",{className:"text-5xl group-hover:scale-110 transition",children:P.icon}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:P.name}),m.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-white/60",children:["x",P.multiplier," "]})]})]},N)})})})})]})}),m.jsx(Wt,{children:(l.subPhase==="VIEWING_TASK"||l.subPhase==="TASK_EXECUTION")&&m.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md p-4 overflow-y-auto",children:m.jsxs("div",{className:`flex ${d?"flex-col":"flex-row"} gap-6 items-center w-full max-w-6xl justify-center`,children:[m.jsx("div",{className:"w-full max-w-lg bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-2xl overflow-hidden flex flex-col transition-all duration-300",children:l.selectedTask?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:`p-8 ${xo[l.selectedTask.category].color} bg-opacity-20 text-center relative`,children:[m.jsx("div",{className:"text-5xl mb-3",children:xo[l.selectedTask.category].icon}),m.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:l.selectedTask.title}),m.jsxs("div",{className:"flex justify-center gap-2",children:[m.jsxs("span",{className:"px-2 py-0.5 bg-black/10 dark:bg-black/20 rounded-full text-[10px] text-slate-600 dark:text-white/90",children:[" ",l.selectedTask.durationSeconds,"s"]}),m.jsxs("span",{className:"px-2 py-0.5 bg-black/10 dark:bg-black/20 rounded-full text-[10px] text-slate-600 dark:text-white/90",children:[" ",l.selectedTask.scoreType]})]}),m.jsx("button",{onClick:()=>u(N=>({...N,subPhase:"SELECTING_CARD"})),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-white/50 dark:hover:text-white",children:m.jsx(Yl,{size:18})})]}),m.jsxs("div",{className:"p-6 flex-1 flex flex-col min-h-0",children:[m.jsxs("p",{className:"text-md text-slate-600 dark:text-slate-300 leading-relaxed text-center mb-6 flex-shrink-0 italic",children:['"',l.selectedTask.description,'"']}),l.helperId&&m.jsxs("div",{className:"mb-4 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-500/30 p-2 rounded-lg flex items-center gap-3 justify-center text-indigo-700 dark:text-indigo-200 text-xs",children:[m.jsx(ac,{size:14})," ",m.jsxs("span",{children:[": ",m.jsx("strong",{children:(Bf=l.players.find(N=>N.id===l.helperId))==null?void 0:Bf.name})]})]}),l.subPhase==="VIEWING_TASK"?m.jsxs("div",{className:"space-y-4 pt-2",children:[m.jsxs("button",{onClick:Mf,className:"w-full py-4 bg-gradient-to-r from-teal-600 to-blue-600 hover:brightness-110 rounded-2xl font-bold text-white shadow-lg transition-all text-lg flex items-center justify-center gap-2 group",children:[" ",m.jsx(ho,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.jsxs("button",{onClick:ET,disabled:l.hasReselected,className:"py-2.5 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 disabled:opacity-50 rounded-xl text-slate-500 dark:text-slate-300 text-[10px] font-bold flex flex-col items-center justify-center gap-1 transition-all",children:[m.jsx(wx,{size:14})," "]}),m.jsxs("button",{onClick:NT,className:"py-2.5 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/50 dark:hover:bg-indigo-900 rounded-xl text-indigo-600 dark:text-indigo-300 text-[10px] font-bold flex flex-col items-center justify-center gap-1 border border-indigo-200 dark:border-indigo-500/30 transition-all",children:[m.jsx(ac,{size:14}),"  (",3-l.sharedHelpUsedCount,")"]}),m.jsxs("button",{onClick:CT,className:"py-2.5 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-xl text-slate-500 dark:text-slate-400 text-[10px] font-bold flex flex-col items-center justify-center gap-1 transition-all",children:[m.jsx(cb,{size:14}),"  (-",Be.skipUsedCount,")"]})]})]}):m.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[m.jsxs("div",{className:"flex-1 w-full bg-slate-50 dark:bg-black/20 rounded-2xl p-5 mb-4 border border-slate-200 dark:border-white/10 overflow-y-auto relative min-h-[200px]",children:[M&&m.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1.5 text-red-500 animate-pulse font-bold text-[10px] z-20",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"})," "]}),m.jsx("textarea",{className:"w-full h-full bg-transparent resize-none outline-none text-slate-700 dark:text-slate-200 text-lg leading-relaxed placeholder:text-slate-400 font-medium",placeholder:M?"...":"...",value:_,onChange:N=>b(N.target.value)})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-slate-800 rounded-xl flex items-center justify-center overflow-hidden border-2 border-slate-200 dark:border-slate-700 h-16",children:[m.jsx("canvas",{ref:ge,className:"hidden"}),m.jsxs("span",{className:"text-3xl font-mono font-black text-slate-800 dark:text-white",children:[v,"s"]})]}),m.jsx("button",{onClick:()=>Df(),className:"flex-[2] px-6 bg-teal-600 hover:bg-teal-500 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 text-md",children:""})]})]})]})]}):m.jsx("div",{className:"p-12 flex flex-col items-center justify-center space-y-4",children:m.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-teal-500 border-t-transparent animate-spin"})})}),Y&&!d&&m.jsxs(le.div,{initial:{x:30,opacity:0},animate:{x:0,opacity:1},className:"w-72 bg-slate-900 rounded-3xl border border-slate-700 shadow-2xl overflow-hidden flex flex-col h-[520px] relative",children:[m.jsxs("div",{className:"p-3 bg-slate-800 border-b border-slate-700 flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),m.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase tracking-widest",children:"AI Observation"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[ye.length>1&&m.jsx("button",{onClick:wT,className:"p-1.5 hover:bg-slate-700 rounded-lg text-slate-400 hover:text-teal-400 transition",title:"",children:m.jsx(lb,{size:14})}),m.jsx(j2,{size:12,className:"text-teal-400"})]})]}),m.jsxs("div",{className:"flex-1 bg-black relative flex items-center justify-center overflow-hidden",children:[m.jsx("video",{ref:Z,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover",onLoadedMetadata:N=>N.currentTarget.play()}),m.jsxs("div",{className:"absolute inset-0 pointer-events-none border-[15px] border-transparent",children:[m.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t border-l border-teal-500/40"}),m.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t border-r border-teal-500/40"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b border-l border-teal-500/40"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b border-r border-teal-500/40"}),m.jsx(le.div,{animate:{top:["5%","95%","5%"]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute left-2 right-2 h-px bg-teal-500/20 blur-[1px] z-10"})]})]}),m.jsxs("div",{className:"p-4 bg-slate-800/90 backdrop-blur-md",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(Ms,{size:16,className:"text-teal-400"}),m.jsx("h4",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:""})]}),m.jsx("p",{className:"text-[9px] text-slate-400 leading-relaxed italic",children:" AI "})]})]})]})})}),m.jsxs(Wt,{children:[l.subPhase==="PEER_REVIEW"&&Gf&&m.jsx(mD,{reviewer:Gf,actor:Be,hasHighEnergyBonus:se,onSubmit:ia}),l.subPhase==="TASK_EXECUTION"&&M&&m.jsxs("div",{className:"absolute top-24 right-6 flex flex-col items-center gap-2",children:[m.jsxs("div",{className:"w-4 h-32 bg-slate-800 rounded-full overflow-hidden border border-slate-600 relative",children:[m.jsx("div",{className:"absolute bottom-0 w-full transition-all duration-100 bg-gradient-to-t from-green-500 via-yellow-400 to-red-500",style:{height:`${Math.min(100,$*200)}%`}}),m.jsx("div",{className:"absolute bottom-[40%] w-full h-[2px] bg-white opacity-50"})]}),m.jsx(gb,{size:16,className:$>.4?"text-red-500 animate-bounce":"text-slate-500"}),se&&m.jsx($d,{size:16,className:"text-yellow-400 fill-yellow-400 animate-pulse"})]})]}),m.jsx(Wt,{children:(l.subPhase==="SELECTING_SCORE_TARGET"||l.subPhase==="SELECTING_SUBSTITUTE"||l.subPhase==="SELECTING_COMPANION")&&m.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-6 rounded-2xl text-center border-2 border-amber-500/50 shadow-2xl",children:[m.jsxs("h3",{className:"font-bold text-amber-500 dark:text-amber-400 mb-2 text-xl",children:[l.subPhase==="SELECTING_SCORE_TARGET"&&(l.activeModifier==="CLONE"?" ":" "),l.subPhase==="SELECTING_SUBSTITUTE"&&" ",l.subPhase==="SELECTING_COMPANION"&&" "]}),m.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-60 overflow-y-auto mt-4",children:l.players.filter(N=>N.id!==Be.id).map(N=>m.jsxs("button",{onClick:()=>{l.subPhase==="SELECTING_SCORE_TARGET"&&Lf(N.id),l.subPhase==="SELECTING_SUBSTITUTE"&&Af(N.id),l.subPhase==="SELECTING_COMPANION"&&bf(N.id)},className:"p-3 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-xl flex flex-col items-center gap-2 border border-transparent hover:border-amber-500 transition",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-300 dark:bg-slate-600 overflow-hidden",children:N.avatar.startsWith("data:")?m.jsx("img",{src:N.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-slate-700 dark:text-white",children:N.name[0]})}),m.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:N.name})]},N.id))})]})})}),m.jsx(Wt,{children:l.subPhase==="CHOOSING_HELPER"&&m.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-6 rounded-2xl text-center",children:[m.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:""}),m.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-60 overflow-y-auto",children:l.players.filter(N=>N.id!==Be.id).map(N=>m.jsxs("button",{onClick:()=>Rf(N.id),className:"p-3 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-xl flex flex-col items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-300 dark:bg-slate-600 overflow-hidden",children:N.avatar.startsWith("data:")?m.jsx("img",{src:N.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-slate-700 dark:text-white",children:N.name[0]})}),m.jsx("span",{className:"text-xs text-slate-800 dark:text-white",children:N.name})]},N.id))})]})})}),m.jsx("div",{className:`absolute ${d?"bottom-4 left-4 scale-75":"bottom-6 left-6"} z-40`,children:m.jsx("div",{className:`relative group ${d?"w-24 h-24":"w-32 h-32"}`,children:m.jsx("div",{className:"w-full h-full rounded-full overflow-hidden border-2 border-white dark:border-slate-700 shadow-xl bg-white dark:bg-black flex items-center justify-center",children:Be.avatar.startsWith("data:")?m.jsx("img",{src:Be.avatar,className:"w-full h-full object-cover"}):m.jsx("div",{className:"text-4xl font-bold text-slate-400 dark:text-slate-500",children:Be.name[0]})})})}),d&&i&&m.jsxs("button",{onClick:()=>r(!1),className:"absolute bottom-6 right-6 z-[60] w-14 h-14 bg-teal-600 dark:bg-teal-500 text-white rounded-full flex items-center justify-center shadow-[0_8px_20px_rgba(20,184,166,0.3)] border-2 border-white dark:border-slate-800 transition-all active:scale-95 animate-in zoom-in-50 duration-300",children:[m.jsx(Tx,{size:24}),m.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white dark:border-slate-800"})]})]}),m.jsxs("div",{className:`bg-white/95 dark:bg-slate-900/90 backdrop-blur-xl border-slate-200 dark:border-white/5 flex flex-col transition-all duration-500 z-50 shadow-2xl ${d?`fixed bottom-0 left-0 right-0 border-t rounded-t-[3rem] h-[60vh] transform ${i?"translate-y-full":"translate-y-0"}`:i?"w-16 border-l shrink-0":"w-64 border-l shrink-0"}`,children:[m.jsxs("div",{className:`${d?"h-14":"h-16"} flex items-center justify-between px-8 border-b border-slate-100 dark:border-white/5 shrink-0`,children:[m.jsx("span",{className:`font-black text-slate-800 dark:text-white ${d?"text-sm":"text-xs"} uppercase tracking-[0.2em]`,children:""}),m.jsx("button",{onClick:()=>r(!0),className:"p-2 text-slate-400 hover:text-teal-600 dark:text-slate-500 dark:hover:text-teal-400 transition-colors",children:m.jsx(vx,{size:24,className:d?"rotate-90":""})})]}),i?m.jsx("div",{className:"flex flex-col items-center gap-4 py-4",children:l.players.map(N=>m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-[10px] border ${N.id===Be.id?"border-teal-500 text-teal-500":"border-slate-300 dark:border-slate-700 text-slate-400"}`,children:N.name[0]},N.id))}):m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsx("div",{className:`overflow-y-auto custom-scrollbar p-3 transition-all duration-300 ${l.players.length>6?"space-y-1.5":"space-y-3"}`,style:{maxHeight:"65%"},children:[...l.players].sort((N,P)=>P.trustScore+P.insightScore+P.expressionScore-(N.trustScore+N.insightScore+N.expressionScore)).map(N=>{const P=N.trustScore+N.insightScore+N.expressionScore,R=l.players.length>6;return m.jsxs("div",{className:`rounded-xl border transition-all ${R?"p-2":"p-3"} ${N.id===Be.id?"bg-slate-50 dark:bg-slate-800 border-teal-500/30 shadow-lg":"bg-transparent border-slate-100 dark:border-slate-800/50"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-700 dark:text-white overflow-hidden ring-1 ring-slate-300 dark:ring-slate-600 ${R?"w-6 h-6 text-[9px]":"w-8 h-8 text-[10px]"}`,children:N.avatar.startsWith("data:")?m.jsx("img",{src:N.avatar,className:"w-full h-full object-cover"}):N.name[0]}),m.jsxs("div",{className:"leading-tight",children:[m.jsx("div",{className:`font-bold text-slate-700 dark:text-slate-200 ${R?"text-[10px]":"text-xs"}`,children:N.name}),m.jsx("div",{className:"text-[9px] text-slate-400 dark:text-slate-500",children:N.mbti})]})]}),m.jsx("div",{className:`font-bold text-amber-500 ${R?"text-xs":"text-sm"}`,children:P})]}),m.jsxs("div",{className:"flex gap-1 text-[9px] text-slate-500",children:[m.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-slate-900/40 rounded px-1.5 py-0.5 flex justify-between",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:N.trustScore})]}),m.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-slate-900/40 rounded px-1.5 py-0.5 flex justify-between",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"text-purple-500 dark:text-purple-400",children:N.insightScore})]}),m.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-slate-900/40 rounded px-1.5 py-0.5 flex justify-between",children:[m.jsx("span",{children:""}),m.jsx("span",{className:"text-orange-500 dark:text-orange-400",children:N.expressionScore})]})]})]},N.id)})}),m.jsx("div",{className:"flex-1 bg-slate-50/50 dark:bg-slate-950/50 border-t border-slate-200 dark:border-slate-800 p-3 overflow-y-auto custom-scrollbar text-[10px] space-y-1.5 min-h-[150px]",children:l.logs.slice(-30).map(N=>m.jsxs("div",{className:"text-slate-500 dark:text-slate-400 leading-snug mb-1.5 border-b border-slate-200 dark:border-slate-900/50 pb-1",children:[m.jsx("span",{className:"text-teal-600 dark:text-teal-500 font-bold mr-1",children:N.author||""}),N.text,N.taskDetails&&m.jsx("div",{className:"text-[9px] text-slate-400 dark:text-slate-600 mt-0.5 italic line-clamp-2",children:N.taskDetails})]},N.id))})]})]})]}),C&&m.jsx(Pc,{onClose:()=>k(!1)})]})]})}const xT=document.getElementById("root");if(!xT)throw new Error("Could not find root element to mount to");const vD=Xa.createRoot(xT);vD.render(m.jsx(xe.StrictMode,{children:m.jsx(yD,{})}));
