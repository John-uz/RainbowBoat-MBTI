(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function yg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vg={exports:{}},Ul={},xg={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=Symbol.for("react.element"),$1=Symbol.for("react.portal"),H1=Symbol.for("react.fragment"),j1=Symbol.for("react.strict_mode"),q1=Symbol.for("react.profiler"),J1=Symbol.for("react.provider"),W1=Symbol.for("react.context"),K1=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),X1=Symbol.for("react.memo"),Q1=Symbol.for("react.lazy"),Zf=Symbol.iterator;function Z1(e){return e===null||typeof e!="object"?null:(e=Zf&&e[Zf]||e["@@iterator"],typeof e=="function"?e:null)}var Sg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tg=Object.assign,wg={};function Mr(e,t,n){this.props=e,this.context=t,this.refs=wg,this.updater=n||Sg}Mr.prototype.isReactComponent={};Mr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Eg(){}Eg.prototype=Mr.prototype;function Xc(e,t,n){this.props=e,this.context=t,this.refs=wg,this.updater=n||Sg}var Qc=Xc.prototype=new Eg;Qc.constructor=Xc;Tg(Qc,Mr.prototype);Qc.isPureReactComponent=!0;var ep=Array.isArray,Cg=Object.prototype.hasOwnProperty,Zc={current:null},Ng={key:!0,ref:!0,__self:!0,__source:!0};function kg(e,t,n){var o,r={},i=null,s=null;if(t!=null)for(o in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Cg.call(t,o)&&!Ng.hasOwnProperty(o)&&(r[o]=t[o]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(o in a=e.defaultProps,a)r[o]===void 0&&(r[o]=a[o]);return{$$typeof:Hi,type:e,key:i,ref:s,props:r,_owner:Zc.current}}function eT(e,t){return{$$typeof:Hi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ed(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hi}function tT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tp=/\/+/g;function ya(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tT(""+e.key):t.toString(36)}function Ps(e,t,n,o,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Hi:case $1:s=!0}}if(s)return s=e,r=r(s),e=o===""?"."+ya(s,0):o,ep(r)?(n="",e!=null&&(n=e.replace(tp,"$&/")+"/"),Ps(r,t,n,"",function(u){return u})):r!=null&&(ed(r)&&(r=eT(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(tp,"$&/")+"/")+e)),t.push(r)),1;if(s=0,o=o===""?".":o+":",ep(e))for(var a=0;a<e.length;a++){i=e[a];var l=o+ya(i,a);s+=Ps(i,t,n,l,r)}else if(l=Z1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=o+ya(i,a++),s+=Ps(i,t,n,l,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ns(e,t,n){if(e==null)return e;var o=[],r=0;return Ps(e,o,"","",function(i){return t.call(n,i,r++)}),o}function nT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},Rs={transition:null},oT={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:Zc};function Ig(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:ns,forEach:function(e,t,n){ns(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ns(e,function(){t++}),t},toArray:function(e){return ns(e,function(t){return t})||[]},only:function(e){if(!ed(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Mr;ce.Fragment=H1;ce.Profiler=q1;ce.PureComponent=Xc;ce.StrictMode=j1;ce.Suspense=Y1;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oT;ce.act=Ig;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Tg({},e.props),r=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Zc.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Cg.call(t,l)&&!Ng.hasOwnProperty(l)&&(o[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}return{$$typeof:Hi,type:e.type,key:r,ref:i,props:o,_owner:s}};ce.createContext=function(e){return e={$$typeof:W1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:J1,_context:e},e.Consumer=e};ce.createElement=kg;ce.createFactory=function(e){var t=kg.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:K1,render:e}};ce.isValidElement=ed;ce.lazy=function(e){return{$$typeof:Q1,_payload:{_status:-1,_result:e},_init:nT}};ce.memo=function(e,t){return{$$typeof:X1,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Rs.transition;Rs.transition={};try{e()}finally{Rs.transition=t}};ce.unstable_act=Ig;ce.useCallback=function(e,t){return pt.current.useCallback(e,t)};ce.useContext=function(e){return pt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return pt.current.useEffect(e,t)};ce.useId=function(){return pt.current.useId()};ce.useImperativeHandle=function(e,t,n){return pt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return pt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return pt.current.useReducer(e,t,n)};ce.useRef=function(e){return pt.current.useRef(e)};ce.useState=function(e){return pt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return pt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return pt.current.useTransition()};ce.version="18.3.1";xg.exports=ce;var b=xg.exports;const Se=yg(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT=b,iT=Symbol.for("react.element"),sT=Symbol.for("react.fragment"),lT=Object.prototype.hasOwnProperty,aT=rT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uT={key:!0,ref:!0,__self:!0,__source:!0};function _g(e,t,n){var o,r={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(o in t)lT.call(t,o)&&!uT.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:iT,type:e,key:i,ref:s,props:r,_owner:aT.current}}Ul.Fragment=sT;Ul.jsx=_g;Ul.jsxs=_g;vg.exports=Ul;var p=vg.exports,uu={},bg={exports:{}},It={},Ag={exports:{}},Pg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,G){var $=D.length;D.push(G);e:for(;0<$;){var te=$-1>>>1,Q=D[te];if(0<r(Q,G))D[te]=G,D[$]=Q,$=te;else break e}}function n(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var G=D[0],$=D.pop();if($!==G){D[0]=$;e:for(var te=0,Q=D.length,me=Q>>>1;te<me;){var Re=2*(te+1)-1,bt=D[Re],Ne=Re+1,wt=D[Ne];if(0>r(bt,$))Ne<Q&&0>r(wt,bt)?(D[te]=wt,D[Ne]=$,te=Ne):(D[te]=bt,D[Re]=$,te=Re);else if(Ne<Q&&0>r(wt,$))D[te]=wt,D[Ne]=$,te=Ne;else break e}}return G}function r(D,G){var $=D.sortIndex-G.sortIndex;return $!==0?$:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,h=null,m=3,g=!1,S=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var G=n(u);G!==null;){if(G.callback===null)o(u);else if(G.startTime<=D)o(u),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(u)}}function E(D){if(T=!1,x(D),!S)if(n(l)!==null)S=!0,se(k);else{var G=n(u);G!==null&&X(E,G.startTime-D)}}function k(D,G){S=!1,T&&(T=!1,v(_),_=-1),g=!0;var $=m;try{for(x(G),h=n(l);h!==null&&(!(h.expirationTime>G)||D&&!L());){var te=h.callback;if(typeof te=="function"){h.callback=null,m=h.priorityLevel;var Q=te(h.expirationTime<=G);G=e.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(l)&&o(l),x(G)}else o(l);h=n(l)}if(h!==null)var me=!0;else{var Re=n(u);Re!==null&&X(E,Re.startTime-G),me=!1}return me}finally{h=null,m=$,g=!1}}var C=!1,I=null,_=-1,A=5,M=-1;function L(){return!(e.unstable_now()-M<A)}function ne(){if(I!==null){var D=e.unstable_now();M=D;var G=!0;try{G=I(!0,D)}finally{G?O():(C=!1,I=null)}}else C=!1}var O;if(typeof y=="function")O=function(){y(ne)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,le=j.port2;j.port1.onmessage=ne,O=function(){le.postMessage(null)}}else O=function(){w(ne,0)};function se(D){I=D,C||(C=!0,O())}function X(D,G){_=w(function(){D(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){S||g||(S=!0,se(k))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var $=m;m=G;try{return D()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=m;m=D;try{return G()}finally{m=$}},e.unstable_scheduleCallback=function(D,G,$){var te=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?te+$:te):$=te,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=$+Q,D={id:d++,callback:G,priorityLevel:D,startTime:$,expirationTime:Q,sortIndex:-1},$>te?(D.sortIndex=$,t(u,D),n(l)===null&&D===n(u)&&(T?(v(_),_=-1):T=!0,X(E,$-te))):(D.sortIndex=Q,t(l,D),S||g||(S=!0,se(k))),D},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(D){var G=m;return function(){var $=m;m=G;try{return D.apply(this,arguments)}finally{m=$}}}})(Pg);Ag.exports=Pg;var cT=Ag.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT=b,kt=cT;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rg=new Set,Si={};function Go(e,t){Cr(e,t),Cr(e+"Capture",t)}function Cr(e,t){for(Si[e]=t,e=0;e<t.length;e++)Rg.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=Object.prototype.hasOwnProperty,fT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,np={},op={};function pT(e){return cu.call(op,e)?!0:cu.call(np,e)?!1:fT.test(e)?op[e]=!0:(np[e]=!0,!1)}function hT(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mT(e,t,n,o){if(t===null||typeof t>"u"||hT(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,o,r,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var td=/[\-:]([a-z])/g;function nd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(td,nd);Qe[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(td,nd);Qe[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(td,nd);Qe[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function od(e,t,n,o){var r=Qe.hasOwnProperty(t)?Qe[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mT(t,n,r,o)&&(n=null),o||r===null?pT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var Pn=dT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,os=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),rd=Symbol.for("react.strict_mode"),du=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Dg=Symbol.for("react.context"),id=Symbol.for("react.forward_ref"),fu=Symbol.for("react.suspense"),pu=Symbol.for("react.suspense_list"),sd=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),Lg=Symbol.for("react.offscreen"),rp=Symbol.iterator;function $r(e){return e===null||typeof e!="object"?null:(e=rp&&e[rp]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,va;function ei(e){if(va===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);va=t&&t[1]||""}return`
`+va+e}var xa=!1;function Sa(e,t){if(!e||xa)return"";xa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var o=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){o=u}e.call(t.prototype)}else{try{throw Error()}catch(u){o=u}e()}}catch(u){if(u&&o&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=o.stack.split(`
`),s=r.length-1,a=i.length-1;1<=s&&0<=a&&r[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||r[s]!==i[a]){var l=`
`+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{xa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ei(e):""}function gT(e){switch(e.tag){case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 2:case 15:return e=Sa(e.type,!1),e;case 11:return e=Sa(e.type.render,!1),e;case 1:return e=Sa(e.type,!0),e;default:return""}}function hu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ko:return"Fragment";case Wo:return"Portal";case du:return"Profiler";case rd:return"StrictMode";case fu:return"Suspense";case pu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dg:return(e.displayName||"Context")+".Consumer";case Mg:return(e._context.displayName||"Context")+".Provider";case id:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sd:return t=e.displayName||null,t!==null?t:hu(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return hu(e(t))}catch{}}return null}function yT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hu(t);case 8:return t===rd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vT(e){var t=Fg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){o=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rs(e){e._valueTracker||(e._valueTracker=vT(e))}function Ug(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Fg(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mu(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ip(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=Zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vg(e,t){t=t.checked,t!=null&&od(e,"checked",t,!1)}function gu(e,t){Vg(e,t);var n=Zn(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yu(e,t.type,n):t.hasOwnProperty("defaultValue")&&yu(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yu(e,t,n){(t!=="number"||Ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ti=Array.isArray;function hr(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Zn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function vu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(ti(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zn(n)}}function Gg(e,t){var n=Zn(t.value),o=Zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function ap(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var is,zg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ti(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xT=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(e){xT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),si[t]=si[e]})});function Og(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||si.hasOwnProperty(e)&&si[e]?(""+t).trim():t+"px"}function $g(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=Og(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var ST=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Su(e,t){if(t){if(ST[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Tu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=null;function ld(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eu=null,mr=null,gr=null;function up(e){if(e=Ji(e)){if(typeof Eu!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Ol(t),Eu(e.stateNode,e.type,t))}}function Hg(e){mr?gr?gr.push(e):gr=[e]:mr=e}function jg(){if(mr){var e=mr,t=gr;if(gr=mr=null,up(e),t)for(e=0;e<t.length;e++)up(t[e])}}function qg(e,t){return e(t)}function Jg(){}var Ta=!1;function Wg(e,t,n){if(Ta)return e(t,n);Ta=!0;try{return qg(e,t,n)}finally{Ta=!1,(mr!==null||gr!==null)&&(Jg(),jg())}}function wi(e,t){var n=e.stateNode;if(n===null)return null;var o=Ol(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Cu=!1;if(Cn)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Cu=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Cu=!1}function TT(e,t,n,o,r,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var li=!1,Xs=null,Qs=!1,Nu=null,wT={onError:function(e){li=!0,Xs=e}};function ET(e,t,n,o,r,i,s,a,l){li=!1,Xs=null,TT.apply(wT,arguments)}function CT(e,t,n,o,r,i,s,a,l){if(ET.apply(this,arguments),li){if(li){var u=Xs;li=!1,Xs=null}else throw Error(F(198));Qs||(Qs=!0,Nu=u)}}function Bo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Kg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cp(e){if(Bo(e)!==e)throw Error(F(188))}function NT(e){var t=e.alternate;if(!t){if(t=Bo(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return cp(r),e;if(i===o)return cp(r),t;i=i.sibling}throw Error(F(188))}if(n.return!==o.return)n=r,o=i;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,o=i;break}if(a===o){s=!0,o=r,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,o=r;break}if(a===o){s=!0,o=i,n=r;break}a=a.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==o)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Yg(e){return e=NT(e),e!==null?Xg(e):null}function Xg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xg(e);if(t!==null)return t;e=e.sibling}return null}var Qg=kt.unstable_scheduleCallback,dp=kt.unstable_cancelCallback,kT=kt.unstable_shouldYield,IT=kt.unstable_requestPaint,Ue=kt.unstable_now,_T=kt.unstable_getCurrentPriorityLevel,ad=kt.unstable_ImmediatePriority,Zg=kt.unstable_UserBlockingPriority,Zs=kt.unstable_NormalPriority,bT=kt.unstable_LowPriority,ey=kt.unstable_IdlePriority,Vl=null,pn=null;function AT(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Vl,e,void 0,(e.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:MT,PT=Math.log,RT=Math.LN2;function MT(e){return e>>>=0,e===0?32:31-(PT(e)/RT|0)|0}var ss=64,ls=4194304;function ni(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function el(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~r;a!==0?o=ni(a):(i&=s,i!==0&&(o=ni(i)))}else s=n&~r,s!==0?o=ni(s):i!==0&&(o=ni(i));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-en(t),r=1<<n,o|=e[n],t&=~r;return o}function DT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LT(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-en(i),a=1<<s,l=r[s];l===-1?(!(a&n)||a&o)&&(r[s]=DT(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ku(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ty(){var e=ss;return ss<<=1,!(ss&4194240)&&(ss=64),e}function wa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ji(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-en(t),e[t]=n}function FT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-en(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}function ud(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-en(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var ye=0;function ny(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oy,cd,ry,iy,sy,Iu=!1,as=[],jn=null,qn=null,Jn=null,Ei=new Map,Ci=new Map,Bn=[],UT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fp(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function jr(e,t,n,o,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Ji(t),t!==null&&cd(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function VT(e,t,n,o,r){switch(t){case"focusin":return jn=jr(jn,e,t,n,o,r),!0;case"dragenter":return qn=jr(qn,e,t,n,o,r),!0;case"mouseover":return Jn=jr(Jn,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return Ei.set(i,jr(Ei.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Ci.set(i,jr(Ci.get(i)||null,e,t,n,o,r)),!0}return!1}function ly(e){var t=To(e.target);if(t!==null){var n=Bo(t);if(n!==null){if(t=n.tag,t===13){if(t=Kg(n),t!==null){e.blockedOn=t,sy(e.priority,function(){ry(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_u(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);wu=o,n.target.dispatchEvent(o),wu=null}else return t=Ji(n),t!==null&&cd(t),e.blockedOn=n,!1;t.shift()}return!0}function pp(e,t,n){Ms(e)&&n.delete(t)}function GT(){Iu=!1,jn!==null&&Ms(jn)&&(jn=null),qn!==null&&Ms(qn)&&(qn=null),Jn!==null&&Ms(Jn)&&(Jn=null),Ei.forEach(pp),Ci.forEach(pp)}function qr(e,t){e.blockedOn===t&&(e.blockedOn=null,Iu||(Iu=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,GT)))}function Ni(e){function t(r){return qr(r,e)}if(0<as.length){qr(as[0],e);for(var n=1;n<as.length;n++){var o=as[n];o.blockedOn===e&&(o.blockedOn=null)}}for(jn!==null&&qr(jn,e),qn!==null&&qr(qn,e),Jn!==null&&qr(Jn,e),Ei.forEach(t),Ci.forEach(t),n=0;n<Bn.length;n++)o=Bn[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)ly(n),n.blockedOn===null&&Bn.shift()}var yr=Pn.ReactCurrentBatchConfig,tl=!0;function BT(e,t,n,o){var r=ye,i=yr.transition;yr.transition=null;try{ye=1,dd(e,t,n,o)}finally{ye=r,yr.transition=i}}function zT(e,t,n,o){var r=ye,i=yr.transition;yr.transition=null;try{ye=4,dd(e,t,n,o)}finally{ye=r,yr.transition=i}}function dd(e,t,n,o){if(tl){var r=_u(e,t,n,o);if(r===null)Ra(e,t,o,nl,n),fp(e,o);else if(VT(r,e,t,n,o))o.stopPropagation();else if(fp(e,o),t&4&&-1<UT.indexOf(e)){for(;r!==null;){var i=Ji(r);if(i!==null&&oy(i),i=_u(e,t,n,o),i===null&&Ra(e,t,o,nl,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Ra(e,t,o,null,n)}}var nl=null;function _u(e,t,n,o){if(nl=null,e=ld(o),e=To(e),e!==null)if(t=Bo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Kg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function ay(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_T()){case ad:return 1;case Zg:return 4;case Zs:case bT:return 16;case ey:return 536870912;default:return 16}default:return 16}}var On=null,fd=null,Ds=null;function uy(){if(Ds)return Ds;var e,t=fd,n=t.length,o,r="value"in On?On.value:On.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(o=1;o<=s&&t[n-o]===r[i-o];o++);return Ds=r.slice(e,1<o?1-o:void 0)}function Ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function us(){return!0}function hp(){return!1}function _t(e){function t(n,o,r,i,s){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?us:hp,this.isPropagationStopped=hp,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pd=_t(Dr),qi=Pe({},Dr,{view:0,detail:0}),OT=_t(qi),Ea,Ca,Jr,Gl=Pe({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(Ea=e.screenX-Jr.screenX,Ca=e.screenY-Jr.screenY):Ca=Ea=0,Jr=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),mp=_t(Gl),$T=Pe({},Gl,{dataTransfer:0}),HT=_t($T),jT=Pe({},qi,{relatedTarget:0}),Na=_t(jT),qT=Pe({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),JT=_t(qT),WT=Pe({},Dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KT=_t(WT),YT=Pe({},Dr,{data:0}),gp=_t(YT),XT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ew(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZT[e])?!!t[e]:!1}function hd(){return ew}var tw=Pe({},qi,{key:function(e){if(e.key){var t=XT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hd,charCode:function(e){return e.type==="keypress"?Ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nw=_t(tw),ow=Pe({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yp=_t(ow),rw=Pe({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hd}),iw=_t(rw),sw=Pe({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lw=_t(sw),aw=Pe({},Gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uw=_t(aw),cw=[9,13,27,32],md=Cn&&"CompositionEvent"in window,ai=null;Cn&&"documentMode"in document&&(ai=document.documentMode);var dw=Cn&&"TextEvent"in window&&!ai,cy=Cn&&(!md||ai&&8<ai&&11>=ai),vp=" ",xp=!1;function dy(e,t){switch(e){case"keyup":return cw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yo=!1;function fw(e,t){switch(e){case"compositionend":return fy(t);case"keypress":return t.which!==32?null:(xp=!0,vp);case"textInput":return e=t.data,e===vp&&xp?null:e;default:return null}}function pw(e,t){if(Yo)return e==="compositionend"||!md&&dy(e,t)?(e=uy(),Ds=fd=On=null,Yo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cy&&t.locale!=="ko"?null:t.data;default:return null}}var hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hw[e.type]:t==="textarea"}function py(e,t,n,o){Hg(o),t=ol(t,"onChange"),0<t.length&&(n=new pd("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var ui=null,ki=null;function mw(e){Cy(e,0)}function Bl(e){var t=Zo(e);if(Ug(t))return e}function gw(e,t){if(e==="change")return t}var hy=!1;if(Cn){var ka;if(Cn){var Ia="oninput"in document;if(!Ia){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Ia=typeof Tp.oninput=="function"}ka=Ia}else ka=!1;hy=ka&&(!document.documentMode||9<document.documentMode)}function wp(){ui&&(ui.detachEvent("onpropertychange",my),ki=ui=null)}function my(e){if(e.propertyName==="value"&&Bl(ki)){var t=[];py(t,ki,e,ld(e)),Wg(mw,t)}}function yw(e,t,n){e==="focusin"?(wp(),ui=t,ki=n,ui.attachEvent("onpropertychange",my)):e==="focusout"&&wp()}function vw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bl(ki)}function xw(e,t){if(e==="click")return Bl(t)}function Sw(e,t){if(e==="input"||e==="change")return Bl(t)}function Tw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:Tw;function Ii(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!cu.call(t,r)||!rn(e[r],t[r]))return!1}return!0}function Ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cp(e,t){var n=Ep(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ep(n)}}function gy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yy(){for(var e=window,t=Ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ys(e.document)}return t}function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ww(e){var t=yy(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gy(n.ownerDocument.documentElement,n)){if(o!==null&&gd(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=Cp(n,i);var s=Cp(n,o);r&&s&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ew=Cn&&"documentMode"in document&&11>=document.documentMode,Xo=null,bu=null,ci=null,Au=!1;function Np(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Au||Xo==null||Xo!==Ys(o)||(o=Xo,"selectionStart"in o&&gd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ci&&Ii(ci,o)||(ci=o,o=ol(bu,"onSelect"),0<o.length&&(t=new pd("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Xo)))}function cs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qo={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},_a={},vy={};Cn&&(vy=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function zl(e){if(_a[e])return _a[e];if(!Qo[e])return e;var t=Qo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vy)return _a[e]=t[n];return e}var xy=zl("animationend"),Sy=zl("animationiteration"),Ty=zl("animationstart"),wy=zl("transitionend"),Ey=new Map,kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(e,t){Ey.set(e,t),Go(t,[e])}for(var ba=0;ba<kp.length;ba++){var Aa=kp[ba],Cw=Aa.toLowerCase(),Nw=Aa[0].toUpperCase()+Aa.slice(1);oo(Cw,"on"+Nw)}oo(xy,"onAnimationEnd");oo(Sy,"onAnimationIteration");oo(Ty,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(wy,"onTransitionEnd");Cr("onMouseEnter",["mouseout","mouseover"]);Cr("onMouseLeave",["mouseout","mouseover"]);Cr("onPointerEnter",["pointerout","pointerover"]);Cr("onPointerLeave",["pointerout","pointerover"]);Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Go("onBeforeInput",["compositionend","keypress","textInput","paste"]);Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kw=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function Ip(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,CT(o,t,void 0,e),e.currentTarget=null}function Cy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var s=o.length-1;0<=s;s--){var a=o[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;Ip(r,a,u),i=l}else for(s=0;s<o.length;s++){if(a=o[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;Ip(r,a,u),i=l}}}if(Qs)throw e=Nu,Qs=!1,Nu=null,e}function Ee(e,t){var n=t[Lu];n===void 0&&(n=t[Lu]=new Set);var o=e+"__bubble";n.has(o)||(Ny(t,e,2,!1),n.add(o))}function Pa(e,t,n){var o=0;t&&(o|=4),Ny(n,e,o,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function _i(e){if(!e[ds]){e[ds]=!0,Rg.forEach(function(n){n!=="selectionchange"&&(kw.has(n)||Pa(n,!1,e),Pa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Pa("selectionchange",!1,t))}}function Ny(e,t,n,o){switch(ay(t)){case 1:var r=BT;break;case 4:r=zT;break;default:r=dd}n=r.bind(null,t,n,e),r=void 0,!Cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ra(e,t,n,o,r){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var a=o.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=o.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;a!==null;){if(s=To(a),s===null)return;if(l=s.tag,l===5||l===6){o=i=s;continue e}a=a.parentNode}}o=o.return}Wg(function(){var u=i,d=ld(n),h=[];e:{var m=Ey.get(e);if(m!==void 0){var g=pd,S=e;switch(e){case"keypress":if(Ls(n)===0)break e;case"keydown":case"keyup":g=nw;break;case"focusin":S="focus",g=Na;break;case"focusout":S="blur",g=Na;break;case"beforeblur":case"afterblur":g=Na;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=HT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=iw;break;case xy:case Sy:case Ty:g=JT;break;case wy:g=lw;break;case"scroll":g=OT;break;case"wheel":g=uw;break;case"copy":case"cut":case"paste":g=KT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=yp}var T=(t&4)!==0,w=!T&&e==="scroll",v=T?m!==null?m+"Capture":null:m;T=[];for(var y=u,x;y!==null;){x=y;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,v!==null&&(E=wi(y,v),E!=null&&T.push(bi(y,E,x)))),w)break;y=y.return}0<T.length&&(m=new g(m,S,null,n,d),h.push({event:m,listeners:T}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==wu&&(S=n.relatedTarget||n.fromElement)&&(To(S)||S[Nn]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=u,S=S?To(S):null,S!==null&&(w=Bo(S),S!==w||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=u),g!==S)){if(T=mp,E="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(T=yp,E="onPointerLeave",v="onPointerEnter",y="pointer"),w=g==null?m:Zo(g),x=S==null?m:Zo(S),m=new T(E,y+"leave",g,n,d),m.target=w,m.relatedTarget=x,E=null,To(d)===u&&(T=new T(v,y+"enter",S,n,d),T.target=x,T.relatedTarget=w,E=T),w=E,g&&S)t:{for(T=g,v=S,y=0,x=T;x;x=jo(x))y++;for(x=0,E=v;E;E=jo(E))x++;for(;0<y-x;)T=jo(T),y--;for(;0<x-y;)v=jo(v),x--;for(;y--;){if(T===v||v!==null&&T===v.alternate)break t;T=jo(T),v=jo(v)}T=null}else T=null;g!==null&&_p(h,m,g,T,!1),S!==null&&w!==null&&_p(h,w,S,T,!0)}}e:{if(m=u?Zo(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var k=gw;else if(Sp(m))if(hy)k=Sw;else{k=vw;var C=yw}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=xw);if(k&&(k=k(e,u))){py(h,k,n,d);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&yu(m,"number",m.value)}switch(C=u?Zo(u):window,e){case"focusin":(Sp(C)||C.contentEditable==="true")&&(Xo=C,bu=u,ci=null);break;case"focusout":ci=bu=Xo=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,Np(h,n,d);break;case"selectionchange":if(Ew)break;case"keydown":case"keyup":Np(h,n,d)}var I;if(md)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Yo?dy(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(cy&&n.locale!=="ko"&&(Yo||_!=="onCompositionStart"?_==="onCompositionEnd"&&Yo&&(I=uy()):(On=d,fd="value"in On?On.value:On.textContent,Yo=!0)),C=ol(u,_),0<C.length&&(_=new gp(_,e,null,n,d),h.push({event:_,listeners:C}),I?_.data=I:(I=fy(n),I!==null&&(_.data=I)))),(I=dw?fw(e,n):pw(e,n))&&(u=ol(u,"onBeforeInput"),0<u.length&&(d=new gp("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}Cy(h,t)})}function bi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ol(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=wi(e,n),i!=null&&o.unshift(bi(e,i,r)),i=wi(e,t),i!=null&&o.push(bi(e,i,r))),e=e.return}return o}function jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _p(e,t,n,o,r){for(var i=t._reactName,s=[];n!==null&&n!==o;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===o)break;a.tag===5&&u!==null&&(a=u,r?(l=wi(n,i),l!=null&&s.unshift(bi(n,l,a))):r||(l=wi(n,i),l!=null&&s.push(bi(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Iw=/\r\n?/g,_w=/\u0000|\uFFFD/g;function bp(e){return(typeof e=="string"?e:""+e).replace(Iw,`
`).replace(_w,"")}function fs(e,t,n){if(t=bp(t),bp(e)!==t&&n)throw Error(F(425))}function rl(){}var Pu=null,Ru=null;function Mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,bw=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(e){return Ap.resolve(null).then(e).catch(Pw)}:Du;function Pw(e){setTimeout(function(){throw e})}function Ma(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),Ni(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Ni(t)}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),dn="__reactFiber$"+Lr,Ai="__reactProps$"+Lr,Nn="__reactContainer$"+Lr,Lu="__reactEvents$"+Lr,Rw="__reactListeners$"+Lr,Mw="__reactHandles$"+Lr;function To(e){var t=e[dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nn]||n[dn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pp(e);e!==null;){if(n=e[dn])return n;e=Pp(e)}return t}e=n,n=e.parentNode}return null}function Ji(e){return e=e[dn]||e[Nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Ol(e){return e[Ai]||null}var Fu=[],er=-1;function ro(e){return{current:e}}function Ce(e){0>er||(e.current=Fu[er],Fu[er]=null,er--)}function Te(e,t){er++,Fu[er]=e.current,e.current=t}var eo={},it=ro(eo),xt=ro(!1),Mo=eo;function Nr(e,t){var n=e.type.contextTypes;if(!n)return eo;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function St(e){return e=e.childContextTypes,e!=null}function il(){Ce(xt),Ce(it)}function Rp(e,t,n){if(it.current!==eo)throw Error(F(168));Te(it,t),Te(xt,n)}function ky(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(F(108,yT(e)||"Unknown",r));return Pe({},n,o)}function sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||eo,Mo=it.current,Te(it,e),Te(xt,xt.current),!0}function Mp(e,t,n){var o=e.stateNode;if(!o)throw Error(F(169));n?(e=ky(e,t,Mo),o.__reactInternalMemoizedMergedChildContext=e,Ce(xt),Ce(it),Te(it,e)):Ce(xt),Te(xt,n)}var Sn=null,$l=!1,Da=!1;function Iy(e){Sn===null?Sn=[e]:Sn.push(e)}function Dw(e){$l=!0,Iy(e)}function io(){if(!Da&&Sn!==null){Da=!0;var e=0,t=ye;try{var n=Sn;for(ye=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Sn=null,$l=!1}catch(r){throw Sn!==null&&(Sn=Sn.slice(e+1)),Qg(ad,io),r}finally{ye=t,Da=!1}}return null}var tr=[],nr=0,ll=null,al=0,Dt=[],Lt=0,Do=null,Tn=1,wn="";function go(e,t){tr[nr++]=al,tr[nr++]=ll,ll=e,al=t}function _y(e,t,n){Dt[Lt++]=Tn,Dt[Lt++]=wn,Dt[Lt++]=Do,Do=e;var o=Tn;e=wn;var r=32-en(o)-1;o&=~(1<<r),n+=1;var i=32-en(t)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,Tn=1<<32-en(t)+r|n<<r|o,wn=i+e}else Tn=1<<i|n<<r|o,wn=e}function yd(e){e.return!==null&&(go(e,1),_y(e,1,0))}function vd(e){for(;e===ll;)ll=tr[--nr],tr[nr]=null,al=tr[--nr],tr[nr]=null;for(;e===Do;)Do=Dt[--Lt],Dt[Lt]=null,wn=Dt[--Lt],Dt[Lt]=null,Tn=Dt[--Lt],Dt[Lt]=null}var Nt=null,Ct=null,ke=!1,Xt=null;function by(e,t){var n=Ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,Ct=Wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Do!==null?{id:Tn,overflow:wn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nt=e,Ct=null,!0):!1;default:return!1}}function Uu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vu(e){if(ke){var t=Ct;if(t){var n=t;if(!Dp(e,t)){if(Uu(e))throw Error(F(418));t=Wn(n.nextSibling);var o=Nt;t&&Dp(e,t)?by(o,n):(e.flags=e.flags&-4097|2,ke=!1,Nt=e)}}else{if(Uu(e))throw Error(F(418));e.flags=e.flags&-4097|2,ke=!1,Nt=e}}}function Lp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function ps(e){if(e!==Nt)return!1;if(!ke)return Lp(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mu(e.type,e.memoizedProps)),t&&(t=Ct)){if(Uu(e))throw Ay(),Error(F(418));for(;t;)by(e,t),t=Wn(t.nextSibling)}if(Lp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ct=Wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=Nt?Wn(e.stateNode.nextSibling):null;return!0}function Ay(){for(var e=Ct;e;)e=Wn(e.nextSibling)}function kr(){Ct=Nt=null,ke=!1}function xd(e){Xt===null?Xt=[e]:Xt.push(e)}var Lw=Pn.ReactCurrentBatchConfig;function Wr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var o=n.stateNode}if(!o)throw Error(F(147,e));var r=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=r.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function hs(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fp(e){var t=e._init;return t(e._payload)}function Py(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function o(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=Qn(v,y),v.index=0,v.sibling=null,v}function i(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,x,E){return y===null||y.tag!==6?(y=za(x,v.mode,E),y.return=v,y):(y=r(y,x),y.return=v,y)}function l(v,y,x,E){var k=x.type;return k===Ko?d(v,y,x.props.children,E,x.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vn&&Fp(k)===y.type)?(E=r(y,x.props),E.ref=Wr(v,y,x),E.return=v,E):(E=Os(x.type,x.key,x.props,null,v.mode,E),E.ref=Wr(v,y,x),E.return=v,E)}function u(v,y,x,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Oa(x,v.mode,E),y.return=v,y):(y=r(y,x.children||[]),y.return=v,y)}function d(v,y,x,E,k){return y===null||y.tag!==7?(y=bo(x,v.mode,E,k),y.return=v,y):(y=r(y,x),y.return=v,y)}function h(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=za(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case os:return x=Os(y.type,y.key,y.props,null,v.mode,x),x.ref=Wr(v,null,y),x.return=v,x;case Wo:return y=Oa(y,v.mode,x),y.return=v,y;case Vn:var E=y._init;return h(v,E(y._payload),x)}if(ti(y)||$r(y))return y=bo(y,v.mode,x,null),y.return=v,y;hs(v,y)}return null}function m(v,y,x,E){var k=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:a(v,y,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case os:return x.key===k?l(v,y,x,E):null;case Wo:return x.key===k?u(v,y,x,E):null;case Vn:return k=x._init,m(v,y,k(x._payload),E)}if(ti(x)||$r(x))return k!==null?null:d(v,y,x,E,null);hs(v,x)}return null}function g(v,y,x,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(x)||null,a(y,v,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case os:return v=v.get(E.key===null?x:E.key)||null,l(y,v,E,k);case Wo:return v=v.get(E.key===null?x:E.key)||null,u(y,v,E,k);case Vn:var C=E._init;return g(v,y,x,C(E._payload),k)}if(ti(E)||$r(E))return v=v.get(x)||null,d(y,v,E,k,null);hs(y,E)}return null}function S(v,y,x,E){for(var k=null,C=null,I=y,_=y=0,A=null;I!==null&&_<x.length;_++){I.index>_?(A=I,I=null):A=I.sibling;var M=m(v,I,x[_],E);if(M===null){I===null&&(I=A);break}e&&I&&M.alternate===null&&t(v,I),y=i(M,y,_),C===null?k=M:C.sibling=M,C=M,I=A}if(_===x.length)return n(v,I),ke&&go(v,_),k;if(I===null){for(;_<x.length;_++)I=h(v,x[_],E),I!==null&&(y=i(I,y,_),C===null?k=I:C.sibling=I,C=I);return ke&&go(v,_),k}for(I=o(v,I);_<x.length;_++)A=g(I,v,_,x[_],E),A!==null&&(e&&A.alternate!==null&&I.delete(A.key===null?_:A.key),y=i(A,y,_),C===null?k=A:C.sibling=A,C=A);return e&&I.forEach(function(L){return t(v,L)}),ke&&go(v,_),k}function T(v,y,x,E){var k=$r(x);if(typeof k!="function")throw Error(F(150));if(x=k.call(x),x==null)throw Error(F(151));for(var C=k=null,I=y,_=y=0,A=null,M=x.next();I!==null&&!M.done;_++,M=x.next()){I.index>_?(A=I,I=null):A=I.sibling;var L=m(v,I,M.value,E);if(L===null){I===null&&(I=A);break}e&&I&&L.alternate===null&&t(v,I),y=i(L,y,_),C===null?k=L:C.sibling=L,C=L,I=A}if(M.done)return n(v,I),ke&&go(v,_),k;if(I===null){for(;!M.done;_++,M=x.next())M=h(v,M.value,E),M!==null&&(y=i(M,y,_),C===null?k=M:C.sibling=M,C=M);return ke&&go(v,_),k}for(I=o(v,I);!M.done;_++,M=x.next())M=g(I,v,_,M.value,E),M!==null&&(e&&M.alternate!==null&&I.delete(M.key===null?_:M.key),y=i(M,y,_),C===null?k=M:C.sibling=M,C=M);return e&&I.forEach(function(ne){return t(v,ne)}),ke&&go(v,_),k}function w(v,y,x,E){if(typeof x=="object"&&x!==null&&x.type===Ko&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case os:e:{for(var k=x.key,C=y;C!==null;){if(C.key===k){if(k=x.type,k===Ko){if(C.tag===7){n(v,C.sibling),y=r(C,x.props.children),y.return=v,v=y;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vn&&Fp(k)===C.type){n(v,C.sibling),y=r(C,x.props),y.ref=Wr(v,C,x),y.return=v,v=y;break e}n(v,C);break}else t(v,C);C=C.sibling}x.type===Ko?(y=bo(x.props.children,v.mode,E,x.key),y.return=v,v=y):(E=Os(x.type,x.key,x.props,null,v.mode,E),E.ref=Wr(v,y,x),E.return=v,v=E)}return s(v);case Wo:e:{for(C=x.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=r(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Oa(x,v.mode,E),y.return=v,v=y}return s(v);case Vn:return C=x._init,w(v,y,C(x._payload),E)}if(ti(x))return S(v,y,x,E);if($r(x))return T(v,y,x,E);hs(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=r(y,x),y.return=v,v=y):(n(v,y),y=za(x,v.mode,E),y.return=v,v=y),s(v)):n(v,y)}return w}var Ir=Py(!0),Ry=Py(!1),ul=ro(null),cl=null,or=null,Sd=null;function Td(){Sd=or=cl=null}function wd(e){var t=ul.current;Ce(ul),e._currentValue=t}function Gu(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function vr(e,t){cl=e,Sd=or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(Sd!==e)if(e={context:e,memoizedValue:t,next:null},or===null){if(cl===null)throw Error(F(308));or=e,cl.dependencies={lanes:0,firstContext:e}}else or=or.next=e;return t}var wo=null;function Ed(e){wo===null?wo=[e]:wo.push(e)}function My(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,Ed(t)):(n.next=r.next,r.next=n),t.interleaved=n,kn(e,o)}function kn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gn=!1;function Cd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,fe&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,kn(e,n)}return r=o.interleaved,r===null?(t.next=t,Ed(o)):(t.next=r.next,r.next=t),o.interleaved=t,kn(e,n)}function Fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ud(e,n)}}function Up(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dl(e,t,n,o){var r=e.updateQueue;Gn=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;s=0,d=u=l=null,a=i;do{var m=a.lane,g=a.eventTime;if((o&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=e,T=a;switch(m=t,g=n,T.tag){case 1:if(S=T.payload,typeof S=="function"){h=S.call(g,h,m);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,m=typeof S=="function"?S.call(g,h,m):S,m==null)break e;h=Pe({},h,m);break e;case 2:Gn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=r.effects,m===null?r.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,s|=m;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;m=a,a=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do s|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);Fo|=s,e.lanes=s,e.memoizedState=h}}function Vp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(F(191,r));r.call(o)}}}var Wi={},hn=ro(Wi),Pi=ro(Wi),Ri=ro(Wi);function Eo(e){if(e===Wi)throw Error(F(174));return e}function Nd(e,t){switch(Te(Ri,t),Te(Pi,e),Te(hn,Wi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xu(t,e)}Ce(hn),Te(hn,t)}function _r(){Ce(hn),Ce(Pi),Ce(Ri)}function Ly(e){Eo(Ri.current);var t=Eo(hn.current),n=xu(t,e.type);t!==n&&(Te(Pi,e),Te(hn,n))}function kd(e){Pi.current===e&&(Ce(hn),Ce(Pi))}var _e=ro(0);function fl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=[];function Id(){for(var e=0;e<La.length;e++)La[e]._workInProgressVersionPrimary=null;La.length=0}var Us=Pn.ReactCurrentDispatcher,Fa=Pn.ReactCurrentBatchConfig,Lo=0,Ae=null,He=null,qe=null,pl=!1,di=!1,Mi=0,Fw=0;function et(){throw Error(F(321))}function _d(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rn(e[n],t[n]))return!1;return!0}function bd(e,t,n,o,r,i){if(Lo=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Us.current=e===null||e.memoizedState===null?Bw:zw,e=n(o,r),di){i=0;do{if(di=!1,Mi=0,25<=i)throw Error(F(301));i+=1,qe=He=null,t.updateQueue=null,Us.current=Ow,e=n(o,r)}while(di)}if(Us.current=hl,t=He!==null&&He.next!==null,Lo=0,qe=He=Ae=null,pl=!1,t)throw Error(F(300));return e}function Ad(){var e=Mi!==0;return Mi=0,e}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ae.memoizedState=qe=e:qe=qe.next=e,qe}function Ot(){if(He===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=qe===null?Ae.memoizedState:qe.next;if(t!==null)qe=t,He=e;else{if(e===null)throw Error(F(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},qe===null?Ae.memoizedState=qe=e:qe=qe.next=e}return qe}function Di(e,t){return typeof t=="function"?t(e):t}function Ua(e){var t=Ot(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var o=He,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var a=s=null,l=null,u=i;do{var d=u.lane;if((Lo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),o=u.hasEagerState?u.eagerState:e(o,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=o):l=l.next=h,Ae.lanes|=d,Fo|=d}u=u.next}while(u!==null&&u!==i);l===null?s=o:l.next=a,rn(o,t.memoizedState)||(yt=!0),t.memoizedState=o,t.baseState=s,t.baseQueue=l,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do i=r.lane,Ae.lanes|=i,Fo|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Va(e){var t=Ot(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do i=e(i,s.action),s=s.next;while(s!==r);rn(i,t.memoizedState)||(yt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Fy(){}function Uy(e,t){var n=Ae,o=Ot(),r=t(),i=!rn(o.memoizedState,r);if(i&&(o.memoizedState=r,yt=!0),o=o.queue,Pd(By.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Li(9,Gy.bind(null,n,o,r,t),void 0,null),Je===null)throw Error(F(349));Lo&30||Vy(n,t,r)}return r}function Vy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gy(e,t,n,o){t.value=n,t.getSnapshot=o,zy(t)&&Oy(e)}function By(e,t,n){return n(function(){zy(t)&&Oy(e)})}function zy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rn(e,n)}catch{return!0}}function Oy(e){var t=kn(e,1);t!==null&&tn(t,e,1,-1)}function Gp(e){var t=cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},t.queue=e,e=e.dispatch=Gw.bind(null,Ae,e),[t.memoizedState,e]}function Li(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function $y(){return Ot().memoizedState}function Vs(e,t,n,o){var r=cn();Ae.flags|=e,r.memoizedState=Li(1|t,n,void 0,o===void 0?null:o)}function Hl(e,t,n,o){var r=Ot();o=o===void 0?null:o;var i=void 0;if(He!==null){var s=He.memoizedState;if(i=s.destroy,o!==null&&_d(o,s.deps)){r.memoizedState=Li(t,n,i,o);return}}Ae.flags|=e,r.memoizedState=Li(1|t,n,i,o)}function Bp(e,t){return Vs(8390656,8,e,t)}function Pd(e,t){return Hl(2048,8,e,t)}function Hy(e,t){return Hl(4,2,e,t)}function jy(e,t){return Hl(4,4,e,t)}function qy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jy(e,t,n){return n=n!=null?n.concat([e]):null,Hl(4,4,qy.bind(null,t,e),n)}function Rd(){}function Wy(e,t){var n=Ot();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&_d(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Ky(e,t){var n=Ot();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&_d(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Yy(e,t,n){return Lo&21?(rn(n,t)||(n=ty(),Ae.lanes|=n,Fo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function Uw(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var o=Fa.transition;Fa.transition={};try{e(!1),t()}finally{ye=n,Fa.transition=o}}function Xy(){return Ot().memoizedState}function Vw(e,t,n){var o=Xn(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Qy(e))Zy(t,n);else if(n=My(e,t,n,o),n!==null){var r=dt();tn(n,e,o,r),ev(n,t,o)}}function Gw(e,t,n){var o=Xn(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qy(e))Zy(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(r.hasEagerState=!0,r.eagerState=a,rn(a,s)){var l=t.interleaved;l===null?(r.next=r,Ed(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=My(e,t,r,o),n!==null&&(r=dt(),tn(n,e,o,r),ev(n,t,o))}}function Qy(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Zy(e,t){di=pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ev(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,ud(e,n)}}var hl={readContext:zt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},Bw={readContext:zt,useCallback:function(e,t){return cn().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:Bp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vs(4194308,4,qy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=cn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=cn();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Vw.bind(null,Ae,e),[o.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:Gp,useDebugValue:Rd,useDeferredValue:function(e){return cn().memoizedState=e},useTransition:function(){var e=Gp(!1),t=e[0];return e=Uw.bind(null,e[1]),cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=Ae,r=cn();if(ke){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Je===null)throw Error(F(349));Lo&30||Vy(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Bp(By.bind(null,o,i,e),[e]),o.flags|=2048,Li(9,Gy.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=cn(),t=Je.identifierPrefix;if(ke){var n=wn,o=Tn;n=(o&~(1<<32-en(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zw={readContext:zt,useCallback:Wy,useContext:zt,useEffect:Pd,useImperativeHandle:Jy,useInsertionEffect:Hy,useLayoutEffect:jy,useMemo:Ky,useReducer:Ua,useRef:$y,useState:function(){return Ua(Di)},useDebugValue:Rd,useDeferredValue:function(e){var t=Ot();return Yy(t,He.memoizedState,e)},useTransition:function(){var e=Ua(Di)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Fy,useSyncExternalStore:Uy,useId:Xy,unstable_isNewReconciler:!1},Ow={readContext:zt,useCallback:Wy,useContext:zt,useEffect:Pd,useImperativeHandle:Jy,useInsertionEffect:Hy,useLayoutEffect:jy,useMemo:Ky,useReducer:Va,useRef:$y,useState:function(){return Va(Di)},useDebugValue:Rd,useDeferredValue:function(e){var t=Ot();return He===null?t.memoizedState=e:Yy(t,He.memoizedState,e)},useTransition:function(){var e=Va(Di)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Fy,useSyncExternalStore:Uy,useId:Xy,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bu(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jl={isMounted:function(e){return(e=e._reactInternals)?Bo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=dt(),r=Xn(e),i=En(o,r);i.payload=t,n!=null&&(i.callback=n),t=Kn(e,i,r),t!==null&&(tn(t,e,r,o),Fs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=dt(),r=Xn(e),i=En(o,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Kn(e,i,r),t!==null&&(tn(t,e,r,o),Fs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),o=Xn(e),r=En(n,o);r.tag=2,t!=null&&(r.callback=t),t=Kn(e,r,o),t!==null&&(tn(t,e,o,n),Fs(t,e,o))}};function zp(e,t,n,o,r,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,s):t.prototype&&t.prototype.isPureReactComponent?!Ii(n,o)||!Ii(r,i):!0}function tv(e,t,n){var o=!1,r=eo,i=t.contextType;return typeof i=="object"&&i!==null?i=zt(i):(r=St(t)?Mo:it.current,o=t.contextTypes,i=(o=o!=null)?Nr(e,r):eo),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jl,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Op(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&jl.enqueueReplaceState(t,t.state,null)}function zu(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Cd(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=zt(i):(i=St(t)?Mo:it.current,r.context=Nr(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bu(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&jl.enqueueReplaceState(r,r.state,null),dl(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function br(e,t){try{var n="",o=t;do n+=gT(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function Ga(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ou(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $w=typeof WeakMap=="function"?WeakMap:Map;function nv(e,t,n){n=En(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){gl||(gl=!0,Qu=o),Ou(e,t)},n}function ov(e,t,n){n=En(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){Ou(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ou(e,t),typeof o!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function $p(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new $w;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=oE.bind(null,e,t,n),t.then(e,e))}function Hp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jp(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=En(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var Hw=Pn.ReactCurrentOwner,yt=!1;function at(e,t,n,o){t.child=e===null?Ry(t,null,n,o):Ir(t,e.child,n,o)}function qp(e,t,n,o,r){n=n.render;var i=t.ref;return vr(t,r),o=bd(e,t,n,o,i,r),n=Ad(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,In(e,t,r)):(ke&&n&&yd(t),t.flags|=1,at(e,t,o,r),t.child)}function Jp(e,t,n,o,r){if(e===null){var i=n.type;return typeof i=="function"&&!Bd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,rv(e,t,i,o,r)):(e=Os(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ii,n(s,o)&&e.ref===t.ref)return In(e,t,r)}return t.flags|=1,e=Qn(i,o),e.ref=t.ref,e.return=t,t.child=e}function rv(e,t,n,o,r){if(e!==null){var i=e.memoizedProps;if(Ii(i,o)&&e.ref===t.ref)if(yt=!1,t.pendingProps=o=i,(e.lanes&r)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,In(e,t,r)}return $u(e,t,n,o,r)}function iv(e,t,n){var o=t.pendingProps,r=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(ir,Et),Et|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(ir,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,Te(ir,Et),Et|=o}else i!==null?(o=i.baseLanes|n,t.memoizedState=null):o=n,Te(ir,Et),Et|=o;return at(e,t,r,n),t.child}function sv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $u(e,t,n,o,r){var i=St(n)?Mo:it.current;return i=Nr(t,i),vr(t,r),n=bd(e,t,n,o,i,r),o=Ad(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,In(e,t,r)):(ke&&o&&yd(t),t.flags|=1,at(e,t,n,r),t.child)}function Wp(e,t,n,o,r){if(St(n)){var i=!0;sl(t)}else i=!1;if(vr(t,r),t.stateNode===null)Gs(e,t),tv(t,n,o),zu(t,n,o,r),o=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=zt(u):(u=St(n)?Mo:it.current,u=Nr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==o||l!==u)&&Op(t,s,o,u),Gn=!1;var m=t.memoizedState;s.state=m,dl(t,o,s,r),l=t.memoizedState,a!==o||m!==l||xt.current||Gn?(typeof d=="function"&&(Bu(t,n,d,o),l=t.memoizedState),(a=Gn||zp(t,n,a,o,m,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=l),s.props=o,s.state=l,s.context=u,o=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,Dy(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Wt(t.type,a),s.props=u,h=t.pendingProps,m=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=zt(l):(l=St(n)?Mo:it.current,l=Nr(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||m!==l)&&Op(t,s,o,l),Gn=!1,m=t.memoizedState,s.state=m,dl(t,o,s,r);var S=t.memoizedState;a!==h||m!==S||xt.current||Gn?(typeof g=="function"&&(Bu(t,n,g,o),S=t.memoizedState),(u=Gn||zp(t,n,u,o,m,S,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,S,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,S,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=S),s.props=o,s.state=S,s.context=l,o=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),o=!1)}return Hu(e,t,n,o,i,r)}function Hu(e,t,n,o,r,i){sv(e,t);var s=(t.flags&128)!==0;if(!o&&!s)return r&&Mp(t,n,!1),In(e,t,i);o=t.stateNode,Hw.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&s?(t.child=Ir(t,e.child,null,i),t.child=Ir(t,null,a,i)):at(e,t,a,i),t.memoizedState=o.state,r&&Mp(t,n,!0),t.child}function lv(e){var t=e.stateNode;t.pendingContext?Rp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rp(e,t.context,!1),Nd(e,t.containerInfo)}function Kp(e,t,n,o,r){return kr(),xd(r),t.flags|=256,at(e,t,n,o),t.child}var ju={dehydrated:null,treeContext:null,retryLane:0};function qu(e){return{baseLanes:e,cachePool:null,transitions:null}}function av(e,t,n){var o=t.pendingProps,r=_e.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Te(_e,r&1),e===null)return Vu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,i?(o=t.mode,i=t.child,s={mode:"hidden",children:s},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Wl(s,o,0,null),e=bo(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=qu(n),t.memoizedState=ju,e):Md(t,s));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return jw(e,t,s,o,a,r,n);if(i){i=o.fallback,s=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:o.children};return!(s&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=l,t.deletions=null):(o=Qn(r,l),o.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Qn(a,i):(i=bo(i,s,n,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,s=e.child.memoizedState,s=s===null?qu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=ju,o}return i=e.child,e=i.sibling,o=Qn(i,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Md(e,t){return t=Wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ms(e,t,n,o){return o!==null&&xd(o),Ir(t,e.child,null,n),e=Md(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jw(e,t,n,o,r,i,s){if(n)return t.flags&256?(t.flags&=-257,o=Ga(Error(F(422))),ms(e,t,s,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=Wl({mode:"visible",children:o.children},r,0,null),i=bo(i,r,s,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,t.mode&1&&Ir(t,e.child,null,s),t.child.memoizedState=qu(s),t.memoizedState=ju,i);if(!(t.mode&1))return ms(e,t,s,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var a=o.dgst;return o=a,i=Error(F(419)),o=Ga(i,o,void 0),ms(e,t,s,o)}if(a=(s&e.childLanes)!==0,yt||a){if(o=Je,o!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|s)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,kn(e,r),tn(o,e,r,-1))}return Gd(),o=Ga(Error(F(421))),ms(e,t,s,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=rE.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,Ct=Wn(r.nextSibling),Nt=t,ke=!0,Xt=null,e!==null&&(Dt[Lt++]=Tn,Dt[Lt++]=wn,Dt[Lt++]=Do,Tn=e.id,wn=e.overflow,Do=t),t=Md(t,o.children),t.flags|=4096,t)}function Yp(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Gu(e.return,t,n)}function Ba(e,t,n,o,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function uv(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(at(e,t,o.children,n),o=_e.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yp(e,n,t);else if(e.tag===19)Yp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Te(_e,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&fl(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ba(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&fl(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ba(t,!0,n,null,i);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function In(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qw(e,t,n){switch(t.tag){case 3:lv(t),kr();break;case 5:Ly(t);break;case 1:St(t.type)&&sl(t);break;case 4:Nd(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;Te(ul,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Te(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?av(e,t,n):(Te(_e,_e.current&1),e=In(e,t,n),e!==null?e.sibling:null);Te(_e,_e.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return uv(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Te(_e,_e.current),o)break;return null;case 22:case 23:return t.lanes=0,iv(e,t,n)}return In(e,t,n)}var cv,Ju,dv,fv;cv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ju=function(){};dv=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,Eo(hn.current);var i=null;switch(n){case"input":r=mu(e,r),o=mu(e,o),i=[];break;case"select":r=Pe({},r,{value:void 0}),o=Pe({},o,{value:void 0}),i=[];break;case"textarea":r=vu(e,r),o=vu(e,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=rl)}Su(n,o);var s;n=null;for(u in r)if(!o.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Si.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in o){var l=o[u];if(a=r!=null?r[u]:void 0,o.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Si.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ee("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};fv=function(e,t,n,o){n!==o&&(t.flags|=4)};function Kr(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Jw(e,t,n){var o=t.pendingProps;switch(vd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return St(t.type)&&il(),tt(t),null;case 3:return o=t.stateNode,_r(),Ce(xt),Ce(it),Id(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xt!==null&&(tc(Xt),Xt=null))),Ju(e,t),tt(t),null;case 5:kd(t);var r=Eo(Ri.current);if(n=t.type,e!==null&&t.stateNode!=null)dv(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(F(166));return tt(t),null}if(e=Eo(hn.current),ps(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[dn]=t,o[Ai]=i,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",o),Ee("close",o);break;case"iframe":case"object":case"embed":Ee("load",o);break;case"video":case"audio":for(r=0;r<oi.length;r++)Ee(oi[r],o);break;case"source":Ee("error",o);break;case"img":case"image":case"link":Ee("error",o),Ee("load",o);break;case"details":Ee("toggle",o);break;case"input":ip(o,i),Ee("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",o);break;case"textarea":lp(o,i),Ee("invalid",o)}Su(n,i),r=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?o.textContent!==a&&(i.suppressHydrationWarning!==!0&&fs(o.textContent,a,e),r=["children",a]):typeof a=="number"&&o.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&fs(o.textContent,a,e),r=["children",""+a]):Si.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ee("scroll",o)}switch(n){case"input":rs(o),sp(o,i,!0);break;case"textarea":rs(o),ap(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=rl)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=s.createElement(n,{is:o.is}):(e=s.createElement(n),n==="select"&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,n),e[dn]=t,e[Ai]=o,cv(e,t,!1,!1),t.stateNode=e;e:{switch(s=Tu(n,o),n){case"dialog":Ee("cancel",e),Ee("close",e),r=o;break;case"iframe":case"object":case"embed":Ee("load",e),r=o;break;case"video":case"audio":for(r=0;r<oi.length;r++)Ee(oi[r],e);r=o;break;case"source":Ee("error",e),r=o;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),r=o;break;case"details":Ee("toggle",e),r=o;break;case"input":ip(e,o),r=mu(e,o),Ee("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=Pe({},o,{value:void 0}),Ee("invalid",e);break;case"textarea":lp(e,o),r=vu(e,o),Ee("invalid",e);break;default:r=o}Su(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?$g(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zg(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ti(e,l):typeof l=="number"&&Ti(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Si.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ee("scroll",e):l!=null&&od(e,i,l,s))}switch(n){case"input":rs(e),sp(e,o,!1);break;case"textarea":rs(e),ap(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Zn(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?hr(e,!!o.multiple,i,!1):o.defaultValue!=null&&hr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=rl)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)fv(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(F(166));if(n=Eo(Ri.current),Eo(hn.current),ps(t)){if(o=t.stateNode,n=t.memoizedProps,o[dn]=t,(i=o.nodeValue!==n)&&(e=Nt,e!==null))switch(e.tag){case 3:fs(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fs(o.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[dn]=t,t.stateNode=o}return tt(t),null;case 13:if(Ce(_e),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&Ct!==null&&t.mode&1&&!(t.flags&128))Ay(),kr(),t.flags|=98560,i=!1;else if(i=ps(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[dn]=t}else kr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),i=!1}else Xt!==null&&(tc(Xt),Xt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?je===0&&(je=3):Gd())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return _r(),Ju(e,t),e===null&&_i(t.stateNode.containerInfo),tt(t),null;case 10:return wd(t.type._context),tt(t),null;case 17:return St(t.type)&&il(),tt(t),null;case 19:if(Ce(_e),i=t.memoizedState,i===null)return tt(t),null;if(o=(t.flags&128)!==0,s=i.rendering,s===null)if(o)Kr(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=fl(e),s!==null){for(t.flags|=128,Kr(i,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)i=n,e=o,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(_e,_e.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ue()>Ar&&(t.flags|=128,o=!0,Kr(i,!1),t.lanes=4194304)}else{if(!o)if(e=fl(s),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Kr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ke)return tt(t),null}else 2*Ue()-i.renderingStartTime>Ar&&n!==1073741824&&(t.flags|=128,o=!0,Kr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ue(),t.sibling=null,n=_e.current,Te(_e,o?n&1|2:n&1),t):(tt(t),null);case 22:case 23:return Vd(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Et&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Ww(e,t){switch(vd(t),t.tag){case 1:return St(t.type)&&il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _r(),Ce(xt),Ce(it),Id(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kd(t),null;case 13:if(Ce(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));kr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(_e),null;case 4:return _r(),null;case 10:return wd(t.type._context),null;case 22:case 23:return Vd(),null;case 24:return null;default:return null}}var gs=!1,nt=!1,Kw=typeof WeakSet=="function"?WeakSet:Set,q=null;function rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Le(e,t,o)}else n.current=null}function Wu(e,t,n){try{n()}catch(o){Le(e,t,o)}}var Xp=!1;function Yw(e,t){if(Pu=tl,e=yy(),gd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(a=s+r),h!==i||o!==0&&h.nodeType!==3||(l=s+o),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===e)break t;if(m===n&&++u===r&&(a=s),m===i&&++d===o&&(l=s),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ru={focusedElem:e,selectionRange:n},tl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,w=S.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?T:Wt(t.type,T),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(E){Le(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return S=Xp,Xp=!1,S}function fi(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Wu(t,n,i)}r=r.next}while(r!==o)}}function ql(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Ku(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pv(e){var t=e.alternate;t!==null&&(e.alternate=null,pv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[Ai],delete t[Lu],delete t[Rw],delete t[Mw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hv(e){return e.tag===5||e.tag===3||e.tag===4}function Qp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yu(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rl));else if(o!==4&&(e=e.child,e!==null))for(Yu(e,t,n),e=e.sibling;e!==null;)Yu(e,t,n),e=e.sibling}function Xu(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Xu(e,t,n),e=e.sibling;e!==null;)Xu(e,t,n),e=e.sibling}var Ke=null,Kt=!1;function Fn(e,t,n){for(n=n.child;n!==null;)mv(e,t,n),n=n.sibling}function mv(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Vl,n)}catch{}switch(n.tag){case 5:nt||rr(n,t);case 6:var o=Ke,r=Kt;Ke=null,Fn(e,t,n),Ke=o,Kt=r,Ke!==null&&(Kt?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Kt?(e=Ke,n=n.stateNode,e.nodeType===8?Ma(e.parentNode,n):e.nodeType===1&&Ma(e,n),Ni(e)):Ma(Ke,n.stateNode));break;case 4:o=Ke,r=Kt,Ke=n.stateNode.containerInfo,Kt=!0,Fn(e,t,n),Ke=o,Kt=r;break;case 0:case 11:case 14:case 15:if(!nt&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Wu(n,t,s),r=r.next}while(r!==o)}Fn(e,t,n);break;case 1:if(!nt&&(rr(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(a){Le(n,t,a)}Fn(e,t,n);break;case 21:Fn(e,t,n);break;case 22:n.mode&1?(nt=(o=nt)||n.memoizedState!==null,Fn(e,t,n),nt=o):Fn(e,t,n);break;default:Fn(e,t,n)}}function Zp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kw),t.forEach(function(o){var r=iE.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,Kt=!1;break e;case 3:Ke=a.stateNode.containerInfo,Kt=!0;break e;case 4:Ke=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(Ke===null)throw Error(F(160));mv(i,s,r),Ke=null,Kt=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Le(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gv(t,e),t=t.sibling}function gv(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),un(e),o&4){try{fi(3,e,e.return),ql(3,e)}catch(T){Le(e,e.return,T)}try{fi(5,e,e.return)}catch(T){Le(e,e.return,T)}}break;case 1:jt(t,e),un(e),o&512&&n!==null&&rr(n,n.return);break;case 5:if(jt(t,e),un(e),o&512&&n!==null&&rr(n,n.return),e.flags&32){var r=e.stateNode;try{Ti(r,"")}catch(T){Le(e,e.return,T)}}if(o&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Vg(r,i),Tu(a,s);var u=Tu(a,i);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?$g(r,h):d==="dangerouslySetInnerHTML"?zg(r,h):d==="children"?Ti(r,h):od(r,d,h,u)}switch(a){case"input":gu(r,i);break;case"textarea":Gg(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?hr(r,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?hr(r,!!i.multiple,i.defaultValue,!0):hr(r,!!i.multiple,i.multiple?[]:"",!1))}r[Ai]=i}catch(T){Le(e,e.return,T)}}break;case 6:if(jt(t,e),un(e),o&4){if(e.stateNode===null)throw Error(F(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(T){Le(e,e.return,T)}}break;case 3:if(jt(t,e),un(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Ni(t.containerInfo)}catch(T){Le(e,e.return,T)}break;case 4:jt(t,e),un(e);break;case 13:jt(t,e),un(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Fd=Ue())),o&4&&Zp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(nt=(u=nt)||d,jt(t,e),nt=u):jt(t,e),un(e),o&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(q=e,d=e.child;d!==null;){for(h=q=d;q!==null;){switch(m=q,g=m.child,m.tag){case 0:case 11:case 14:case 15:fi(4,m,m.return);break;case 1:rr(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){o=m,n=m.return;try{t=o,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(T){Le(o,n,T)}}break;case 5:rr(m,m.return);break;case 22:if(m.memoizedState!==null){th(h);continue}}g!==null?(g.return=m,q=g):th(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Og("display",s))}catch(T){Le(e,e.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(T){Le(e,e.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jt(t,e),un(e),o&4&&Zp(e);break;case 21:break;default:jt(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hv(n)){var o=n;break e}n=n.return}throw Error(F(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Ti(r,""),o.flags&=-33);var i=Qp(e);Xu(e,i,r);break;case 3:case 4:var s=o.stateNode.containerInfo,a=Qp(e);Yu(e,a,s);break;default:throw Error(F(161))}}catch(l){Le(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xw(e,t,n){q=e,yv(e)}function yv(e,t,n){for(var o=(e.mode&1)!==0;q!==null;){var r=q,i=r.child;if(r.tag===22&&o){var s=r.memoizedState!==null||gs;if(!s){var a=r.alternate,l=a!==null&&a.memoizedState!==null||nt;a=gs;var u=nt;if(gs=s,(nt=l)&&!u)for(q=r;q!==null;)s=q,l=s.child,s.tag===22&&s.memoizedState!==null?nh(r):l!==null?(l.return=s,q=l):nh(r);for(;i!==null;)q=i,yv(i),i=i.sibling;q=r,gs=a,nt=u}eh(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,q=i):eh(e)}}function eh(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||ql(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!nt)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Vp(t,i,o);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vp(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ni(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}nt||t.flags&512&&Ku(t)}catch(m){Le(t,t.return,m)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function th(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function nh(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ql(4,t)}catch(l){Le(t,n,l)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(l){Le(t,r,l)}}var i=t.return;try{Ku(t)}catch(l){Le(t,i,l)}break;case 5:var s=t.return;try{Ku(t)}catch(l){Le(t,s,l)}}}catch(l){Le(t,t.return,l)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var Qw=Math.ceil,ml=Pn.ReactCurrentDispatcher,Dd=Pn.ReactCurrentOwner,Vt=Pn.ReactCurrentBatchConfig,fe=0,Je=null,Be=null,Xe=0,Et=0,ir=ro(0),je=0,Fi=null,Fo=0,Jl=0,Ld=0,pi=null,gt=null,Fd=0,Ar=1/0,xn=null,gl=!1,Qu=null,Yn=null,ys=!1,$n=null,yl=0,hi=0,Zu=null,Bs=-1,zs=0;function dt(){return fe&6?Ue():Bs!==-1?Bs:Bs=Ue()}function Xn(e){return e.mode&1?fe&2&&Xe!==0?Xe&-Xe:Lw.transition!==null?(zs===0&&(zs=ty()),zs):(e=ye,e!==0||(e=window.event,e=e===void 0?16:ay(e.type)),e):1}function tn(e,t,n,o){if(50<hi)throw hi=0,Zu=null,Error(F(185));ji(e,n,o),(!(fe&2)||e!==Je)&&(e===Je&&(!(fe&2)&&(Jl|=n),je===4&&zn(e,Xe)),Tt(e,o),n===1&&fe===0&&!(t.mode&1)&&(Ar=Ue()+500,$l&&io()))}function Tt(e,t){var n=e.callbackNode;LT(e,t);var o=el(e,e===Je?Xe:0);if(o===0)n!==null&&dp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&dp(n),t===1)e.tag===0?Dw(oh.bind(null,e)):Iy(oh.bind(null,e)),Aw(function(){!(fe&6)&&io()}),n=null;else{switch(ny(o)){case 1:n=ad;break;case 4:n=Zg;break;case 16:n=Zs;break;case 536870912:n=ey;break;default:n=Zs}n=Nv(n,vv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vv(e,t){if(Bs=-1,zs=0,fe&6)throw Error(F(327));var n=e.callbackNode;if(xr()&&e.callbackNode!==n)return null;var o=el(e,e===Je?Xe:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=vl(e,o);else{t=o;var r=fe;fe|=2;var i=Sv();(Je!==e||Xe!==t)&&(xn=null,Ar=Ue()+500,_o(e,t));do try{tE();break}catch(a){xv(e,a)}while(!0);Td(),ml.current=i,fe=r,Be!==null?t=0:(Je=null,Xe=0,t=je)}if(t!==0){if(t===2&&(r=ku(e),r!==0&&(o=r,t=ec(e,r))),t===1)throw n=Fi,_o(e,0),zn(e,o),Tt(e,Ue()),n;if(t===6)zn(e,o);else{if(r=e.current.alternate,!(o&30)&&!Zw(r)&&(t=vl(e,o),t===2&&(i=ku(e),i!==0&&(o=i,t=ec(e,i))),t===1))throw n=Fi,_o(e,0),zn(e,o),Tt(e,Ue()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(F(345));case 2:yo(e,gt,xn);break;case 3:if(zn(e,o),(o&130023424)===o&&(t=Fd+500-Ue(),10<t)){if(el(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){dt(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Du(yo.bind(null,e,gt,xn),t);break}yo(e,gt,xn);break;case 4:if(zn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var s=31-en(o);i=1<<s,s=t[s],s>r&&(r=s),o&=~i}if(o=r,o=Ue()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Qw(o/1960))-o,10<o){e.timeoutHandle=Du(yo.bind(null,e,gt,xn),o);break}yo(e,gt,xn);break;case 5:yo(e,gt,xn);break;default:throw Error(F(329))}}}return Tt(e,Ue()),e.callbackNode===n?vv.bind(null,e):null}function ec(e,t){var n=pi;return e.current.memoizedState.isDehydrated&&(_o(e,t).flags|=256),e=vl(e,t),e!==2&&(t=gt,gt=n,t!==null&&tc(t)),e}function tc(e){gt===null?gt=e:gt.push.apply(gt,e)}function Zw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!rn(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~Ld,t&=~Jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-en(t),o=1<<n;e[n]=-1,t&=~o}}function oh(e){if(fe&6)throw Error(F(327));xr();var t=el(e,0);if(!(t&1))return Tt(e,Ue()),null;var n=vl(e,t);if(e.tag!==0&&n===2){var o=ku(e);o!==0&&(t=o,n=ec(e,o))}if(n===1)throw n=Fi,_o(e,0),zn(e,t),Tt(e,Ue()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yo(e,gt,xn),Tt(e,Ue()),null}function Ud(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(Ar=Ue()+500,$l&&io())}}function Uo(e){$n!==null&&$n.tag===0&&!(fe&6)&&xr();var t=fe;fe|=1;var n=Vt.transition,o=ye;try{if(Vt.transition=null,ye=1,e)return e()}finally{ye=o,Vt.transition=n,fe=t,!(fe&6)&&io()}}function Vd(){Et=ir.current,Ce(ir)}function _o(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bw(n)),Be!==null)for(n=Be.return;n!==null;){var o=n;switch(vd(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&il();break;case 3:_r(),Ce(xt),Ce(it),Id();break;case 5:kd(o);break;case 4:_r();break;case 13:Ce(_e);break;case 19:Ce(_e);break;case 10:wd(o.type._context);break;case 22:case 23:Vd()}n=n.return}if(Je=e,Be=e=Qn(e.current,null),Xe=Et=t,je=0,Fi=null,Ld=Jl=Fo=0,gt=pi=null,wo!==null){for(t=0;t<wo.length;t++)if(n=wo[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var s=i.next;i.next=r,o.next=s}n.pending=o}wo=null}return e}function xv(e,t){do{var n=Be;try{if(Td(),Us.current=hl,pl){for(var o=Ae.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}pl=!1}if(Lo=0,qe=He=Ae=null,di=!1,Mi=0,Dd.current=null,n===null||n.return===null){je=1,Fi=t,Be=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=Xe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Hp(s);if(g!==null){g.flags&=-257,jp(g,s,a,i,t),g.mode&1&&$p(i,u,t),t=g,l=u;var S=t.updateQueue;if(S===null){var T=new Set;T.add(l),t.updateQueue=T}else S.add(l);break e}else{if(!(t&1)){$p(i,u,t),Gd();break e}l=Error(F(426))}}else if(ke&&a.mode&1){var w=Hp(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),jp(w,s,a,i,t),xd(br(l,a));break e}}i=l=br(l,a),je!==4&&(je=2),pi===null?pi=[i]:pi.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=nv(i,l,t);Up(i,v);break e;case 1:a=l;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yn===null||!Yn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=ov(i,a,t);Up(i,E);break e}}i=i.return}while(i!==null)}wv(n)}catch(k){t=k,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Sv(){var e=ml.current;return ml.current=hl,e===null?hl:e}function Gd(){(je===0||je===3||je===2)&&(je=4),Je===null||!(Fo&268435455)&&!(Jl&268435455)||zn(Je,Xe)}function vl(e,t){var n=fe;fe|=2;var o=Sv();(Je!==e||Xe!==t)&&(xn=null,_o(e,t));do try{eE();break}catch(r){xv(e,r)}while(!0);if(Td(),fe=n,ml.current=o,Be!==null)throw Error(F(261));return Je=null,Xe=0,je}function eE(){for(;Be!==null;)Tv(Be)}function tE(){for(;Be!==null&&!kT();)Tv(Be)}function Tv(e){var t=Cv(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?wv(e):Be=t,Dd.current=null}function wv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ww(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,Be=null;return}}else if(n=Jw(n,t,Et),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);je===0&&(je=5)}function yo(e,t,n){var o=ye,r=Vt.transition;try{Vt.transition=null,ye=1,nE(e,t,n,o)}finally{Vt.transition=r,ye=o}return null}function nE(e,t,n,o){do xr();while($n!==null);if(fe&6)throw Error(F(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(FT(e,i),e===Je&&(Be=Je=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ys||(ys=!0,Nv(Zs,function(){return xr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vt.transition,Vt.transition=null;var s=ye;ye=1;var a=fe;fe|=4,Dd.current=null,Yw(e,n),gv(n,e),ww(Ru),tl=!!Pu,Ru=Pu=null,e.current=n,Xw(n),IT(),fe=a,ye=s,Vt.transition=i}else e.current=n;if(ys&&(ys=!1,$n=e,yl=r),i=e.pendingLanes,i===0&&(Yn=null),AT(n.stateNode),Tt(e,Ue()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(gl)throw gl=!1,e=Qu,Qu=null,e;return yl&1&&e.tag!==0&&xr(),i=e.pendingLanes,i&1?e===Zu?hi++:(hi=0,Zu=e):hi=0,io(),null}function xr(){if($n!==null){var e=ny(yl),t=Vt.transition,n=ye;try{if(Vt.transition=null,ye=16>e?16:e,$n===null)var o=!1;else{if(e=$n,$n=null,yl=0,fe&6)throw Error(F(331));var r=fe;for(fe|=4,q=e.current;q!==null;){var i=q,s=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:fi(8,d,i)}var h=d.child;if(h!==null)h.return=d,q=h;else for(;q!==null;){d=q;var m=d.sibling,g=d.return;if(pv(d),d===u){q=null;break}if(m!==null){m.return=g,q=m;break}q=g}}}var S=i.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var w=T.sibling;T.sibling=null,T=w}while(T!==null)}}q=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,q=s;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fi(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,q=v;break e}q=i.return}}var y=e.current;for(q=y;q!==null;){s=q;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,q=x;else e:for(s=y;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ql(9,a)}}catch(k){Le(a,a.return,k)}if(a===s){q=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,q=E;break e}q=a.return}}if(fe=r,io(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Vl,e)}catch{}o=!0}return o}finally{ye=n,Vt.transition=t}}return!1}function rh(e,t,n){t=br(n,t),t=nv(e,t,1),e=Kn(e,t,1),t=dt(),e!==null&&(ji(e,1,t),Tt(e,t))}function Le(e,t,n){if(e.tag===3)rh(e,e,n);else for(;t!==null;){if(t.tag===3){rh(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Yn===null||!Yn.has(o))){e=br(n,e),e=ov(t,e,1),t=Kn(t,e,1),e=dt(),t!==null&&(ji(t,1,e),Tt(t,e));break}}t=t.return}}function oE(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(Xe&n)===n&&(je===4||je===3&&(Xe&130023424)===Xe&&500>Ue()-Fd?_o(e,0):Ld|=n),Tt(e,t)}function Ev(e,t){t===0&&(e.mode&1?(t=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):t=1);var n=dt();e=kn(e,t),e!==null&&(ji(e,t,n),Tt(e,n))}function rE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ev(e,n)}function iE(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(F(314))}o!==null&&o.delete(t),Ev(e,n)}var Cv;Cv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,qw(e,t,n);yt=!!(e.flags&131072)}else yt=!1,ke&&t.flags&1048576&&_y(t,al,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Gs(e,t),e=t.pendingProps;var r=Nr(t,it.current);vr(t,n),r=bd(null,t,o,e,r,n);var i=Ad();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(o)?(i=!0,sl(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Cd(t),r.updater=jl,t.stateNode=r,r._reactInternals=t,zu(t,o,e,n),t=Hu(null,t,o,!0,i,n)):(t.tag=0,ke&&i&&yd(t),at(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=lE(o),e=Wt(o,e),r){case 0:t=$u(null,t,o,e,n);break e;case 1:t=Wp(null,t,o,e,n);break e;case 11:t=qp(null,t,o,e,n);break e;case 14:t=Jp(null,t,o,Wt(o.type,e),n);break e}throw Error(F(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Wt(o,r),$u(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Wt(o,r),Wp(e,t,o,r,n);case 3:e:{if(lv(t),e===null)throw Error(F(387));o=t.pendingProps,i=t.memoizedState,r=i.element,Dy(e,t),dl(t,o,null,n);var s=t.memoizedState;if(o=s.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=br(Error(F(423)),t),t=Kp(e,t,o,n,r);break e}else if(o!==r){r=br(Error(F(424)),t),t=Kp(e,t,o,n,r);break e}else for(Ct=Wn(t.stateNode.containerInfo.firstChild),Nt=t,ke=!0,Xt=null,n=Ry(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(kr(),o===r){t=In(e,t,n);break e}at(e,t,o,n)}t=t.child}return t;case 5:return Ly(t),e===null&&Vu(t),o=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,s=r.children,Mu(o,r)?s=null:i!==null&&Mu(o,i)&&(t.flags|=32),sv(e,t),at(e,t,s,n),t.child;case 6:return e===null&&Vu(t),null;case 13:return av(e,t,n);case 4:return Nd(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Ir(t,null,o,n):at(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Wt(o,r),qp(e,t,o,r,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,s=r.value,Te(ul,o._currentValue),o._currentValue=s,i!==null)if(rn(i.value,s)){if(i.children===r.children&&!xt.current){t=In(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===o){if(i.tag===1){l=En(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Gu(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(F(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Gu(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}at(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,vr(t,n),r=zt(r),o=o(r),t.flags|=1,at(e,t,o,n),t.child;case 14:return o=t.type,r=Wt(o,t.pendingProps),r=Wt(o.type,r),Jp(e,t,o,r,n);case 15:return rv(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Wt(o,r),Gs(e,t),t.tag=1,St(o)?(e=!0,sl(t)):e=!1,vr(t,n),tv(t,o,r),zu(t,o,r,n),Hu(null,t,o,!0,e,n);case 19:return uv(e,t,n);case 22:return iv(e,t,n)}throw Error(F(156,t.tag))};function Nv(e,t){return Qg(e,t)}function sE(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,n,o){return new sE(e,t,n,o)}function Bd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lE(e){if(typeof e=="function")return Bd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===id)return 11;if(e===sd)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=Ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Os(e,t,n,o,r,i){var s=2;if(o=e,typeof e=="function")Bd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ko:return bo(n.children,r,i,t);case rd:s=8,r|=8;break;case du:return e=Ft(12,n,t,r|2),e.elementType=du,e.lanes=i,e;case fu:return e=Ft(13,n,t,r),e.elementType=fu,e.lanes=i,e;case pu:return e=Ft(19,n,t,r),e.elementType=pu,e.lanes=i,e;case Lg:return Wl(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mg:s=10;break e;case Dg:s=9;break e;case id:s=11;break e;case sd:s=14;break e;case Vn:s=16,o=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Ft(s,n,t,r),t.elementType=e,t.type=o,t.lanes=i,t}function bo(e,t,n,o){return e=Ft(7,e,o,t),e.lanes=n,e}function Wl(e,t,n,o){return e=Ft(22,e,o,t),e.elementType=Lg,e.lanes=n,e.stateNode={isHidden:!1},e}function za(e,t,n){return e=Ft(6,e,null,t),e.lanes=n,e}function Oa(e,t,n){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aE(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zd(e,t,n,o,r,i,s,a,l){return e=new aE(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cd(i),e}function uE(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function kv(e){if(!e)return eo;e=e._reactInternals;e:{if(Bo(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(St(n))return ky(e,n,t)}return t}function Iv(e,t,n,o,r,i,s,a,l){return e=zd(n,o,!0,e,r,i,s,a,l),e.context=kv(null),n=e.current,o=dt(),r=Xn(n),i=En(o,r),i.callback=t??null,Kn(n,i,r),e.current.lanes=r,ji(e,r,o),Tt(e,o),e}function Kl(e,t,n,o){var r=t.current,i=dt(),s=Xn(r);return n=kv(n),t.context===null?t.context=n:t.pendingContext=n,t=En(i,s),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Kn(r,t,s),e!==null&&(tn(e,r,s,i),Fs(e,r,s)),s}function xl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ih(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Od(e,t){ih(e,t),(e=e.alternate)&&ih(e,t)}function cE(){return null}var _v=typeof reportError=="function"?reportError:function(e){console.error(e)};function $d(e){this._internalRoot=e}Yl.prototype.render=$d.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Kl(e,t,null,null)};Yl.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uo(function(){Kl(null,e,null,null)}),t[Nn]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=iy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&ly(e)}};function Hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sh(){}function dE(e,t,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var u=xl(s);i.call(u)}}var s=Iv(t,o,e,0,null,!1,!1,"",sh);return e._reactRootContainer=s,e[Nn]=s.current,_i(e.nodeType===8?e.parentNode:e),Uo(),s}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var a=o;o=function(){var u=xl(l);a.call(u)}}var l=zd(e,0,!1,null,null,!1,!1,"",sh);return e._reactRootContainer=l,e[Nn]=l.current,_i(e.nodeType===8?e.parentNode:e),Uo(function(){Kl(t,l,n,o)}),l}function Ql(e,t,n,o,r){var i=n._reactRootContainer;if(i){var s=i;if(typeof r=="function"){var a=r;r=function(){var l=xl(s);a.call(l)}}Kl(t,s,e,r)}else s=dE(n,t,e,r,o);return xl(s)}oy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ni(t.pendingLanes);n!==0&&(ud(t,n|1),Tt(t,Ue()),!(fe&6)&&(Ar=Ue()+500,io()))}break;case 13:Uo(function(){var o=kn(e,1);if(o!==null){var r=dt();tn(o,e,1,r)}}),Od(e,1)}};cd=function(e){if(e.tag===13){var t=kn(e,134217728);if(t!==null){var n=dt();tn(t,e,134217728,n)}Od(e,134217728)}};ry=function(e){if(e.tag===13){var t=Xn(e),n=kn(e,t);if(n!==null){var o=dt();tn(n,e,t,o)}Od(e,t)}};iy=function(){return ye};sy=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}};Eu=function(e,t,n){switch(t){case"input":if(gu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=Ol(o);if(!r)throw Error(F(90));Ug(o),gu(o,r)}}}break;case"textarea":Gg(e,n);break;case"select":t=n.value,t!=null&&hr(e,!!n.multiple,t,!1)}};qg=Ud;Jg=Uo;var fE={usingClientEntryPoint:!1,Events:[Ji,Zo,Ol,Hg,jg,Ud]},Yr={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pE={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yg(e),e===null?null:e.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||cE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{Vl=vs.inject(pE),pn=vs}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fE;It.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hd(t))throw Error(F(200));return uE(e,t,null,n)};It.createRoot=function(e,t){if(!Hd(e))throw Error(F(299));var n=!1,o="",r=_v;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=zd(e,1,!1,null,null,n,!1,o,r),e[Nn]=t.current,_i(e.nodeType===8?e.parentNode:e),new $d(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Yg(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return Uo(e)};It.hydrate=function(e,t,n){if(!Xl(t))throw Error(F(200));return Ql(null,e,t,!0,n)};It.hydrateRoot=function(e,t,n){if(!Hd(e))throw Error(F(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",s=_v;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Iv(t,null,e,1,n??null,r,!1,i,s),e[Nn]=t.current,_i(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yl(t)};It.render=function(e,t,n){if(!Xl(t))throw Error(F(200));return Ql(null,e,t,!1,n)};It.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(F(40));return e._reactRootContainer?(Uo(function(){Ql(null,null,e,!1,function(){e._reactRootContainer=null,e[Nn]=null})}),!0):!1};It.unstable_batchedUpdates=Ud;It.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Xl(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Ql(e,t,n,!1,o)};It.version="18.3.1-next-f1338f8080-20240426";function bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bv)}catch(e){console.error(e)}}bv(),bg.exports=It;var hE=bg.exports,lh=hE;uu.createRoot=lh.createRoot,uu.hydrateRoot=lh.hydrateRoot;var xe=(e=>(e.MBTI_16="MBTI_16",e.JUNG_8="JUNG_8",e))(xe||{});const Ao={standard:{name:"",multiplier:1,icon:"",color:"bg-emerald-600/90 border-emerald-400"},truth:{name:"",multiplier:1.2,icon:"",color:"bg-sky-600/90 border-sky-400"},dare:{name:"",multiplier:1.2,icon:"",color:"bg-amber-600/90 border-amber-400"},deep:{name:"",multiplier:1.5,icon:"",color:"bg-indigo-600/90 border-indigo-400"}},Sl=["INTJ","INTP","ENTJ","ENTP","INFJ","INFP","ENFJ","ENFP","ISTJ","ISFJ","ESTJ","ESFJ","ISTP","ISFP","ESTP","ESFP"],Qt={" (NT)":{types:["INTJ","INTP","ENTJ","ENTP"],color:"bg-purple-100 dark:bg-purple-900/40 border-purple-200 dark:border-purple-500/50 text-purple-800 dark:text-purple-200",hexColor:"#a855f7"}," (NF)":{types:["INFJ","INFP","ENFJ","ENFP"],color:"bg-green-100 dark:bg-green-900/40 border-green-200 dark:border-green-500/50 text-green-800 dark:text-green-200",hexColor:"#22c55e"}," (SJ)":{types:["ISTJ","ISFJ","ESTJ","ESFJ"],color:"bg-blue-100 dark:bg-blue-900/40 border-blue-200 dark:border-blue-500/50 text-blue-800 dark:text-blue-200",hexColor:"#3b82f6"}," (SP)":{types:["ISTP","ISFP","ESTP","ESFP"],color:"bg-amber-100 dark:bg-yellow-900/40 border-amber-200 dark:border-yellow-500/50 text-amber-800 dark:text-yellow-200",hexColor:"#eab308"}},Ui={INTJ:"",INTP:"",ENTJ:"",ENTP:"",INFJ:"",INFP:"",ENFJ:"",ENFP:"",ISTJ:"",ISFJ:"",ESTJ:"",ESFJ:"",ISTP:"",ISFP:"",ESTP:"",ESFP:"",Hub:""},mE={INTJ:["",""],INTP:["",""],ENTJ:["",""],ENTP:["",""],INFJ:["",""],INFP:["",""],ENFJ:["",""],ENFP:["",""],ISTJ:["",""],ISFJ:["",""],ESTJ:["",""],ESFJ:["",""],ISTP:["",""],ISFP:["",""],ESTP:["",""],ESFP:["",""]},Co={INTJ:["Ni","Te","Fi","Se","Ne","Ti","Fe","Si"],INTP:["Ti","Ne","Si","Fe","Te","Ni","Se","Fi"],ENTJ:["Te","Ni","Se","Fi","Ti","Ne","Si","Fe"],ENTP:["Ne","Ti","Fe","Si","Ni","Te","Fi","Se"],INFJ:["Ni","Fe","Ti","Se","Ne","Fi","Te","Si"],INFP:["Fi","Ne","Si","Te","Fe","Ni","Se","Ti"],ENFJ:["Fe","Ni","Se","Ti","Fi","Ne","Si","Te"],ENFP:["Ne","Fi","Te","Si","Ni","Fe","Ti","Se"],ISTJ:["Si","Te","Fi","Ne","Se","Ti","Fe","Ni"],ISFJ:["Si","Fe","Ti","Ne","Se","Fi","Te","Ni"],ESTJ:["Te","Si","Ne","Fi","Ti","Se","Ni","Fe"],ESFJ:["Fe","Si","Ne","Ti","Fi","Se","Ni","Te"],ISTP:["Ti","Se","Ni","Fe","Te","Si","Ne","Fi"],ISFP:["Fi","Se","Ni","Te","Fe","Si","Ne","Ti"],ESTP:["Se","Ti","Fe","Ni","Si","Te","Fi","Ne"],ESFP:["Se","Fi","Te","Ni","Si","Fe","Ti","Ne"]},jd=[{id:"Te",name:"",color:"#3b82f6",desc:"",textColor:"text-blue-100",borderColor:"border-blue-500",bgColor:"bg-blue-600"},{id:"Ti",name:"",color:"#0ea5e9",desc:"",textColor:"text-sky-100",borderColor:"border-sky-500",bgColor:"bg-sky-600"},{id:"Fe",name:"",color:"#ec4899",desc:"",textColor:"text-pink-100",borderColor:"border-pink-500",bgColor:"bg-pink-600"},{id:"Fi",name:"",color:"#f43f5e",desc:"",textColor:"text-rose-100",borderColor:"border-rose-500",bgColor:"bg-rose-600"},{id:"Se",name:"",color:"#eab308",desc:"",textColor:"text-yellow-100",borderColor:"border-yellow-500",bgColor:"bg-yellow-600"},{id:"Si",name:"",color:"#f97316",desc:"",textColor:"text-orange-100",borderColor:"border-orange-500",bgColor:"bg-orange-600"},{id:"Ne",name:"",color:"#a855f7",desc:"",textColor:"text-purple-100",borderColor:"border-purple-500",bgColor:"bg-purple-600"},{id:"Ni",name:"",color:"#6366f1",desc:"",textColor:"text-indigo-100",borderColor:"border-indigo-500",bgColor:"bg-indigo-600"},{id:"?",name:"",color:"#ffffff",desc:"",textColor:"text-slate-900",borderColor:"border-white",bgColor:"bg-white"}],gE=(e,t)=>[{q:1,r:0},{q:-1,r:0},{q:0,r:1},{q:0,r:-1}].map(o=>t.find(r=>r.q===e.q+o.q&&r.r===e.r+o.r)).filter(o=>o!==void 0),yE=(e,t)=>[{q:1,r:0},{q:-1,r:0},{q:0,r:1},{q:0,r:-1},{q:1,r:-1},{q:-1,r:1}].map(o=>t.find(r=>r.q===e.q+o.q&&r.r===e.r+o.r)).filter(o=>o!==void 0);var vE={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xE,SE;function TE(){return{geminiUrl:xE,vertexUrl:SE}}function wE(e,t,n,o){var r,i;if(!(e!=null&&e.baseUrl)){const s=TE();return t?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(i=s.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rn{}function V(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(e,t,n){for(let i=0;i<t.length-1;i++){const s=t[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in e))if(Array.isArray(n))e[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[a])){const l=e[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const d=l[u];f(d,t.slice(i+1),n[u])}else for(const u of l)f(u,t.slice(i+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in e||(e[a]=[{}]);const l=e[a];f(l[0],t.slice(i+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const o=t[t.length-1],r=e[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function c(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const s=e[i];return Array.isArray(s)?s.map(a=>c(a,t.slice(o+1),n)):n}else return n}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function EE(e,t){for(const[n,o]of Object.entries(t)){const r=n.split("."),i=o.split("."),s=new Set;let a=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){a=l;break}if(a!==-1&&i.length>a)for(let l=a;l<i.length;l++){const u=i[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}nc(e,r,i,0,s)}}function nc(e,t,n,o,r){if(o>=t.length||typeof e!="object"||e===null)return;const i=t[o];if(i.endsWith("[]")){const s=i.slice(0,-2),a=e;if(s in a&&Array.isArray(a[s]))for(const l of a[s])nc(l,t,n,o+1,r)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!r.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,d]of Object.entries(l)){const h=[];for(const m of n.slice(o))m==="*"?h.push(u):h.push(m);f(s,h,d)}for(const u of a)delete s[u]}}else{const s=e;i in s&&nc(s[i],t,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qd(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CE(e){const t={},n=c(e,["operationName"]);n!=null&&f(t,["operationName"],n);const o=c(e,["resourceName"]);return o!=null&&f(t,["_url","resourceName"],o),t}function NE(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const i=c(e,["error"]);i!=null&&f(t,["error"],i);const s=c(e,["response","generateVideoResponse"]);return s!=null&&f(t,["response"],IE(s)),t}function kE(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const i=c(e,["error"]);i!=null&&f(t,["error"],i);const s=c(e,["response"]);return s!=null&&f(t,["response"],_E(s)),t}function IE(e){const t={},n=c(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>bE(s))),f(t,["generatedVideos"],i)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function _E(e){const t={},n=c(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>AE(s))),f(t,["generatedVideos"],i)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function bE(e){const t={},n=c(e,["video"]);return n!=null&&f(t,["video"],FE(n)),t}function AE(e){const t={},n=c(e,["_self"]);return n!=null&&f(t,["video"],UE(n)),t}function PE(e){const t={},n=c(e,["operationName"]);return n!=null&&f(t,["_url","operationName"],n),t}function RE(e){const t={},n=c(e,["operationName"]);return n!=null&&f(t,["_url","operationName"],n),t}function ME(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const i=c(e,["error"]);i!=null&&f(t,["error"],i);const s=c(e,["response"]);return s!=null&&f(t,["response"],DE(s)),t}function DE(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["parent"]);o!=null&&f(t,["parent"],o);const r=c(e,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Av(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const i=c(e,["error"]);i!=null&&f(t,["error"],i);const s=c(e,["response"]);return s!=null&&f(t,["response"],LE(s)),t}function LE(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["parent"]);o!=null&&f(t,["parent"],o);const r=c(e,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function FE(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const o=c(e,["encodedVideo"]);o!=null&&f(t,["videoBytes"],qd(o));const r=c(e,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function UE(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["uri"],n);const o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["videoBytes"],qd(o));const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ah;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ah||(ah={}));var uh;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(uh||(uh={}));var ch;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(ch||(ch={}));var Hn;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Hn||(Hn={}));var dh;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(dh||(dh={}));var fh;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fh||(fh={}));var ph;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(ph||(ph={}));var hh;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(hh||(hh={}));var mh;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(mh||(mh={}));var gh;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(gh||(gh={}));var yh;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(yh||(yh={}));var vh;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(vh||(vh={}));var xh;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(xh||(xh={}));var Sh;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Sh||(Sh={}));var Th;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Th||(Th={}));var wh;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wh||(wh={}));var Eh;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Eh||(Eh={}));var Ch;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Ch||(Ch={}));var Nh;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Nh||(Nh={}));var Tl;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Tl||(Tl={}));var kh;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kh||(kh={}));var Ih;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ih||(Ih={}));var _h;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(_h||(_h={}));var oc;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(oc||(oc={}));var bh;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(bh||(bh={}));var Ah;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ah||(Ah={}));var Ph;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Ph||(Ph={}));var Rh;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Rh||(Rh={}));var Mh;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Mh||(Mh={}));var Dh;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Dh||(Dh={}));var Lh;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Lh||(Lh={}));var Fh;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Fh||(Fh={}));var Uh;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Uh||(Uh={}));var Vh;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Vh||(Vh={}));var Gh;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gh||(Gh={}));var Bh;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Bh||(Bh={}));var zh;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(zh||(zh={}));var Oh;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Oh||(Oh={}));var $h;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})($h||($h={}));var Hh;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Hh||(Hh={}));var jh;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(jh||(jh={}));var qh;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(qh||(qh={}));var Jh;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Jh||(Jh={}));var Wh;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Wh||(Wh={}));var Kh;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Kh||(Kh={}));var Yh;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Yh||(Yh={}));var Xh;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Xh||(Xh={}));var Qh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Qh||(Qh={}));var Zh;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Zh||(Zh={}));var em;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(em||(em={}));var tm;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tm||(tm={}));var nm;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(nm||(nm={}));var om;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(om||(om={}));var rm;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rm||(rm={}));var im;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(im||(im={}));var sr;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(sr||(sr={}));class rc{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Xr{get text(){var t,n,o,r,i,s,a,l;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const m of(l=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,S]of Object.entries(m))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(S!==null||S!==void 0)&&h.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,u+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,n,o,r,i,s,a,l;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[m,g]of Object.entries(h))m!=="inlineData"&&(g!==null||g!==void 0)&&d.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,o,r,i,s,a,l;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,o,r,i,s,a,l,u;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,o,r,i,s,a,l,u;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class sm{}class lm{}class VE{}class GE{}class BE{}class zE{}class am{}class um{}class cm{}class OE{}class wl{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new wl;let r;const i=t;return n?r=kE(i):r=NE(i),Object.assign(o,r),o}}class dm{}class fm{}class pm{}class hm{}class $E{}class HE{}class jE{}class Jd{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Jd,i=ME(t);return Object.assign(o,i),o}}class qE{}class JE{}class WE{}class mm{}class KE{get text(){var t,n,o;let r="",i=!1;const s=[];for(const a of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;i=!0,r+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var t,n,o;let r="";const i=[];for(const s of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&i.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class YE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Wd{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Wd,i=Av(t);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function he(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Pv(e,t){const n=he(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Rv(e){return Array.isArray(e)?e.map(t=>El(t)):[El(e)]}function El(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Mv(e){const t=El(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Dv(e){const t=El(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function gm(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Lv(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>gm(t)):[gm(e)]}function ic(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function ym(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function vm(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function ot(e){if(e==null)throw new Error("ContentUnion is required");return ic(e)?e:{role:"user",parts:Lv(e)}}function Kd(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=ot(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=ot(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>ot(n)):[ot(t)]}function Gt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(ym(e)||vm(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ot(e)]}const t=[],n=[],o=ic(e[0]);for(const r of e){const i=ic(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(r);else{if(ym(r)||vm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:Lv(n)}),t}function XE(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(Hn).includes(n[0].toUpperCase())?n[0].toUpperCase():Hn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(Hn).includes(o.toUpperCase())?o.toUpperCase():Hn.TYPE_UNSPECIFIED})}}function Sr(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&XE(e.type,t);for(const[s,a]of Object.entries(e))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(Hn).includes(a.toUpperCase())?a.toUpperCase():Hn.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Sr(a);else if(o.includes(s)){const l=[];for(const u of a){if(u.type=="null"){t.nullable=!0;continue}l.push(Sr(u))}t[s]=l}else if(r.includes(s)){const l={};for(const[u,d]of Object.entries(a))l[u]=Sr(d);t[s]=l}else{if(s==="additionalProperties")continue;t[s]=a}return t}function Yd(e){return Sr(e)}function Xd(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Qd(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Fr(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Sr(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Sr(t.response));return e}function Ur(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function QE(e,t,n,o=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function Mn(e,t){if(typeof t!="string")throw new Error("name must be a string");return QE(e,t,"cachedContents")}function Fv(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function so(e){return qd(e)}function ZE(e){return e!=null&&typeof e=="object"&&"name"in e}function eC(e){return e!=null&&typeof e=="object"&&"video"in e}function tC(e){return e!=null&&typeof e=="object"&&"uri"in e}function Uv(e){var t;let n;if(ZE(e)&&(n=e.name),!(tC(e)&&(n=e.uri,n===void 0))&&!(eC(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Vv(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Gv(e){for(const t of["models","tunedModels","publisherModels"])if(nC(e,t))return e[t];return[]}function nC(e,t){return e!==null&&typeof e=="object"&&t in e}function oC(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function rC(e,t={}){const n=[],o=new Set;for(const r of e){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const s=oC(r,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Bv(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function iC(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function zv(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(const s of r){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Vr(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ov(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sC(e){const t={},n=c(e,["responsesFile"]);n!=null&&f(t,["fileName"],n);const o=c(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>BC(s))),f(t,["inlinedResponses"],i)}const r=c(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),f(t,["inlinedEmbedContentResponses"],i)}return t}function lC(e){const t={},n=c(e,["predictionsFormat"]);n!=null&&f(t,["format"],n);const o=c(e,["gcsDestination","outputUriPrefix"]);o!=null&&f(t,["gcsUri"],o);const r=c(e,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function aC(e){const t={},n=c(e,["format"]);n!=null&&f(t,["predictionsFormat"],n);const o=c(e,["gcsUri"]);o!=null&&f(t,["gcsDestination","outputUriPrefix"],o);const r=c(e,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function $s(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata","displayName"]);o!=null&&f(t,["displayName"],o);const r=c(e,["metadata","state"]);r!=null&&f(t,["state"],Ov(r));const i=c(e,["metadata","createTime"]);i!=null&&f(t,["createTime"],i);const s=c(e,["metadata","endTime"]);s!=null&&f(t,["endTime"],s);const a=c(e,["metadata","updateTime"]);a!=null&&f(t,["updateTime"],a);const l=c(e,["metadata","model"]);l!=null&&f(t,["model"],l);const u=c(e,["metadata","output"]);return u!=null&&f(t,["dest"],sC(zv(u))),t}function sc(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const r=c(e,["state"]);r!=null&&f(t,["state"],Ov(r));const i=c(e,["error"]);i!=null&&f(t,["error"],i);const s=c(e,["createTime"]);s!=null&&f(t,["createTime"],s);const a=c(e,["startTime"]);a!=null&&f(t,["startTime"],a);const l=c(e,["endTime"]);l!=null&&f(t,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&f(t,["updateTime"],u);const d=c(e,["model"]);d!=null&&f(t,["model"],d);const h=c(e,["inputConfig"]);h!=null&&f(t,["src"],uC(h));const m=c(e,["outputConfig"]);m!=null&&f(t,["dest"],lC(zv(m)));const g=c(e,["completionStats"]);return g!=null&&f(t,["completionStats"],g),t}function uC(e){const t={},n=c(e,["instancesFormat"]);n!=null&&f(t,["format"],n);const o=c(e,["gcsSource","uris"]);o!=null&&f(t,["gcsUri"],o);const r=c(e,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function cC(e,t){const n={};if(c(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=c(t,["fileName"]);o!=null&&f(n,["fileName"],o);const r=c(t,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>GC(e,s))),f(n,["requests","requests"],i)}return n}function dC(e){const t={},n=c(e,["format"]);n!=null&&f(t,["instancesFormat"],n);const o=c(e,["gcsUri"]);o!=null&&f(t,["gcsSource","uris"],o);const r=c(e,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function fC(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function pC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Vr(e,o)),n}function hC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Vr(e,o)),n}function mC(e){const t={},n=c(e,["content"]);n!=null&&f(t,["content"],n);const o=c(e,["citationMetadata"]);o!=null&&f(t,["citationMetadata"],gC(o));const r=c(e,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const i=c(e,["finishReason"]);i!=null&&f(t,["finishReason"],i);const s=c(e,["avgLogprobs"]);s!=null&&f(t,["avgLogprobs"],s);const a=c(e,["groundingMetadata"]);a!=null&&f(t,["groundingMetadata"],a);const l=c(e,["index"]);l!=null&&f(t,["index"],l);const u=c(e,["logprobsResult"]);u!=null&&f(t,["logprobsResult"],u);const d=c(e,["safetyRatings"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>g)),f(t,["safetyRatings"],m)}const h=c(e,["urlContextMetadata"]);return h!=null&&f(t,["urlContextMetadata"],h),t}function gC(e){const t={},n=c(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),f(t,["citations"],o)}return t}function $v(e){const t={},n=c(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>JC(i))),f(t,["parts"],r)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function yC(e,t){const n={},o=c(e,["displayName"]);if(t!==void 0&&o!=null&&f(t,["batch","displayName"],o),c(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function vC(e,t){const n={},o=c(e,["displayName"]);t!==void 0&&o!=null&&f(t,["displayName"],o);const r=c(e,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],aC(iC(r))),n}function xm(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["src"]);r!=null&&f(n,["batch","inputConfig"],cC(e,Bv(e,r)));const i=c(t,["config"]);return i!=null&&yC(i,n),n}function xC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["model"],he(e,o));const r=c(t,["src"]);r!=null&&f(n,["inputConfig"],dC(Bv(e,r)));const i=c(t,["config"]);return i!=null&&vC(i,n),n}function SC(e,t){const n={},o=c(e,["displayName"]);return t!==void 0&&o!=null&&f(t,["batch","displayName"],o),n}function TC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["src"]);r!=null&&f(n,["batch","inputConfig"],_C(e,r));const i=c(t,["config"]);return i!=null&&SC(i,n),n}function wC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Vr(e,o)),n}function EC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Vr(e,o)),n}function CC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const i=c(e,["error"]);return i!=null&&f(t,["error"],i),t}function NC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const i=c(e,["error"]);return i!=null&&f(t,["error"],i),t}function kC(e,t){const n={},o=c(t,["contents"]);if(o!=null){let i=Kd(e,o);Array.isArray(i)&&(i=i.map(s=>s)),f(n,["requests[]","request","content"],i)}const r=c(t,["config"]);return r!=null&&(f(n,["_self"],IC(r,n)),EE(n,{"requests[].*":"requests[].request.*"})),n}function IC(e,t){const n={},o=c(e,["taskType"]);t!==void 0&&o!=null&&f(t,["requests[]","taskType"],o);const r=c(e,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const i=c(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&f(t,["requests[]","outputDimensionality"],i),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function _C(e,t){const n={},o=c(t,["fileName"]);o!=null&&f(n,["file_name"],o);const r=c(t,["inlinedRequests"]);return r!=null&&f(n,["requests"],kC(e,r)),n}function bC(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function AC(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const r=c(e,["name"]);if(r!=null&&f(t,["name"],r),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function PC(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const o=c(e,["allowedFunctionNames"]);if(o!=null&&f(t,["allowedFunctionNames"],o),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function RC(e,t,n){const o={},r=c(t,["systemInstruction"]);n!==void 0&&r!=null&&f(n,["systemInstruction"],$v(ot(r)));const i=c(t,["temperature"]);i!=null&&f(o,["temperature"],i);const s=c(t,["topP"]);s!=null&&f(o,["topP"],s);const a=c(t,["topK"]);a!=null&&f(o,["topK"],a);const l=c(t,["candidateCount"]);l!=null&&f(o,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&f(o,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(o,["stopSequences"],d);const h=c(t,["responseLogprobs"]);h!=null&&f(o,["responseLogprobs"],h);const m=c(t,["logprobs"]);m!=null&&f(o,["logprobs"],m);const g=c(t,["presencePenalty"]);g!=null&&f(o,["presencePenalty"],g);const S=c(t,["frequencyPenalty"]);S!=null&&f(o,["frequencyPenalty"],S);const T=c(t,["seed"]);T!=null&&f(o,["seed"],T);const w=c(t,["responseMimeType"]);w!=null&&f(o,["responseMimeType"],w);const v=c(t,["responseSchema"]);v!=null&&f(o,["responseSchema"],Yd(v));const y=c(t,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=c(t,["safetySettings"]);if(n!==void 0&&x!=null){let O=x;Array.isArray(O)&&(O=O.map(j=>WC(j))),f(n,["safetySettings"],O)}const E=c(t,["tools"]);if(n!==void 0&&E!=null){let O=Ur(E);Array.isArray(O)&&(O=O.map(j=>YC(Fr(j)))),f(n,["tools"],O)}const k=c(t,["toolConfig"]);if(n!==void 0&&k!=null&&f(n,["toolConfig"],KC(k)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=c(t,["cachedContent"]);n!==void 0&&C!=null&&f(n,["cachedContent"],Mn(e,C));const I=c(t,["responseModalities"]);I!=null&&f(o,["responseModalities"],I);const _=c(t,["mediaResolution"]);_!=null&&f(o,["mediaResolution"],_);const A=c(t,["speechConfig"]);if(A!=null&&f(o,["speechConfig"],Xd(A)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=c(t,["thinkingConfig"]);M!=null&&f(o,["thinkingConfig"],M);const L=c(t,["imageConfig"]);L!=null&&f(o,["imageConfig"],VC(L));const ne=c(t,["enableEnhancedCivicAnswers"]);return ne!=null&&f(o,["enableEnhancedCivicAnswers"],ne),o}function MC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["candidates"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>mC(u))),f(t,["candidates"],l)}const r=c(e,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const i=c(e,["promptFeedback"]);i!=null&&f(t,["promptFeedback"],i);const s=c(e,["responseId"]);s!=null&&f(t,["responseId"],s);const a=c(e,["usageMetadata"]);return a!=null&&f(t,["usageMetadata"],a),t}function DC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Vr(e,o)),n}function LC(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Vr(e,o)),n}function FC(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function UC(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function VC(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const o=c(e,["imageSize"]);if(o!=null&&f(t,["imageSize"],o),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function GC(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["request","model"],he(e,o));const r=c(t,["contents"]);if(r!=null){let a=Gt(r);Array.isArray(a)&&(a=a.map(l=>$v(l))),f(n,["request","contents"],a)}const i=c(t,["metadata"]);i!=null&&f(n,["metadata"],i);const s=c(t,["config"]);return s!=null&&f(n,["request","generationConfig"],RC(e,s,c(n,["request"],{}))),n}function BC(e){const t={},n=c(e,["response"]);n!=null&&f(t,["response"],MC(n));const o=c(e,["error"]);return o!=null&&f(t,["error"],o),t}function zC(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const r=c(e,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),c(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function OC(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const r=c(e,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const i=c(e,["filter"]);return t!==void 0&&i!=null&&f(t,["_query","filter"],i),n}function $C(e){const t={},n=c(e,["config"]);return n!=null&&zC(n,t),t}function HC(e){const t={},n=c(e,["config"]);return n!=null&&OC(n,t),t}function jC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const r=c(e,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$s(s))),f(t,["batchJobs"],i)}return t}function qC(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const r=c(e,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>sc(s))),f(t,["batchJobs"],i)}return t}function JC(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const r=c(e,["executableCode"]);r!=null&&f(t,["executableCode"],r);const i=c(e,["fileData"]);i!=null&&f(t,["fileData"],bC(i));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],AC(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],fC(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const m=c(e,["videoMetadata"]);return m!=null&&f(t,["videoMetadata"],m),t}function WC(e){const t={},n=c(e,["category"]);if(n!=null&&f(t,["category"],n),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(e,["threshold"]);return o!=null&&f(t,["threshold"],o),t}function KC(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],PC(n));const o=c(e,["retrievalConfig"]);return o!=null&&f(t,["retrievalConfig"],o),t}function YC(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const r=c(e,["computerUse"]);r!=null&&f(t,["computerUse"],r);const i=c(e,["fileSearch"]);i!=null&&f(t,["fileSearch"],i);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],FC(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],UC(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _n;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(_n||(_n={}));class zo{constructor(t,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,r)}init(t,n,o){var r,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XC extends Rn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new zo(_n.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=xm(this.apiClient,t),o=n._url,r=V("{model}:batchGenerateContent",o),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const m=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=m,h.request=g}u.push(h)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(t),s=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(s)o.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=xC(this.apiClient,t);return a=V("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>sc(d))}else{const u=xm(this.apiClient,t);return a=V("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>$s(d))}}async createEmbeddingsInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=TC(this.apiClient,t);return i=V("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>$s(l))}}async get(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=LC(this.apiClient,t);return a=V("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>sc(d))}else{const u=DC(this.apiClient,t);return a=V("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>$s(d))}}async cancel(t){var n,o,r,i;let s="",a={};if(this.apiClient.isVertexAI()){const l=hC(this.apiClient,t);s=V("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const l=pC(this.apiClient,t);s=V("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=HC(t);return a=V("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=qC(d),m=new mm;return Object.assign(m,h),m})}else{const u=$C(t);return a=V("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=jC(d),m=new mm;return Object.assign(m,h),m})}}async delete(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=EC(this.apiClient,t);return a=V("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>NC(d))}else{const u=wC(this.apiClient,t);return a=V("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>CC(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QC(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function Sm(e){const t={},n=c(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>TN(i))),f(t,["parts"],r)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function ZC(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const r=c(e,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const i=c(e,["displayName"]);t!==void 0&&i!=null&&f(t,["displayName"],i);const s=c(e,["contents"]);if(t!==void 0&&s!=null){let d=Gt(s);Array.isArray(d)&&(d=d.map(h=>Sm(h))),f(t,["contents"],d)}const a=c(e,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],Sm(ot(a)));const l=c(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>EN(h))),f(t,["tools"],d)}const u=c(e,["toolConfig"]);if(t!==void 0&&u!=null&&f(t,["toolConfig"],wN(u)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function eN(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const r=c(e,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const i=c(e,["displayName"]);t!==void 0&&i!=null&&f(t,["displayName"],i);const s=c(e,["contents"]);if(t!==void 0&&s!=null){let h=Gt(s);Array.isArray(h)&&(h=h.map(m=>m)),f(t,["contents"],h)}const a=c(e,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],ot(a));const l=c(e,["tools"]);if(t!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(m=>CN(m))),f(t,["tools"],h)}const u=c(e,["toolConfig"]);t!==void 0&&u!=null&&f(t,["toolConfig"],u);const d=c(e,["kmsKeyName"]);return t!==void 0&&d!=null&&f(t,["encryption_spec","kmsKeyName"],d),n}function tN(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["model"],Pv(e,o));const r=c(t,["config"]);return r!=null&&ZC(r,n),n}function nN(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["model"],Pv(e,o));const r=c(t,["config"]);return r!=null&&eN(r,n),n}function oN(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Mn(e,o)),n}function rN(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Mn(e,o)),n}function iN(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function sN(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function lN(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function aN(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const r=c(e,["name"]);if(r!=null&&f(t,["name"],r),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uN(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const o=c(e,["allowedFunctionNames"]);if(o!=null&&f(t,["allowedFunctionNames"],o),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function cN(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const r=c(e,["parameters"]);r!=null&&f(t,["parameters"],r);const i=c(e,["parametersJsonSchema"]);i!=null&&f(t,["parametersJsonSchema"],i);const s=c(e,["response"]);s!=null&&f(t,["response"],s);const a=c(e,["responseJsonSchema"]);return a!=null&&f(t,["responseJsonSchema"],a),t}function dN(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Mn(e,o)),n}function fN(e,t){const n={},o=c(t,["name"]);return o!=null&&f(n,["_url","name"],Mn(e,o)),n}function pN(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function hN(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function mN(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),n}function gN(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),n}function yN(e){const t={},n=c(e,["config"]);return n!=null&&mN(n,t),t}function vN(e){const t={},n=c(e,["config"]);return n!=null&&gN(n,t),t}function xN(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const r=c(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),f(t,["cachedContents"],i)}return t}function SN(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const r=c(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),f(t,["cachedContents"],i)}return t}function TN(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const r=c(e,["executableCode"]);r!=null&&f(t,["executableCode"],r);const i=c(e,["fileData"]);i!=null&&f(t,["fileData"],lN(i));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],aN(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],QC(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const m=c(e,["videoMetadata"]);return m!=null&&f(t,["videoMetadata"],m),t}function wN(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],uN(n));const o=c(e,["retrievalConfig"]);return o!=null&&f(t,["retrievalConfig"],o),t}function EN(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const r=c(e,["computerUse"]);r!=null&&f(t,["computerUse"],r);const i=c(e,["fileSearch"]);i!=null&&f(t,["fileSearch"],i);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],pN(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],hN(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function CN(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>cN(m))),f(t,["functionDeclarations"],h)}const o=c(e,["retrieval"]);o!=null&&f(t,["retrieval"],o);const r=c(e,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const i=c(e,["computerUse"]);if(i!=null&&f(t,["computerUse"],i),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(e,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const a=c(e,["enterpriseWebSearch"]);a!=null&&f(t,["enterpriseWebSearch"],a);const l=c(e,["googleMaps"]);l!=null&&f(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function NN(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const r=c(e,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),n}function kN(e,t){const n={},o=c(e,["ttl"]);t!==void 0&&o!=null&&f(t,["ttl"],o);const r=c(e,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),n}function IN(e,t){const n={},o=c(t,["name"]);o!=null&&f(n,["_url","name"],Mn(e,o));const r=c(t,["config"]);return r!=null&&NN(r,n),n}function _N(e,t){const n={},o=c(t,["name"]);o!=null&&f(n,["_url","name"],Mn(e,o));const r=c(t,["config"]);return r!=null&&kN(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bN extends Rn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new zo(_n.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=nN(this.apiClient,t);return a=V("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=tN(this.apiClient,t);return a=V("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=fN(this.apiClient,t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=dN(this.apiClient,t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=rN(this.apiClient,t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=sN(d),m=new pm;return Object.assign(m,h),m})}else{const u=oN(this.apiClient,t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=iN(d),m=new pm;return Object.assign(m,h),m})}}async update(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_N(this.apiClient,t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=IN(this.apiClient,t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=vN(t);return a=V("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=SN(d),m=new hm;return Object.assign(m,h),m})}else{const u=yN(t);return a=V("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=xN(d),m=new hm;return Object.assign(m,h),m})}}}function Cl(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function Tm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(e){return this instanceof ie?(this.v=e,this):new ie(e)}function nn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(S){return Promise.resolve(S).then(g,h)}}function a(g,S){o[g]&&(r[g]=function(T){return new Promise(function(w,v){i.push([g,T,w,v])>1||l(g,T)})},S&&(r[g]=S(r[g])))}function l(g,S){try{u(o[g](S))}catch(T){m(i[0][3],T)}}function u(g){g.value instanceof ie?Promise.resolve(g.value.v).then(d,h):m(i[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function m(g,S){g(S),i.shift(),i.length&&l(i[0][0],i[0][1])}}function on(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Tm=="function"?Tm(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){s=e[i](s),r(a,l,s.done,s.value)})}}function r(i,s,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AN(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Hv(n)}function Hv(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function PN(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function wm(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&e[o].role==="model";)r.push(e[o]),i&&!Hv(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}class RN{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new MN(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class MN{constructor(t,n,o,r={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),PN(i)}async sendMessage(t){var n;await this.sendPromise;const o=ot(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,a;const l=await r,u=(s=(i=l.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let m=[];d!=null&&(m=(a=d.slice(h))!==null&&a!==void 0?a:[]);const g=u?[u]:[];this.recordHistory(o,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const o=ot(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(t=!1){const n=t?wm(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return nn(this,arguments,function*(){var r,i,s,a,l,u;const d=[];try{for(var h=!0,m=on(t),g;g=yield ie(m.next()),r=g.done,!r;h=!0){a=g.value,h=!1;const S=a;if(AN(S)){const T=(u=(l=S.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;T!==void 0&&d.push(T)}yield yield ie(S)}}catch(S){i={error:S}}finally{try{!h&&!r&&(s=m.return)&&(yield ie(s.call(m)))}finally{if(i)throw i.error}}this.recordHistory(n,d)})}recordHistory(t,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...wm(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Zl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DN(e){const t={},n=c(e,["file"]);return n!=null&&f(t,["file"],n),t}function LN(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function FN(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","file"],Uv(n)),t}function UN(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function VN(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","file"],Uv(n)),t}function GN(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),n}function BN(e){const t={},n=c(e,["config"]);return n!=null&&GN(n,t),t}function zN(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const r=c(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),f(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ON extends Rn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new zo(_n.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=BN(t);return i=V("files",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=zN(l),d=new qE;return Object.assign(d,u),d})}}async createInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=DN(t);return i=V("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>{const u=LN(l),d=new JE;return Object.assign(d,u),d})}}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=VN(t);return i=V("files/{file}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=FN(t);return i=V("files/{file}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=UN(l),d=new WE;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hs(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function $N(e){const t={},n=c(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ik(i))),f(t,["parts"],r)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function HN(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function jN(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const r=c(e,["name"]);if(r!=null&&f(t,["name"],r),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qN(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const r=c(e,["parameters"]);r!=null&&f(t,["parameters"],r);const i=c(e,["parametersJsonSchema"]);i!=null&&f(t,["parametersJsonSchema"],i);const s=c(e,["response"]);s!=null&&f(t,["response"],s);const a=c(e,["responseJsonSchema"]);return a!=null&&f(t,["responseJsonSchema"],a),t}function JN(e){const t={},n=c(e,["modelSelectionConfig"]);n!=null&&f(t,["modelConfig"],n);const o=c(e,["responseJsonSchema"]);o!=null&&f(t,["responseJsonSchema"],o);const r=c(e,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const i=c(e,["candidateCount"]);i!=null&&f(t,["candidateCount"],i);const s=c(e,["enableAffectiveDialog"]);s!=null&&f(t,["enableAffectiveDialog"],s);const a=c(e,["frequencyPenalty"]);a!=null&&f(t,["frequencyPenalty"],a);const l=c(e,["logprobs"]);l!=null&&f(t,["logprobs"],l);const u=c(e,["maxOutputTokens"]);u!=null&&f(t,["maxOutputTokens"],u);const d=c(e,["mediaResolution"]);d!=null&&f(t,["mediaResolution"],d);const h=c(e,["presencePenalty"]);h!=null&&f(t,["presencePenalty"],h);const m=c(e,["responseLogprobs"]);m!=null&&f(t,["responseLogprobs"],m);const g=c(e,["responseMimeType"]);g!=null&&f(t,["responseMimeType"],g);const S=c(e,["responseModalities"]);S!=null&&f(t,["responseModalities"],S);const T=c(e,["responseSchema"]);T!=null&&f(t,["responseSchema"],T);const w=c(e,["routingConfig"]);w!=null&&f(t,["routingConfig"],w);const v=c(e,["seed"]);v!=null&&f(t,["seed"],v);const y=c(e,["speechConfig"]);y!=null&&f(t,["speechConfig"],y);const x=c(e,["stopSequences"]);x!=null&&f(t,["stopSequences"],x);const E=c(e,["temperature"]);E!=null&&f(t,["temperature"],E);const k=c(e,["thinkingConfig"]);k!=null&&f(t,["thinkingConfig"],k);const C=c(e,["topK"]);C!=null&&f(t,["topK"],C);const I=c(e,["topP"]);if(I!=null&&f(t,["topP"],I),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function WN(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function KN(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function YN(e,t){const n={},o=c(e,["generationConfig"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig"],o);const r=c(e,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const i=c(e,["temperature"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","temperature"],i);const s=c(e,["topP"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topP"],s);const a=c(e,["topK"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","topK"],a);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const h=c(e,["speechConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","speechConfig"],Qd(h));const m=c(e,["thinkingConfig"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","thinkingConfig"],m);const g=c(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],g);const S=c(e,["systemInstruction"]);t!==void 0&&S!=null&&f(t,["setup","systemInstruction"],$N(ot(S)));const T=c(e,["tools"]);if(t!==void 0&&T!=null){let C=Ur(T);Array.isArray(C)&&(C=C.map(I=>lk(Fr(I)))),f(t,["setup","tools"],C)}const w=c(e,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],sk(w));const v=c(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&f(t,["setup","inputAudioTranscription"],v);const y=c(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&f(t,["setup","outputAudioTranscription"],y);const x=c(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&f(t,["setup","realtimeInputConfig"],x);const E=c(e,["contextWindowCompression"]);t!==void 0&&E!=null&&f(t,["setup","contextWindowCompression"],E);const k=c(e,["proactivity"]);if(t!==void 0&&k!=null&&f(t,["setup","proactivity"],k),c(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function XN(e,t){const n={},o=c(e,["generationConfig"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig"],JN(o));const r=c(e,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const i=c(e,["temperature"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","temperature"],i);const s=c(e,["topP"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topP"],s);const a=c(e,["topK"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","topK"],a);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const h=c(e,["speechConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","speechConfig"],Qd(h));const m=c(e,["thinkingConfig"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","thinkingConfig"],m);const g=c(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],g);const S=c(e,["systemInstruction"]);t!==void 0&&S!=null&&f(t,["setup","systemInstruction"],ot(S));const T=c(e,["tools"]);if(t!==void 0&&T!=null){let I=Ur(T);Array.isArray(I)&&(I=I.map(_=>ak(Fr(_)))),f(t,["setup","tools"],I)}const w=c(e,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],w);const v=c(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&f(t,["setup","inputAudioTranscription"],v);const y=c(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&f(t,["setup","outputAudioTranscription"],y);const x=c(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&f(t,["setup","realtimeInputConfig"],x);const E=c(e,["contextWindowCompression"]);t!==void 0&&E!=null&&f(t,["setup","contextWindowCompression"],E);const k=c(e,["proactivity"]);t!==void 0&&k!=null&&f(t,["setup","proactivity"],k);const C=c(e,["explicitVadSignal"]);return t!==void 0&&C!=null&&f(t,["setup","explicitVadSignal"],C),n}function QN(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["setup","model"],he(e,o));const r=c(t,["config"]);return r!=null&&f(n,["config"],YN(r,n)),n}function ZN(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["setup","model"],he(e,o));const r=c(t,["config"]);return r!=null&&f(n,["config"],XN(r,n)),n}function ek(e){const t={},n=c(e,["musicGenerationConfig"]);return n!=null&&f(t,["musicGenerationConfig"],n),t}function tk(e){const t={},n=c(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),f(t,["weightedPrompts"],o)}return t}function nk(e){const t={},n=c(e,["media"]);if(n!=null){let u=Rv(n);Array.isArray(u)&&(u=u.map(d=>Hs(d))),f(t,["mediaChunks"],u)}const o=c(e,["audio"]);o!=null&&f(t,["audio"],Hs(Dv(o)));const r=c(e,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const i=c(e,["video"]);i!=null&&f(t,["video"],Hs(Mv(i)));const s=c(e,["text"]);s!=null&&f(t,["text"],s);const a=c(e,["activityStart"]);a!=null&&f(t,["activityStart"],a);const l=c(e,["activityEnd"]);return l!=null&&f(t,["activityEnd"],l),t}function ok(e){const t={},n=c(e,["media"]);if(n!=null){let u=Rv(n);Array.isArray(u)&&(u=u.map(d=>d)),f(t,["mediaChunks"],u)}const o=c(e,["audio"]);o!=null&&f(t,["audio"],Dv(o));const r=c(e,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const i=c(e,["video"]);i!=null&&f(t,["video"],Mv(i));const s=c(e,["text"]);s!=null&&f(t,["text"],s);const a=c(e,["activityStart"]);a!=null&&f(t,["activityStart"],a);const l=c(e,["activityEnd"]);return l!=null&&f(t,["activityEnd"],l),t}function rk(e){const t={},n=c(e,["setupComplete"]);n!=null&&f(t,["setupComplete"],n);const o=c(e,["serverContent"]);o!=null&&f(t,["serverContent"],o);const r=c(e,["toolCall"]);r!=null&&f(t,["toolCall"],r);const i=c(e,["toolCallCancellation"]);i!=null&&f(t,["toolCallCancellation"],i);const s=c(e,["usageMetadata"]);s!=null&&f(t,["usageMetadata"],uk(s));const a=c(e,["goAway"]);a!=null&&f(t,["goAway"],a);const l=c(e,["sessionResumptionUpdate"]);l!=null&&f(t,["sessionResumptionUpdate"],l);const u=c(e,["voiceActivityDetectionSignal"]);return u!=null&&f(t,["voiceActivityDetectionSignal"],u),t}function ik(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const r=c(e,["executableCode"]);r!=null&&f(t,["executableCode"],r);const i=c(e,["fileData"]);i!=null&&f(t,["fileData"],HN(i));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],jN(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],Hs(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const m=c(e,["videoMetadata"]);return m!=null&&f(t,["videoMetadata"],m),t}function sk(e){const t={},n=c(e,["handle"]);if(n!=null&&f(t,["handle"],n),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function lk(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const r=c(e,["computerUse"]);r!=null&&f(t,["computerUse"],r);const i=c(e,["fileSearch"]);i!=null&&f(t,["fileSearch"],i);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],WN(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],KN(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function ak(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>qN(m))),f(t,["functionDeclarations"],h)}const o=c(e,["retrieval"]);o!=null&&f(t,["retrieval"],o);const r=c(e,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const i=c(e,["computerUse"]);if(i!=null&&f(t,["computerUse"],i),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(e,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const a=c(e,["enterpriseWebSearch"]);a!=null&&f(t,["enterpriseWebSearch"],a);const l=c(e,["googleMaps"]);l!=null&&f(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function uk(e){const t={},n=c(e,["promptTokenCount"]);n!=null&&f(t,["promptTokenCount"],n);const o=c(e,["cachedContentTokenCount"]);o!=null&&f(t,["cachedContentTokenCount"],o);const r=c(e,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const i=c(e,["toolUsePromptTokenCount"]);i!=null&&f(t,["toolUsePromptTokenCount"],i);const s=c(e,["thoughtsTokenCount"]);s!=null&&f(t,["thoughtsTokenCount"],s);const a=c(e,["totalTokenCount"]);a!=null&&f(t,["totalTokenCount"],a);const l=c(e,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(S=>S)),f(t,["promptTokensDetails"],g)}const u=c(e,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(S=>S)),f(t,["cacheTokensDetails"],g)}const d=c(e,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(S=>S)),f(t,["responseTokensDetails"],g)}const h=c(e,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(S=>S)),f(t,["toolUsePromptTokensDetails"],g)}const m=c(e,["trafficType"]);return m!=null&&f(t,["trafficType"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ck(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function dk(e){const t={},n=c(e,["content"]);n!=null&&f(t,["content"],n);const o=c(e,["citationMetadata"]);o!=null&&f(t,["citationMetadata"],fk(o));const r=c(e,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const i=c(e,["finishReason"]);i!=null&&f(t,["finishReason"],i);const s=c(e,["avgLogprobs"]);s!=null&&f(t,["avgLogprobs"],s);const a=c(e,["groundingMetadata"]);a!=null&&f(t,["groundingMetadata"],a);const l=c(e,["index"]);l!=null&&f(t,["index"],l);const u=c(e,["logprobsResult"]);u!=null&&f(t,["logprobsResult"],u);const d=c(e,["safetyRatings"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>g)),f(t,["safetyRatings"],m)}const h=c(e,["urlContextMetadata"]);return h!=null&&f(t,["urlContextMetadata"],h),t}function fk(e){const t={},n=c(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),f(t,["citations"],o)}return t}function pk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["contents"]);if(r!=null){let i=Gt(r);Array.isArray(i)&&(i=i.map(s=>s)),f(n,["contents"],i)}return n}function hk(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),f(t,["tokensInfo"],r)}return t}function mk(e){const t={},n=c(e,["values"]);n!=null&&f(t,["values"],n);const o=c(e,["statistics"]);return o!=null&&f(t,["statistics"],gk(o)),t}function gk(e){const t={},n=c(e,["truncated"]);n!=null&&f(t,["truncated"],n);const o=c(e,["token_count"]);return o!=null&&f(t,["tokenCount"],o),t}function ea(e){const t={},n=c(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>NI(i))),f(t,["parts"],r)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function yk(e){const t={},n=c(e,["controlType"]);n!=null&&f(t,["controlType"],n);const o=c(e,["enableControlImageComputation"]);return o!=null&&f(t,["computeControl"],o),t}function vk(e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function xk(e,t){const n={},o=c(e,["systemInstruction"]);t!==void 0&&o!=null&&f(t,["systemInstruction"],ot(o));const r=c(e,["tools"]);if(t!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Wv(a))),f(t,["tools"],s)}const i=c(e,["generationConfig"]);return t!==void 0&&i!=null&&f(t,["generationConfig"],cI(i)),n}function Sk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["contents"]);if(r!=null){let s=Gt(r);Array.isArray(s)&&(s=s.map(a=>ea(a))),f(n,["contents"],s)}const i=c(t,["config"]);return i!=null&&vk(i),n}function Tk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["contents"]);if(r!=null){let s=Gt(r);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["contents"],s)}const i=c(t,["config"]);return i!=null&&xk(i,n),n}function wk(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["totalTokens"]);o!=null&&f(t,["totalTokens"],o);const r=c(e,["cachedContentTokenCount"]);return r!=null&&f(t,["cachedContentTokenCount"],r),t}function Ek(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["totalTokens"]);return o!=null&&f(t,["totalTokens"],o),t}function Ck(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],he(e,o)),n}function Nk(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],he(e,o)),n}function kk(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function Ik(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}function _k(e,t){const n={},o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&f(t,["parameters","storageUri"],o);const r=c(e,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const i=c(e,["numberOfImages"]);t!==void 0&&i!=null&&f(t,["parameters","sampleCount"],i);const s=c(e,["aspectRatio"]);t!==void 0&&s!=null&&f(t,["parameters","aspectRatio"],s);const a=c(e,["guidanceScale"]);t!==void 0&&a!=null&&f(t,["parameters","guidanceScale"],a);const l=c(e,["seed"]);t!==void 0&&l!=null&&f(t,["parameters","seed"],l);const u=c(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&f(t,["parameters","safetySetting"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=c(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&f(t,["parameters","includeSafetyAttributes"],h);const m=c(e,["includeRaiReason"]);t!==void 0&&m!=null&&f(t,["parameters","includeRaiReason"],m);const g=c(e,["language"]);t!==void 0&&g!=null&&f(t,["parameters","language"],g);const S=c(e,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const T=c(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","compressionQuality"],T);const w=c(e,["addWatermark"]);t!==void 0&&w!=null&&f(t,["parameters","addWatermark"],w);const v=c(e,["labels"]);t!==void 0&&v!=null&&f(t,["labels"],v);const y=c(e,["editMode"]);t!==void 0&&y!=null&&f(t,["parameters","editMode"],y);const x=c(e,["baseSteps"]);return t!==void 0&&x!=null&&f(t,["parameters","editConfig","baseSteps"],x),n}function bk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const i=c(t,["referenceImages"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>PI(l))),f(n,["instances[0]","referenceImages"],a)}const s=c(t,["config"]);return s!=null&&_k(s,n),n}function Ak(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>ta(i))),f(t,["generatedImages"],r)}return t}function Pk(e,t){const n={},o=c(e,["taskType"]);t!==void 0&&o!=null&&f(t,["requests[]","taskType"],o);const r=c(e,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const i=c(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&f(t,["requests[]","outputDimensionality"],i),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Rk(e,t){const n={},o=c(e,["taskType"]);t!==void 0&&o!=null&&f(t,["instances[]","task_type"],o);const r=c(e,["title"]);t!==void 0&&r!=null&&f(t,["instances[]","title"],r);const i=c(e,["outputDimensionality"]);t!==void 0&&i!=null&&f(t,["parameters","outputDimensionality"],i);const s=c(e,["mimeType"]);t!==void 0&&s!=null&&f(t,["instances[]","mimeType"],s);const a=c(e,["autoTruncate"]);return t!==void 0&&a!=null&&f(t,["parameters","autoTruncate"],a),n}function Mk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["contents"]);if(r!=null){let a=Kd(e,r);Array.isArray(a)&&(a=a.map(l=>l)),f(n,["requests[]","content"],a)}const i=c(t,["config"]);i!=null&&Pk(i,n);const s=c(t,["model"]);return s!==void 0&&f(n,["requests[]","model"],he(e,s)),n}function Dk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["contents"]);if(r!=null){let s=Kd(e,r);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["instances[]","content"],s)}const i=c(t,["config"]);return i!=null&&Rk(i,n),n}function Lk(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),f(t,["embeddings"],i)}const r=c(e,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function Fk(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>mk(s))),f(t,["embeddings"],i)}const r=c(e,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function Uk(e){const t={},n=c(e,["endpoint"]);n!=null&&f(t,["name"],n);const o=c(e,["deployedModelId"]);return o!=null&&f(t,["deployedModelId"],o),t}function Vk(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function Gk(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const r=c(e,["name"]);if(r!=null&&f(t,["name"],r),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Bk(e){const t={},n=c(e,["mode"]);n!=null&&f(t,["mode"],n);const o=c(e,["allowedFunctionNames"]);if(o!=null&&f(t,["allowedFunctionNames"],o),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function zk(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(e,["description"]);n!=null&&f(t,["description"],n);const o=c(e,["name"]);o!=null&&f(t,["name"],o);const r=c(e,["parameters"]);r!=null&&f(t,["parameters"],r);const i=c(e,["parametersJsonSchema"]);i!=null&&f(t,["parametersJsonSchema"],i);const s=c(e,["response"]);s!=null&&f(t,["response"],s);const a=c(e,["responseJsonSchema"]);return a!=null&&f(t,["responseJsonSchema"],a),t}function Ok(e,t,n){const o={},r=c(t,["systemInstruction"]);n!==void 0&&r!=null&&f(n,["systemInstruction"],ea(ot(r)));const i=c(t,["temperature"]);i!=null&&f(o,["temperature"],i);const s=c(t,["topP"]);s!=null&&f(o,["topP"],s);const a=c(t,["topK"]);a!=null&&f(o,["topK"],a);const l=c(t,["candidateCount"]);l!=null&&f(o,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&f(o,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(o,["stopSequences"],d);const h=c(t,["responseLogprobs"]);h!=null&&f(o,["responseLogprobs"],h);const m=c(t,["logprobs"]);m!=null&&f(o,["logprobs"],m);const g=c(t,["presencePenalty"]);g!=null&&f(o,["presencePenalty"],g);const S=c(t,["frequencyPenalty"]);S!=null&&f(o,["frequencyPenalty"],S);const T=c(t,["seed"]);T!=null&&f(o,["seed"],T);const w=c(t,["responseMimeType"]);w!=null&&f(o,["responseMimeType"],w);const v=c(t,["responseSchema"]);v!=null&&f(o,["responseSchema"],Yd(v));const y=c(t,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=c(t,["safetySettings"]);if(n!==void 0&&x!=null){let O=x;Array.isArray(O)&&(O=O.map(j=>RI(j))),f(n,["safetySettings"],O)}const E=c(t,["tools"]);if(n!==void 0&&E!=null){let O=Ur(E);Array.isArray(O)&&(O=O.map(j=>GI(Fr(j)))),f(n,["tools"],O)}const k=c(t,["toolConfig"]);if(n!==void 0&&k!=null&&f(n,["toolConfig"],VI(k)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=c(t,["cachedContent"]);n!==void 0&&C!=null&&f(n,["cachedContent"],Mn(e,C));const I=c(t,["responseModalities"]);I!=null&&f(o,["responseModalities"],I);const _=c(t,["mediaResolution"]);_!=null&&f(o,["mediaResolution"],_);const A=c(t,["speechConfig"]);if(A!=null&&f(o,["speechConfig"],Xd(A)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=c(t,["thinkingConfig"]);M!=null&&f(o,["thinkingConfig"],M);const L=c(t,["imageConfig"]);L!=null&&f(o,["imageConfig"],mI(L));const ne=c(t,["enableEnhancedCivicAnswers"]);return ne!=null&&f(o,["enableEnhancedCivicAnswers"],ne),o}function $k(e,t,n){const o={},r=c(t,["systemInstruction"]);n!==void 0&&r!=null&&f(n,["systemInstruction"],ot(r));const i=c(t,["temperature"]);i!=null&&f(o,["temperature"],i);const s=c(t,["topP"]);s!=null&&f(o,["topP"],s);const a=c(t,["topK"]);a!=null&&f(o,["topK"],a);const l=c(t,["candidateCount"]);l!=null&&f(o,["candidateCount"],l);const u=c(t,["maxOutputTokens"]);u!=null&&f(o,["maxOutputTokens"],u);const d=c(t,["stopSequences"]);d!=null&&f(o,["stopSequences"],d);const h=c(t,["responseLogprobs"]);h!=null&&f(o,["responseLogprobs"],h);const m=c(t,["logprobs"]);m!=null&&f(o,["logprobs"],m);const g=c(t,["presencePenalty"]);g!=null&&f(o,["presencePenalty"],g);const S=c(t,["frequencyPenalty"]);S!=null&&f(o,["frequencyPenalty"],S);const T=c(t,["seed"]);T!=null&&f(o,["seed"],T);const w=c(t,["responseMimeType"]);w!=null&&f(o,["responseMimeType"],w);const v=c(t,["responseSchema"]);v!=null&&f(o,["responseSchema"],Yd(v));const y=c(t,["responseJsonSchema"]);y!=null&&f(o,["responseJsonSchema"],y);const x=c(t,["routingConfig"]);x!=null&&f(o,["routingConfig"],x);const E=c(t,["modelSelectionConfig"]);E!=null&&f(o,["modelConfig"],E);const k=c(t,["safetySettings"]);if(n!==void 0&&k!=null){let se=k;Array.isArray(se)&&(se=se.map(X=>X)),f(n,["safetySettings"],se)}const C=c(t,["tools"]);if(n!==void 0&&C!=null){let se=Ur(C);Array.isArray(se)&&(se=se.map(X=>Wv(Fr(X)))),f(n,["tools"],se)}const I=c(t,["toolConfig"]);n!==void 0&&I!=null&&f(n,["toolConfig"],I);const _=c(t,["labels"]);n!==void 0&&_!=null&&f(n,["labels"],_);const A=c(t,["cachedContent"]);n!==void 0&&A!=null&&f(n,["cachedContent"],Mn(e,A));const M=c(t,["responseModalities"]);M!=null&&f(o,["responseModalities"],M);const L=c(t,["mediaResolution"]);L!=null&&f(o,["mediaResolution"],L);const ne=c(t,["speechConfig"]);ne!=null&&f(o,["speechConfig"],Xd(ne));const O=c(t,["audioTimestamp"]);O!=null&&f(o,["audioTimestamp"],O);const j=c(t,["thinkingConfig"]);j!=null&&f(o,["thinkingConfig"],j);const le=c(t,["imageConfig"]);if(le!=null&&f(o,["imageConfig"],gI(le)),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Em(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["contents"]);if(r!=null){let s=Gt(r);Array.isArray(s)&&(s=s.map(a=>ea(a))),f(n,["contents"],s)}const i=c(t,["config"]);return i!=null&&f(n,["generationConfig"],Ok(e,i,n)),n}function Cm(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["contents"]);if(r!=null){let s=Gt(r);Array.isArray(s)&&(s=s.map(a=>a)),f(n,["contents"],s)}const i=c(t,["config"]);return i!=null&&f(n,["generationConfig"],$k(e,i,n)),n}function Nm(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["candidates"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>dk(u))),f(t,["candidates"],l)}const r=c(e,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const i=c(e,["promptFeedback"]);i!=null&&f(t,["promptFeedback"],i);const s=c(e,["responseId"]);s!=null&&f(t,["responseId"],s);const a=c(e,["usageMetadata"]);return a!=null&&f(t,["usageMetadata"],a),t}function km(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["candidates"],u)}const r=c(e,["createTime"]);r!=null&&f(t,["createTime"],r);const i=c(e,["modelVersion"]);i!=null&&f(t,["modelVersion"],i);const s=c(e,["promptFeedback"]);s!=null&&f(t,["promptFeedback"],s);const a=c(e,["responseId"]);a!=null&&f(t,["responseId"],a);const l=c(e,["usageMetadata"]);return l!=null&&f(t,["usageMetadata"],l),t}function Hk(e,t){const n={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=c(e,["numberOfImages"]);t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o);const r=c(e,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const i=c(e,["guidanceScale"]);if(t!==void 0&&i!=null&&f(t,["parameters","guidanceScale"],i),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=c(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&f(t,["parameters","safetySetting"],s);const a=c(e,["personGeneration"]);t!==void 0&&a!=null&&f(t,["parameters","personGeneration"],a);const l=c(e,["includeSafetyAttributes"]);t!==void 0&&l!=null&&f(t,["parameters","includeSafetyAttributes"],l);const u=c(e,["includeRaiReason"]);t!==void 0&&u!=null&&f(t,["parameters","includeRaiReason"],u);const d=c(e,["language"]);t!==void 0&&d!=null&&f(t,["parameters","language"],d);const h=c(e,["outputMimeType"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","mimeType"],h);const m=c(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&f(t,["parameters","outputOptions","compressionQuality"],m),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=c(e,["imageSize"]);if(t!==void 0&&g!=null&&f(t,["parameters","sampleImageSize"],g),c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function jk(e,t){const n={},o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&f(t,["parameters","storageUri"],o);const r=c(e,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const i=c(e,["numberOfImages"]);t!==void 0&&i!=null&&f(t,["parameters","sampleCount"],i);const s=c(e,["aspectRatio"]);t!==void 0&&s!=null&&f(t,["parameters","aspectRatio"],s);const a=c(e,["guidanceScale"]);t!==void 0&&a!=null&&f(t,["parameters","guidanceScale"],a);const l=c(e,["seed"]);t!==void 0&&l!=null&&f(t,["parameters","seed"],l);const u=c(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&f(t,["parameters","safetySetting"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=c(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&f(t,["parameters","includeSafetyAttributes"],h);const m=c(e,["includeRaiReason"]);t!==void 0&&m!=null&&f(t,["parameters","includeRaiReason"],m);const g=c(e,["language"]);t!==void 0&&g!=null&&f(t,["parameters","language"],g);const S=c(e,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const T=c(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","compressionQuality"],T);const w=c(e,["addWatermark"]);t!==void 0&&w!=null&&f(t,["parameters","addWatermark"],w);const v=c(e,["labels"]);t!==void 0&&v!=null&&f(t,["labels"],v);const y=c(e,["imageSize"]);t!==void 0&&y!=null&&f(t,["parameters","sampleImageSize"],y);const x=c(e,["enhancePrompt"]);return t!==void 0&&x!=null&&f(t,["parameters","enhancePrompt"],x),n}function qk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const i=c(t,["config"]);return i!=null&&Hk(i,n),n}function Jk(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const i=c(t,["config"]);return i!=null&&jk(i,n),n}function Wk(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>sI(s))),f(t,["generatedImages"],i)}const r=c(e,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],qv(r)),t}function Kk(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>ta(s))),f(t,["generatedImages"],i)}const r=c(e,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],Jv(r)),t}function Yk(e,t){const n={},o=c(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=c(e,["durationSeconds"]);if(t!==void 0&&r!=null&&f(t,["parameters","durationSeconds"],r),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=c(e,["aspectRatio"]);t!==void 0&&i!=null&&f(t,["parameters","aspectRatio"],i);const s=c(e,["resolution"]);t!==void 0&&s!=null&&f(t,["parameters","resolution"],s);const a=c(e,["personGeneration"]);if(t!==void 0&&a!=null&&f(t,["parameters","personGeneration"],a),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=c(e,["negativePrompt"]);t!==void 0&&l!=null&&f(t,["parameters","negativePrompt"],l);const u=c(e,["enhancePrompt"]);if(t!==void 0&&u!=null&&f(t,["parameters","enhancePrompt"],u),c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=c(e,["lastFrame"]);t!==void 0&&d!=null&&f(t,["instances[0]","lastFrame"],na(d));const h=c(e,["referenceImages"]);if(t!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>QI(g))),f(t,["instances[0]","referenceImages"],m)}if(c(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Xk(e,t){const n={},o=c(e,["numberOfVideos"]);t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o);const r=c(e,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const i=c(e,["fps"]);t!==void 0&&i!=null&&f(t,["parameters","fps"],i);const s=c(e,["durationSeconds"]);t!==void 0&&s!=null&&f(t,["parameters","durationSeconds"],s);const a=c(e,["seed"]);t!==void 0&&a!=null&&f(t,["parameters","seed"],a);const l=c(e,["aspectRatio"]);t!==void 0&&l!=null&&f(t,["parameters","aspectRatio"],l);const u=c(e,["resolution"]);t!==void 0&&u!=null&&f(t,["parameters","resolution"],u);const d=c(e,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=c(e,["pubsubTopic"]);t!==void 0&&h!=null&&f(t,["parameters","pubsubTopic"],h);const m=c(e,["negativePrompt"]);t!==void 0&&m!=null&&f(t,["parameters","negativePrompt"],m);const g=c(e,["enhancePrompt"]);t!==void 0&&g!=null&&f(t,["parameters","enhancePrompt"],g);const S=c(e,["generateAudio"]);t!==void 0&&S!=null&&f(t,["parameters","generateAudio"],S);const T=c(e,["lastFrame"]);t!==void 0&&T!=null&&f(t,["instances[0]","lastFrame"],sn(T));const w=c(e,["referenceImages"]);if(t!==void 0&&w!=null){let x=w;Array.isArray(x)&&(x=x.map(E=>ZI(E))),f(t,["instances[0]","referenceImages"],x)}const v=c(e,["mask"]);t!==void 0&&v!=null&&f(t,["instances[0]","mask"],XI(v));const y=c(e,["compressionQuality"]);return t!==void 0&&y!=null&&f(t,["parameters","compressionQuality"],y),n}function Qk(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const i=c(e,["error"]);i!=null&&f(t,["error"],i);const s=c(e,["response","generateVideoResponse"]);return s!=null&&f(t,["response"],nI(s)),t}function Zk(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const i=c(e,["error"]);i!=null&&f(t,["error"],i);const s=c(e,["response"]);return s!=null&&f(t,["response"],oI(s)),t}function eI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const i=c(t,["image"]);i!=null&&f(n,["instances[0]","image"],na(i));const s=c(t,["video"]);s!=null&&f(n,["instances[0]","video"],Kv(s));const a=c(t,["source"]);a!=null&&rI(a,n);const l=c(t,["config"]);return l!=null&&Yk(l,n),n}function tI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["prompt"]);r!=null&&f(n,["instances[0]","prompt"],r);const i=c(t,["image"]);i!=null&&f(n,["instances[0]","image"],sn(i));const s=c(t,["video"]);s!=null&&f(n,["instances[0]","video"],Yv(s));const a=c(t,["source"]);a!=null&&iI(a,n);const l=c(t,["config"]);return l!=null&&Xk(l,n),n}function nI(e){const t={},n=c(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>aI(s))),f(t,["generatedVideos"],i)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function oI(e){const t={},n=c(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>uI(s))),f(t,["generatedVideos"],i)}const o=c(e,["raiMediaFilteredCount"]);o!=null&&f(t,["raiMediaFilteredCount"],o);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function rI(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const r=c(e,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],na(r));const i=c(e,["video"]);return t!==void 0&&i!=null&&f(t,["instances[0]","video"],Kv(i)),n}function iI(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const r=c(e,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],sn(r));const i=c(e,["video"]);return t!==void 0&&i!=null&&f(t,["instances[0]","video"],Yv(i)),n}function sI(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["image"],yI(n));const o=c(e,["raiFilteredReason"]);o!=null&&f(t,["raiFilteredReason"],o);const r=c(e,["_self"]);return r!=null&&f(t,["safetyAttributes"],qv(r)),t}function ta(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["image"],jv(n));const o=c(e,["raiFilteredReason"]);o!=null&&f(t,["raiFilteredReason"],o);const r=c(e,["_self"]);r!=null&&f(t,["safetyAttributes"],Jv(r));const i=c(e,["prompt"]);return i!=null&&f(t,["enhancedPrompt"],i),t}function lI(e){const t={},n=c(e,["_self"]);n!=null&&f(t,["mask"],jv(n));const o=c(e,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),f(t,["labels"],r)}return t}function aI(e){const t={},n=c(e,["video"]);return n!=null&&f(t,["video"],KI(n)),t}function uI(e){const t={},n=c(e,["_self"]);return n!=null&&f(t,["video"],YI(n)),t}function cI(e){const t={},n=c(e,["modelSelectionConfig"]);n!=null&&f(t,["modelConfig"],n);const o=c(e,["responseJsonSchema"]);o!=null&&f(t,["responseJsonSchema"],o);const r=c(e,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const i=c(e,["candidateCount"]);i!=null&&f(t,["candidateCount"],i);const s=c(e,["enableAffectiveDialog"]);s!=null&&f(t,["enableAffectiveDialog"],s);const a=c(e,["frequencyPenalty"]);a!=null&&f(t,["frequencyPenalty"],a);const l=c(e,["logprobs"]);l!=null&&f(t,["logprobs"],l);const u=c(e,["maxOutputTokens"]);u!=null&&f(t,["maxOutputTokens"],u);const d=c(e,["mediaResolution"]);d!=null&&f(t,["mediaResolution"],d);const h=c(e,["presencePenalty"]);h!=null&&f(t,["presencePenalty"],h);const m=c(e,["responseLogprobs"]);m!=null&&f(t,["responseLogprobs"],m);const g=c(e,["responseMimeType"]);g!=null&&f(t,["responseMimeType"],g);const S=c(e,["responseModalities"]);S!=null&&f(t,["responseModalities"],S);const T=c(e,["responseSchema"]);T!=null&&f(t,["responseSchema"],T);const w=c(e,["routingConfig"]);w!=null&&f(t,["routingConfig"],w);const v=c(e,["seed"]);v!=null&&f(t,["seed"],v);const y=c(e,["speechConfig"]);y!=null&&f(t,["speechConfig"],y);const x=c(e,["stopSequences"]);x!=null&&f(t,["stopSequences"],x);const E=c(e,["temperature"]);E!=null&&f(t,["temperature"],E);const k=c(e,["thinkingConfig"]);k!=null&&f(t,["thinkingConfig"],k);const C=c(e,["topK"]);C!=null&&f(t,["topK"],C);const I=c(e,["topP"]);if(I!=null&&f(t,["topP"],I),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function dI(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],he(e,o)),n}function fI(e,t){const n={},o=c(t,["model"]);return o!=null&&f(n,["_url","name"],he(e,o)),n}function pI(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function hI(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function mI(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const o=c(e,["imageSize"]);if(o!=null&&f(t,["imageSize"],o),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function gI(e){const t={},n=c(e,["aspectRatio"]);n!=null&&f(t,["aspectRatio"],n);const o=c(e,["imageSize"]);o!=null&&f(t,["imageSize"],o);const r=c(e,["outputMimeType"]);r!=null&&f(t,["imageOutputOptions","mimeType"],r);const i=c(e,["outputCompressionQuality"]);return i!=null&&f(t,["imageOutputOptions","compressionQuality"],i),t}function yI(e){const t={},n=c(e,["bytesBase64Encoded"]);n!=null&&f(t,["imageBytes"],so(n));const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function jv(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["gcsUri"],n);const o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["imageBytes"],so(o));const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function na(e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(e,["imageBytes"]);n!=null&&f(t,["bytesBase64Encoded"],so(n));const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function sn(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["gcsUri"],n);const o=c(e,["imageBytes"]);o!=null&&f(t,["bytesBase64Encoded"],so(o));const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function vI(e,t,n){const o={},r=c(t,["pageSize"]);n!==void 0&&r!=null&&f(n,["_query","pageSize"],r);const i=c(t,["pageToken"]);n!==void 0&&i!=null&&f(n,["_query","pageToken"],i);const s=c(t,["filter"]);n!==void 0&&s!=null&&f(n,["_query","filter"],s);const a=c(t,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],Vv(e,a)),o}function xI(e,t,n){const o={},r=c(t,["pageSize"]);n!==void 0&&r!=null&&f(n,["_query","pageSize"],r);const i=c(t,["pageToken"]);n!==void 0&&i!=null&&f(n,["_query","pageToken"],i);const s=c(t,["filter"]);n!==void 0&&s!=null&&f(n,["_query","filter"],s);const a=c(t,["queryBase"]);return n!==void 0&&a!=null&&f(n,["_url","models_url"],Vv(e,a)),o}function SI(e,t){const n={},o=c(t,["config"]);return o!=null&&vI(e,o,n),n}function TI(e,t){const n={},o=c(t,["config"]);return o!=null&&xI(e,o,n),n}function wI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const r=c(e,["_self"]);if(r!=null){let i=Gv(r);Array.isArray(i)&&(i=i.map(s=>lc(s))),f(t,["models"],i)}return t}function EI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const r=c(e,["_self"]);if(r!=null){let i=Gv(r);Array.isArray(i)&&(i=i.map(s=>ac(s))),f(t,["models"],i)}return t}function CI(e){const t={},n=c(e,["maskMode"]);n!=null&&f(t,["maskMode"],n);const o=c(e,["segmentationClasses"]);o!=null&&f(t,["maskClasses"],o);const r=c(e,["maskDilation"]);return r!=null&&f(t,["dilation"],r),t}function lc(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const r=c(e,["description"]);r!=null&&f(t,["description"],r);const i=c(e,["version"]);i!=null&&f(t,["version"],i);const s=c(e,["_self"]);s!=null&&f(t,["tunedModelInfo"],BI(s));const a=c(e,["inputTokenLimit"]);a!=null&&f(t,["inputTokenLimit"],a);const l=c(e,["outputTokenLimit"]);l!=null&&f(t,["outputTokenLimit"],l);const u=c(e,["supportedGenerationMethods"]);u!=null&&f(t,["supportedActions"],u);const d=c(e,["temperature"]);d!=null&&f(t,["temperature"],d);const h=c(e,["maxTemperature"]);h!=null&&f(t,["maxTemperature"],h);const m=c(e,["topP"]);m!=null&&f(t,["topP"],m);const g=c(e,["topK"]);g!=null&&f(t,["topK"],g);const S=c(e,["thinking"]);return S!=null&&f(t,["thinking"],S),t}function ac(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const r=c(e,["description"]);r!=null&&f(t,["description"],r);const i=c(e,["versionId"]);i!=null&&f(t,["version"],i);const s=c(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>Uk(m))),f(t,["endpoints"],h)}const a=c(e,["labels"]);a!=null&&f(t,["labels"],a);const l=c(e,["_self"]);l!=null&&f(t,["tunedModelInfo"],zI(l));const u=c(e,["defaultCheckpointId"]);u!=null&&f(t,["defaultCheckpointId"],u);const d=c(e,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),f(t,["checkpoints"],h)}return t}function NI(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const r=c(e,["executableCode"]);r!=null&&f(t,["executableCode"],r);const i=c(e,["fileData"]);i!=null&&f(t,["fileData"],Vk(i));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],Gk(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],ck(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const m=c(e,["videoMetadata"]);return m!=null&&f(t,["videoMetadata"],m),t}function kI(e){const t={},n=c(e,["productImage"]);return n!=null&&f(t,["image"],sn(n)),t}function II(e,t){const n={},o=c(e,["numberOfImages"]);t!==void 0&&o!=null&&f(t,["parameters","sampleCount"],o);const r=c(e,["baseSteps"]);t!==void 0&&r!=null&&f(t,["parameters","baseSteps"],r);const i=c(e,["outputGcsUri"]);t!==void 0&&i!=null&&f(t,["parameters","storageUri"],i);const s=c(e,["seed"]);t!==void 0&&s!=null&&f(t,["parameters","seed"],s);const a=c(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&f(t,["parameters","safetySetting"],a);const l=c(e,["personGeneration"]);t!==void 0&&l!=null&&f(t,["parameters","personGeneration"],l);const u=c(e,["addWatermark"]);t!==void 0&&u!=null&&f(t,["parameters","addWatermark"],u);const d=c(e,["outputMimeType"]);t!==void 0&&d!=null&&f(t,["parameters","outputOptions","mimeType"],d);const h=c(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","compressionQuality"],h);const m=c(e,["enhancePrompt"]);t!==void 0&&m!=null&&f(t,["parameters","enhancePrompt"],m);const g=c(e,["labels"]);return t!==void 0&&g!=null&&f(t,["labels"],g),n}function _I(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["source"]);r!=null&&AI(r,n);const i=c(t,["config"]);return i!=null&&II(i,n),n}function bI(e){const t={},n=c(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>ta(r))),f(t,["generatedImages"],o)}return t}function AI(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const r=c(e,["personImage"]);t!==void 0&&r!=null&&f(t,["instances[0]","personImage","image"],sn(r));const i=c(e,["productImages"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>kI(a))),f(t,["instances[0]","productImages"],s)}return n}function PI(e){const t={},n=c(e,["referenceImage"]);n!=null&&f(t,["referenceImage"],sn(n));const o=c(e,["referenceId"]);o!=null&&f(t,["referenceId"],o);const r=c(e,["referenceType"]);r!=null&&f(t,["referenceType"],r);const i=c(e,["maskImageConfig"]);i!=null&&f(t,["maskImageConfig"],CI(i));const s=c(e,["controlImageConfig"]);s!=null&&f(t,["controlImageConfig"],yk(s));const a=c(e,["styleImageConfig"]);a!=null&&f(t,["styleImageConfig"],a);const l=c(e,["subjectImageConfig"]);return l!=null&&f(t,["subjectImageConfig"],l),t}function qv(e){const t={},n=c(e,["safetyAttributes","categories"]);n!=null&&f(t,["categories"],n);const o=c(e,["safetyAttributes","scores"]);o!=null&&f(t,["scores"],o);const r=c(e,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function Jv(e){const t={},n=c(e,["safetyAttributes","categories"]);n!=null&&f(t,["categories"],n);const o=c(e,["safetyAttributes","scores"]);o!=null&&f(t,["scores"],o);const r=c(e,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function RI(e){const t={},n=c(e,["category"]);if(n!=null&&f(t,["category"],n),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(e,["threshold"]);return o!=null&&f(t,["threshold"],o),t}function MI(e){const t={},n=c(e,["image"]);return n!=null&&f(t,["image"],sn(n)),t}function DI(e,t){const n={},o=c(e,["mode"]);t!==void 0&&o!=null&&f(t,["parameters","mode"],o);const r=c(e,["maxPredictions"]);t!==void 0&&r!=null&&f(t,["parameters","maxPredictions"],r);const i=c(e,["confidenceThreshold"]);t!==void 0&&i!=null&&f(t,["parameters","confidenceThreshold"],i);const s=c(e,["maskDilation"]);t!==void 0&&s!=null&&f(t,["parameters","maskDilation"],s);const a=c(e,["binaryColorThreshold"]);t!==void 0&&a!=null&&f(t,["parameters","binaryColorThreshold"],a);const l=c(e,["labels"]);return t!==void 0&&l!=null&&f(t,["labels"],l),n}function LI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["source"]);r!=null&&UI(r,n);const i=c(t,["config"]);return i!=null&&DI(i,n),n}function FI(e){const t={},n=c(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>lI(r))),f(t,["generatedMasks"],o)}return t}function UI(e,t){const n={},o=c(e,["prompt"]);t!==void 0&&o!=null&&f(t,["instances[0]","prompt"],o);const r=c(e,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],sn(r));const i=c(e,["scribbleImage"]);return t!==void 0&&i!=null&&f(t,["instances[0]","scribble"],MI(i)),n}function VI(e){const t={},n=c(e,["functionCallingConfig"]);n!=null&&f(t,["functionCallingConfig"],Bk(n));const o=c(e,["retrievalConfig"]);return o!=null&&f(t,["retrievalConfig"],o),t}function GI(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const r=c(e,["computerUse"]);r!=null&&f(t,["computerUse"],r);const i=c(e,["fileSearch"]);i!=null&&f(t,["fileSearch"],i);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],pI(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],hI(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}function Wv(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>zk(m))),f(t,["functionDeclarations"],h)}const o=c(e,["retrieval"]);o!=null&&f(t,["retrieval"],o);const r=c(e,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const i=c(e,["computerUse"]);if(i!=null&&f(t,["computerUse"],i),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(e,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const a=c(e,["enterpriseWebSearch"]);a!=null&&f(t,["enterpriseWebSearch"],a);const l=c(e,["googleMaps"]);l!=null&&f(t,["googleMaps"],l);const u=c(e,["googleSearch"]);u!=null&&f(t,["googleSearch"],u);const d=c(e,["urlContext"]);return d!=null&&f(t,["urlContext"],d),t}function BI(e){const t={},n=c(e,["baseModel"]);n!=null&&f(t,["baseModel"],n);const o=c(e,["createTime"]);o!=null&&f(t,["createTime"],o);const r=c(e,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function zI(e){const t={},n=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(t,["baseModel"],n);const o=c(e,["createTime"]);o!=null&&f(t,["createTime"],o);const r=c(e,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function OI(e,t){const n={},o=c(e,["displayName"]);t!==void 0&&o!=null&&f(t,["displayName"],o);const r=c(e,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const i=c(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&f(t,["defaultCheckpointId"],i),n}function $I(e,t){const n={},o=c(e,["displayName"]);t!==void 0&&o!=null&&f(t,["displayName"],o);const r=c(e,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const i=c(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&f(t,["defaultCheckpointId"],i),n}function HI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","name"],he(e,o));const r=c(t,["config"]);return r!=null&&OI(r,n),n}function jI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["config"]);return r!=null&&$I(r,n),n}function qI(e,t){const n={},o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&f(t,["parameters","storageUri"],o);const r=c(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&f(t,["parameters","safetySetting"],r);const i=c(e,["personGeneration"]);t!==void 0&&i!=null&&f(t,["parameters","personGeneration"],i);const s=c(e,["includeRaiReason"]);t!==void 0&&s!=null&&f(t,["parameters","includeRaiReason"],s);const a=c(e,["outputMimeType"]);t!==void 0&&a!=null&&f(t,["parameters","outputOptions","mimeType"],a);const l=c(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&f(t,["parameters","outputOptions","compressionQuality"],l);const u=c(e,["enhanceInputImage"]);t!==void 0&&u!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],u);const d=c(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=c(e,["labels"]);t!==void 0&&h!=null&&f(t,["labels"],h);const m=c(e,["numberOfImages"]);t!==void 0&&m!=null&&f(t,["parameters","sampleCount"],m);const g=c(e,["mode"]);return t!==void 0&&g!=null&&f(t,["parameters","mode"],g),n}function JI(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["_url","model"],he(e,o));const r=c(t,["image"]);r!=null&&f(n,["instances[0]","image"],sn(r));const i=c(t,["upscaleFactor"]);i!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=c(t,["config"]);return s!=null&&qI(s,n),n}function WI(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>ta(i))),f(t,["generatedImages"],r)}return t}function KI(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const o=c(e,["encodedVideo"]);o!=null&&f(t,["videoBytes"],so(o));const r=c(e,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function YI(e){const t={},n=c(e,["gcsUri"]);n!=null&&f(t,["uri"],n);const o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["videoBytes"],so(o));const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function XI(e){const t={},n=c(e,["image"]);n!=null&&f(t,["_self"],sn(n));const o=c(e,["maskMode"]);return o!=null&&f(t,["maskMode"],o),t}function QI(e){const t={},n=c(e,["image"]);n!=null&&f(t,["image"],na(n));const o=c(e,["referenceType"]);return o!=null&&f(t,["referenceType"],o),t}function ZI(e){const t={},n=c(e,["image"]);n!=null&&f(t,["image"],sn(n));const o=c(e,["referenceType"]);return o!=null&&f(t,["referenceType"],o),t}function Kv(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["uri"],n);const o=c(e,["videoBytes"]);o!=null&&f(t,["encodedVideo"],so(o));const r=c(e,["mimeType"]);return r!=null&&f(t,["encoding"],r),t}function Yv(e){const t={},n=c(e,["uri"]);n!=null&&f(t,["gcsUri"],n);const o=c(e,["videoBytes"]);o!=null&&f(t,["bytesBase64Encoded"],so(o));const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_(e,t){const n={},o=c(e,["displayName"]);return t!==void 0&&o!=null&&f(t,["displayName"],o),n}function t_(e){const t={},n=c(e,["config"]);return n!=null&&e_(n,t),t}function n_(e,t){const n={},o=c(e,["force"]);return t!==void 0&&o!=null&&f(t,["_query","force"],o),n}function o_(e){const t={},n=c(e,["name"]);n!=null&&f(t,["_url","name"],n);const o=c(e,["config"]);return o!=null&&n_(o,t),t}function r_(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","name"],n),t}function i_(e,t){const n={},o=c(e,["customMetadata"]);if(t!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),f(t,["customMetadata"],i)}const r=c(e,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),n}function s_(e){const t={},n=c(e,["name"]);n!=null&&f(t,["name"],n);const o=c(e,["metadata"]);o!=null&&f(t,["metadata"],o);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const i=c(e,["error"]);i!=null&&f(t,["error"],i);const s=c(e,["response"]);return s!=null&&f(t,["response"],a_(s)),t}function l_(e){const t={},n=c(e,["fileSearchStoreName"]);n!=null&&f(t,["_url","file_search_store_name"],n);const o=c(e,["fileName"]);o!=null&&f(t,["fileName"],o);const r=c(e,["config"]);return r!=null&&i_(r,t),t}function a_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["parent"]);o!=null&&f(t,["parent"],o);const r=c(e,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function u_(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),n}function c_(e){const t={},n=c(e,["config"]);return n!=null&&u_(n,t),t}function d_(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const r=c(e,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),f(t,["fileSearchStores"],i)}return t}function Xv(e,t){const n={},o=c(e,["mimeType"]);t!==void 0&&o!=null&&f(t,["mimeType"],o);const r=c(e,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const i=c(e,["customMetadata"]);if(t!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),f(t,["customMetadata"],a)}const s=c(e,["chunkingConfig"]);return t!==void 0&&s!=null&&f(t,["chunkingConfig"],s),n}function f_(e){const t={},n=c(e,["fileSearchStoreName"]);n!=null&&f(t,["_url","file_search_store_name"],n);const o=c(e,["config"]);return o!=null&&Xv(o,t),t}function p_(e){const t={},n=c(e,["sdkHttpResponse"]);return n!=null&&f(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h_="Content-Type",m_="X-Server-Timeout",g_="User-Agent",uc="x-goog-api-client",y_="1.34.0",v_=`google-genai-sdk/${y_}`,x_="v1beta1",S_="v1beta";class T_{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:x_,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:S_,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[s,a]of Object.entries(t.queryParams))r.searchParams.append(s,String(a));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,r){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),t.signal=s}return n&&n.extraBody!==null&&w_(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Im(r),new rc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Im(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return nn(this,arguments,function*(){var o;const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield ie(r.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=i.decode(d,{stream:!0});try{const S=JSON.parse(h);if("error"in S){const T=JSON.parse(JSON.stringify(S.error)),w=T.status,v=T.code,y=`got status: ${w}. ${JSON.stringify(S)}`;if(v>=400&&v<600)throw new Zl({message:y,status:v})}}catch(S){if(S.name==="ApiError")throw S}s+=h;let m=-1,g=0;for(;;){m=-1,g=0;for(const w of l){const v=s.indexOf(w);v!==-1&&(m===-1||v<m)&&(m=v,g=w.length)}if(m===-1)break;const S=s.substring(0,m);s=s.substring(m+g);const T=S.trim();if(T.startsWith(a)){const w=T.substring(a.length).trim();try{const v=new Response(w,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ie(new rc(v))}catch(v){throw new Error(`exception parsing stream chunk ${w}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=v_+" "+this.clientOptions.userAgentExtra;return t[g_]=n,t[uc]=n,t[h_]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[r,i]of Object.entries(t.headers))o.append(r,i);t.timeout&&t.timeout>0&&o.append(m_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,s=await i.stat(t);r.sizeBytes=String(s.size);const a=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const l={file:r},u=this.getFileName(t),d=V("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,r.sizeBytes,r.mimeType,u,l,n==null?void 0:n.httpOptions);return i.upload(t,h,this)}async uploadFileToFileSearchStore(t,n,o){var r;const i=this.clientOptions.uploader,s=await i.stat(n),a=String(s.size),l=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),h={};o!=null&&Xv(o,h);const m=await this.fetchUploadUrl(u,a,l,d,h,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,m,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,r,i,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const u=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function Im(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new Zl({message:r,status:n}):new Error(r)}}function w_(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,s){const a=Object.assign({},i);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],d=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?a[l]=o(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const r=o(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E_="mcp_used/unknown";let C_=!1;function Qv(e){for(const t of e)if(N_(t)||typeof t=="object"&&"inputSchema"in t)return!0;return C_}function Zv(e){var t;const n=(t=e[uc])!==null&&t!==void 0?t:"";e[uc]=(n+` ${E_}`).trimStart()}function N_(e){return e!==null&&typeof e=="object"&&e instanceof Zd}function k_(e){return nn(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const s=yield ie(n.listTools({cursor:r}));for(const a of s.tools)yield yield ie(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class Zd{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Zd(t,n)}async initialize(){var t,n,o,r;if(this.mcpTools.length>0)return;const i={},s=[];for(const d of this.mcpClients)try{for(var a=!0,l=(n=void 0,on(k_(d))),u;u=await l.next(),t=u.done,!t;a=!0){r=u.value,a=!1;const h=r;s.push(h);const m=h.name;if(i[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);i[m]=d}}catch(h){n={error:h}}finally{try{!a&&!t&&(o=l.return)&&await o.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),rC(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function I_(e,t,n){const o=new YE;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),t(o)}class __{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=P_(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const d=new Promise(x=>{u=x}),h=t.callbacks,m=function(){u({})},g=this.apiClient,S={onopen:m,onmessage:x=>{I_(g,h.onmessage,x)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(x){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(x){}},T=this.webSocketFactory.create(l,A_(s),S);T.connect(),await d;const y={setup:{model:he(this.apiClient,t.model)}};return T.send(JSON.stringify(y)),new b_(T,this.apiClient)}}class b_{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=tk(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=ek(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(sr.PLAY)}pause(){this.sendPlaybackControl(sr.PAUSE)}stop(){this.sendPlaybackControl(sr.STOP)}resetContext(){this.sendPlaybackControl(sr.RESET_CONTEXT)}close(){this.conn.close()}}function A_(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function P_(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function M_(e,t,n){const o=new KE;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(e.isVertexAI()){const s=rk(i);Object.assign(o,s)}else Object.assign(o,i);t(o)}class D_{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new __(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,r,i,s,a;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&Qv(t.config.tools)&&Zv(h);const m=V_(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,d);else{const A=this.apiClient.getApiKey();let M="BidiGenerateContent",L="key";A!=null&&A.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",L="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${M}?${L}=${A}`}let g=()=>{};const S=new Promise(A=>{g=A}),T=t.callbacks,w=function(){var A;(A=T==null?void 0:T.onopen)===null||A===void 0||A.call(T),g({})},v=this.apiClient,y={onopen:w,onmessage:A=>{M_(v,T.onmessage,A)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(A){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(A){}},x=this.webSocketFactory.create(d,U_(m),y);x.connect(),await S;let E=he(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const A=this.apiClient.getProject(),M=this.apiClient.getLocation();E=`projects/${A}/locations/${M}/`+E}let k={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Tl.AUDIO]}:t.config.responseModalities=[Tl.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(a=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],I=[];for(const A of C)if(this.isCallableTool(A)){const M=A;I.push(await M.tool())}else I.push(A);I.length>0&&(t.config.tools=I);const _={model:E,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?k=ZN(this.apiClient,_):k=QN(this.apiClient,_),delete k.config,x.send(JSON.stringify(k)),new F_(x,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const L_={turnComplete:!0};class F_{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Gt(n.turns),t.isVertexAI()||(o=o.map(r=>ea(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(R_)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},L_),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ok(t)}:n={realtimeInput:nk(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function U_(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function V_(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _m=10;function bm(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Tr(s)){r=!0;break}if(!r)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Tr(e){return"callTool"in e&&typeof e.callTool=="function"}function G_(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>Tr(r)))!==null&&o!==void 0?o:!1}function Am(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,r)=>{if(Tr(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function Pm(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B_ extends Rn{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,r,i,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!G_(n)||bm(n.config))return await this.generateContentInternal(l);const u=Am(n);if(u.length>0){const T=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let d,h;const m=Gt(l.contents),g=(i=(r=(o=l.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:_m;let S=0;for(;S<g&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const T=d.candidates[0].content,w=[];for(const v of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Tr(v)){const x=await v.callTool(d.functionCalls);w.push(...x)}S++,h={role:"user",parts:w},l.contents=Gt(l.contents),l.contents.push(T),l.contents.push(h),Pm(l.config)&&(m.push(T),m.push(h))}return Pm(l.config)&&(d.automaticFunctionCallingHistory=m),d},this.generateContentStream=async n=>{var o,r,i,s,a;if(this.maybeMoveToResponseJsonSchem(n),bm(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const l=Am(n);if(l.length>0){const h=l.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,d=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const s=[];if(o!=null&&o.generatedImages)for(const l of o.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=l==null?void 0:l.safetyAttributes:s.push(l);let a;return i?a={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},a}),this.list=async n=>{var o;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new zo(_n.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,r;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const s=await Promise.all(i.map(async l=>Tr(l)?await l.tool():l)),a={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(a.config.tools=s,t.config&&t.config.tools&&Qv(t.config.tools)){const l=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Zv(u),a.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(t){var n,o,r;const i=new Map;for(const s of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Tr(s)){const a=s,l=await a.tool();for(const u of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!u.name)throw new Error("Function declaration name is required.");if(i.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);i.set(u.name,a)}}return i}async processAfcStream(t){var n,o,r;const i=(r=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:_m;let s=!1,a=0;const l=await this.initAfcToolsMap(t);return function(u,d,h){return nn(this,arguments,function*(){for(var m,g,S,T,w,v;a<i;){s&&(a++,s=!1);const k=yield ie(u.processParamsMaybeAddMcpUsage(h)),C=yield ie(u.generateContentStreamInternal(k)),I=[],_=[];try{for(var y=!0,x=(g=void 0,on(C)),E;E=yield ie(x.next()),m=E.done,!m;y=!0){T=E.value,y=!1;const A=T;if(yield yield ie(A),A.candidates&&(!((w=A.candidates[0])===null||w===void 0)&&w.content)){_.push(A.candidates[0].content);for(const M of(v=A.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(a<i&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(M.functionCall.name)){const L=yield ie(d.get(M.functionCall.name).callTool([M.functionCall]));I.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(A){g={error:A}}finally{try{!y&&!m&&(S=x.return)&&(yield ie(S.call(x)))}finally{if(g)throw g.error}}if(I.length>0){s=!0;const A=new Xr;A.candidates=[{content:{role:"user",parts:I}}],yield yield ie(A);const M=[];M.push(..._),M.push({role:"user",parts:I});const L=Gt(h.contents).concat(M);h.contents=L}else break}})}(this,l,t)}async generateContentInternal(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Cm(this.apiClient,t);return a=V("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=km(d),m=new Xr;return Object.assign(m,h),m})}else{const u=Em(this.apiClient,t);return a=V("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Nm(d),m=new Xr;return Object.assign(m,h),m})}}async generateContentStreamInternal(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Cm(this.apiClient,t);return a=V("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(h){return nn(this,arguments,function*(){var m,g,S,T;try{for(var w=!0,v=on(h),y;y=yield ie(v.next()),m=y.done,!m;w=!0){T=y.value,w=!1;const x=T,E=km(yield ie(x.json()));E.sdkHttpResponse={headers:x.headers};const k=new Xr;Object.assign(k,E),yield yield ie(k)}}catch(x){g={error:x}}finally{try{!w&&!m&&(S=v.return)&&(yield ie(S.call(v)))}finally{if(g)throw g.error}}})})}else{const u=Em(this.apiClient,t);return a=V("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(h){return nn(this,arguments,function*(){var m,g,S,T;try{for(var w=!0,v=on(h),y;y=yield ie(v.next()),m=y.done,!m;w=!0){T=y.value,w=!1;const x=T,E=Nm(yield ie(x.json()));E.sdkHttpResponse={headers:x.headers};const k=new Xr;Object.assign(k,E),yield yield ie(k)}}catch(x){g={error:x}}finally{try{!w&&!m&&(S=v.return)&&(yield ie(S.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Dk(this.apiClient,t);return a=V("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Fk(d),m=new sm;return Object.assign(m,h),m})}else{const u=Mk(this.apiClient,t);return a=V("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Lk(d),m=new sm;return Object.assign(m,h),m})}}async generateImagesInternal(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Jk(this.apiClient,t);return a=V("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Kk(d),m=new lm;return Object.assign(m,h),m})}else{const u=qk(this.apiClient,t);return a=V("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Wk(d),m=new lm;return Object.assign(m,h),m})}}async editImageInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=bk(this.apiClient,t);return i=V("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Ak(l),d=new VE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=JI(this.apiClient,t);return i=V("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=WI(l),d=new GE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=_I(this.apiClient,t);return i=V("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>{const u=bI(l),d=new BE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=LI(this.apiClient,t);return i=V("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>{const u=FI(l),d=new zE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=fI(this.apiClient,t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>ac(d))}else{const u=dI(this.apiClient,t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>lc(d))}}async listInternal(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=TI(this.apiClient,t);return a=V("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=EI(d),m=new am;return Object.assign(m,h),m})}else{const u=SI(this.apiClient,t);return a=V("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=wI(d),m=new am;return Object.assign(m,h),m})}}async update(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jI(this.apiClient,t);return a=V("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>ac(d))}else{const u=HI(this.apiClient,t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>lc(d))}}async delete(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Nk(this.apiClient,t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Ik(d),m=new um;return Object.assign(m,h),m})}else{const u=Ck(this.apiClient,t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=kk(d),m=new um;return Object.assign(m,h),m})}}async countTokens(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Tk(this.apiClient,t);return a=V("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Ek(d),m=new cm;return Object.assign(m,h),m})}else{const u=Sk(this.apiClient,t);return a=V("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=wk(d),m=new cm;return Object.assign(m,h),m})}}async computeTokens(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=pk(this.apiClient,t);return i=V("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=hk(l),d=new OE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tI(this.apiClient,t);return a=V("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const h=Zk(d),m=new wl;return Object.assign(m,h),m})}else{const u=eI(this.apiClient,t);return a=V("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const h=Qk(d),m=new wl;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z_ extends Rn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=RE(t);return a=V("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s}else{const u=PE(t);return a=V("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=CE(t);return i=V("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O_(e){const t={},n=c(e,["data"]);if(n!=null&&f(t,["data"],n),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function $_(e){const t={},n=c(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Q_(i))),f(t,["parts"],r)}const o=c(e,["role"]);return o!=null&&f(t,["role"],o),t}function H_(e,t,n){const o={},r=c(t,["expireTime"]);n!==void 0&&r!=null&&f(n,["expireTime"],r);const i=c(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&f(n,["newSessionExpireTime"],i);const s=c(t,["uses"]);n!==void 0&&s!=null&&f(n,["uses"],s);const a=c(t,["liveConnectConstraints"]);n!==void 0&&a!=null&&f(n,["bidiGenerateContentSetup"],X_(e,a));const l=c(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&f(n,["fieldMask"],l),o}function j_(e,t){const n={},o=c(t,["config"]);return o!=null&&f(n,["config"],H_(e,o,n)),n}function q_(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(e,["fileUri"]);n!=null&&f(t,["fileUri"],n);const o=c(e,["mimeType"]);return o!=null&&f(t,["mimeType"],o),t}function J_(e){const t={},n=c(e,["id"]);n!=null&&f(t,["id"],n);const o=c(e,["args"]);o!=null&&f(t,["args"],o);const r=c(e,["name"]);if(r!=null&&f(t,["name"],r),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function W_(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(e,["enableWidget"]);return n!=null&&f(t,["enableWidget"],n),t}function K_(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(e,["timeRangeFilter"]);return n!=null&&f(t,["timeRangeFilter"],n),t}function Y_(e,t){const n={},o=c(e,["generationConfig"]);t!==void 0&&o!=null&&f(t,["setup","generationConfig"],o);const r=c(e,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const i=c(e,["temperature"]);t!==void 0&&i!=null&&f(t,["setup","generationConfig","temperature"],i);const s=c(e,["topP"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","topP"],s);const a=c(e,["topK"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","topK"],a);const l=c(e,["maxOutputTokens"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","maxOutputTokens"],l);const u=c(e,["mediaResolution"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","mediaResolution"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","seed"],d);const h=c(e,["speechConfig"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","speechConfig"],Qd(h));const m=c(e,["thinkingConfig"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","thinkingConfig"],m);const g=c(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],g);const S=c(e,["systemInstruction"]);t!==void 0&&S!=null&&f(t,["setup","systemInstruction"],$_(ot(S)));const T=c(e,["tools"]);if(t!==void 0&&T!=null){let C=Ur(T);Array.isArray(C)&&(C=C.map(I=>eb(Fr(I)))),f(t,["setup","tools"],C)}const w=c(e,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],Z_(w));const v=c(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&f(t,["setup","inputAudioTranscription"],v);const y=c(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&f(t,["setup","outputAudioTranscription"],y);const x=c(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&f(t,["setup","realtimeInputConfig"],x);const E=c(e,["contextWindowCompression"]);t!==void 0&&E!=null&&f(t,["setup","contextWindowCompression"],E);const k=c(e,["proactivity"]);if(t!==void 0&&k!=null&&f(t,["setup","proactivity"],k),c(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function X_(e,t){const n={},o=c(t,["model"]);o!=null&&f(n,["setup","model"],he(e,o));const r=c(t,["config"]);return r!=null&&f(n,["config"],Y_(r,n)),n}function Q_(e){const t={},n=c(e,["mediaResolution"]);n!=null&&f(t,["mediaResolution"],n);const o=c(e,["codeExecutionResult"]);o!=null&&f(t,["codeExecutionResult"],o);const r=c(e,["executableCode"]);r!=null&&f(t,["executableCode"],r);const i=c(e,["fileData"]);i!=null&&f(t,["fileData"],q_(i));const s=c(e,["functionCall"]);s!=null&&f(t,["functionCall"],J_(s));const a=c(e,["functionResponse"]);a!=null&&f(t,["functionResponse"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],O_(l));const u=c(e,["text"]);u!=null&&f(t,["text"],u);const d=c(e,["thought"]);d!=null&&f(t,["thought"],d);const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const m=c(e,["videoMetadata"]);return m!=null&&f(t,["videoMetadata"],m),t}function Z_(e){const t={},n=c(e,["handle"]);if(n!=null&&f(t,["handle"],n),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function eb(e){const t={},n=c(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(t,["functionDeclarations"],d)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(e,["googleSearchRetrieval"]);o!=null&&f(t,["googleSearchRetrieval"],o);const r=c(e,["computerUse"]);r!=null&&f(t,["computerUse"],r);const i=c(e,["fileSearch"]);i!=null&&f(t,["fileSearch"],i);const s=c(e,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(e,["googleMaps"]);a!=null&&f(t,["googleMaps"],W_(a));const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],K_(l));const u=c(e,["urlContext"]);return u!=null&&f(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tb(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);t.push(...r)}else t.push(n)}return t.join(",")}function nb(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const i=tb(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];r.length>0&&(a=r.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];i&&l.push(i),a.length>0&&l.push(...a),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class ob extends Rn{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=j_(this.apiClient,t);i=V("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=nb(a,t.config);return r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rb(e,t){const n={},o=c(e,["force"]);return t!==void 0&&o!=null&&f(t,["_query","force"],o),n}function ib(e){const t={},n=c(e,["name"]);n!=null&&f(t,["_url","name"],n);const o=c(e,["config"]);return o!=null&&rb(o,t),t}function sb(e){const t={},n=c(e,["name"]);return n!=null&&f(t,["_url","name"],n),t}function lb(e,t){const n={},o=c(e,["pageSize"]);t!==void 0&&o!=null&&f(t,["_query","pageSize"],o);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),n}function ab(e){const t={},n=c(e,["parent"]);n!=null&&f(t,["_url","parent"],n);const o=c(e,["config"]);return o!=null&&lb(o,t),t}function ub(e){const t={},n=c(e,["sdkHttpResponse"]);n!=null&&f(t,["sdkHttpResponse"],n);const o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const r=c(e,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),f(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cb extends Rn{constructor(t){super(),this.apiClient=t,this.list=async n=>new zo(_n.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=sb(t);return i=V("{name}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ib(t);r=V("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ab(t);return i=V("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>{const u=ub(l),d=new $E;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class db extends Rn{constructor(t,n=new cb(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new zo(_n.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=t_(t);return i=V("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=r_(t);return i=V("{name}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=o_(t);r=V("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=c_(t);return i=V("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>{const u=d_(l),d=new HE;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=f_(t);return i=V("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>{const u=p_(l),d=new jE;return Object.assign(d,u),d})}}async importFile(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=l_(t);return i=V("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json()),r.then(l=>{const u=s_(l),d=new Jd;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ex=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return ex=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const fb=()=>ex();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cc(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const dc=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $t extends Error{}class ft extends $t{constructor(t,n,o,r){super(`${ft.makeMessage(t,n,o)}`),this.status=t,this.headers=r,this.error=n}static makeMessage(t,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,n,o,r){if(!t||!r)return new oa({message:o,cause:dc(n)});const i=n;return t===400?new nx(t,i,o,r):t===401?new ox(t,i,o,r):t===403?new rx(t,i,o,r):t===404?new ix(t,i,o,r):t===409?new sx(t,i,o,r):t===422?new lx(t,i,o,r):t===429?new ax(t,i,o,r):t>=500?new ux(t,i,o,r):new ft(t,i,o,r)}}class fc extends ft{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class oa extends ft{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class tx extends oa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class nx extends ft{}class ox extends ft{}class rx extends ft{}class ix extends ft{}class sx extends ft{}class lx extends ft{}class ax extends ft{}class ux extends ft{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pb=/^[a-z][a-z0-9+.-]*:/i,hb=e=>pb.test(e);let pc=e=>(pc=Array.isArray,pc(e));const mb=pc;let gb=mb;const Rm=gb;function yb(e){if(!e)return!0;for(const t in e)return!1;return!0}function vb(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const xb=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new $t(`${e} must be an integer`);if(t<0)throw new $t(`${e} must be a positive integer`);return t},Sb=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tb=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wb(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Eb=()=>{var e,t,n,o,r;const i=wb();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jo,"X-Stainless-OS":Dm(Deno.build.os),"X-Stainless-Arch":Mm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jo,"X-Stainless-OS":Dm((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Mm((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const s=Cb();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Cb(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,i=o[2]||0,s=o[3]||0;return{browser:t,version:`${r}.${i}.${s}`}}}return null}const Mm=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Dm=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let xs;const Nb=()=>xs??(xs=Eb());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kb(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function cx(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Ib(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return cx({start(){},async pull(n){const{done:o,value:r}=await t.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function dx(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function _b(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const o=e.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bb=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fx=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function $a(e,t,n){return fx(),new File(e,t??"unknown_file",n)}function Ab(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Pb=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const px=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Rb=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&px(e),Mb=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Db(e,t,n){if(fx(),e=await e,Rb(e))return e instanceof File?e:$a([await e.arrayBuffer()],e.name);if(Mb(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),$a(await hc(r),t,n)}const o=await hc(e);if(t||(t=Ab(e)),!(n!=null&&n.type)){const r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return $a(o,t,n)}async function hc(e){var t,n,o,r,i;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(px(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(Pb(e))try{for(var a=!0,l=on(e),u;u=await l.next(),t=u.done,!t;a=!0){r=u.value,a=!1;const d=r;s.push(...await hc(d))}}catch(d){n={error:d}}finally{try{!a&&!t&&(o=l.return)&&await o.call(l)}finally{if(n)throw n.error}}else{const d=(i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${Lb(e)}`)}return s}function Lb(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hx{constructor(t){this._client=t}}hx._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mx(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Lm=Object.freeze(Object.create(null)),Fb=(e=mx)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const i=[],s=n.reduce((d,h,m)=>{var g,S,T;/[?#]/.test(h)&&(r=!0);const w=o[m];let v=(r?encodeURIComponent:e)(""+w);return m!==o.length&&(w==null||typeof w=="object"&&w.toString===((T=Object.getPrototypeOf((S=Object.getPrototypeOf((g=w.hasOwnProperty)!==null&&g!==void 0?g:Lm))!==null&&S!==void 0?S:Lm))===null||T===void 0?void 0:T.toString))&&(v=w+"",i.push({start:d.length+h.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),d+h+(m===o.length?"":v)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((d,h)=>d.start-h.start),i.length>0){let d=0;const h=i.reduce((m,g)=>{const S=" ".repeat(g.start-d),T="^".repeat(g.length);return d=g.start+g.length,m+S+T},"");throw new $t(`Path parameters result in path with invalid segments:
${i.map(m=>m.error).join(`
`)}
${s}
${h}`)}return s},Ss=Fb(mx);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gx extends hx{create(t,n){var o;const{api_version:r=this._client.apiVersion}=t,i=Cl(t,["api_version"]);if("model"in i&&"agent_config"in i)throw new $t("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new $t("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ss`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=t.stream)!==null&&o!==void 0?o:!1}))}delete(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Ss`/${r}/interactions/${t}`,o)}cancel(t,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Ss`/${r}/interactions/${t}/cancel`,o)}get(t,n={},o){var r;const i=n??{},{api_version:s=this._client.apiVersion}=i,a=Cl(i,["api_version"]);return this._client.get(Ss`/${s}/interactions/${t}`,Object.assign(Object.assign({query:a},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}gx._key=Object.freeze(["interactions"]);class yx extends gx{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ub(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let o=0;for(const r of e)n.set(r,o),o+=r.length;return n}let Ts;function ef(e){let t;return(Ts??(t=new globalThis.TextEncoder,Ts=t.encode.bind(t)))(e)}let ws;function Fm(e){let t;return(ws??(t=new globalThis.TextDecoder,ws=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ra{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?ef(t):t;this.buffer=Ub([this.buffer,n]);const o=[];let r;for(;(r=Vb(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(Fm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,s=Fm(this.buffer.subarray(0,i));o.push(s),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}ra.NEWLINE_CHARS=new Set([`
`,"\r"]);ra.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Vb(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Gb(e){for(let o=0;o<e.length-1;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nl={off:0,error:200,warn:300,info:400,debug:500},Um=(e,t,n)=>{if(e){if(vb(Nl,e))return e;lt(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Nl))}`)}};function ri(){}function Es(e,t,n){return!t||Nl[e]>Nl[n]?ri:t[e].bind(t)}const Bb={error:ri,warn:ri,info:ri,debug:ri};let Vm=new WeakMap;function lt(e){var t;const n=e.logger,o=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Bb;const r=Vm.get(n);if(r&&r[0]===o)return r[1];const i={error:Es("error",n,o),warn:Es("warn",n,o),info:Es("info",n,o),debug:Es("debug",n,o)};return Vm.set(n,[o,i]),i}const vo=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lr{constructor(t,n,o){this.iterator=t,this.controller=n,this.client=o}static fromSSEResponse(t,n,o){let r=!1;const i=o?lt(o):console;function s(){return nn(this,arguments,function*(){var l,u,d,h;if(r)throw new $t("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let m=!1;try{try{for(var g=!0,S=on(zb(t,n)),T;T=yield ie(S.next()),l=T.done,!l;g=!0){h=T.value,g=!1;const w=h;if(!m)if(w.data.startsWith("[DONE]")){m=!0;continue}else try{yield yield ie(JSON.parse(w.data))}catch(v){throw i.error("Could not parse message into JSON:",w.data),i.error("From chunk:",w.raw),v}}}catch(w){u={error:w}}finally{try{!g&&!l&&(d=S.return)&&(yield ie(d.call(S)))}finally{if(u)throw u.error}}m=!0}catch(w){if(cc(w))return yield ie(void 0);throw w}finally{m||n.abort()}})}return new lr(s,n,o)}static fromReadableStream(t,n,o){let r=!1;function i(){return nn(this,arguments,function*(){var l,u,d,h;const m=new ra,g=dx(t);try{for(var S=!0,T=on(g),w;w=yield ie(T.next()),l=w.done,!l;S=!0){h=w.value,S=!1;const v=h;for(const y of m.decode(v))yield yield ie(y)}}catch(v){u={error:v}}finally{try{!S&&!l&&(d=T.return)&&(yield ie(d.call(T)))}finally{if(u)throw u.error}}for(const v of m.flush())yield yield ie(v)})}function s(){return nn(this,arguments,function*(){var l,u,d,h;if(r)throw new $t("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let m=!1;try{try{for(var g=!0,S=on(i()),T;T=yield ie(S.next()),l=T.done,!l;g=!0){h=T.value,g=!1;const w=h;m||w&&(yield yield ie(JSON.parse(w)))}}catch(w){u={error:w}}finally{try{!g&&!l&&(d=S.return)&&(yield ie(d.call(S)))}finally{if(u)throw u.error}}m=!0}catch(w){if(cc(w))return yield ie(void 0);throw w}finally{m||n.abort()}})}return new lr(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){const s=o.next();t.push(s),n.push(s)}return i.shift()}});return[new lr(()=>r(t),this.controller,this.client),new lr(()=>r(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return cx({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:i}=await n.next();if(i)return o.close();const s=ef(JSON.stringify(r)+`
`);o.enqueue(s)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function zb(e,t){return nn(this,arguments,function*(){var o,r,i,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new $t("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new $t("Attempted to iterate over a response with no body");const a=new $b,l=new ra,u=dx(e.body);try{for(var d=!0,h=on(Ob(u)),m;m=yield ie(h.next()),o=m.done,!o;d=!0){s=m.value,d=!1;const g=s;for(const S of l.decode(g)){const T=a.decode(S);T&&(yield yield ie(T))}}}catch(g){r={error:g}}finally{try{!d&&!o&&(i=h.return)&&(yield ie(i.call(h)))}finally{if(r)throw r.error}}for(const g of l.flush()){const S=a.decode(g);S&&(yield yield ie(S))}})}function Ob(e){return nn(this,arguments,function*(){var n,o,r,i;let s=new Uint8Array;try{for(var a=!0,l=on(e),u;u=yield ie(l.next()),n=u.done,!n;a=!0){i=u.value,a=!1;const d=i;if(d==null)continue;const h=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?ef(d):d;let m=new Uint8Array(s.length+h.length);m.set(s),m.set(h,s.length),s=m;let g;for(;(g=Gb(s))!==-1;)yield yield ie(s.slice(0,g)),s=s.slice(g)}}catch(d){o={error:d}}finally{try{!a&&!n&&(r=l.return)&&(yield ie(r.call(l)))}finally{if(o)throw o.error}}s.length>0&&(yield yield ie(s))})}class $b{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,o,r]=Hb(t,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function Hb(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jb(e,t){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=t,s=await(async()=>{var a;if(t.options.stream)return lt(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):lr.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return lt(e).debug(`[${o}] response parsed`,vo({retryOfRequestLogID:r,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tf extends Promise{constructor(t,n,o=jb){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=t}_thenUnwrap(t){return new tf(this.client,this.responsePromise,async(n,o)=>t(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vx=Symbol("brand.privateNullableHeaders");function*qb(e){if(!e)return;if(vx in e){const{values:o,nulls:r}=e;yield*o.entries();for(const i of r)yield[i,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Rm(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=Rm(o[1])?o[1]:[o[1]];let s=!1;for(const a of i)a!==void 0&&(t&&!s&&(s=!0,yield[r,null]),yield[r,a])}}const Qr=e=>{const t=new Headers,n=new Set;for(const o of e){const r=new Set;for(const[i,s]of qb(o)){const a=i.toLowerCase();r.has(a)||(t.delete(i),r.add(a)),s===null?(t.delete(i),n.add(a)):(t.append(i,s),n.delete(a))}}return{[vx]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ha=e=>{var t,n,o,r,i,s;if(typeof globalThis.process<"u")return(o=(n=(t=vE)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xx;class ia{constructor(t){var n,o,r,i,s,a,l,{baseURL:u=Ha("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=Ha("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:h="v1beta"}=t,m=Cl(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:d,apiVersion:h},m),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(o=g.timeout)!==null&&o!==void 0?o:ia.DEFAULT_TIMEOUT,this.logger=(r=g.logger)!==null&&r!==void 0?r:console;const S="warn";this.logLevel=S,this.logLevel=(s=(i=Um(g.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:Um(Ha("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:S,this.fetchOptions=g.fetchOptions,this.maxRetries=(a=g.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:kb(),this.encoder=bb,this._options=g,this.apiKey=d,this.apiVersion=h,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Qr([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Qr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Qr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new $t(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Jo}`}defaultIdempotencyKey(){return`stainless-node-retry-${fb()}`}makeStatusError(t,n,o,r){return ft.generate(t,n,o,r)}buildURL(t,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,i=hb(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return yb(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:o}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:t,path:n},r)))}request(t,n=null){return new tf(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,o){var r,i,s;const a=await t,l=(r=a.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:d,timeout:h}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:d,options:a});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=o===void 0?"":`, retryOf: ${o}`,S=Date.now();if(lt(this).debug(`[${m}] sending request`,vo({retryOfRequestLogID:o,method:a.method,url:d,options:a,headers:u.headers})),!((i=a.signal)===null||i===void 0)&&i.aborted)throw new fc;const T=new AbortController,w=await this.fetchWithTimeout(d,u,h,T).catch(dc),v=Date.now();if(w instanceof globalThis.Error){const x=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new fc;const E=cc(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return lt(this).info(`[${m}] connection ${E?"timed out":"failed"} - ${x}`),lt(this).debug(`[${m}] connection ${E?"timed out":"failed"} (${x})`,vo({retryOfRequestLogID:o,url:d,durationMs:v-S,message:w.message})),this.retryRequest(a,n,o??m);throw lt(this).info(`[${m}] connection ${E?"timed out":"failed"} - error; no more retries left`),lt(this).debug(`[${m}] connection ${E?"timed out":"failed"} (error; no more retries left)`,vo({retryOfRequestLogID:o,url:d,durationMs:v-S,message:w.message})),E?new tx:new oa({cause:w})}const y=`[${m}${g}] ${u.method} ${d} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${v-S}ms`;if(!w.ok){const x=await this.shouldRetry(w);if(n&&x){const A=`retrying, ${n} attempts remaining`;return await _b(w.body),lt(this).info(`${y} - ${A}`),lt(this).debug(`[${m}] response error (${A})`,vo({retryOfRequestLogID:o,url:w.url,status:w.status,headers:w.headers,durationMs:v-S})),this.retryRequest(a,n,o??m,w.headers)}const E=x?"error; no more retries left":"error; not retryable";lt(this).info(`${y} - ${E}`);const k=await w.text().catch(A=>dc(A).message),C=Sb(k),I=C?void 0:k;throw lt(this).debug(`[${m}] response error (${E})`,vo({retryOfRequestLogID:o,url:w.url,status:w.status,headers:w.headers,message:I,durationMs:Date.now()-S})),this.makeStatusError(w.status,C,I,w.headers)}return lt(this).info(y),lt(this).debug(`[${m}] response start`,vo({retryOfRequestLogID:o,url:w.url,status:w.status,headers:w.headers,durationMs:v-S})),{response:w,options:a,controller:T,requestLogID:m,retryOfRequestLogID:o,startTime:S}}async fetchWithTimeout(t,n,o,r){const i=n||{},{signal:s,method:a}=i,l=Cl(i,["signal","method"]);s&&s.addEventListener("abort",()=>r.abort());const u=setTimeout(()=>r.abort(),o),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,h=Object.assign(Object.assign(Object.assign({signal:r.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(u)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,o,r){var i;let s;const a=r==null?void 0:r.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=r==null?void 0:r.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(i=t.maxRetries)!==null&&i!==void 0?i:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Tb(s),this.makeRequest(t,n-1,o)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,s=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(t,{retryCount:n=0}={}){var o,r,i;const s=Object.assign({},t),{method:a,path:l,query:u,defaultBaseURL:d}=s,h=this.buildURL(l,u,d);"timeout"in s&&xb("timeout",s.timeout),s.timeout=(o=s.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:m,body:g}=this.buildBody({options:s}),S=await this.buildHeaders({options:t,method:a,bodyHeaders:m,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:S},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=s.fetchOptions)!==null&&i!==void 0?i:{}),url:h,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:o,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let a=Qr([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Nb()),this._options.defaultHeaders,o,t.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const o=Qr([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Ib(t)}:this.encoder({body:t,headers:o})}}ia.DEFAULT_TIMEOUT=6e4;class We extends ia{constructor(){super(...arguments),this.interactions=new yx(this)}}xx=We;We.GeminiNextGenAPIClient=xx;We.GeminiNextGenAPIClientError=$t;We.APIError=ft;We.APIConnectionError=oa;We.APIConnectionTimeoutError=tx;We.APIUserAbortError=fc;We.NotFoundError=ix;We.ConflictError=sx;We.RateLimitError=ax;We.BadRequestError=nx;We.AuthenticationError=ox;We.InternalServerError=ux;We.PermissionDeniedError=rx;We.UnprocessableEntityError=lx;We.toFile=Db;We.Interactions=yx;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jb(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function Wb(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function Kb(e,t){const n={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function Yb(e,t){const n={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(n,["sdkHttpResponse"],o),n}function Xb(e,t,n){const o={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=c(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=c(e,["epochCount"]);t!==void 0&&i!=null&&f(t,["tuningTask","hyperparameters","epochCount"],i);const s=c(e,["learningRateMultiplier"]);if(s!=null&&f(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=c(e,["batchSize"]);t!==void 0&&a!=null&&f(t,["tuningTask","hyperparameters","batchSize"],a);const l=c(e,["learningRate"]);if(t!==void 0&&l!=null&&f(t,["tuningTask","hyperparameters","learningRate"],l),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function Qb(e,t,n){const o={};let r=c(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=c(e,["validationDataset"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec"],Gm(g))}else if(r==="PREFERENCE_TUNING"){const g=c(e,["validationDataset"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec"],Gm(g))}const i=c(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&f(t,["tunedModelDisplayName"],i);const s=c(e,["description"]);t!==void 0&&s!=null&&f(t,["description"],s);let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=c(e,["epochCount"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){const g=c(e,["epochCount"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=c(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=c(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=c(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=c(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=c(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=c(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=c(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=c(e,["adapterSize"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=c(e,["adapterSize"]);t!==void 0&&g!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=c(e,["labels"]);t!==void 0&&h!=null&&f(t,["labels"],h);const m=c(e,["beta"]);return t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],m),o}function Zb(e,t){const n={},o=c(e,["baseModel"]);o!=null&&f(n,["baseModel"],o);const r=c(e,["preTunedModel"]);r!=null&&f(n,["preTunedModel"],r);const i=c(e,["trainingDataset"]);i!=null&&cA(i);const s=c(e,["config"]);return s!=null&&Xb(s,n),n}function eA(e,t){const n={},o=c(e,["baseModel"]);o!=null&&f(n,["baseModel"],o);const r=c(e,["preTunedModel"]);r!=null&&f(n,["preTunedModel"],r);const i=c(e,["trainingDataset"]);i!=null&&dA(i,n,t);const s=c(e,["config"]);return s!=null&&Qb(s,n,t),n}function tA(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function nA(e,t){const n={},o=c(e,["name"]);return o!=null&&f(n,["_url","name"],o),n}function oA(e,t,n){const o={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const i=c(e,["pageToken"]);t!==void 0&&i!=null&&f(t,["_query","pageToken"],i);const s=c(e,["filter"]);return t!==void 0&&s!=null&&f(t,["_query","filter"],s),o}function rA(e,t,n){const o={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const i=c(e,["pageToken"]);t!==void 0&&i!=null&&f(t,["_query","pageToken"],i);const s=c(e,["filter"]);return t!==void 0&&s!=null&&f(t,["_query","filter"],s),o}function iA(e,t){const n={},o=c(e,["config"]);return o!=null&&oA(o,n),n}function sA(e,t){const n={},o=c(e,["config"]);return o!=null&&rA(o,n),n}function lA(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const r=c(e,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const i=c(e,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Sx(a))),f(n,["tuningJobs"],s)}return n}function aA(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const r=c(e,["nextPageToken"]);r!=null&&f(n,["nextPageToken"],r);const i=c(e,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>mc(a))),f(n,["tuningJobs"],s)}return n}function uA(e,t){const n={},o=c(e,["name"]);o!=null&&f(n,["model"],o);const r=c(e,["name"]);return r!=null&&f(n,["endpoint"],r),n}function cA(e,t){const n={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=c(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),f(n,["examples","examples"],r)}return n}function dA(e,t,n){const o={};let r=c(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const s=c(e,["gcsUri"]);t!==void 0&&s!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){const s=c(e,["gcsUri"]);t!==void 0&&s!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=c(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=c(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Sx(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const r=c(e,["name"]);r!=null&&f(n,["name"],r);const i=c(e,["state"]);i!=null&&f(n,["state"],Fv(i));const s=c(e,["createTime"]);s!=null&&f(n,["createTime"],s);const a=c(e,["tuningTask","startTime"]);a!=null&&f(n,["startTime"],a);const l=c(e,["tuningTask","completeTime"]);l!=null&&f(n,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(e,["description"]);d!=null&&f(n,["description"],d);const h=c(e,["baseModel"]);h!=null&&f(n,["baseModel"],h);const m=c(e,["_self"]);return m!=null&&f(n,["tunedModel"],uA(m)),n}function mc(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const r=c(e,["name"]);r!=null&&f(n,["name"],r);const i=c(e,["state"]);i!=null&&f(n,["state"],Fv(i));const s=c(e,["createTime"]);s!=null&&f(n,["createTime"],s);const a=c(e,["startTime"]);a!=null&&f(n,["startTime"],a);const l=c(e,["endTime"]);l!=null&&f(n,["endTime"],l);const u=c(e,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(e,["error"]);d!=null&&f(n,["error"],d);const h=c(e,["description"]);h!=null&&f(n,["description"],h);const m=c(e,["baseModel"]);m!=null&&f(n,["baseModel"],m);const g=c(e,["tunedModel"]);g!=null&&f(n,["tunedModel"],g);const S=c(e,["preTunedModel"]);S!=null&&f(n,["preTunedModel"],S);const T=c(e,["supervisedTuningSpec"]);T!=null&&f(n,["supervisedTuningSpec"],T);const w=c(e,["preferenceOptimizationSpec"]);w!=null&&f(n,["preferenceOptimizationSpec"],w);const v=c(e,["tuningDataStats"]);v!=null&&f(n,["tuningDataStats"],v);const y=c(e,["encryptionSpec"]);y!=null&&f(n,["encryptionSpec"],y);const x=c(e,["partnerModelTuningSpec"]);x!=null&&f(n,["partnerModelTuningSpec"],x);const E=c(e,["customBaseModel"]);E!=null&&f(n,["customBaseModel"],E);const k=c(e,["experiment"]);k!=null&&f(n,["experiment"],k);const C=c(e,["labels"]);C!=null&&f(n,["labels"],C);const I=c(e,["outputUri"]);I!=null&&f(n,["outputUri"],I);const _=c(e,["pipelineJob"]);_!=null&&f(n,["pipelineJob"],_);const A=c(e,["serviceAccount"]);A!=null&&f(n,["serviceAccount"],A);const M=c(e,["tunedModelDisplayName"]);M!=null&&f(n,["tunedModelDisplayName"],M);const L=c(e,["veoTuningSpec"]);return L!=null&&f(n,["veoTuningSpec"],L),n}function fA(e,t){const n={},o=c(e,["sdkHttpResponse"]);o!=null&&f(n,["sdkHttpResponse"],o);const r=c(e,["name"]);r!=null&&f(n,["name"],r);const i=c(e,["metadata"]);i!=null&&f(n,["metadata"],i);const s=c(e,["done"]);s!=null&&f(n,["done"],s);const a=c(e,["error"]);return a!=null&&f(n,["error"],a),n}function Gm(e,t){const n={},o=c(e,["gcsUri"]);o!=null&&f(n,["validationDatasetUri"],o);const r=c(e,["vertexDatasetResource"]);return r!=null&&f(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pA extends Rn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new zo(_n.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:oc.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=nA(t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>mc(d))}else{const u=tA(t);return a=V("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>Sx(d))}}async listInternal(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=sA(t);return a=V("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=aA(d),m=new dm;return Object.assign(m,h),m})}else{const u=iA(t);return a=V("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=lA(d),m=new dm;return Object.assign(m,h),m})}}async cancel(t){var n,o,r,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Wb(t);return a=V("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Yb(d),m=new fm;return Object.assign(m,h),m})}else{const u=Jb(t);return a=V("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Kb(d),m=new fm;return Object.assign(m,h),m})}}async tuneInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const a=eA(t,t);return i=V("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>mc(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Zb(t);return i=V("tunedModels",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>fA(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hA{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const mA=1024*1024*8,gA=3,yA=1e3,vA=2,kl="x-goog-upload-status";async function xA(e,t,n){var o;const r=await Tx(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[kl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function SA(e,t,n){var o;const r=await Tx(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[kl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Av(i),a=new Wd;return Object.assign(a,s),a}async function Tx(e,t,n){var o,r;let i=0,s=0,a=new rc(new Response),l="upload";for(i=e.size;s<i;){const u=Math.min(mA,i-s),d=e.slice(s,s+u);s+u>=i&&(l+=", finalize");let h=0,m=yA;for(;h<gA&&(a=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((o=a==null?void 0:a.headers)===null||o===void 0)&&o[kl]));)h++,await wA(m),m=m*vA;if(s+=u,((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[kl])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function TA(e){return{size:e.size,type:e.type}}function wA(e){return new Promise(t=>setTimeout(t,e))}class EA{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await xA(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await SA(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await TA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CA{create(t,n,o){return new NA(t,n,o)}}class NA{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bm="x-goog-api-key";class kA{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Bm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Bm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IA="gl-node/";class _A{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new We({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=wE(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new kA(this.apiKey);this.apiClient=new T_({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:IA+"web",uploader:new EA,downloader:new hA}),this.models=new B_(this.apiClient),this.live=new D_(this.apiClient,r,new CA),this.batches=new XC(this.apiClient),this.chats=new RN(this.models,this.apiClient),this.caches=new bN(this.apiClient),this.files=new ON(this.apiClient),this.operations=new z_(this.apiClient),this.authTokens=new ob(this.apiClient),this.tunings=new pA(this.apiClient),this.fileSearchStores=new db(this.apiClient)}}const wx={ESTJ:{type:"ESTJ",othersSee:"ESTJESTJESTJ",functions:"Te-Si-Ne-FiTi-Se-Ni-Fe",bestState:"ESTJ",growth:"",features:""},INTP:{type:"INTP",othersSee:"INTP",functions:"Ti-Ne-Si-FeTe-Ni-Se-Fi",bestState:"INTP",growth:"",features:""},ISFP:{type:"ISFP",othersSee:"ISFP",functions:"Fi-Se-Ni-Te, Fe-Si-Ne-Ti",bestState:"ISFP",growth:"",features:""},ENTP:{type:"ENTP",othersSee:"ENTP",functions:"Ne-Ti-Fe-SiNi-Te-Fi-Se",bestState:"",growth:"",features:""},ISTP:{type:"ISTP",othersSee:"ISTP",functions:"Ti-Se-Ni-Fe, Te-Si-Ne-Fi",bestState:"ISTP",growth:"",features:""},ENFJ:{type:"ENFJ",othersSee:"ENFJ",functions:"Fe-Ni-Se-TiFi-Ne-Si-Te",bestState:"ENFJ",growth:"",features:""},ENTJ:{type:"ENTJ",othersSee:"ENTJENTJ",functions:"Te-Ni-Se-FiTi-Ne-Si-Fe",bestState:"ENTJ",growth:"",features:""},ESTP:{type:"ESTP",othersSee:"ESTP",functions:"Se-Ti-Fe-NiSi-Te-Fi-Ne",bestState:"ESTP",growth:"",features:""},INFJ:{type:"INFJ",othersSee:"INFJ",functions:"Ni-Fe-Ti-Se, Ne-Fi-Te-Si",bestState:"",growth:"",features:""},ISTJ:{type:"ISTJ",othersSee:"ISTJ",functions:"Si-Te-Fi-NeSe-Ti-Fe-Ni",bestState:"ISTJ",growth:"",features:""},ENFP:{type:"ENFP",othersSee:"ENFPENFP",functions:"Ne-Fi-Te-SiNi-Fe-Ti-Se",bestState:"",growth:"",features:""},ESFP:{type:"ESFP",othersSee:"ESFP",functions:"Se-Fi-Te-NiSi-Fe-Ti-Ne",bestState:"",growth:"",features:""},INTJ:{type:"INTJ",othersSee:"INTJ",functions:"Ni-Te-Fi-Se, Ne-Ti-Fe-Si",bestState:"",growth:"",features:""},ESFJ:{type:"ESFJ",othersSee:"ESFJ",functions:"Fe-Si-Ne-TiFi-Se-Ni-Te",bestState:"",growth:"",features:""},INFP:{type:"INFP",othersSee:"INFP",functions:"Fi-Ne-Si-TeFe-Ni-Se-Ti",bestState:"",growth:"",features:""},ISFJ:{type:"ISFJ",othersSee:"ISFJ",functions:"Si-Fe-Ti-Ne, Se-Fi-Te-Ni",bestState:"",growth:"",features:""}},zm=[{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Te"},{title:"",description:"30",functionId:"Te"},{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Ti"},{title:"",description:"/",functionId:"Fe"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Fi"},{title:"",description:"",functionId:"Fi"},{title:"",description:"vs",functionId:"Fe"},{title:"",description:"",functionId:"Fi"},{title:"",description:"3",functionId:"Fi"},{title:"",description:"/",functionId:"Fi"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Fi"},{title:"",description:"103",functionId:"Se"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Se"},{title:"",description:"",functionId:"Se"},{title:"",description:"",functionId:"Fi"},{title:"",description:"",functionId:"Se"},{title:"",description:"",functionId:"Fi"},{title:"",description:"30",functionId:"Se"},{title:"",description:"10",functionId:"Se"},{title:"",description:"",functionId:"Se"},{title:"",description:"",functionId:"Se"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Si"},{title:"",description:"......",functionId:"Ne"},{title:"",description:"",functionId:"Ni"},{title:"",description:"",functionId:"Ni"},{title:"",description:"",functionId:"Ni"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Ni"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Ni"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Ni"},{title:"",description:"",functionId:"Te"},{title:"",description:"",functionId:"Ti"},{title:"",description:"",functionId:"Fe"},{title:"",description:"",functionId:"Fi"},{title:"",description:"",functionId:"Se"},{title:"",description:"",functionId:"Si"},{title:"",description:"",functionId:"Ne"},{title:"",description:"",functionId:"Ni"}],Ex=(e,t=4)=>{const n=zm.filter(s=>s.functionId===e),o=zm.filter(s=>s.functionId!==e);return(n.length>=t?n:[...n,...o]).sort(()=>Math.random()-.5).slice(0,t).map((s,a)=>({category:["standard","truth","dare","deep"][a%4],title:s.title,description:s.description,multiplier:[1,1.2,1.2,1.5][a%4],scoreType:["expression","insight","expression","trust"][a%4],durationSeconds:60}))},Om={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},xo=e=>Om&&Om[e]||"",ut={gemini:xo("VITE_GEMINI_KEY")||xo("VITE_API_KEY"),groq:xo("VITE_GROQ_KEY"),openRouter:xo("VITE_OPENROUTER_KEY"),zhipu:xo("VITE_ZHIPU_KEY"),deepseek:xo("VITE_DEEPSEEK_KEY")},bA={ENFJ:`
[] (Fe - Ni)
[] 
[] 
[ / ] Ti / Se(Ti)
[] 
`,ENFP:`
[] (Ne - Fi)
[] 
[] 
[ / ] Si / Te(Si)
[] 
`,ENTJ:`
[] (Te - Ni)
[] 
[] 
[ / ] Fi / Se(Fi)
[] 
`,ENTP:`
[] (Ne - Ti)
[] 
[] 
[ / ] Si / Fe(Si)
[] 
`,ESFJ:`
[] (Fe - Si)
[] 
[] 
[ / ] Ti / Ne(Ti)
[] 
`,ESFP:`
[] (Se - Fi)
[] 
[] 
[ / ] Ni / Te(Ni)
[] 
`,ESTJ:`
[] (Te - Si)
[] 
[] 
[ / ] Fi / Ne(Fi)
[] 
`,ESTP:`
[] (Se - Ti)
[] 
[] 
[ / ] Ni / Fe(Ni)
[] 
`,INFJ:`
[] (Ni - Fe)
[] 
[] 
[ / ] Se / Ti(Se)
[] 
`,INFP:`
[] (Fi - Ne)
[] 
[] 
[ / ] Te / Si(Te)
[] 
`,INTJ:`
[] (Ni - Te)
[] 
[] 
[ / ] Se / Fi(Se)
[] 
`,INTP:`
[] (Ti - Ne)
[] 
[] 
[ / ] Fe / Si(Fe)
[] 
`,ISFJ:`
[] (Si - Fe)
[] 
[] 
[ / ] Ne / Ti(Ne)
[] 
`,ISFP:`
[] (Fi - Se)
[] 
[] 
[ / ] Te / Ni(Te)
[] 
`,ISTJ:`
[] (Si - Te)
[] 
[] 
[ / ] Ne / Fi(Ne)
[] 
`,ISTP:`
[] (Ti - Se)
[] 
[] 
[ / ] Fe / Ni(Fe)
[] 
`},AA=`

- 
- 

1. 
2. 
3. 
`.trim(),PA=`
[]
 AI


`.trim(),RA=`
[]
 4 

[]
1. ** (The Iceberg Strategy)**
   - ""**" (Dare)"**""
   - ""**" (Standard)"**
2. ****
   - Fe
   - 

[]
- "standard" (): 
- "truth" (): 
- "dare" (): 
- "deep" (): 

[]
Strict JSON object. Simplified Chinese.
{
  "standard": { "title": "", "description": "", "scoreType": "trust"|"insight"|"expression", "durationSeconds": 60 },
  ... (truth, dare, deep)
}
`.trim(),MA=`
[]


[]
1. ****CP
2. ****
   -  ****
   -  ****
3. ****

[]
Strict JSON array with "groupAnalysis" and "playerAnalysis":
{
  "groupAnalysis": "200' NT ...' ",
  "playerAnalysis": {
     "PLAYER_ID": "100 ****[]...  ****[]...  # # #"
  }
}
`.trim(),Cs={geminiKey:"",openRouterKey:"",groqKey:"",geminiModel:"gemini-2.5-flash",openRouterModel:"anthropic/claude-3.5-haiku",groqModel:"llama-3.3-70b-versatile",designPhilosophy:AA,systemPersona:PA,taskPromptTemplate:RA,reportPromptTemplate:MA,zhipuKey:"",deepseekKey:"",deepseekModel:"deepseek-chat",regionMode:"auto"},DA=()=>{if(typeof window>"u")return Cs;const e=localStorage.getItem("PSYCHEPOLY_AI_CONFIG_V3");if(e)try{return{...Cs,...JSON.parse(e)}}catch{return Cs}return Cs};let ze=DA();const Cx=()=>ze,LA=e=>{ze={...ze,...e},localStorage.setItem("PSYCHEPOLY_AI_CONFIG_V3",JSON.stringify(ze))},FA=async(e,t,n,o)=>{var l,u,d;const r=ze.groqKey||ut.groq;if(!r)throw new Error("Skipped: No Groq Key");let i=t;o&&(i=[{type:"text",text:t},{type:"image_url",image_url:{url:o.startsWith("data:")?o:`data:image/jpeg;base64,${o}`}}]);const s=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({model:ze.groqModel,messages:[{role:"system",content:e},{role:"user",content:i}],response_format:{type:"json_object"}})});if(!s.ok){const h=await s.text();throw console.error("Groq Error Details:",h),new Error(`Groq ${s.status} ${s.statusText}`)}return((d=(u=(l=(await s.json()).choices)==null?void 0:l[0])==null?void 0:u.message)==null?void 0:d.content)||"{}"},UA=async(e,t,n,o)=>{var l,u,d;const r=ze.openRouterKey||ut.openRouter;if(!r)throw new Error("Skipped: No OpenRouter Key");const i=[{type:"text",text:t}];o&&i.push({type:"image_url",image_url:{url:o.startsWith("data:")?o:`data: image / jpeg; base64, ${o} `}});const s=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${r} `,"Content-Type":"application/json","HTTP-Referer":window.location.href,"X-Title":"PsychePoly"},body:JSON.stringify({model:ze.openRouterModel,messages:[{role:"system",content:e},{role:"user",content:i}],response_format:{type:"json_object"}})});if(!s.ok)throw new Error(`OpenRouter ${s.statusText} `);return((d=(u=(l=(await s.json()).choices)==null?void 0:l[0])==null?void 0:u.message)==null?void 0:d.content)||"{}"},VA=async(e,t,n,o)=>{const r=ze.geminiKey||ut.gemini;if(!r)throw new Error("Skipped: No Gemini Key");const i=new _A({apiKey:r}),s=o?{inlineData:{data:o.split(",")[1]||o,mimeType:"image/jpeg"}}:null;return(await i.models.generateContent({model:ze.geminiModel,contents:[{role:"user",parts:[...s?[s]:[],{text:t}]}],config:{systemInstruction:e,responseMimeType:"application/json"}})).text||"{}"},$m=async(e,t,n,o)=>{var d,h,m;const r=ze.zhipuKey||ut.zhipu;if(!r)throw new Error("Skipped: No Zhipu Key");const i=!!o,s=i?"glm-4v":"glm-4-flash",a=[{type:"text",text:t}];o&&a.push({type:"image_url",image_url:{url:o.startsWith("data:")?o:`data:image/jpeg;base64,${o}`}});const l=await fetch("https://open.bigmodel.cn/api/paas/v4/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${r} `,"Content-Type":"application/json"},body:JSON.stringify({model:s,messages:[{role:"system",content:e},{role:"user",content:i?a:t}],response_format:{type:"json_object"},temperature:.7})});if(!l.ok)throw new Error(`Zhipu ${l.statusText} `);return((m=(h=(d=(await l.json()).choices)==null?void 0:d[0])==null?void 0:h.message)==null?void 0:m.content)||"{}"},Hm=async(e,t,n)=>{var s,a,l;const o=ze.deepseekKey||ut.deepseek;if(!o)throw new Error("Skipped: No DeepSeek Key");const r=await fetch("https://api.deepseek.com/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${o} `,"Content-Type":"application/json"},body:JSON.stringify({model:ze.deepseekModel||"deepseek-chat",messages:[{role:"system",content:e},{role:"user",content:t}],response_format:{type:"json_object"},temperature:.7})});if(!r.ok)throw new Error(`DeepSeek ${r.statusText} `);return((l=(a=(s=(await r.json()).choices)==null?void 0:s[0])==null?void 0:a.message)==null?void 0:l.content)||"{}"},GA={INTJ:["Ni","Te","Fi","Se"],INTP:["Ti","Ne","Si","Fe"],ENTJ:["Te","Ni","Se","Fi"],ENTP:["Ne","Ti","Fe","Si"],INFJ:["Ni","Fe","Ti","Se"],INFP:["Fi","Ne","Si","Te"],ENFJ:["Fe","Ni","Se","Ti"],ENFP:["Ne","Fi","Te","Si"],ISTJ:["Si","Te","Fi","Ne"],ISFJ:["Si","Fe","Ti","Ne"],ESTJ:["Te","Si","Ne","Fi"],ESFJ:["Fe","Si","Ne","Ti"],ISTP:["Ti","Se","Ni","Fe"],ISFP:["Fi","Se","Ni","Te"],ESTP:["Se","Ti","Fe","Ni"],ESFP:["Se","Fi","Te","Ni"]},BA=(e,t)=>{const n=GA[e.mbti];if(!n)return"";const o=n.indexOf(t);if(o===0)return`[]  ${t} `;if(o===1)return`[]  ${t} `;if(o===3)return`[] ${t} `;if(Ui[t]){const i={E:"I",I:"E",S:"N",N:"S",T:"F",F:"T",J:"P",P:"J"},s=e.mbti.split("").map(a=>i[a]||a).join("");if(t===s)return`[]  ${t}`}return`[]  ${t} `},zA=async(e,t,n)=>{const o=`${e} 

${t} 

 JSON `,r=await fetch(`https://text.pollinations.ai/${encodeURIComponent(o)}`);if(!r.ok)throw new Error(`Pollinations ${r.statusText}`);let i=await r.text();return i=i.replace(/```json/g,"").replace(/```/g,"").trim(),i},Ki=e=>{try{const t=e.indexOf("{"),n=e.indexOf("[");let o="",r=-1;if(t!==-1&&(n===-1||t<n)?(o="{",r=t):n!==-1&&(o="[",r=n),r===-1)return e.trim();const i=o==="{"?"}":"]",s=e.lastIndexOf(i);if(s!==-1&&s>r)return e.substring(r,s+1)}catch(t){console.warn("JSON extraction lookup failed",t)}return e.trim()},OA=()=>{if(xo("VITE_PLATFORM")==="china")return"china";try{const t=Intl.DateTimeFormat().resolvedOptions().timeZone||"";if(t.includes("Asia/Shanghai")||t.includes("Asia/Urumqi")||t.includes("Asia/Chongqing")||t.includes("Asia/Harbin")||new Date().getTimezoneOffset()===-480)return"china"}catch{}return"overseas"},$A={Groq:"G",Gemini:"F",OpenRouter:"O",Zhipu:"Z",DeepSeek:"D",Pollinations:"P"},Oo=async(e,t,n,o)=>{let r=t||ze.systemPersona;r.toLowerCase().includes("json")||(r+="\n\n[ - ]\n1.  JSON \n2.  ```json  ``` \n3.  JSON");const i=[],s=!!n,a=e.length>15e3,l=ze.regionMode==="auto"?OA():ze.regionMode;let u=[];if(l==="china"?s?u=[{name:"Zhipu",call:()=>$m(r,e,!0,n)},{name:"DeepSeek",call:()=>Hm(r,e)}]:u=[{name:"DeepSeek",call:()=>Hm(r,e)},{name:"Zhipu",call:()=>$m(r,e,!0,n)}]:u=[...s?[]:[{name:"Groq",call:()=>FA(r,e,!0,n)}],{name:"Gemini",call:()=>VA(r,e,!0,n)},{name:"OpenRouter",call:()=>UA(r,e,!0,n)},{name:"Pollinations",call:()=>zA(r,e)}],s||a){const d=u.findIndex(h=>h.name==="Gemini");if(d>0){const[h]=u.splice(d,1);u.unshift(h)}}else if(l==="overseas"){const d=u.findIndex(h=>h.name==="Groq");if(d>0){const[h]=u.splice(d,1);u.unshift(h)}}for(const d of u)try{if(console.log(`Calling [${d.name}]...`),o){const h=$A[d.name]||d.name;o(h)}return await d.call()}catch(h){i.push(`${d.name}: ${h.message}`)}throw console.error("All AI providers failed in current region segment:",i),new Error(`ALL_AI_FAILED_IN_${l.toUpperCase()}`)},Nx=e=>e.map(t=>`${t.id}|${t.name}|${t.mbti}|${t.trustScore}|${t.insightScore}|${t.expressionScore}`).join(`
`),kx=e=>{const t=Array.from(new Set(e.map(o=>o.mbti)));let n=`
[ - ]
`;return t.forEach(o=>{const r=bA[o];if(r){const i=r.match(/\[\] (.*)/),s=i?i[1]:"",a=r.match(/\((.*)\)/),l=a?a[1]:"";n+=`- ${o}: ${s} (${l}). 
`}}),n},HA=(e,t)=>{var o;const n={};e.forEach(r=>n[r.id]=[]);for(const r of t){if(!r.taskDetails||!r.taskDetails.includes(":"))continue;const i=e.find(s=>s.name===r.author);if(i){const s=(o=r.taskDetails.split(":")[1])==null?void 0:o.trim();s&&n[i.id].push(s)}}return e.map(r=>{const i=n[r.id].slice(-5);return`[ ${r.name}(${r.id})]: (${i.join("; ")||""})`}).join(`
`)},Ix=async(e,t)=>{const n=" 20 ",o=`: ${t}`;try{return(await Oo(o,n,e)).trim()||""}catch{return""}},jA=e=>e.map(t=>{const n=t.behaviorStats;if(!n)return"";const o=n.truth+n.dare+n.deep+n.standard;if(o===0)return"";const r=[];n.truth>0&&r.push(`(${n.truth})`),n.dare>0&&r.push(`(${n.dare})`),n.deep>0&&r.push(`(${n.deep})`);const i=(n.totalMultiplier/o).toFixed(2),s=(t.totalRatingGiven/Math.max(1,o)).toFixed(1),a=n.highEnergyCount>0?`, [${n.highEnergyCount}]`:"",l=Object.entries(n.interactions).map(([u,d])=>{var m;return`${((m=e.find(g=>g.id===u))==null?void 0:m.name)||u}(${d})`}).join(", ");return`- ${t.name}: [${r.join(", ")}], [${i}x], [${s}]${a}, [${l||""}]`}).filter(Boolean).join(`
`),qA=(e,t)=>{const n=Nx(e),o=t.filter(r=>r.taskDetails&&r.taskDetails.includes(":")).slice(-10).map(r=>{var a,l;const i=((l=(a=r.taskDetails)==null?void 0:a.split(":")[1])==null?void 0:l.trim())||"",s=i.length>60?i.substring(0,60)+"...":i;return`[${r.author}]: ${s}`}).join(`
`);return`
[ - ]
[(ID|Name|MBTI|Trust|Insight|Expr)]
[(ID|Name|MBTI|Trust|Insight|Expr)]
${n}

[ (Behavioral DNA)]
${jA(e)}

[()]
${o||"..."}
`.trim()},JA=async(e,t)=>{const n=`
    
     4 
    
    []
    1. 
    2.  3  MBTI
    3. reason 20 

    []
     JSON  "result" 
    {
      "result": [
        { "type": "INTJ", "percentage": 85, "reason": "" },
        ...
      ]
    }
  `.trim(),o=e.map(r=>`${r.q}: ${r.val}`).join(`
`);try{const r=await Oo(o,n,void 0,t),i=JSON.parse(Ki(r));let s=[];if(Array.isArray(i)?s=i:i.result&&Array.isArray(i.result)&&(s=i.result),s.length>0&&s[0].type)return s;throw new Error("Invalid format")}catch(r){return console.warn("Analysis fallback",r),[{type:"ISFP",percentage:70,reason:""},{type:"INFP",percentage:50,reason:""},{type:"ESFP",percentage:30,reason:""}]}},_x=async(e,t,n,o=[])=>{const r=qA(t,o),i=kx([n]),s=e.map(l=>{const u=BA(n,l),d=Ui[l];let h=`: "${l}" (: ${u}).`;return d&&(h+=` : ${d}.`),h}).join(`
`),a=`
${ze.designPhilosophy}

[]
: ${n.name} (: ${n.mbti}).
:
${s}

${i}
${r}

[]
 4 
 JSON Key  IDValue  4 

[]
{
  "Ti": { "standard": {...}, "truth": {...}, "dare": {...}, "deep": {...} },
  "Fe": { ... }
}

${ze.taskPromptTemplate}
    `.trim();try{console.log(` [AI ]  {${e.join(", ")}}  AI ...`);const l=await Oo(a);console.log(" [AI ] AI ");const u=JSON.parse(Ki(l)),d={};return e.forEach(h=>{const m=u[h]||{},g={};["standard","truth","dare","deep"].forEach(T=>{const w=m[T]||{},v=Ao[T];g[T]={category:T,title:w.title||"",description:w.description||` ${h} `,scoreType:w.scoreType||"expression",durationSeconds:w.durationSeconds||60,multiplier:v.multiplier,source:"ai"}}),d[h]=g}),d}catch(l){console.error(" ALL AI Providers Failed in Disaster Recovery Chain!",l),console.warn(" Falling back to Local Library as the last line of defense.");const u={};return e.forEach(d=>{const h=Ex(d,4),m={};["standard","truth","dare","deep"].forEach((g,S)=>{const T=h[S]||{title:"",description:"",scoreType:"expression",durationSeconds:60},w=Ao[g];m[g]={category:g,title:T.title,description:T.description,scoreType:T.scoreType,durationSeconds:T.durationSeconds,multiplier:w.multiplier,source:"local"}}),u[d]=m}),u}},gc=async(e,t,n,o=[])=>(await _x([e],t,n,o))[e],ja=async(e,t,n)=>{const o=`
    
     ${e.mbti} 
    
    
    [] ${t.title} (${t.description})
    [] "${n||""}"

    []
    Strict JSON:
    {
      "tag": "#",
      "mood": "",
      "feedback": "...",
      "scores": { "trust": 3, "insight": 3, "expression": 3 }
    }
    `.trim();try{const r=await Oo("",o);return JSON.parse(Ki(r))}catch{return{tag:"#",mood:"",feedback:"",scores:{trust:3,insight:3,expression:3}}}},WA=async(e,t,n)=>{const o=`
    
    
    []
    1. : ${JSON.stringify(e)}
    2. : "${t}" ()
    
    []
    
    
    1. ......
    2.  tag  feedback  scores
    3. JSON 
    `.trim(),r=await Oo("",o),i=JSON.parse(Ki(r));return{...e,...i,scores:e.scores}},KA=async(e,t,n,o)=>{if(!(!!o&&o.length>100))return ja(e,t,n);try{const[i,s]=await Promise.all([ja(e,t,n),Ix(o,t.title)]);return await WA(i,s,e)}catch(i){return console.error("Parallel analysis failed",i),ja(e,t,n)}},YA=async(e,t,n=[])=>{const o=Nx(e),r=HA(e,n),i=kx(e),s=ze.reportPromptTemplate,a=`
${ze.designPhilosophy}

[: ]
(ID|Name|MBTI|T|I|E):
${o}

[]:
${r}

${i}

${s}
    `.trim();try{const l=await Oo(a),u=JSON.parse(Ki(l)),d={};return e.forEach(h=>{var g;let m=(g=u.playerAnalysis)==null?void 0:g[h.id];if(!m&&u.playerAnalysis){const S=Object.keys(u.playerAnalysis).find(T=>T.includes(h.name));S&&(m=u.playerAnalysis[S])}d[h.id]=m||`${h.name} ... `}),{groupAnalysis:u.groupAnalysis||"",playerAnalysis:d}}catch(l){console.error("Report Generation Fail",l);const u={};return e.forEach(d=>{const h=wx[d.mbti];h?u[d.id]=`AI ...

 **** ${d.mbti} ${h.bestState}

 ****${h.growth}

 ****${h.othersSee}`:u[d.id]=""}),{groupAnalysis:"AI ",playerAnalysis:u}}},XA=async(e,t)=>{const n=t.map(i=>`${i.type} (${i.percentage}%): ${i.reason}`).join(`
`),o=`
 "${e.name}" 
 MBTI 


[]
1. 
2. 
`.trim(),r=` "${e.name}" 
${n}

`;try{const i=await Oo(r,o);return{groupAnalysis:` ${e.name} `,playerAnalysis:{[e.mbti]:i}}}catch{const s=wx[e.mbti];return{groupAnalysis:"",playerAnalysis:{[e.mbti]:s?`
${s.type} ${s.othersSee}


${s.bestState}


${s.growth}`:" AI "}}}};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bx=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:r="",children:i,iconNode:s,...a},l)=>b.createElement("svg",{ref:l,...ZA,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:bx("lucide",r),...a},[...s.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(e,t)=>{const n=b.forwardRef(({className:o,...r},i)=>b.createElement(e2,{ref:i,iconNode:t,className:bx(`lucide-${QA(e)}`,o),...r}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=Y("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Y("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=Y("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Y("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Y("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=Y("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Y("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Y("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Y("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=Y("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Y("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Y("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Y("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Y("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Y("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Y("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=Y("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=Y("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Y("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Y("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Y("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=Y("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=Y("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Y("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=Y("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=Y("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Y("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=Y("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Y("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=Y("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=Y("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Y("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Y("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Y("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=Y("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=Y("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Y("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Y("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=Y("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=Y("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Y("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Y("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),sf=b.createContext({});function lf(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const af=typeof window<"u",Gx=af?b.useLayoutEffect:b.useEffect,sa=b.createContext(null);function uf(e,t){e.indexOf(t)===-1&&e.push(t)}function cf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const bn=(e,t,n)=>n>t?t:n<e?e:n;let df=()=>{};const An={},Bx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function zx(e){return typeof e=="object"&&e!==null}const Ox=e=>/^0[^.\s]+$/u.test(e);function ff(e){let t;return()=>(t===void 0&&(t=e()),t)}const Bt=e=>e,M2=(e,t)=>n=>t(e(n)),Xi=(...e)=>e.reduce(M2),Gi=(e,t,n)=>{const o=t-e;return o===0?1:(n-e)/o};class pf{constructor(){this.subscriptions=[]}add(t){return uf(this.subscriptions,t),()=>cf(this.subscriptions,t)}notify(t,n,o){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,o);else for(let i=0;i<r;i++){const s=this.subscriptions[i];s&&s(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mn=e=>e*1e3,Ut=e=>e/1e3;function $x(e,t){return t?e*(1e3/t):0}const Hx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,D2=1e-7,L2=12;function F2(e,t,n,o,r){let i,s,a=0;do s=t+(n-t)/2,i=Hx(s,o,r)-e,i>0?n=s:t=s;while(Math.abs(i)>D2&&++a<L2);return s}function Qi(e,t,n,o){if(e===t&&n===o)return Bt;const r=i=>F2(i,0,1,e,n);return i=>i===0||i===1?i:Hx(r(i),t,o)}const jx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qx=e=>t=>1-e(1-t),Jx=Qi(.33,1.53,.69,.99),hf=qx(Jx),Wx=jx(hf),Kx=e=>(e*=2)<1?.5*hf(e):.5*(2-Math.pow(2,-10*(e-1))),mf=e=>1-Math.sin(Math.acos(e)),Yx=qx(mf),Xx=jx(mf),U2=Qi(.42,0,1,1),V2=Qi(0,0,.58,1),Qx=Qi(.42,0,.58,1),G2=e=>Array.isArray(e)&&typeof e[0]!="number",Zx=e=>Array.isArray(e)&&typeof e[0]=="number",B2={linear:Bt,easeIn:U2,easeInOut:Qx,easeOut:V2,circIn:mf,circInOut:Xx,circOut:Yx,backIn:hf,backInOut:Wx,backOut:Jx,anticipate:Kx},z2=e=>typeof e=="string",Km=e=>{if(Zx(e)){df(e.length===4);const[t,n,o,r]=e;return Qi(t,n,o,r)}else if(z2(e))return B2[e];return e},Ns=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function O2(e,t){let n=new Set,o=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){s.has(d)&&(u.schedule(d),e()),d(a)}const u={schedule:(d,h=!1,m=!1)=>{const S=m&&r?n:o;return h&&s.add(d),S.has(d)||S.add(d),d},cancel:d=>{o.delete(d),s.delete(d)},process:d=>{if(a=d,r){i=!0;return}r=!0,[n,o]=[o,n],n.forEach(l),n.clear(),r=!1,i&&(i=!1,u.process(d))}};return u}const $2=40;function eS(e,t){let n=!1,o=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=Ns.reduce((x,E)=>(x[E]=O2(i),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:m,render:g,postRender:S}=s,T=()=>{const x=An.useManualTiming?r.timestamp:performance.now();n=!1,An.useManualTiming||(r.delta=o?1e3/60:Math.max(Math.min(x-r.timestamp,$2),1)),r.timestamp=x,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),d.process(r),h.process(r),m.process(r),g.process(r),S.process(r),r.isProcessing=!1,n&&t&&(o=!1,e(T))},w=()=>{n=!0,o=!0,r.isProcessing||e(T)};return{schedule:Ns.reduce((x,E)=>{const k=s[E];return x[E]=(C,I=!1,_=!1)=>(n||w(),k.schedule(C,I,_)),x},{}),cancel:x=>{for(let E=0;E<Ns.length;E++)s[Ns[E]].cancel(x)},state:r,steps:s}}const{schedule:Ie,cancel:to,state:Ye,steps:Wa}=eS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bt,!0);let qs;function H2(){qs=void 0}const vt={now:()=>(qs===void 0&&vt.set(Ye.isProcessing||An.useManualTiming?Ye.timestamp:performance.now()),qs),set:e=>{qs=e,queueMicrotask(H2)}},tS=e=>t=>typeof t=="string"&&t.startsWith(e),nS=tS("--"),j2=tS("var(--"),gf=e=>j2(e)?q2.test(e.split("/*")[0].trim()):!1,q2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Gr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bi={...Gr,transform:e=>bn(0,1,e)},ks={...Gr,default:1},mi=e=>Math.round(e*1e5)/1e5,yf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function J2(e){return e==null}const W2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vf=(e,t)=>n=>!!(typeof n=="string"&&W2.test(n)&&n.startsWith(e)||t&&!J2(n)&&Object.prototype.hasOwnProperty.call(n,t)),oS=(e,t,n)=>o=>{if(typeof o!="string")return o;const[r,i,s,a]=o.match(yf);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},K2=e=>bn(0,255,e),Ka={...Gr,transform:e=>Math.round(K2(e))},ko={test:vf("rgb","red"),parse:oS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+Ka.transform(e)+", "+Ka.transform(t)+", "+Ka.transform(n)+", "+mi(Bi.transform(o))+")"};function Y2(e){let t="",n="",o="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,o+=o,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:r?parseInt(r,16)/255:1}}const wc={test:vf("#"),parse:Y2,transform:ko.transform},Zi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Un=Zi("deg"),gn=Zi("%"),oe=Zi("px"),X2=Zi("vh"),Q2=Zi("vw"),Ym={...gn,parse:e=>gn.parse(e)/100,transform:e=>gn.transform(e*100)},ar={test:vf("hsl","hue"),parse:oS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+gn.transform(mi(t))+", "+gn.transform(mi(n))+", "+mi(Bi.transform(o))+")"},Ge={test:e=>ko.test(e)||wc.test(e)||ar.test(e),parse:e=>ko.test(e)?ko.parse(e):ar.test(e)?ar.parse(e):wc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ko.transform(e):ar.transform(e),getAnimatableNone:e=>{const t=Ge.parse(e);return t.alpha=0,Ge.transform(t)}},Z2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eP(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(yf))==null?void 0:t.length)||0)+(((n=e.match(Z2))==null?void 0:n.length)||0)>0}const rS="number",iS="color",tP="var",nP="var(",Xm="${}",oP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zi(e){const t=e.toString(),n=[],o={color:[],number:[],var:[]},r=[];let i=0;const a=t.replace(oP,l=>(Ge.test(l)?(o.color.push(i),r.push(iS),n.push(Ge.parse(l))):l.startsWith(nP)?(o.var.push(i),r.push(tP),n.push(l)):(o.number.push(i),r.push(rS),n.push(parseFloat(l))),++i,Xm)).split(Xm);return{values:n,split:a,indexes:o,types:r}}function sS(e){return zi(e).values}function lS(e){const{split:t,types:n}=zi(e),o=t.length;return r=>{let i="";for(let s=0;s<o;s++)if(i+=t[s],r[s]!==void 0){const a=n[s];a===rS?i+=mi(r[s]):a===iS?i+=Ge.transform(r[s]):i+=r[s]}return i}}const rP=e=>typeof e=="number"?0:Ge.test(e)?Ge.getAnimatableNone(e):e;function iP(e){const t=sS(e);return lS(e)(t.map(rP))}const no={test:eP,parse:sS,createTransformer:lS,getAnimatableNone:iP};function Ya(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function sP({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,t/=100,n/=100;let r=0,i=0,s=0;if(!t)r=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=Ya(l,a,e+1/3),i=Ya(l,a,e),s=Ya(l,a,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:o}}function _l(e,t){return n=>n>0?t:e}const be=(e,t,n)=>e+(t-e)*n,Xa=(e,t,n)=>{const o=e*e,r=n*(t*t-o)+o;return r<0?0:Math.sqrt(r)},lP=[wc,ko,ar],aP=e=>lP.find(t=>t.test(e));function Qm(e){const t=aP(e);if(!t)return!1;let n=t.parse(e);return t===ar&&(n=sP(n)),n}const Zm=(e,t)=>{const n=Qm(e),o=Qm(t);if(!n||!o)return _l(e,t);const r={...n};return i=>(r.red=Xa(n.red,o.red,i),r.green=Xa(n.green,o.green,i),r.blue=Xa(n.blue,o.blue,i),r.alpha=be(n.alpha,o.alpha,i),ko.transform(r))},Ec=new Set(["none","hidden"]);function uP(e,t){return Ec.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function cP(e,t){return n=>be(e,t,n)}function xf(e){return typeof e=="number"?cP:typeof e=="string"?gf(e)?_l:Ge.test(e)?Zm:pP:Array.isArray(e)?aS:typeof e=="object"?Ge.test(e)?Zm:dP:_l}function aS(e,t){const n=[...e],o=n.length,r=e.map((i,s)=>xf(i)(i,t[s]));return i=>{for(let s=0;s<o;s++)n[s]=r[s](i);return n}}function dP(e,t){const n={...e,...t},o={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(o[r]=xf(e[r])(e[r],t[r]));return r=>{for(const i in o)n[i]=o[i](r);return n}}function fP(e,t){const n=[],o={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const i=t.types[r],s=e.indexes[i][o[i]],a=e.values[s]??0;n[r]=a,o[i]++}return n}const pP=(e,t)=>{const n=no.createTransformer(t),o=zi(e),r=zi(t);return o.indexes.var.length===r.indexes.var.length&&o.indexes.color.length===r.indexes.color.length&&o.indexes.number.length>=r.indexes.number.length?Ec.has(e)&&!r.values.length||Ec.has(t)&&!o.values.length?uP(e,t):Xi(aS(fP(o,r),r.values),n):_l(e,t)};function uS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?be(e,t,n):xf(e)(e,t)}const hP=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ie.update(t,n),stop:()=>to(t),now:()=>Ye.isProcessing?Ye.timestamp:vt.now()}},cS=(e,t,n=10)=>{let o="";const r=Math.max(Math.round(t/n),2);for(let i=0;i<r;i++)o+=Math.round(e(i/(r-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},bl=2e4;function Sf(e){let t=0;const n=50;let o=e.next(t);for(;!o.done&&t<bl;)t+=n,o=e.next(t);return t>=bl?1/0:t}function mP(e,t=100,n){const o=n({...e,keyframes:[0,t]}),r=Math.min(Sf(o),bl);return{type:"keyframes",ease:i=>o.next(r*i).value/t,duration:Ut(r)}}const gP=5;function dS(e,t,n){const o=Math.max(t-gP,0);return $x(n-e(o),t-o)}const De={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qa=.001;function yP({duration:e=De.duration,bounce:t=De.bounce,velocity:n=De.velocity,mass:o=De.mass}){let r,i,s=1-t;s=bn(De.minDamping,De.maxDamping,s),e=bn(De.minDuration,De.maxDuration,Ut(e)),s<1?(r=u=>{const d=u*s,h=d*e,m=d-n,g=Cc(u,s),S=Math.exp(-h);return Qa-m/g*S},i=u=>{const h=u*s*e,m=h*n+n,g=Math.pow(s,2)*Math.pow(u,2)*e,S=Math.exp(-h),T=Cc(Math.pow(u,2),s);return(-r(u)+Qa>0?-1:1)*((m-g)*S)/T}):(r=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Qa+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,l=xP(r,i,a);if(e=mn(e),isNaN(l))return{stiffness:De.stiffness,damping:De.damping,duration:e};{const u=Math.pow(l,2)*o;return{stiffness:u,damping:s*2*Math.sqrt(o*u),duration:e}}}const vP=12;function xP(e,t,n){let o=n;for(let r=1;r<vP;r++)o=o-e(o)/t(o);return o}function Cc(e,t){return e*Math.sqrt(1-t*t)}const SP=["duration","bounce"],TP=["stiffness","damping","mass"];function e0(e,t){return t.some(n=>e[n]!==void 0)}function wP(e){let t={velocity:De.velocity,stiffness:De.stiffness,damping:De.damping,mass:De.mass,isResolvedFromDuration:!1,...e};if(!e0(e,TP)&&e0(e,SP))if(e.visualDuration){const n=e.visualDuration,o=2*Math.PI/(n*1.2),r=o*o,i=2*bn(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:De.mass,stiffness:r,damping:i}}else{const n=yP(e);t={...t,...n,mass:De.mass},t.isResolvedFromDuration=!0}return t}function Al(e=De.visualDuration,t=De.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:r}=n;const i=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:g}=wP({...n,velocity:-Ut(n.velocity||0)}),S=m||0,T=u/(2*Math.sqrt(l*d)),w=s-i,v=Ut(Math.sqrt(l/d)),y=Math.abs(w)<5;o||(o=y?De.restSpeed.granular:De.restSpeed.default),r||(r=y?De.restDelta.granular:De.restDelta.default);let x;if(T<1){const k=Cc(v,T);x=C=>{const I=Math.exp(-T*v*C);return s-I*((S+T*v*w)/k*Math.sin(k*C)+w*Math.cos(k*C))}}else if(T===1)x=k=>s-Math.exp(-v*k)*(w+(S+v*w)*k);else{const k=v*Math.sqrt(T*T-1);x=C=>{const I=Math.exp(-T*v*C),_=Math.min(k*C,300);return s-I*((S+T*v*w)*Math.sinh(_)+k*w*Math.cosh(_))/k}}const E={calculatedDuration:g&&h||null,next:k=>{const C=x(k);if(g)a.done=k>=h;else{let I=k===0?S:0;T<1&&(I=k===0?mn(S):dS(x,k,C));const _=Math.abs(I)<=o,A=Math.abs(s-C)<=r;a.done=_&&A}return a.value=a.done?s:C,a},toString:()=>{const k=Math.min(Sf(E),bl),C=cS(I=>E.next(k*I).value,k,30);return k+"ms "+C},toTransition:()=>{}};return E}Al.applyToOptions=e=>{const t=mP(e,100,Al);return e.ease=t.ease,e.duration=mn(t.duration),e.type="keyframes",e};function Nc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},g=_=>a!==void 0&&_<a||l!==void 0&&_>l,S=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let T=n*t;const w=h+T,v=s===void 0?w:s(w);v!==w&&(T=v-h);const y=_=>-T*Math.exp(-_/o),x=_=>v+y(_),E=_=>{const A=y(_),M=x(_);m.done=Math.abs(A)<=u,m.value=m.done?v:M};let k,C;const I=_=>{g(m.value)&&(k=_,C=Al({keyframes:[m.value,S(m.value)],velocity:dS(x,_,m.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return I(0),{calculatedDuration:null,next:_=>{let A=!1;return!C&&k===void 0&&(A=!0,E(_),I(_)),k!==void 0&&_>=k?C.next(_-k):(!A&&E(_),m)}}}function EP(e,t,n){const o=[],r=n||An.mix||uS,i=e.length-1;for(let s=0;s<i;s++){let a=r(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Bt:t;a=Xi(l,a)}o.push(a)}return o}function CP(e,t,{clamp:n=!0,ease:o,mixer:r}={}){const i=e.length;if(df(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=EP(t,o,r),l=a.length,u=d=>{if(s&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const m=Gi(e[h],e[h+1],d);return a[h](m)};return n?d=>u(bn(e[0],e[i-1],d)):u}function NP(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const r=Gi(0,t,o);e.push(be(n,1,r))}}function kP(e){const t=[0];return NP(t,e.length-1),t}function IP(e,t){return e.map(n=>n*t)}function _P(e,t){return e.map(()=>t||Qx).splice(0,e.length-1)}function gi({duration:e=300,keyframes:t,times:n,ease:o="easeInOut"}){const r=G2(o)?o.map(Km):Km(o),i={done:!1,value:t[0]},s=IP(n&&n.length===t.length?n:kP(t),e),a=CP(s,t,{ease:Array.isArray(r)?r:_P(t,r)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const bP=e=>e!==null;function Tf(e,{repeat:t,repeatType:n="loop"},o,r=1){const i=e.filter(bP),a=r<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||o===void 0?i[a]:o}const AP={decay:Nc,inertia:Nc,tween:gi,keyframes:gi,spring:Al};function fS(e){typeof e.type=="string"&&(e.type=AP[e.type])}class wf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const PP=e=>e/100;class Ef extends wf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var o,r;const{motionValue:n}=this.options;n&&n.updatedAt!==vt.now()&&this.tick(vt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(o=this.options).onStop)==null||r.call(o))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;fS(t);const{type:n=gi,repeat:o=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=t;let{keyframes:a}=t;const l=n||gi;l!==gi&&typeof a[0]!="number"&&(this.mixKeyframes=Xi(PP,uS(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=Sf(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(o+1)-r,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:o,totalDuration:r,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return o.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:m,repeatDelay:g,type:S,onUpdate:T,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>r;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let x=this.currentTime,E=o;if(h){const _=Math.min(this.currentTime,r)/a;let A=Math.floor(_),M=_%1;!M&&_>=1&&(M=1),M===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(m==="reverse"?(M=1-M,g&&(M-=g/a)):m==="mirror"&&(E=s)),x=bn(0,1,M)*a}const k=y?{done:!1,value:d[0]}:E.next(x);i&&(k.value=i(k.value));let{done:C}=k;!y&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return I&&S!==Nc&&(k.value=Tf(d,this.options,w,this.speed)),T&&T(k.value),I&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return Ut(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ut(t)}get time(){return Ut(this.currentTime)}set time(t){var n;t=mn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ut(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:t=hP,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(r=this.options).onPlay)==null||i.call(r);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=n??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function RP(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Io=e=>e*180/Math.PI,kc=e=>{const t=Io(Math.atan2(e[1],e[0]));return Ic(t)},MP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:kc,rotateZ:kc,skewX:e=>Io(Math.atan(e[1])),skewY:e=>Io(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ic=e=>(e=e%360,e<0&&(e+=360),e),t0=kc,n0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),o0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),DP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:n0,scaleY:o0,scale:e=>(n0(e)+o0(e))/2,rotateX:e=>Ic(Io(Math.atan2(e[6],e[5]))),rotateY:e=>Ic(Io(Math.atan2(-e[2],e[0]))),rotateZ:t0,rotate:t0,skewX:e=>Io(Math.atan(e[4])),skewY:e=>Io(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _c(e){return e.includes("scale")?1:0}function bc(e,t){if(!e||e==="none")return _c(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,r;if(n)o=DP,r=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=MP,r=a}if(!r)return _c(t);const i=o[t],s=r[1].split(",").map(FP);return typeof i=="function"?i(s):s[i]}const LP=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return bc(n,t)};function FP(e){return parseFloat(e.trim())}const Br=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zr=new Set(Br),r0=e=>e===Gr||e===oe,UP=new Set(["x","y","z"]),VP=Br.filter(e=>!UP.has(e));function GP(e){const t=[];return VP.forEach(n=>{const o=e.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t}const Po={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>bc(t,"x"),y:(e,{transform:t})=>bc(t,"y")};Po.translateX=Po.x;Po.translateY=Po.y;const Ro=new Set;let Ac=!1,Pc=!1,Rc=!1;function pS(){if(Pc){const e=Array.from(Ro).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),n=new Map;t.forEach(o=>{const r=GP(o);r.length&&(n.set(o,r),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const r=n.get(o);r&&r.forEach(([i,s])=>{var a;(a=o.getValue(i))==null||a.set(s)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Pc=!1,Ac=!1,Ro.forEach(e=>e.complete(Rc)),Ro.clear()}function hS(){Ro.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Pc=!0)})}function BP(){Rc=!0,hS(),pS(),Rc=!1}class Cf{constructor(t,n,o,r,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=o,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Ro.add(this),Ac||(Ac=!0,Ie.read(hS),Ie.resolveKeyframes(pS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:o,motionValue:r}=this;if(t[0]===null){const i=r==null?void 0:r.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(o&&n){const a=o.readValue(n,s);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=s),r&&i===void 0&&r.set(t[0])}RP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ro.delete(this)}cancel(){this.state==="scheduled"&&(Ro.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zP=e=>e.startsWith("--");function OP(e,t,n){zP(t)?e.style.setProperty(t,n):e.style[t]=n}const $P=ff(()=>window.ScrollTimeline!==void 0),HP={};function jP(e,t){const n=ff(e);return()=>HP[t]??n()}const mS=jP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ii=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`,i0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ii([0,.65,.55,1]),circOut:ii([.55,0,1,.45]),backIn:ii([.31,.01,.66,-.59]),backOut:ii([.33,1.53,.69,.99])};function gS(e,t){if(e)return typeof e=="function"?mS()?cS(e,t):"ease-out":Zx(e)?ii(e):Array.isArray(e)?e.map(n=>gS(n,t)||i0.easeOut):i0[e]}function qP(e,t,n,{delay:o=0,duration:r=300,repeat:i=0,repeatType:s="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[t]:n};l&&(d.offset=l);const h=gS(a,r);Array.isArray(h)&&(d.easing=h);const m={delay:o,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function yS(e){return typeof e=="function"&&"applyToOptions"in e}function JP({type:e,...t}){return yS(e)&&mS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class WP extends wf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:o,keyframes:r,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,df(typeof t.type!="string");const u=JP(t);this.animation=qP(n,o,r,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Tf(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):OP(n,o,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,o;const t=((o=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:o.call(n).duration)||0;return Ut(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ut(t)}get time(){return Ut(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=mn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&$P()?(this.animation.timeline=t,Bt):n(this)}}const vS={anticipate:Kx,backInOut:Wx,circInOut:Xx};function KP(e){return e in vS}function YP(e){typeof e.ease=="string"&&KP(e.ease)&&(e.ease=vS[e.ease])}const s0=10;class XP extends WP{constructor(t){YP(t),fS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:o,onComplete:r,element:i,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Ef({...s,autoplay:!1}),l=mn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-s0).value,a.sample(l).value,s0),a.stop()}}const l0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(no.test(e)||e==="0")&&!e.startsWith("url("));function QP(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ZP(e,t,n,o){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=l0(r,t),a=l0(i,t);return!s||!a?!1:QP(e)||(n==="spring"||yS(n))&&o}function Mc(e){e.duration=0,e.type="keyframes"}const eR=new Set(["opacity","clipPath","filter","transform"]),tR=ff(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nR(e){var d;const{motionValue:t,name:n,repeatDelay:o,repeatType:r,damping:i,type:s}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return tR()&&n&&eR.has(n)&&(n!=="transform"||!u)&&!l&&!o&&r!=="mirror"&&i!==0&&s!=="inertia"}const oR=40;class rR extends wf{constructor({autoplay:t=!0,delay:n=0,type:o="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var S;super(),this.stop=()=>{var T,w;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=vt.now();const m={autoplay:t,delay:n,type:o,repeat:r,repeatDelay:i,repeatType:s,name:l,motionValue:u,element:d,...h},g=(d==null?void 0:d.KeyframeResolver)||Cf;this.keyframeResolver=new g(a,(T,w,v)=>this.onKeyframesResolved(T,w,m,!v),l,u,d),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,n,o,r){this.keyframeResolver=void 0;const{name:i,type:s,velocity:a,delay:l,isHandoff:u,onUpdate:d}=o;this.resolvedAt=vt.now(),ZP(t,i,s,a)||((An.instantAnimations||!l)&&(d==null||d(Tf(t,o,n))),t[0]=t[t.length-1],Mc(o),o.repeat=0);const m={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>oR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...o,keyframes:t},g=!u&&nR(m)?new XP({...m,element:m.motionValue.owner.current}):new Ef(m);g.finished.then(()=>this.notifyFinished()).catch(Bt),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),BP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const iR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sR(e){const t=iR.exec(e);if(!t)return[,];const[,n,o,r]=t;return[`--${n??o}`,r]}function xS(e,t,n=1){const[o,r]=sR(e);if(!o)return;const i=window.getComputedStyle(t).getPropertyValue(o);if(i){const s=i.trim();return Bx(s)?parseFloat(s):s}return gf(r)?xS(r,t,n+1):r}function Nf(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const SS=new Set(["width","height","top","left","right","bottom",...Br]),lR={test:e=>e==="auto",parse:e=>e},TS=e=>t=>t.test(e),wS=[Gr,oe,gn,Un,Q2,X2,lR],a0=e=>wS.find(TS(e));function aR(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ox(e):!0}const uR=new Set(["brightness","contrast","saturate","opacity"]);function cR(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=n.match(yf)||[];if(!o)return e;const r=n.replace(o,"");let i=uR.has(t)?1:0;return o!==n&&(i*=100),t+"("+i+r+")"}const dR=/\b([a-z-]*)\(.*?\)/gu,Dc={...no,getAnimatableNone:e=>{const t=e.match(dR);return t?t.map(cR).join(" "):e}},u0={...Gr,transform:Math.round},fR={rotate:Un,rotateX:Un,rotateY:Un,rotateZ:Un,scale:ks,scaleX:ks,scaleY:ks,scaleZ:ks,skew:Un,skewX:Un,skewY:Un,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:Bi,originX:Ym,originY:Ym,originZ:oe},kf={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...fR,zIndex:u0,fillOpacity:Bi,strokeOpacity:Bi,numOctaves:u0},pR={...kf,color:Ge,backgroundColor:Ge,outlineColor:Ge,fill:Ge,stroke:Ge,borderColor:Ge,borderTopColor:Ge,borderRightColor:Ge,borderBottomColor:Ge,borderLeftColor:Ge,filter:Dc,WebkitFilter:Dc},ES=e=>pR[e];function CS(e,t){let n=ES(e);return n!==Dc&&(n=no),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const hR=new Set(["auto","none","0"]);function mR(e,t,n){let o=0,r;for(;o<e.length&&!r;){const i=e[o];typeof i=="string"&&!hR.has(i)&&zi(i).values.length&&(r=e[o]),o++}if(r&&n)for(const i of t)e[i]=CS(n,r)}class gR extends Cf{constructor(t,n,o,r,i){super(t,n,o,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:o}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),gf(u))){const d=xS(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!SS.has(o)||t.length!==2)return;const[r,i]=t,s=a0(r),a=a0(i);if(s!==a)if(r0(s)&&r0(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else Po[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,o=[];for(let r=0;r<t.length;r++)(t[r]===null||aR(t[r]))&&o.push(r);o.length&&mR(t,o,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Po[o](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(o,r).jump(r,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=o.length-1,s=o[i];o[i]=Po[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function yR(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;const r=(n==null?void 0:n[e])??o.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const NS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function kS(e){return zx(e)&&"offsetHeight"in e}const c0=30,vR=e=>!isNaN(parseFloat(e));class xR{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{var i;const r=vt.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=vt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=vR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new pf);const o=this.events[t].add(n);return t==="change"?()=>{o(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>c0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,c0);return $x(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pr(e,t){return new xR(e,t)}const{schedule:If}=eS(queueMicrotask,!1),Jt={x:!1,y:!1};function IS(){return Jt.x||Jt.y}function SR(e){return e==="x"||e==="y"?Jt[e]?null:(Jt[e]=!0,()=>{Jt[e]=!1}):Jt.x||Jt.y?null:(Jt.x=Jt.y=!0,()=>{Jt.x=Jt.y=!1})}function _S(e,t){const n=yR(e),o=new AbortController,r={passive:!0,...t,signal:o.signal};return[n,r,()=>o.abort()]}function d0(e){return!(e.pointerType==="touch"||IS())}function TR(e,t,n={}){const[o,r,i]=_S(e,n),s=a=>{if(!d0(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const d=h=>{d0(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,r)};return o.forEach(a=>{a.addEventListener("pointerenter",s,r)}),i}const bS=(e,t)=>t?e===t?!0:bS(e,t.parentElement):!1,_f=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,wR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ER(e){return wR.has(e.tagName)||e.tabIndex!==-1}const Js=new WeakSet;function f0(e){return t=>{t.key==="Enter"&&e(t)}}function Za(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const CR=(e,t)=>{const n=e.currentTarget;if(!n)return;const o=f0(()=>{if(Js.has(n))return;Za(n,"down");const r=f0(()=>{Za(n,"up")}),i=()=>Za(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",o,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",o),t)};function p0(e){return _f(e)&&!IS()}function NR(e,t,n={}){const[o,r,i]=_S(e,n),s=a=>{const l=a.currentTarget;if(!p0(a))return;Js.add(l);const u=t(l,a),d=(g,S)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),Js.has(l)&&Js.delete(l),p0(g)&&typeof u=="function"&&u(g,{success:S})},h=g=>{d(g,l===window||l===document||n.useGlobalTarget||bS(l,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",m,r)};return o.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,r),kS(a)&&(a.addEventListener("focus",u=>CR(u,r)),!ER(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function AS(e){return zx(e)&&"ownerSVGElement"in e}function kR(e){return AS(e)&&e.tagName==="svg"}const rt=e=>!!(e&&e.getVelocity),IR=[...wS,Ge,no],_R=e=>IR.find(TS(e)),bf=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function h0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bR(...e){return t=>{let n=!1;const o=e.map(r=>{const i=h0(r,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<o.length;r++){const i=o[r];typeof i=="function"?i():h0(e[r],null)}}}}function AR(...e){return b.useCallback(bR(...e),e)}class PR extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=n.offsetParent,r=kS(o)&&o.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RR({children:e,isPresent:t,anchorX:n,root:o}){const r=b.useId(),i=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=b.useContext(bf),l=AR(i,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:m,right:g}=s.current;if(t||!i.current||!u||!d)return;const S=n==="left"?`left: ${m}`:`right: ${g}`;i.current.dataset.motionPopId=r;const T=document.createElement("style");a&&(T.nonce=a);const w=o??document.head;return w.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${S}px !important;
            top: ${h}px !important;
          }
        `),()=>{w.contains(T)&&w.removeChild(T)}},[t]),p.jsx(PR,{isPresent:t,childRef:i,sizeRef:s,children:b.cloneElement(e,{ref:l})})}const MR=({children:e,initial:t,isPresent:n,onExitComplete:o,custom:r,presenceAffectsLayout:i,mode:s,anchorX:a,root:l})=>{const u=lf(DR),d=b.useId();let h=!0,m=b.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:r,onExitComplete:g=>{u.set(g,!0);for(const S of u.values())if(!S)return;o&&o()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,o]);return i&&h&&(m={...m}),b.useMemo(()=>{u.forEach((g,S)=>u.set(S,!1))},[n]),b.useEffect(()=>{!n&&!u.size&&o&&o()},[n]),s==="popLayout"&&(e=p.jsx(RR,{isPresent:n,anchorX:a,root:l,children:e})),p.jsx(sa.Provider,{value:m,children:e})};function DR(){return new Map}function PS(e=!0){const t=b.useContext(sa);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:r}=t,i=b.useId();b.useEffect(()=>{if(e)return r(i)},[e]);const s=b.useCallback(()=>e&&o&&o(i),[i,o,e]);return!n&&o?[!1,s]:[!0]}const Is=e=>e.key||"";function m0(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const Yt=({children:e,custom:t,initial:n=!0,onExitComplete:o,presenceAffectsLayout:r=!0,mode:i="sync",propagate:s=!1,anchorX:a="left",root:l})=>{const[u,d]=PS(s),h=b.useMemo(()=>m0(e),[e]),m=s&&!u?[]:h.map(Is),g=b.useRef(!0),S=b.useRef(h),T=lf(()=>new Map),[w,v]=b.useState(h),[y,x]=b.useState(h);Gx(()=>{g.current=!1,S.current=h;for(let C=0;C<y.length;C++){const I=Is(y[C]);m.includes(I)?T.delete(I):T.get(I)!==!0&&T.set(I,!1)}},[y,m.length,m.join("-")]);const E=[];if(h!==w){let C=[...h];for(let I=0;I<y.length;I++){const _=y[I],A=Is(_);m.includes(A)||(C.splice(I,0,_),E.push(_))}return i==="wait"&&E.length&&(C=E),x(m0(C)),v(h),null}const{forceRender:k}=b.useContext(sf);return p.jsx(p.Fragment,{children:y.map(C=>{const I=Is(C),_=s&&!u?!1:h===y||m.includes(I),A=()=>{if(T.has(I))T.set(I,!0);else return;let M=!0;T.forEach(L=>{L||(M=!1)}),M&&(k==null||k(),x(S.current),s&&(d==null||d()),o&&o())};return p.jsx(MR,{isPresent:_,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:i,root:l,onExitComplete:_?void 0:A,anchorX:a,children:C},I)})})},RS=b.createContext({strict:!1}),g0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rr={};for(const e in g0)Rr[e]={isEnabled:t=>g0[e].some(n=>!!t[n])};function LR(e){for(const t in e)Rr[t]={...Rr[t],...e[t]}}const FR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||FR.has(e)}let MS=e=>!Pl(e);function UR(e){typeof e=="function"&&(MS=t=>t.startsWith("on")?!Pl(t):e(t))}try{UR(require("@emotion/is-prop-valid").default)}catch{}function VR(e,t,n){const o={};for(const r in e)r==="values"&&typeof e.values=="object"||(MS(r)||n===!0&&Pl(r)||!t&&!Pl(r)||e.draggable&&r.startsWith("onDrag"))&&(o[r]=e[r]);return o}const la=b.createContext({});function aa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Oi(e){return typeof e=="string"||Array.isArray(e)}const Af=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pf=["initial",...Af];function ua(e){return aa(e.animate)||Pf.some(t=>Oi(e[t]))}function DS(e){return!!(ua(e)||e.variants)}function GR(e,t){if(ua(e)){const{initial:n,animate:o}=e;return{initial:n===!1||Oi(n)?n:void 0,animate:Oi(o)?o:void 0}}return e.inherit!==!1?t:{}}function BR(e){const{initial:t,animate:n}=GR(e,b.useContext(la));return b.useMemo(()=>({initial:t,animate:n}),[y0(t),y0(n)])}function y0(e){return Array.isArray(e)?e.join(" "):e}function v0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(oe.test(e))e=parseFloat(e);else return e;const n=v0(e,t.target.x),o=v0(e,t.target.y);return`${n}% ${o}%`}},zR={correct:(e,{treeScale:t,projectionDelta:n})=>{const o=e,r=no.parse(e);if(r.length>5)return o;const i=no.createTransformer(e),s=typeof r[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;r[0+s]/=a,r[1+s]/=l;const u=be(a,l,.5);return typeof r[2+s]=="number"&&(r[2+s]/=u),typeof r[3+s]=="number"&&(r[3+s]/=u),i(r)}},Lc={borderRadius:{...Zr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zr,borderTopRightRadius:Zr,borderBottomLeftRadius:Zr,borderBottomRightRadius:Zr,boxShadow:zR};function LS(e,{layout:t,layoutId:n}){return zr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Lc[e]||e==="opacity")}const OR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$R=Br.length;function HR(e,t,n){let o="",r=!0;for(let i=0;i<$R;i++){const s=Br[i],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=NS(a,kf[s]);if(!l){r=!1;const d=OR[s]||s;o+=`${d}(${u}) `}n&&(t[s]=u)}}return o=o.trim(),n?o=n(t,r?"":o):r&&(o="none"),o}function Rf(e,t,n){const{style:o,vars:r,transformOrigin:i}=e;let s=!1,a=!1;for(const l in t){const u=t[l];if(zr.has(l)){s=!0;continue}else if(nS(l)){r[l]=u;continue}else{const d=NS(u,kf[l]);l.startsWith("origin")?(a=!0,i[l]=d):o[l]=d}}if(t.transform||(s||n?o.transform=HR(t,e.transform,n):o.transform&&(o.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;o.transformOrigin=`${l} ${u} ${d}`}}const Mf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FS(e,t,n){for(const o in t)!rt(t[o])&&!LS(o,n)&&(e[o]=t[o])}function jR({transformTemplate:e},t){return b.useMemo(()=>{const n=Mf();return Rf(n,t,e),Object.assign({},n.vars,n.style)},[t])}function qR(e,t){const n=e.style||{},o={};return FS(o,n,e),Object.assign(o,jR(e,t)),o}function JR(e,t){const n={},o=qR(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const WR={offset:"stroke-dashoffset",array:"stroke-dasharray"},KR={offset:"strokeDashoffset",array:"strokeDasharray"};function YR(e,t,n=1,o=0,r=!0){e.pathLength=1;const i=r?WR:KR;e[i.offset]=oe.transform(-o);const s=oe.transform(t),a=oe.transform(n);e[i.array]=`${s} ${a}`}function US(e,{attrX:t,attrY:n,attrScale:o,pathLength:r,pathSpacing:i=1,pathOffset:s=0,...a},l,u,d){if(Rf(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),o!==void 0&&(h.scale=o),r!==void 0&&YR(h,r,i,s,!1)}const VS=()=>({...Mf(),attrs:{}}),GS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function XR(e,t,n,o){const r=b.useMemo(()=>{const i=VS();return US(i,t,GS(o),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};FS(i,e.style,e),r.style={...i,...r.style}}return r}const QR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Df(e){return typeof e!="string"||e.includes("-")?!1:!!(QR.indexOf(e)>-1||/[A-Z]/u.test(e))}function ZR(e,t,n,{latestValues:o},r,i=!1){const a=(Df(e)?XR:JR)(t,o,r,e),l=VR(t,typeof e=="string",i),u=e!==b.Fragment?{...l,...a,ref:n}:{},{children:d}=t,h=b.useMemo(()=>rt(d)?d.get():d,[d]);return b.createElement(e,{...u,children:h})}function x0(e){const t=[{},{}];return e==null||e.values.forEach((n,o)=>{t[0][o]=n.get(),t[1][o]=n.getVelocity()}),t}function Lf(e,t,n,o){if(typeof t=="function"){const[r,i]=x0(o);t=t(n!==void 0?n:e.custom,r,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,i]=x0(o);t=t(n!==void 0?n:e.custom,r,i)}return t}function Ws(e){return rt(e)?e.get():e}function eM({scrapeMotionValuesFromProps:e,createRenderState:t},n,o,r){return{latestValues:tM(n,o,r,e),renderState:t()}}function tM(e,t,n,o){const r={},i=o(e,{});for(const m in i)r[m]=Ws(i[m]);let{initial:s,animate:a}=e;const l=ua(e),u=DS(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const h=d?a:s;if(h&&typeof h!="boolean"&&!aa(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const S=Lf(e,m[g]);if(S){const{transitionEnd:T,transition:w,...v}=S;for(const y in v){let x=v[y];if(Array.isArray(x)){const E=d?x.length-1:0;x=x[E]}x!==null&&(r[y]=x)}for(const y in T)r[y]=T[y]}}}return r}const BS=e=>(t,n)=>{const o=b.useContext(la),r=b.useContext(sa),i=()=>eM(e,t,o,r);return n?i():lf(i)};function Ff(e,t,n){var i;const{style:o}=e,r={};for(const s in o)(rt(o[s])||t.style&&rt(t.style[s])||LS(s,e)||((i=n==null?void 0:n.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(r[s]=o[s]);return r}const nM=BS({scrapeMotionValuesFromProps:Ff,createRenderState:Mf});function zS(e,t,n){const o=Ff(e,t,n);for(const r in e)if(rt(e[r])||rt(t[r])){const i=Br.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;o[i]=e[r]}return o}const oM=BS({scrapeMotionValuesFromProps:zS,createRenderState:VS}),rM=Symbol.for("motionComponentSymbol");function ur(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iM(e,t,n){return b.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):ur(n)&&(n.current=o))},[t])}const Uf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sM="framerAppearId",OS="data-"+Uf(sM),$S=b.createContext({});function lM(e,t,n,o,r){var T,w;const{visualElement:i}=b.useContext(la),s=b.useContext(RS),a=b.useContext(sa),l=b.useContext(bf).reducedMotion,u=b.useRef(null);o=o||s.renderer,!u.current&&o&&(u.current=o(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=b.useContext($S);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&aM(u.current,n,r,h);const m=b.useRef(!1);b.useInsertionEffect(()=>{d&&m.current&&d.update(n,a)});const g=n[OS],S=b.useRef(!!g&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,g))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,g)));return Gx(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),S.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!S.current&&d.animationState&&d.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,g)}),S.current=!1),d.enteringChildren=void 0)}),d}function aM(e,t,n,o){const{layoutId:r,layout:i,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:HS(e.parent)),e.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!s||a&&ur(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:o,crossfade:d,layoutScroll:l,layoutRoot:u})}function HS(e){if(e)return e.options.allowProjection!==!1?e.projection:HS(e.parent)}function eu(e,{forwardMotionProps:t=!1}={},n,o){n&&LR(n);const r=Df(e)?oM:nM;function i(a,l){let u;const d={...b.useContext(bf),...a,layoutId:uM(a)},{isStatic:h}=d,m=BR(a),g=r(a,h);if(!h&&af){cM();const S=dM(d);u=S.MeasureLayout,m.visualElement=lM(e,g,d,o,S.ProjectionNode)}return p.jsxs(la.Provider,{value:m,children:[u&&m.visualElement?p.jsx(u,{visualElement:m.visualElement,...d}):null,ZR(e,a,iM(g,m.visualElement,l),g,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=b.forwardRef(i);return s[rM]=e,s}function uM({layoutId:e}){const t=b.useContext(sf).id;return t&&e!==void 0?t+"-"+e:e}function cM(e,t){b.useContext(RS).strict}function dM(e){const{drag:t,layout:n}=Rr;if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function fM(e,t){if(typeof Proxy>"u")return eu;const n=new Map,o=(i,s)=>eu(i,s,e,t),r=(i,s)=>o(i,s);return new Proxy(r,{get:(i,s)=>s==="create"?o:(n.has(s)||n.set(s,eu(s,void 0,e,t)),n.get(s))})}function jS({top:e,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:e,max:o}}}function pM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hM(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function tu(e){return e===void 0||e===1}function Fc({scale:e,scaleX:t,scaleY:n}){return!tu(e)||!tu(t)||!tu(n)}function So(e){return Fc(e)||qS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qS(e){return S0(e.x)||S0(e.y)}function S0(e){return e&&e!=="0%"}function Rl(e,t,n){const o=e-n,r=t*o;return n+r}function T0(e,t,n,o,r){return r!==void 0&&(e=Rl(e,r,o)),Rl(e,n,o)+t}function Uc(e,t=0,n=1,o,r){e.min=T0(e.min,t,n,o,r),e.max=T0(e.max,t,n,o,r)}function JS(e,{x:t,y:n}){Uc(e.x,t.translate,t.scale,t.originPoint),Uc(e.y,n.translate,n.scale,n.originPoint)}const w0=.999999999999,E0=1.0000000000001;function mM(e,t,n,o=!1){const r=n.length;if(!r)return;t.x=t.y=1;let i,s;for(let a=0;a<r;a++){i=n[a],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(o&&i.options.layoutScroll&&i.scroll&&i!==i.root&&dr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,JS(e,s)),o&&So(i.latestValues)&&dr(e,i.latestValues))}t.x<E0&&t.x>w0&&(t.x=1),t.y<E0&&t.y>w0&&(t.y=1)}function cr(e,t){e.min=e.min+t,e.max=e.max+t}function C0(e,t,n,o,r=.5){const i=be(e.min,e.max,r);Uc(e,t,n,i,o)}function dr(e,t){C0(e.x,t.x,t.scaleX,t.scale,t.originX),C0(e.y,t.y,t.scaleY,t.scale,t.originY)}function WS(e,t){return jS(hM(e.getBoundingClientRect(),t))}function gM(e,t,n){const o=WS(e,n),{scroll:r}=t;return r&&(cr(o.x,r.offset.x),cr(o.y,r.offset.y)),o}const N0=()=>({translate:0,scale:1,origin:0,originPoint:0}),fr=()=>({x:N0(),y:N0()}),k0=()=>({min:0,max:0}),$e=()=>({x:k0(),y:k0()}),Vc={current:null},KS={current:!1};function yM(){if(KS.current=!0,!!af)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vc.current=e.matches;e.addEventListener("change",t),t()}else Vc.current=!1}const vM=new WeakMap;function xM(e,t,n){for(const o in t){const r=t[o],i=n[o];if(rt(r))e.addValue(o,r);else if(rt(i))e.addValue(o,Pr(r,{owner:e}));else if(i!==r)if(e.hasValue(o)){const s=e.getValue(o);s.liveStyle===!0?s.jump(r):s.hasAnimated||s.set(r)}else{const s=e.getStaticValue(o);e.addValue(o,Pr(s!==void 0?s:r,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const I0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SM{scrapeMotionValuesFromProps(t,n,o){return{}}constructor({parent:t,props:n,presenceContext:o,reducedMotionConfig:r,blockInitialAnimation:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=vt.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ie.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=ua(n),this.isVariantNode=DS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];l[m]!==void 0&&rt(g)&&g.set(l[m])}}mount(t){var n;this.current=t,vM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,r)=>this.bindToMotionValue(r,o)),KS.current||yM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vc.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),to(this.notifyUpdate),to(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const o=this.features[n];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=zr.has(t);o&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Rr){const n=Rr[t];if(!n)continue;const{isEnabled:o,Feature:r}=n;if(!this.features[t]&&r&&o(this.props)&&(this.features[t]=new r(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<I0.length;o++){const r=I0[o];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,s=t[i];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=xM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const o=this.values.get(t);n!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&n!==void 0&&(o=Pr(n===null?void 0:n,{owner:this}),this.addValue(t,o)),o}readValue(t,n){let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(Bx(o)||Ox(o))?o=parseFloat(o):!_R(o)&&no.test(n)&&(o=CS(t,n)),this.setBaseTarget(t,rt(o)?o.get():o)),rt(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const s=Lf(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);s&&(o=s[t])}if(n&&o!==void 0)return o;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!rt(r)?r:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new pf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){If.render(this.render)}}class YS extends SM{constructor(){super(...arguments),this.KeyframeResolver=gR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:o}){delete n[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function XS(e,{style:t,vars:n},o,r){const i=e.style;let s;for(s in t)i[s]=t[s];r==null||r.applyProjectionStyles(i,o);for(s in n)i.setProperty(s,n[s])}function TM(e){return window.getComputedStyle(e)}class wM extends YS{constructor(){super(...arguments),this.type="html",this.renderInstance=XS}readValueFromInstance(t,n){var o;if(zr.has(n))return(o=this.projection)!=null&&o.isProjecting?_c(n):LP(t,n);{const r=TM(t),i=(nS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return WS(t,n)}build(t,n,o){Rf(t,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,n,o){return Ff(t,n,o)}}const QS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EM(e,t,n,o){XS(e,t,void 0,o);for(const r in t.attrs)e.setAttribute(QS.has(r)?r:Uf(r),t.attrs[r])}class CM extends YS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(zr.has(n)){const o=ES(n);return o&&o.default||0}return n=QS.has(n)?n:Uf(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,o){return zS(t,n,o)}build(t,n,o){US(t,n,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(t,n,o,r){EM(t,n,o,r)}mount(t){this.isSVGTag=GS(t.tagName),super.mount(t)}}const NM=(e,t)=>Df(e)?new CM(t):new wM(t,{allowProjection:e!==b.Fragment});function wr(e,t,n){const o=e.getProps();return Lf(o,t,n!==void 0?n:o.custom,e)}const Gc=e=>Array.isArray(e);function kM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Pr(n))}function IM(e){return Gc(e)?e[e.length-1]||0:e}function _M(e,t){const n=wr(e,t);let{transitionEnd:o={},transition:r={},...i}=n||{};i={...i,...o};for(const s in i){const a=IM(i[s]);kM(e,s,a)}}function bM(e){return!!(rt(e)&&e.add)}function Bc(e,t){const n=e.getValue("willChange");if(bM(n))return n.add(t);if(!n&&An.WillChange){const o=new An.WillChange("auto");e.addValue("willChange",o),o.add(t)}}function ZS(e){return e.props[OS]}const AM=e=>e!==null;function PM(e,{repeat:t,repeatType:n="loop"},o){const r=e.filter(AM),i=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[i]}const RM={type:"spring",stiffness:500,damping:25,restSpeed:10},MM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),DM={type:"keyframes",duration:.8},LM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FM=(e,{keyframes:t})=>t.length>2?DM:zr.has(e)?e.startsWith("scale")?MM(t[1]):RM:LM;function UM({when:e,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:r,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Vf=(e,t,n,o={},r,i)=>s=>{const a=Nf(o,e)||{},l=a.delay||o.delay||0;let{elapsed:u=0}=o;u=u-mn(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:m=>{t.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:r};UM(a)||Object.assign(d,FM(e,d)),d.duration&&(d.duration=mn(d.duration)),d.repeatDelay&&(d.repeatDelay=mn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Mc(d),d.delay===0&&(h=!0)),(An.instantAnimations||An.skipAnimations)&&(h=!0,Mc(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const m=PM(d.keyframes,a);if(m!==void 0){Ie.update(()=>{d.onUpdate(m),d.onComplete()});return}}return a.isSync?new Ef(d):new rR(d)};function VM({protectedKeys:e,needsAnimating:t},n){const o=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,o}function e1(e,t,{delay:n=0,transitionOverride:o,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=t;o&&(i=o);const l=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),m=a[d];if(m===void 0||u&&VM(u,d))continue;const g={delay:n,...Nf(i||{},d)},S=h.get();if(S!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===S&&!g.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const v=ZS(e);if(v){const y=window.MotionHandoffAnimation(v,d,Ie);y!==null&&(g.startTime=y,T=!0)}}Bc(e,d),h.start(Vf(d,h,m,e.shouldReduceMotion&&SS.has(d)?{type:!1}:g,e,T));const w=h.animation;w&&l.push(w)}return s&&Promise.all(l).then(()=>{Ie.update(()=>{s&&_M(e,s)})}),l}function t1(e,t,n,o=0,r=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),s=e.size,a=(s-1)*o;return typeof n=="function"?n(i,s):r===1?i*o:a-i*o}function zc(e,t,n={}){var l;const o=wr(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(r=n.transitionOverride);const i=o?()=>Promise.all(e1(e,o,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=r;return GM(e,t,u,d,h,m,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[u,d]=a==="beforeChildren"?[i,s]:[s,i];return u().then(()=>d())}else return Promise.all([i(),s(n.delay)])}function GM(e,t,n=0,o=0,r=0,i=1,s){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(zc(l,t,{...s,delay:n+(typeof o=="function"?0:o)+t1(e.variantChildren,l,o,r,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function BM(e,t,n={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const r=t.map(i=>zc(e,i,n));o=Promise.all(r)}else if(typeof t=="string")o=zc(e,t,n);else{const r=typeof t=="function"?wr(e,t,n.custom):t;o=Promise.all(e1(e,r,n))}return o.then(()=>{e.notify("AnimationComplete",t)})}function n1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}const zM=Pf.length;function o1(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?o1(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<zM;n++){const o=Pf[n],r=e.props[o];(Oi(r)||r===!1)&&(t[o]=r)}return t}const OM=[...Af].reverse(),$M=Af.length;function HM(e){return t=>Promise.all(t.map(({animation:n,options:o})=>BM(e,n,o)))}function jM(e){let t=HM(e),n=_0(),o=!0;const r=l=>(u,d)=>{var m;const h=wr(e,d,l==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:g,transitionEnd:S,...T}=h;u={...u,...T,...S}}return u};function i(l){t=l(e)}function s(l){const{props:u}=e,d=o1(e.parent)||{},h=[],m=new Set;let g={},S=1/0;for(let w=0;w<$M;w++){const v=OM[w],y=n[v],x=u[v]!==void 0?u[v]:d[v],E=Oi(x),k=v===l?y.isActive:null;k===!1&&(S=w);let C=x===d[v]&&x!==u[v]&&E;if(C&&o&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...g},!y.isActive&&k===null||!x&&!y.prevProp||aa(x)||typeof x=="boolean")continue;const I=qM(y.prevProp,x);let _=I||v===l&&y.isActive&&!C&&E||w>S&&E,A=!1;const M=Array.isArray(x)?x:[x];let L=M.reduce(r(v),{});k===!1&&(L={});const{prevResolvedValues:ne={}}=y,O={...ne,...L},j=X=>{_=!0,m.has(X)&&(A=!0,m.delete(X)),y.needsAnimating[X]=!0;const D=e.getValue(X);D&&(D.liveStyle=!1)};for(const X in O){const D=L[X],G=ne[X];if(g.hasOwnProperty(X))continue;let $=!1;Gc(D)&&Gc(G)?$=!n1(D,G):$=D!==G,$?D!=null?j(X):m.add(X):D!==void 0&&m.has(X)?j(X):y.protectedKeys[X]=!0}y.prevProp=x,y.prevResolvedValues=L,y.isActive&&(g={...g,...L}),o&&e.blockInitialAnimation&&(_=!1);const le=C&&I;_&&(!le||A)&&h.push(...M.map(X=>{const D={type:v};if(typeof X=="string"&&o&&!le&&e.manuallyAnimateOnMount&&e.parent){const{parent:G}=e,$=wr(G,X);if(G.enteringChildren&&$){const{delayChildren:te}=$.transition||{};D.delay=t1(G.enteringChildren,e,te)}}return{animation:X,options:D}}))}if(m.size){const w={};if(typeof u.initial!="boolean"){const v=wr(e,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(w.transition=v.transition)}m.forEach(v=>{const y=e.getBaseTarget(v),x=e.getValue(v);x&&(x.liveStyle=!0),w[v]=y??null}),h.push({animation:w})}let T=!!h.length;return o&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(T=!1),o=!1,T?t(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=s(l);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=_0()}}}function qM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!n1(t,e):!1}function mo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _0(){return{animate:mo(!0),whileInView:mo(),whileHover:mo(),whileTap:mo(),whileDrag:mo(),whileFocus:mo(),exit:mo()}}class lo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class JM extends lo{constructor(t){super(t),t.animationState||(t.animationState=jM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();aa(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let WM=0;class KM extends lo{constructor(){super(...arguments),this.id=WM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const YM={animation:{Feature:JM},exit:{Feature:KM}};function $i(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}function es(e){return{point:{x:e.pageX,y:e.pageY}}}const XM=e=>t=>_f(t)&&e(t,es(t));function yi(e,t,n,o){return $i(e,t,XM(n),o)}const r1=1e-4,QM=1-r1,ZM=1+r1,i1=.01,e5=0-i1,t5=0+i1;function ct(e){return e.max-e.min}function n5(e,t,n){return Math.abs(e-t)<=n}function b0(e,t,n,o=.5){e.origin=o,e.originPoint=be(t.min,t.max,e.origin),e.scale=ct(n)/ct(t),e.translate=be(n.min,n.max,e.origin)-e.originPoint,(e.scale>=QM&&e.scale<=ZM||isNaN(e.scale))&&(e.scale=1),(e.translate>=e5&&e.translate<=t5||isNaN(e.translate))&&(e.translate=0)}function vi(e,t,n,o){b0(e.x,t.x,n.x,o?o.originX:void 0),b0(e.y,t.y,n.y,o?o.originY:void 0)}function A0(e,t,n){e.min=n.min+t.min,e.max=e.min+ct(t)}function o5(e,t,n){A0(e.x,t.x,n.x),A0(e.y,t.y,n.y)}function P0(e,t,n){e.min=t.min-n.min,e.max=e.min+ct(t)}function Ml(e,t,n){P0(e.x,t.x,n.x),P0(e.y,t.y,n.y)}function Rt(e){return[e("x"),e("y")]}const s1=({current:e})=>e?e.ownerDocument.defaultView:null,R0=(e,t)=>Math.abs(e-t);function r5(e,t){const n=R0(e.x,t.x),o=R0(e.y,t.y);return Math.sqrt(n**2+o**2)}class l1{constructor(t,n,{transformPagePoint:o,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=ou(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,S=r5(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!S)return;const{point:T}=m,{timestamp:w}=Ye;this.history.push({...T,timestamp:w});const{onStart:v,onMove:y}=this.handlers;g||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=nu(g,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ou(m.type==="pointercancel"?this.lastMoveEventInfo:nu(g,this.transformPagePoint),this.history);this.startEvent&&S&&S(m,v),T&&T(m,v)},!_f(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=o,this.distanceThreshold=s,this.contextWindow=r||window;const a=es(t),l=nu(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=Ye;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,ou(l,this.history)),this.removeListeners=Xi(yi(this.contextWindow,"pointermove",this.handlePointerMove),yi(this.contextWindow,"pointerup",this.handlePointerUp),yi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),to(this.updatePoint)}}function nu(e,t){return t?{point:t(e.point)}:e}function M0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ou({point:e},t){return{point:e,delta:M0(e,a1(t)),offset:M0(e,i5(t)),velocity:s5(t,.1)}}function i5(e){return e[0]}function a1(e){return e[e.length-1]}function s5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const r=a1(e);for(;n>=0&&(o=e[n],!(r.timestamp-o.timestamp>mn(t)));)n--;if(!o)return{x:0,y:0};const i=Ut(r.timestamp-o.timestamp);if(i===0)return{x:0,y:0};const s={x:(r.x-o.x)/i,y:(r.y-o.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function l5(e,{min:t,max:n},o){return t!==void 0&&e<t?e=o?be(t,e,o.min):Math.max(e,t):n!==void 0&&e>n&&(e=o?be(n,e,o.max):Math.min(e,n)),e}function D0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function a5(e,{top:t,left:n,bottom:o,right:r}){return{x:D0(e.x,n,r),y:D0(e.y,t,o)}}function L0(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}function u5(e,t){return{x:L0(e.x,t.x),y:L0(e.y,t.y)}}function c5(e,t){let n=.5;const o=ct(e),r=ct(t);return r>o?n=Gi(t.min,t.max-o,e.min):o>r&&(n=Gi(e.min,e.max-r,t.min)),bn(0,1,n)}function d5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Oc=.35;function f5(e=Oc){return e===!1?e=0:e===!0&&(e=Oc),{x:F0(e,"left","right"),y:F0(e,"top","bottom")}}function F0(e,t,n){return{min:U0(e,t),max:U0(e,n)}}function U0(e,t){return typeof e=="number"?e:e[t]||0}const p5=new WeakMap;class h5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:o}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(es(h).point)},s=(h,m)=>{const{drag:g,dragPropagation:S,onDragStart:T}=this.getProps();if(g&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SR(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rt(v=>{let y=this.getAxisMotionValue(v).get()||0;if(gn.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const E=x.layout.layoutBox[v];E&&(y=ct(E)*(parseFloat(y)/100))}}this.originPoint[v]=y}),T&&Ie.postRender(()=>T(h,m)),Bc(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:S,onDirectionLock:T,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:v}=m;if(S&&this.currentDirection===null){this.currentDirection=m5(v),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),w&&w(h,m)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Rt(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new l1(t,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:o,contextWindow:s1(this.visualElement)})}stop(t,n){const o=t||this.latestPointerEvent,r=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!o)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ie.postRender(()=>a(o,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:r}=this.getProps();if(!o||!_s(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(s=l5(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;t&&ur(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=a5(o.layoutBox,t):this.constraints=!1,this.elastic=f5(n),r!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Rt(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=d5(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ur(t))return!1;const o=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=gM(o,r.root,this.visualElement.getTransformPagePoint());let s=u5(r.layout.layoutBox,i);if(n){const a=n(pM(s));this.hasMutatedConstraints=!!a,a&&(s=jS(a))}return s}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Rt(d=>{if(!_s(d,n,this.currentDirection))return;let h=l&&l[d]||{};s&&(h={min:0,max:0});const m=r?200:1e6,g=r?40:1e7,S={type:"inertia",velocity:o?t[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,S)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return Bc(this.visualElement,t),o.start(Vf(t,o,0,n,this.visualElement,!1))}stopAnimation(){Rt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),r=o[n];return r||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){Rt(n=>{const{drag:o}=this.getProps();if(!_s(n,o,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:s,max:a}=r.layout.layoutBox[n];i.set(t[n]-be(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!ur(n)||!o||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Rt(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();r[s]=c5({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Rt(s=>{if(!_s(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(be(l,u,r[s]))})}addListeners(){if(!this.visualElement.current)return;p5.set(this.visualElement,this);const t=this.visualElement.current,n=yi(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),o=()=>{const{dragConstraints:l}=this.getProps();ur(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",o);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ie.read(o);const s=$i(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Rt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=Oc,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function _s(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function m5(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class g5 extends lo{constructor(t){super(t),this.removeGroupControls=Bt,this.removeListeners=Bt,this.controls=new h5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const V0=e=>(t,n)=>{e&&Ie.postRender(()=>e(t,n))};class y5 extends lo{constructor(){super(...arguments),this.removePointerDownListener=Bt}onPointerDown(t){this.session=new l1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:s1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:o,onPanEnd:r}=this.node.getProps();return{onSessionStart:V0(t),onStart:V0(n),onMove:o,onEnd:(i,s)=>{delete this.session,r&&Ie.postRender(()=>r(i,s))}}}mount(){this.removePointerDownListener=yi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ks={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ru=!1;class v5 extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o,layoutId:r}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),o&&o.register&&r&&o.register(i),ru&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ks.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:o,drag:r,isPresent:i}=this.props,{projection:s}=o;return s&&(s.isPresent=i,ru=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Ie.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),If.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:r}=t;ru=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),o&&o.deregister&&o.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function u1(e){const[t,n]=PS(),o=b.useContext(sf);return p.jsx(v5,{...e,layoutGroup:o,switchLayoutGroup:b.useContext($S),isPresent:t,safeToRemove:n})}function x5(e,t,n){const o=rt(e)?e:Pr(e);return o.start(Vf("",o,t,n)),o.animation}const S5=(e,t)=>e.depth-t.depth;class T5{constructor(){this.children=[],this.isDirty=!1}add(t){uf(this.children,t),this.isDirty=!0}remove(t){cf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(S5),this.isDirty=!1,this.children.forEach(t)}}function w5(e,t){const n=vt.now(),o=({timestamp:r})=>{const i=r-n;i>=t&&(to(o),e(i-t))};return Ie.setup(o,!0),()=>to(o)}const c1=["TopLeft","TopRight","BottomLeft","BottomRight"],E5=c1.length,G0=e=>typeof e=="string"?parseFloat(e):e,B0=e=>typeof e=="number"||oe.test(e);function C5(e,t,n,o,r,i){r?(e.opacity=be(0,n.opacity??1,N5(o)),e.opacityExit=be(t.opacity??1,0,k5(o))):i&&(e.opacity=be(t.opacity??1,n.opacity??1,o));for(let s=0;s<E5;s++){const a=`border${c1[s]}Radius`;let l=z0(t,a),u=z0(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||B0(l)===B0(u)?(e[a]=Math.max(be(G0(l),G0(u),o),0),(gn.test(u)||gn.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=be(t.rotate||0,n.rotate||0,o))}function z0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const N5=d1(0,.5,Yx),k5=d1(.5,.95,Bt);function d1(e,t,n){return o=>o<e?0:o>t?1:n(Gi(e,t,o))}function O0(e,t){e.min=t.min,e.max=t.max}function qt(e,t){O0(e.x,t.x),O0(e.y,t.y)}function $0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function H0(e,t,n,o,r){return e-=t,e=Rl(e,1/n,o),r!==void 0&&(e=Rl(e,1/r,o)),e}function I5(e,t=0,n=1,o=.5,r,i=e,s=e){if(gn.test(t)&&(t=parseFloat(t),t=be(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=be(i.min,i.max,o);e===i&&(a-=t),e.min=H0(e.min,t,n,a,r),e.max=H0(e.max,t,n,a,r)}function j0(e,t,[n,o,r],i,s){I5(e,t[n],t[o],t[r],t.scale,i,s)}const _5=["x","scaleX","originX"],b5=["y","scaleY","originY"];function q0(e,t,n,o){j0(e.x,t,_5,n?n.x:void 0,o?o.x:void 0),j0(e.y,t,b5,n?n.y:void 0,o?o.y:void 0)}function J0(e){return e.translate===0&&e.scale===1}function f1(e){return J0(e.x)&&J0(e.y)}function W0(e,t){return e.min===t.min&&e.max===t.max}function A5(e,t){return W0(e.x,t.x)&&W0(e.y,t.y)}function K0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function p1(e,t){return K0(e.x,t.x)&&K0(e.y,t.y)}function Y0(e){return ct(e.x)/ct(e.y)}function X0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class P5{constructor(){this.members=[]}add(t){uf(this.members,t),t.scheduleRender()}remove(t){if(cf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let o;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){o=i;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R5(e,t,n){let o="";const r=e.x.translate/t.x,i=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((r||i||s)&&(o=`translate3d(${r}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:g,skewY:S}=n;u&&(o=`perspective(${u}px) ${o}`),d&&(o+=`rotate(${d}deg) `),h&&(o+=`rotateX(${h}deg) `),m&&(o+=`rotateY(${m}deg) `),g&&(o+=`skewX(${g}deg) `),S&&(o+=`skewY(${S}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(o+=`scale(${a}, ${l})`),o||"none"}const iu=["","X","Y","Z"],M5=1e3;let D5=0;function su(e,t,n,o){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),o&&(o[e]=0))}function h1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ZS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ie,!(r||i))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&h1(o)}function m1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:r}){return class{constructor(s={},a=t==null?void 0:t()){this.id=D5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(U5),this.nodes.forEach(z5),this.nodes.forEach(O5),this.nodes.forEach(V5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new T5)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new pf),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=AS(s)&&!kR(s),this.instance=s;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const m=()=>this.root.updateBlockedByResize=!1;Ie.read(()=>{h=window.innerWidth}),e(s,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,d&&d(),d=w5(m,250),Ks.hasAnimatedSinceResize&&(Ks.hasAnimatedSinceResize=!1,this.nodes.forEach(eg)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||u.getDefaultTransition()||J5,{onLayoutAnimationStart:T,onLayoutAnimationComplete:w}=u.getProps(),v=!this.targetLayout||!p1(this.targetLayout,g),y=!h&&m;if(this.options.layoutRoot||this.resumeFrom||y||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...Nf(S,"layout"),onPlay:T,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,y)}else h||eg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),to(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($5),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&h1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Q0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Z0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(B5),this.nodes.forEach(L5),this.nodes.forEach(F5)):this.nodes.forEach(Z0),this.clearAllSnapshots();const a=vt.now();Ye.delta=bn(0,1e3/60,a-Ye.timestamp),Ye.timestamp=a,Ye.isProcessing=!0,Wa.update.process(Ye),Wa.preRender.process(Ye),Wa.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,If.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(G5),this.sharedNodes.forEach(H5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ct(this.snapshot.measuredBox.x)&&!ct(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const l=o(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!f1(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&this.instance&&(a||So(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),W5(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return $e();const a=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(K5))){const{scroll:d}=this.root;d&&(cr(a.x,d.offset.x),cr(a.y,d.offset.y))}return a}removeElementScroll(s){var l;const a=$e();if(qt(a,s),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&qt(a,s),cr(a.x,h.offset.x),cr(a.y,h.offset.y))}return a}applyTransform(s,a=!1){const l=$e();qt(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&dr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),So(d.latestValues)&&dr(l,d.latestValues)}return So(this.latestValues)&&dr(l,this.latestValues),l}removeTransform(s){const a=$e();qt(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!So(u.latestValues))continue;Fc(u.latestValues)&&u.updateSnapshot();const d=$e(),h=u.measurePageBox();qt(d,h),q0(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return So(this.latestValues)&&q0(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Ye.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qt(this.target,this.layout.layoutBox),JS(this.target,this.targetDelta)):qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Fc(this.parent.latestValues)||qS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,a,l){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),Ml(this.relativeTargetOrigin,a,l),qt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var S;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;qt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;mM(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=$e());const{target:g}=s;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($0(this.prevProjectionDelta.x,this.projectionDelta.x),$0(this.prevProjectionDelta.y,this.projectionDelta.y)),vi(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!X0(this.projectionDelta.x,this.prevProjectionDelta.x)||!X0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fr(),this.projectionDelta=fr(),this.projectionDeltaWithTransform=fr()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=fr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=$e(),g=l?l.source:void 0,S=this.layout?this.layout.source:void 0,T=g!==S,w=this.getStack(),v=!w||w.members.length<=1,y=!!(T&&!v&&this.options.crossfade===!0&&!this.path.some(q5));this.animationProgress=0;let x;this.mixTargetDelta=E=>{const k=E/1e3;tg(h.x,s.x,k),tg(h.y,s.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ml(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j5(this.relativeTarget,this.relativeTargetOrigin,m,k),x&&A5(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=$e()),qt(x,this.relativeTarget)),T&&(this.animationValues=d,C5(d,u,this.latestValues,k,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(to(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Ks.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pr(0)),this.currentAnimation=x5(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),s.onUpdate&&s.onUpdate(d)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&g1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||$e();const h=ct(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const m=ct(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+m}qt(a,l),dr(a,d),vi(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new P5),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&su("z",s,u,this.animationValues);for(let d=0;d<iu.length;d++)su(`rotate${iu[d]}`,s,u,this.animationValues),su(`skew${iu[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Ws(a==null?void 0:a.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Ws(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!So(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=R5(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),s.transform=h;const{x:m,y:g}=this.projectionDelta;s.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,u.animationValues?s.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const S in Lc){if(d[S]===void 0)continue;const{correct:T,applyTo:w,isCSSVariable:v}=Lc[S],y=h==="none"?d[S]:T(d[S],u);if(w){const x=w.length;for(let E=0;E<x;E++)s[w[E]]=y}else v?this.options.visualElement.renderState.vars[S]=y:s[S]=y}this.options.layoutId&&(s.pointerEvents=u===this?Ws(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Q0),this.root.sharedNodes.clear()}}}function L5(e){e.updateLayout()}function F5(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:r}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Rt(h=>{const m=s?t.measuredBox[h]:t.layoutBox[h],g=ct(m);m.min=o[h].min,m.max=m.min+g}):g1(i,t.layoutBox,o)&&Rt(h=>{const m=s?t.measuredBox[h]:t.layoutBox[h],g=ct(o[h]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=fr();vi(a,o,t.layoutBox);const l=fr();s?vi(l,e.applyTransform(r,!0),t.measuredBox):vi(l,o,t.layoutBox);const u=!f1(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const S=$e();Ml(S,t.layoutBox,m.layoutBox);const T=$e();Ml(T,o,g.layoutBox),p1(S,T)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=S,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function U5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function V5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function G5(e){e.clearSnapshot()}function Q0(e){e.clearMeasurements()}function Z0(e){e.isLayoutDirty=!1}function B5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function eg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function z5(e){e.resolveTargetDelta()}function O5(e){e.calcProjection()}function $5(e){e.resetSkewAndRotation()}function H5(e){e.removeLeadSnapshot()}function tg(e,t,n){e.translate=be(t.translate,0,n),e.scale=be(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ng(e,t,n,o){e.min=be(t.min,n.min,o),e.max=be(t.max,n.max,o)}function j5(e,t,n,o){ng(e.x,t.x,n.x,o),ng(e.y,t.y,n.y,o)}function q5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const J5={duration:.45,ease:[.4,0,.1,1]},og=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rg=og("applewebkit/")&&!og("chrome/")?Math.round:Bt;function ig(e){e.min=rg(e.min),e.max=rg(e.max)}function W5(e){ig(e.x),ig(e.y)}function g1(e,t,n){return e==="position"||e==="preserve-aspect"&&!n5(Y0(t),Y0(n),.2)}function K5(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Y5=m1({attachResizeListener:(e,t)=>$i(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lu={current:void 0},y1=m1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lu.current){const e=new Y5({});e.mount(window),e.setOptions({layoutScroll:!0}),lu.current=e}return lu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),X5={pan:{Feature:y5},drag:{Feature:g5,ProjectionNode:y1,MeasureLayout:u1}};function sg(e,t,n){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=o[r];i&&Ie.postRender(()=>i(t,es(t)))}class Q5 extends lo{mount(){const{current:t}=this.node;t&&(this.unmount=TR(t,(n,o)=>(sg(this.node,o,"Start"),r=>sg(this.node,r,"End"))))}unmount(){}}class Z5 extends lo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xi($i(this.node.current,"focus",()=>this.onFocus()),$i(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lg(e,t,n){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=o[r];i&&Ie.postRender(()=>i(t,es(t)))}class eD extends lo{mount(){const{current:t}=this.node;t&&(this.unmount=NR(t,(n,o)=>(lg(this.node,o,"Start"),(r,{success:i})=>lg(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $c=new WeakMap,au=new WeakMap,tD=e=>{const t=$c.get(e.target);t&&t(e)},nD=e=>{e.forEach(tD)};function oD({root:e,...t}){const n=e||document;au.has(n)||au.set(n,{});const o=au.get(n),r=JSON.stringify(t);return o[r]||(o[r]=new IntersectionObserver(nD,{root:e,...t})),o[r]}function rD(e,t,n){const o=oD(t);return $c.set(e,n),o.observe(e),()=>{$c.delete(e),o.unobserve(e)}}const iD={some:0,all:1};class sD extends lo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:o,amount:r="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:o,threshold:typeof r=="number"?r:iD[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(l)};return rD(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(lD(t,n))&&this.startObserver()}unmount(){}}function lD({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const aD={inView:{Feature:sD},tap:{Feature:eD},focus:{Feature:Z5},hover:{Feature:Q5}},uD={layout:{ProjectionNode:y1,MeasureLayout:u1}},cD={...YM,...aD,...X5,...uD},ae=fM(cD,NM),Hc=({onClose:e})=>{const[t,n]=b.useState("keys"),[o,r]=b.useState(Cx()),i=b.useRef(null),s=()=>{LA(o),e();const m=o.regionMode==="china"?" (DeepSeek/Zhipu)":o.regionMode==="overseas"?" (Groq/Gemini)":"";alert(`AI 
: ${m}`)},a=()=>{confirm(" prompt ")&&(localStorage.removeItem("PSYCHEPOLY_AI_CONFIG_V2"),window.location.reload())},l=()=>{const m="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(o,null,2)),g=document.createElement("a");g.setAttribute("href",m),g.setAttribute("download","psychepoly_ai_config.json"),document.body.appendChild(g),g.click(),g.remove()},u=()=>{var m;(m=i.current)==null||m.click()},d=m=>{var T;const g=(T=m.target.files)==null?void 0:T[0];if(!g)return;const S=new FileReader;S.onload=w=>{var v;try{const y=(v=w.target)==null?void 0:v.result,x=JSON.parse(y);x.geminiModel||x.systemPersona?(r({...o,...x}),alert("")):alert("")}catch{alert("JSON ")}},S.readAsText(g),i.current&&(i.current.value="")},h=(m,g,S,T,w,v,y,x)=>p.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("label",{className:`text-xs font-bold ${g} flex items-center gap-1`,children:m}),p.jsx("input",{type:"text",value:v,onChange:E=>y(E.target.value),className:"bg-slate-900 border border-slate-700 rounded px-2 py-0.5 text-[10px] text-slate-400 w-32 text-right",placeholder:"Model ID"})]}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"password",value:S,onChange:E=>T(E.target.value),className:`w-full bg-slate-900 border rounded-lg px-3 py-2 text-sm text-white outline-none font-mono ${S?"border-slate-700":w?"border-teal-500/50":"border-slate-800"}`,placeholder:w?" Key ()":x}),!S&&w&&p.jsxs("div",{className:"absolute right-3 top-2.5 flex items-center gap-1 text-[10px] text-teal-500 pointer-events-none",children:[p.jsx(N2,{size:12})," "]})]})]});return p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-2xl bg-slate-900 rounded-2xl border border-slate-700 shadow-2xl flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-800",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-teal-500/20 rounded-lg text-teal-400",children:p.jsx(qm,{size:24})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-bold text-white",children:"AI "}),p.jsx("p",{className:"text-[10px] text-slate-400",children:"AI: Groq > OpenRouter > Zhipu > Gemini > P"})]})]}),p.jsx("button",{onClick:e,className:"text-slate-500 hover:text-white transition",children:p.jsx(Yi,{size:24})})]}),p.jsxs("div",{className:"flex border-b border-slate-800",children:[p.jsxs("button",{onClick:()=>n("keys"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition ${t==="keys"?"border-teal-500 text-teal-400 bg-slate-800/50":"border-transparent text-slate-500 hover:text-white"}`,children:[p.jsx(p2,{size:16})," API  & "]}),p.jsxs("button",{onClick:()=>n("prompts"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition ${t==="prompts"?"border-teal-500 text-teal-400 bg-slate-800/50":"border-transparent text-slate-500 hover:text-white"}`,children:[p.jsx(v2,{size:16})," Prompt "]})]}),p.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1 custom-scrollbar",children:[t==="keys"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800 space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1",children:[p.jsx(Jm,{size:14,className:"text-teal-400"}),"  (Region Mode)"]}),p.jsx("div",{className:"text-[10px] text-slate-500 bg-slate-900 px-2 py-0.5 rounded border border-slate-800",children:o.regionMode==="auto"?".":""})]}),p.jsx("div",{className:"flex bg-slate-900 p-1 rounded-xl",children:[{id:"auto",label:"",icon:p.jsx(qm,{size:14})},{id:"china",label:"",icon:p.jsx(Mx,{size:14})},{id:"overseas",label:"",icon:p.jsx(Jm,{size:14})}].map(m=>p.jsxs("button",{onClick:()=>r({...o,regionMode:m.id}),className:`flex-1 flex items-center justify-center gap-2 py-2 text-xs font-bold rounded-lg transition-all ${o.regionMode===m.id?"bg-teal-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:[m.icon,m.label]},m.id))}),p.jsx("p",{className:"text-[10px] text-slate-500 leading-relaxed px-1",children:o.regionMode==="china"?"DeepSeek &  ":o.regionMode==="overseas"?"Groq & Gemini ":""})]}),h("1. Groq (G) - ","text-orange-400",o.groqKey,m=>r({...o,groqKey:m}),!!ut.groq,o.groqModel,m=>r({...o,groqModel:m}),"gsk_..."),h("2. OpenRouter (O) - ","text-blue-400",o.openRouterKey,m=>r({...o,openRouterKey:m}),!!ut.openRouter,o.openRouterModel,m=>r({...o,openRouterModel:m}),"sk-or-..."),h("3. DeepSeek - ","text-cyan-400",o.deepseekKey,m=>r({...o,deepseekKey:m}),!!ut.deepseek,o.deepseekModel,m=>r({...o,deepseekModel:m}),"sk-..."),h("4. Zhipu () - ","text-red-400",o.zhipuKey,m=>r({...o,zhipuKey:m}),!!ut.zhipu,"glm-4-flash",m=>{}," API Key..."),h("5. Gemini (Flash 2.5) - ","text-teal-400",o.geminiKey,m=>r({...o,geminiKey:m}),!!ut.gemini,o.geminiModel,m=>r({...o,geminiModel:m}),"AIza..."),p.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg flex items-center gap-3 text-xs text-slate-400",children:[p.jsx(l2,{size:16}),p.jsxs("span",{children:[" Key  ",p.jsx("strong",{children:"Pollinations.ai (P)"}),""]})]})]}),t==="prompts"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-teal-400 uppercase tracking-wider flex items-center gap-1",children:" (Soul)"}),p.jsx("textarea",{value:o.designPhilosophy,onChange:m=>r({...o,designPhilosophy:m.target.value}),className:"w-full h-28 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-300 focus:border-teal-500 outline-none resize-none font-mono leading-relaxed",placeholder:"..."}),p.jsx("p",{className:"text-[10px] text-slate-500",children:" AI "})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-purple-400 uppercase tracking-wider flex items-center gap-1",children:" (Identity)"}),p.jsx("textarea",{value:o.systemPersona,onChange:m=>r({...o,systemPersona:m.target.value}),className:"w-full h-32 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-300 focus:border-purple-500 outline-none resize-none font-mono leading-relaxed",placeholder:"[]... []..."}),p.jsx("p",{className:"text-[10px] text-slate-500",children:" AI "})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-green-400 uppercase tracking-wider flex items-center gap-1",children:" (Instruction)"}),p.jsx("textarea",{value:o.taskPromptTemplate,onChange:m=>r({...o,taskPromptTemplate:m.target.value}),className:"w-full h-40 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-300 focus:border-green-500 outline-none resize-none font-mono"}),p.jsx("p",{className:"text-[10px] text-slate-500",children:" JSON  (keys: standard, truth, dare, deep)"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-yellow-400 uppercase tracking-wider flex items-center gap-1",children:" (Logic)"}),p.jsx("textarea",{value:o.reportPromptTemplate,onChange:m=>r({...o,reportPromptTemplate:m.target.value}),className:"w-full h-40 bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-xs text-slate-300 focus:border-yellow-500 outline-none resize-none font-mono"}),p.jsx("p",{className:"text-[10px] text-slate-500",children:"Te, Ti, Fe"})]})]})]}),p.jsxs("div",{className:"p-5 border-t border-slate-800 flex flex-wrap gap-3 bg-slate-900/50 rounded-b-2xl",children:[p.jsx("input",{type:"file",ref:i,className:"hidden",accept:".json",onChange:d}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:u,className:"px-3 py-2 bg-slate-800 text-slate-400 rounded-lg text-xs font-bold hover:bg-slate-700 hover:text-white flex items-center gap-1 transition",title:"",children:[p.jsx(b2,{size:14})," "]}),p.jsxs("button",{onClick:l,className:"px-3 py-2 bg-slate-800 text-slate-400 rounded-lg text-xs font-bold hover:bg-slate-700 hover:text-white flex items-center gap-1 transition",title:"",children:[p.jsx(Rx,{size:14})," "]})]}),p.jsx("div",{className:"flex-1"}),p.jsxs("button",{onClick:a,className:"px-4 py-2 bg-slate-800 text-slate-400 rounded-lg text-sm font-bold hover:text-white flex items-center gap-2 transition",children:[p.jsx(Ux,{size:16})," "]}),p.jsxs("button",{onClick:s,className:"px-6 py-2 bg-teal-600 hover:bg-teal-500 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-2 shadow-lg transition",children:[p.jsx(C2,{size:16})," "]})]})]})})},ag={INTJ:{title:"",nickname:"",description:" and ",strengths:["","","",""],growth:["","",""],socialTip:""},INTP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ENTJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ENTP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},INFJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},INFP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ENFJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ENFP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ISTJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ISFJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ESTJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ESFJ:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ISTP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ISFP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ESTP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""},ESFP:{title:"",nickname:"",description:"",strengths:["","","",""],growth:["","",""],socialTip:""}},dD=({playerName:e,mbtiType:t,analysisResults:n,onBackToHub:o})=>{const[r,i]=Se.useState(t),s=ag[r]||ag.INTJ,a=Ui[r]||"",l=Co[r]||[];let u="",d="";return Object.entries(Qt).forEach(([h,m])=>{m.types.includes(r)&&(u=h,d=m.hexColor)}),p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white overflow-y-auto touch-pan-y",children:[p.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[p.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/10 rounded-full blur-[150px]"}),p.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[50%] h-[50%] bg-teal-500/10 rounded-full blur-[150px]"})]}),p.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto px-6 py-12",children:[p.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[p.jsx("div",{className:"inline-block px-4 py-2 bg-gradient-to-r from-teal-500/20 to-purple-500/20 rounded-full border border-white/10 mb-6",children:p.jsx("span",{className:"text-sm font-bold text-teal-300",children:" AI "})}),p.jsxs("h1",{className:"text-4xl md:text-5xl font-black mb-4",children:[e||"",""]}),p.jsx("p",{className:"text-slate-400 text-lg",children:""})]}),p.jsxs(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"bg-slate-800/50 backdrop-blur-xl rounded-3xl border border-white/10 p-8 mb-8 text-center transition-all bg-gradient-to-b from-white/5 to-transparent",style:{borderColor:`${d}40`},children:[p.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full mb-6 text-4xl font-black bg-slate-900 shadow-xl",style:{color:d,boxShadow:`0 0 30px ${d}20`},children:r}),p.jsx("h2",{className:"text-3xl font-bold mb-2",children:s.title}),p.jsx("p",{className:"text-slate-400 mb-4",children:s.nickname}),p.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[p.jsx("span",{className:"px-3 py-1 bg-slate-700/50 rounded-full text-xs text-slate-300 border border-white/5",children:u}),p.jsxs("span",{className:"px-3 py-1 bg-slate-700/50 rounded-full text-xs text-slate-300 border border-white/5",children:[": ",a]})]}),p.jsx("p",{className:"text-slate-300 leading-relaxed max-w-lg mx-auto",children:s.description})]},r),n.length>0&&p.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-slate-800/30 backdrop-blur rounded-2xl border border-white/5 p-6 mb-8",children:[p.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[p.jsx(Zt,{size:20,className:"text-teal-400"}),"AI  ()"]}),p.jsx("div",{className:"space-y-3",children:n.map((h,m)=>p.jsxs("button",{onClick:()=>i(h.type),className:`w-full text-left flex items-center justify-between p-4 rounded-xl transition-all duration-200 group ${h.type===r?"bg-teal-500/20 border border-teal-500/50 shadow-[0_0_15px_rgba(20,184,166,0.1)]":"bg-slate-700/30 border border-transparent hover:bg-slate-700/50 hover:scale-[1.01]"}`,children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`w-2 h-10 rounded-full ${h.type===r?"bg-teal-400":"bg-slate-600"}`}),p.jsxs("div",{children:[p.jsx("span",{className:`font-black text-lg block ${h.type===r?"text-teal-300":"text-slate-300"}`,children:h.type}),p.jsx("span",{className:"text-slate-400 text-xs",children:h.reason})]})]}),p.jsxs("span",{className:`font-mono font-bold text-xl ${h.type===r?"text-teal-400":"text-slate-500"}`,children:[h.percentage,"%"]})]},h.type))})]}),p.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-slate-800/30 backdrop-blur rounded-2xl border border-white/5 p-6 mb-8",children:[p.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[p.jsx(r2,{size:20,className:"text-purple-400"}),""]}),p.jsx("div",{className:"grid grid-cols-4 gap-2",children:l.slice(0,4).map((h,m)=>{const g=jd.find(S=>S.id===h);return p.jsxs("div",{className:"p-3 rounded-xl text-center",style:{backgroundColor:`${g==null?void 0:g.color}20`},children:[p.jsx("div",{className:"font-bold text-lg",style:{color:g==null?void 0:g.color},children:h}),p.jsx("div",{className:"text-[10px] text-slate-400 mt-1",children:m===0?"":m===1?"":m===2?"":""})]},m)})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[p.jsxs(ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-emerald-500/10 backdrop-blur rounded-2xl border border-emerald-500/20 p-6",children:[p.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-emerald-400",children:[p.jsx(of,{size:20}),""]}),p.jsx("ul",{className:"space-y-2",children:s.strengths.map((h,m)=>p.jsxs("li",{className:"flex items-center gap-2 text-slate-300",children:[p.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full"}),h]},m))})]}),p.jsxs(ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-amber-500/10 backdrop-blur rounded-2xl border border-amber-500/20 p-6",children:[p.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-amber-400",children:[p.jsx(rf,{size:20}),""]}),p.jsx("ul",{className:"space-y-2",children:s.growth.map((h,m)=>p.jsxs("li",{className:"flex items-center gap-2 text-slate-300",children:[p.jsx("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full"}),h]},m))})]})]}),p.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-r from-teal-500/10 to-purple-500/10 backdrop-blur rounded-2xl border border-white/10 p-6 mb-12",children:[p.jsxs("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[p.jsx(Il,{size:20,className:"text-pink-400"}),""]}),p.jsxs("p",{className:"text-slate-300 leading-relaxed italic",children:['"',s.socialTip,'"']})]}),p.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col gap-4",children:[p.jsxs("button",{onClick:o,className:"w-full py-4 bg-gradient-to-r from-teal-600 to-blue-600 hover:brightness-110 rounded-2xl font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2",children:[p.jsx(Ax,{size:20})," MBTI Hub"]}),p.jsx("p",{className:"text-center text-slate-500 text-sm",children:'" Party"'})]})]})]})},ug=[{id:1,text:"...",left:" ()",right:" ()",dimension:"E-I"},{id:2,text:"...",left:"",right:"",dimension:"S-N"},{id:3,text:"...",left:"",right:"",dimension:"T-F"},{id:4,text:"...",left:"Excel ",right:"",dimension:"J-P"}],fD=({onClose:e})=>p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-3xl bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[p.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(yc,{className:"text-teal-600 dark:text-teal-400"}),p.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:" & "})]}),p.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800 dark:hover:text-white transition",children:p.jsx(Yi,{size:24})})]}),p.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar prose dark:prose-invert max-w-none text-slate-700 dark:text-slate-300 space-y-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-teal-50 to-blue-50 dark:from-teal-900/20 dark:to-blue-900/20 border border-teal-100 dark:border-teal-800/50",children:[p.jsx("h3",{className:"mt-0 text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-teal-600 to-blue-600 dark:from-teal-400 dark:to-blue-400",children:"  (Rainbow Boat)"}),p.jsx("p",{className:"font-bold text-slate-600 dark:text-slate-300",children:" MBTI  AI "}),p.jsx("p",{className:"text-sm",children:""})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsxs("h4",{className:"flex items-center gap-2 text-indigo-600 dark:text-indigo-400 mt-0",children:[p.jsx(Vi,{size:18})," "]}),p.jsxs("p",{className:"text-sm mb-0",children:["60",p.jsx("br",{}),""]})]}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsxs("h4",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 mt-0",children:[p.jsx(Lx,{size:18})," "]}),p.jsx("p",{className:"text-sm mb-0",children:"      AI   "})]})]})]}),p.jsx("hr",{className:"border-slate-200 dark:border-slate-700"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"flex items-center gap-2 mb-2",children:[p.jsx(yc,{size:20})," "]}),p.jsx("h4",{className:"text-base font-bold text-slate-800 dark:text-white mt-2",children:"1. "}),p.jsx("p",{className:"text-sm",children:""}),p.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1",children:[p.jsxs("li",{children:[p.jsx("strong",{children:" (x1.0)"}),"/ INTJ "]}),p.jsxs("li",{children:[p.jsx("strong",{children:" (x1.2)"}),""]}),p.jsxs("li",{children:[p.jsx("strong",{children:""}),"",p.jsx("strong",{children:"x1.5"}),"",p.jsx("strong",{children:"x1.3"}),""]})]}),p.jsx("h4",{className:"text-base font-bold text-slate-800 dark:text-white mt-4",children:"2. "}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[p.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded text-emerald-800 dark:text-emerald-300",children:"  (x1.0): "}),p.jsx("div",{className:"bg-sky-100 dark:bg-sky-900/30 p-2 rounded text-sky-800 dark:text-sky-300",children:"  (x1.2): "}),p.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 p-2 rounded text-amber-800 dark:text-amber-300",children:"  (x1.2): "}),p.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 p-2 rounded text-indigo-800 dark:text-indigo-300",children:"  (x1.5): "})]}),p.jsx("h4",{className:"text-base font-bold text-slate-800 dark:text-white mt-4",children:"3. "}),p.jsxs("p",{className:"text-sm",children:[" 1-5 ",p.jsx("br",{}),p.jsx("span",{className:"text-slate-500 italic",children:" 0 "})]})]}),p.jsx("hr",{className:"border-slate-200 dark:border-slate-700"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 font-mono text-base bg-slate-100 dark:bg-slate-800 p-2 rounded-lg",children:[p.jsx(x2,{size:16})," Developer Guide / "]}),p.jsxs("div",{className:"text-xs font-mono bg-slate-900 text-slate-300 p-4 rounded-xl overflow-x-auto",children:[p.jsx("p",{className:"text-teal-400 mb-2",children:"//  (Tech Stack)"}),p.jsxs("ul",{className:"list-disc pl-4 space-y-1 mb-4",children:[p.jsx("li",{children:" (Frontend): React 18, Vite, TailwindCSS, Framer Motion"}),p.jsx("li",{children:"AI  (AI Integration): Google Gemini / Groq / Zhipu ( OpenAI )"}),p.jsx("li",{children:" (Speech & Vision): Web Speech API, Canvas API, MediaDevices API"}),p.jsx("li",{children:" (State): React Local State ()"})]}),p.jsx("p",{className:"text-teal-400 mb-2",children:"//  (Key Configuration)"}),p.jsxs("p",{className:"mb-2",children:["API  ",p.jsx("code",{children:"AIConfigModal"}),"  ",p.jsx("code",{children:"localStorage"}),"   Google/Groq API AI (Zhipu)"]}),p.jsx("p",{className:"text-teal-400 mb-2",children:"//  (Customizing Tasks)"}),p.jsxs("p",{children:[" ",p.jsx("code",{children:"services/geminiService.ts"}),"  Prompt   ",p.jsx("code",{children:"data/MBTI_Tasks.csv"})," ()  prompt "]})]})]})]}),p.jsx("div",{className:"p-5 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950 flex justify-end",children:p.jsx("button",{onClick:e,className:"px-6 py-2 bg-teal-600 hover:bg-teal-500 text-white rounded-lg font-bold",children:""})})]})}),pD=({onComplete:e,isDarkMode:t,toggleTheme:n,initialStep:o="setup",isSoloTest:r=!1,onBackToHub:i,onShowQuickReport:s})=>{var fo,Ze;const[a,l]=b.useState(o),[u,d]=b.useState([{id:"p1",name:"",mbti:""}]),[h,m]=b.useState(0),[g,S]=b.useState(null),T=b.useRef(null),w=b.useRef(null),[v,y]=b.useState({1:50,2:50,3:50,4:50}),[x,E]=b.useState([]),[k,C]=b.useState({}),[I,_]=b.useState(xe.JUNG_8),[A,M]=b.useState(0),[L,ne]=b.useState(60),[O,j]=b.useState(!1),[le,se]=b.useState(!1),[X,D]=b.useState(!1),[G,$]=b.useState(!1),[te,Q]=b.useState("");b.useEffect(()=>{let z=null;return g!==null&&navigator.mediaDevices.getUserMedia({video:{width:{ideal:300},height:{ideal:300}}}).then(re=>{z=re,T.current&&(T.current.srcObject=z,T.current.play())}).catch(re=>{console.error("Camera error:",re),S(null),alert("")}),()=>{z&&z.getTracks().forEach(re=>re.stop())}},[g]);const me=z=>{if(T.current&&w.current){const re=w.current.getContext("2d");if(re){const ge=Math.min(T.current.videoWidth,T.current.videoHeight),an=(T.current.videoWidth-ge)/2,Pt=(T.current.videoHeight-ge)/2;re.drawImage(T.current,an,Pt,ge,ge,0,0,300,300);const yn=w.current.toDataURL("image/jpeg"),vn=[...u];vn[z].avatarImage=yn,d(vn),S(null)}}},Re=async(z,re,ge)=>{if(window.nativeGetHistory&&re&&ge)try{const an=await window.nativeGetHistory(re,ge),Pt=JSON.parse(an);Pt.exists?C(yn=>({...yn,[z]:{count:Pt.count,summary:Pt.summary}})):C(yn=>{const vn={...yn};return delete vn[z],vn})}catch(an){console.error("History check failed",an)}},bt=()=>{u.length<16&&d([...u,{id:`p${Date.now()}`,name:"",mbti:""}])},Ne=z=>{if(u.length>1){const re=[...u];re.splice(z,1),d(re)}},wt=(z,re)=>{const ge=[...u];ge[z].name=re,d(ge),Re(z,re,ge[z].mbti)},ao=(z,re)=>{const ge=[...u];ge[z].mbti=re,d(ge),Re(z,ge[z].name,re)},$o=z=>{m(z),y({1:50,2:50,3:50,4:50}),l("quiz")},At=z=>{r?(Q(z),$(!0)):(ao(h,z),l("setup"))},ln=()=>u.every(z=>z.name.trim()!==""&&z.mbti!==""),W=()=>{ln()&&e(u,I,A,O?9999:L)},Z=Cx();let de="AI";const pe=(z,re)=>z&&z.length>0||re&&re.length>0;Z.regionMode==="china"?pe(Z.deepseekKey,ut.deepseek)?de="D":pe(Z.zhipuKey,ut.zhipu)?de="Z":de="D":pe(Z.groqKey,ut.groq)?de="G":pe(Z.geminiKey,ut.gemini)?de="F":pe(Z.openRouterKey,ut.openRouter)?de="O":de="P";const[we,uo]=b.useState(de),co=async()=>{l("analyzing");const z=ug.map(ge=>({q:ge.text,val:v[ge.id]})),re=await JA(z,ge=>{uo(ge)});E(re),l("results")};return a==="analyzing"?p.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[p.jsx(m2,{size:48,className:"text-teal-500 animate-spin mb-4"}),p.jsxs("p",{className:"text-xl text-slate-600 dark:text-slate-300 font-medium animate-pulse",children:[we," ..."]})]}):G&&te?p.jsx(dD,{playerName:((fo=u[h])==null?void 0:fo.name)||"",mbtiType:te,analysisResults:x,onBackToHub:()=>{$(!1),i&&i()}}):a==="quiz"?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-50 dark:bg-slate-900 p-4 animate-in fade-in zoom-in-95 duration-300",children:p.jsxs("div",{className:"w-full max-w-2xl bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(Zt,{className:"text-teal-500"}),r?"AI ":""]}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium mt-1",children:r?"":`: ${((Ze=u[h])==null?void 0:Ze.name)||""}`})]}),p.jsx("button",{onClick:()=>{r&&i?i():l("setup")},className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:p.jsx(Yi,{size:20})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 custom-scrollbar",children:ug.map(z=>p.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4 duration-500",style:{animationDelay:`${z.id*100}ms`},children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("h4",{className:"font-bold text-slate-700 dark:text-slate-200 text-lg",children:[p.jsxs("span",{className:"text-teal-500 mr-2",children:["0",z.id,"."]}),z.text]}),p.jsx("span",{className:"text-[10px] font-black uppercase text-slate-300 dark:text-slate-600 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:z.dimension})]}),p.jsxs("div",{className:"relative pt-6 pb-2",children:[p.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-2 bg-slate-100 dark:bg-slate-700 rounded-full -translate-y-1/2"}),p.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:v[z.id],onChange:re=>y({...v,[z.id]:parseInt(re.target.value)}),className:"relative z-10 w-full h-8 opacity-0 cursor-pointer"}),p.jsx("div",{className:"absolute top-1/2 left-0 h-2 bg-gradient-to-r from-teal-400 to-blue-500 rounded-full -translate-y-1/2 transition-all duration-150 pointer-events-none",style:{width:`${v[z.id]}%`}}),p.jsx("div",{className:"absolute top-1/2 w-6 h-6 bg-white dark:bg-slate-800 border-2 border-teal-500 rounded-full shadow-lg -translate-y-1/2 -translate-x-1/2 transition-all duration-150 pointer-events-none flex items-center justify-center z-20",style:{left:`${v[z.id]}%`},children:p.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"})}),p.jsxs("div",{className:"flex justify-between mt-2 text-xs font-bold text-slate-400 dark:text-slate-500 select-none",children:[p.jsx("span",{className:`transition-colors ${v[z.id]<50?"text-teal-600 dark:text-teal-400 scale-105":""}`,children:z.left}),p.jsx("span",{className:`transition-colors ${v[z.id]>50?"text-blue-600 dark:text-blue-400 scale-105":""}`,children:z.right})]})]})]},z.id))}),p.jsx("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/50",children:p.jsxs("button",{onClick:co,className:"w-full py-4 bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white rounded-xl font-black text-lg shadow-lg shadow-teal-500/20 hover:shadow-teal-500/30 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[p.jsx(Zt,{size:20})," AI "]})})]})}):a==="results"?p.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 overflow-y-auto",children:p.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-slate-800/90 backdrop-blur p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-2xl",children:[p.jsx("h3",{className:"text-xl font-bold mb-2 text-center text-slate-800 dark:text-white",children:""}),p.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-6 text-sm",children:" AI "}),p.jsx("div",{className:"space-y-4",children:x.map((z,re)=>p.jsxs("button",{onClick:()=>At(z.type),className:"w-full p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl border border-slate-200 dark:border-slate-600 hover:border-teal-500 transition text-left group relative overflow-hidden",children:[p.jsxs("div",{className:"flex justify-between items-end mb-2 relative z-10",children:[p.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white group-hover:text-teal-600 dark:group-hover:text-teal-300",children:z.type}),p.jsxs("span",{className:"text-lg font-mono font-bold text-teal-600 dark:text-teal-400",children:[z.percentage,"%"]})]}),p.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-teal-500/20 w-full",children:p.jsx("div",{className:"h-full bg-teal-500",style:{width:`${z.percentage}%`}})}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 relative z-10",children:z.reason})]},z.type))}),p.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700 text-center flex flex-col gap-3",children:[r&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>{var re;const z=((re=x[0])==null?void 0:re.type)||"INTJ";Q(z),$(!0)},className:"w-full py-4 bg-gradient-to-r from-teal-600 to-indigo-600 text-white rounded-xl font-bold hover:brightness-110 shadow-lg shadow-teal-500/20 flex items-center justify-center gap-2 transition",children:[p.jsx(Zt,{size:20})," "]}),p.jsx("button",{onClick:()=>i&&i(),className:"w-full py-3 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-white rounded-xl font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition",children:""})]}),p.jsx("button",{onClick:()=>l("setup"),className:"text-slate-500 hover:text-slate-800 dark:hover:text-white text-sm",children:r?"":""})]})]})}):p.jsxs("div",{className:"flex flex-col items-center min-h-screen p-4 overflow-y-auto bg-slate-50 dark:bg-slate-900 transition-colors duration-300 gpu-accelerated",children:[p.jsxs("div",{className:"w-full max-w-6xl bg-white dark:bg-slate-800 p-6 md:p-8 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-2xl my-4 relative gpu-accelerated",children:[p.jsxs("div",{className:"absolute top-6 right-6 flex gap-3 z-10",children:[p.jsxs("button",{onClick:()=>D(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 text-indigo-600 dark:text-indigo-300 text-xs font-bold transition",children:[p.jsx(yc,{size:16})," "]}),p.jsx("button",{onClick:n,className:"p-2 rounded-lg bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 hover:text-amber-500 dark:hover:text-yellow-400 transition",children:t?p.jsx(xc,{size:18}):p.jsx(vc,{size:18})}),p.jsx("button",{onClick:()=>se(!0),className:"p-2 rounded-lg bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 transition",title:"AI Settings",children:p.jsx(nf,{size:18})})]}),p.jsxs("div",{className:"text-center mb-6 pt-2",children:[p.jsx("h2",{className:"text-3xl font-bold mb-2 text-transparent bg-clip-text bg-[linear-gradient(to_right,#ef4444,#f97316,#eab308,#22c55e,#3b82f6,#a855f7)] tracking-tight",children:""}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:""})]}),p.jsxs("div",{className:"flex flex-col gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("h4",{className:"text-teal-600 dark:text-teal-400 font-bold flex items-center gap-2",children:[p.jsx(Tc,{size:18}),"  (",u.length,"/16)"]}),u.length<16&&p.jsxs("button",{onClick:bt,className:"text-xs bg-teal-50 hover:bg-teal-100 dark:bg-teal-900/50 dark:hover:bg-teal-900 text-teal-700 dark:text-teal-200 px-3 py-1.5 rounded-full flex items-center gap-1 transition",children:[p.jsx(w2,{size:12})," "]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4",children:u.map((z,re)=>p.jsxs("div",{className:`bg-slate-100/60 dark:bg-slate-900/50 p-4 rounded-xl border relative transition hover:border-slate-400 dark:hover:border-slate-600 flex gap-4 items-start ${k[re]?"border-amber-400 dark:border-amber-600 shadow-[0_0_10px_rgba(251,191,36,0.2)]":"border-slate-200 dark:border-slate-700"}`,children:[k[re]&&p.jsxs("div",{className:"absolute -top-3 left-4 bg-amber-100 dark:bg-amber-900 text-amber-700 dark:text-amber-400 text-[10px] font-bold px-2 py-0.5 rounded-full border border-amber-200 dark:border-amber-700/50 shadow-sm flex items-center gap-1 animate-in slide-in-from-bottom-2 z-20",children:[p.jsx(Vi,{size:10}),"  (Lv.",k[re].count,")"]}),u.length>1&&p.jsx("button",{onClick:()=>Ne(re),className:"absolute top-2 right-2 text-slate-400 hover:text-red-500 dark:text-slate-600 dark:hover:text-red-400 transition",children:p.jsx(_2,{size:14})}),p.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-2",children:[p.jsxs("div",{className:"w-16 h-16 rounded-full bg-slate-200 dark:bg-slate-800 border-2 border-slate-300 dark:border-slate-600 overflow-hidden flex items-center justify-center relative group",children:[z.avatarImage?p.jsx("img",{src:z.avatarImage,alt:"Avatar",className:"w-full h-full object-cover"}):p.jsx(Sc,{size:32,className:"text-slate-400 dark:text-slate-500"}),g===re?p.jsxs("div",{className:"absolute inset-0 bg-black z-10 flex flex-col items-center justify-center",children:[p.jsx("video",{ref:T,className:"absolute inset-0 w-full h-full object-cover opacity-50",autoPlay:!0,playsInline:!0,muted:!0}),p.jsx("button",{onClick:()=>me(re),className:"relative z-20 bg-white/20 p-1 rounded-full animate-pulse hover:bg-white/40",children:p.jsx(jm,{size:16})}),p.jsx("canvas",{ref:w,width:"300",height:"300",className:"hidden"})]}):p.jsx("button",{onClick:()=>S(re),className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition",children:p.jsx(jm,{size:20,className:"text-white"})})]}),z.avatarImage&&p.jsx("button",{onClick:()=>{const ge=[...u];ge[re].avatarImage=void 0,d(ge)},className:"text-[10px] text-red-500 dark:text-red-400 hover:underline",children:""})]}),p.jsxs("div",{className:"flex flex-col gap-3 flex-1",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase block mb-1",children:""}),p.jsx("input",{type:"text",value:z.name,onChange:ge=>wt(re,ge.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-white text-sm focus:ring-1 focus:ring-teal-500 outline-none",placeholder:` ${re+1}`})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase",children:" (MBTI)"}),!z.mbti&&p.jsxs("button",{onClick:()=>$o(re),className:"text-[10px] text-teal-600 dark:text-teal-400 hover:text-teal-500 dark:hover:text-teal-300 flex items-center gap-1",children:[p.jsx(Zt,{size:10})," AI "]})]}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Object.entries(Qt).map(([ge,an])=>p.jsxs("div",{className:`rounded-lg p-2 border ${an.color} flex flex-col gap-1`,children:[p.jsx("div",{className:"text-[10px] font-bold opacity-80 uppercase tracking-wide text-center mb-1 text-slate-700 dark:text-slate-300",children:ge.split(" ")[0]}),p.jsx("div",{className:"grid grid-cols-2 gap-1",children:an.types.map(Pt=>p.jsx("button",{onClick:()=>ao(re,Pt),className:`text-[10px] py-1 rounded font-bold transition ${z.mbti===Pt?"bg-slate-800 text-white dark:bg-white dark:text-slate-900 shadow-md transform scale-105":"bg-black/5 hover:bg-black/10 dark:bg-black/20 dark:hover:bg-black/40 text-slate-600 dark:text-inherit"}`,children:Pt},Pt))})]},ge))})]})]})]},z.id))})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-4 border-t border-slate-200 dark:border-slate-700/50",children:[p.jsxs("div",{children:[p.jsxs("h4",{className:"text-blue-500 dark:text-blue-400 font-bold mb-3 flex items-center gap-2 text-sm",children:[p.jsx(Lx,{size:16})," "]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("button",{onClick:()=>_(xe.JUNG_8),className:`px-3 py-2 rounded-lg border text-left transition text-sm ${I===xe.JUNG_8?"bg-blue-100 border-blue-500 text-blue-800 dark:bg-blue-600/20 dark:text-white":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-700 text-slate-500 dark:text-slate-400"}`,children:p.jsx("span",{className:"font-bold",children:""})}),p.jsx("button",{onClick:()=>_(xe.MBTI_16),className:`px-3 py-2 rounded-lg border text-left transition text-sm ${I===xe.MBTI_16?"bg-purple-100 border-purple-500 text-purple-800 dark:bg-purple-600/20 dark:text-white":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-700 text-slate-500 dark:text-slate-400"}`,children:p.jsx("span",{className:"font-bold",children:"MBTI "})})]})]}),p.jsxs("div",{children:[p.jsxs("h4",{className:"text-orange-500 dark:text-orange-400 font-bold mb-3 flex items-center gap-2 text-sm",children:[p.jsx(Sc,{size:16})," : ",A]}),p.jsx("input",{type:"range",min:"0",max:"5",value:A,onChange:z=>M(parseInt(z.target.value)),className:"w-full h-1.5 bg-slate-300 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer accent-orange-500"}),p.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-2",children:[p.jsx("span",{children:" Bot"}),p.jsx("span",{children:"5 Bots"})]})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-3",children:[p.jsxs("h4",{className:"text-yellow-500 dark:text-yellow-400 font-bold flex items-center gap-2 text-sm",children:[p.jsx(Vi,{size:16})," : ",O?"":L]}),p.jsx("button",{onClick:()=>j(!O),className:`text-[10px] px-2 py-1 rounded border transition ${O?"bg-yellow-500 text-white border-yellow-600":"bg-transparent text-slate-400 border-slate-300"}`,children:O?"":""})]}),p.jsx("input",{type:"range",min:"40",max:"120",step:"10",value:L,disabled:O,onChange:z=>ne(parseInt(z.target.value)),className:`w-full h-1.5 rounded-lg appearance-none cursor-pointer ${O?"bg-slate-200 dark:bg-slate-700 accent-slate-400":"bg-slate-300 dark:bg-slate-600 accent-yellow-500"}`}),p.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-2",children:[p.jsx("span",{children:" (40)"}),p.jsx("span",{children:" (120)"})]})]})]})]}),p.jsxs("button",{onClick:W,disabled:!ln(),className:"w-full mt-8 py-3.5 bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-500 hover:to-blue-500 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl font-bold text-white text-lg transition shadow-lg hover:shadow-teal-500/20 flex items-center justify-center gap-2",children:[" ",p.jsx(No,{size:20})]}),p.jsx("div",{className:"flex justify-center mt-8",children:p.jsxs(ae.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>{console.log("Anchor clicked - returning to hub"),i&&i()},className:"flex items-center gap-2 px-6 py-2.5 text-slate-400 hover:text-teal-600 dark:text-slate-500 dark:hover:text-teal-400 transition-all duration-300 text-sm font-bold group bg-slate-100/50 dark:bg-slate-800/30 hover:bg-white dark:hover:bg-slate-800 rounded-full border border-transparent hover:border-teal-500/30 shadow-sm hover:shadow-md",children:[p.jsx(Ax,{size:16,className:"group-hover:rotate-[20deg] group-hover:scale-110 transition-transform duration-300"}),""]})})]}),le&&p.jsx(Hc,{onClose:()=>se(!1)}),X&&p.jsx(fD,{onClose:()=>D(!1)})]})},Dl=60,jc=110,cg=(e,t,n)=>{let o=[];for(let r=0;r<6;r++){const i=2*Math.PI/6*(r+.5);o.push(`${e+n*Math.cos(i)},${t+n*Math.sin(i)}`)}return o.join(" ")},dg=(e,t)=>{const n=Dl*(Math.sqrt(3)*e+Math.sqrt(3)/2*t),o=Dl*(3/2*t);return{x:n+600,y:o+450}},fg=(e,t)=>{const n=(e-3)*jc+600,o=(t-3)*jc+450;return{x:n,y:o}},hD=({players:e,currentPlayerId:t,boardLayout:n,validMoves:o,onTileClick:r,gameMode:i,visibilityRadius:s,isMobile:a,isDarkMode:l})=>{const u=()=>n.map(A=>{const{x:M,y:L}=dg(A.q,A.r),ne=jd.find(D=>D.id===A.functionId),O=A.q===0&&A.r===0;let j=ne?ne.color:O?"#94a3b8":"#64748b";const le=e.filter(D=>D.position===A.index),se=o.includes(A.index),X=se;return p.jsxs("g",{className:`transition-all duration-300 ${se?"cursor-pointer":""}`,onClick:()=>se&&r(A.index),children:[p.jsx("polygon",{points:cg(M,L,Dl-2),className:"fill-slate-200 stroke-slate-300 dark:fill-slate-900 dark:stroke-slate-700",style:{fill:O?l?"#334155":"#cbd5e1":void 0},stroke:X?"#2dd4bf":j,strokeWidth:X?6:O?3:2,strokeOpacity:X?1:.7}),p.jsx("polygon",{points:cg(M,L,Dl-8),fill:j,fillOpacity:X?.6:.2}),A.functionId==="Hub"?p.jsxs("g",{children:[p.jsx(ae.g,{animate:{scale:[1,1.15,1],filter:["drop-shadow(0 0 5px #f43f5e)","drop-shadow(0 0 15px #f43f5e)","drop-shadow(0 0 5px #f43f5e)"]},transition:{duration:2,repeat:1/0},children:p.jsx(Il,{x:M-20,y:L-25,size:40,className:"fill-red-500 text-red-500"})}),p.jsx("text",{x:M,y:L+25,textAnchor:"middle",className:"fill-slate-600 dark:fill-slate-300 font-bold",fontSize:"14",style:{pointerEvents:"none",userSelect:"none"},children:""})]}):p.jsx("text",{x:M,y:L+10,textAnchor:"middle",className:"fill-slate-600 dark:fill-slate-300",style:{fill:X?"#ffffff":j,pointerEvents:"none",userSelect:"none"},fontWeight:"bold",fontSize:"18",children:A.functionId}),h(le,M,L,t,!1)]},A.index)}),d=()=>{const A=e.find(L=>L.id===t),M=n.find(L=>L.index===(A==null?void 0:A.position));return n.map(L=>{const{x:ne,y:O}=fg(L.q,L.r);let j=!1,le=999;M?(le=Math.abs(L.q-M.q)+Math.abs(L.r-M.r),j=le<=s||L.functionId==="Hub"):j=L.functionId==="Hub";const se=L.zone==="Hub",X=e.filter(me=>me.position===L.index),D=o.includes(L.index);let G="#64748b";L.zone==="NT"?G=Qt[" (NT)"].hexColor:L.zone==="NF"?G=Qt[" (NF)"].hexColor:L.zone==="SJ"?G=Qt[" (SJ)"].hexColor:L.zone==="SP"?G=Qt[" (SP)"].hexColor:se&&(G="#f59e0b");let $=G,te=1;j?se?$="#f59e0b":$=G:($=G,te=.4);const Q=jc-6;return p.jsxs("g",{className:`transition-all duration-500 ${D?"cursor-pointer":""}`,onClick:()=>D&&r(L.index),children:[p.jsx("rect",{x:ne-Q/2,y:O-Q/2,width:Q,height:Q,rx:se?30:12,className:`
                        ${j?se?"fill-amber-50 dark:fill-amber-900/30":"fill-stone-50 dark:fill-slate-800":"fill-slate-200 dark:fill-slate-900"} 
                        transition-colors duration-500
                    `,fillOpacity:j?.9:.2,stroke:D?"#2dd4bf":$,strokeWidth:D?4:j?2:1,strokeOpacity:D?1:te,style:{filter:j?`drop-shadow(0 4px 6px ${$}40)`:"none"}}),j&&!se&&p.jsx("rect",{x:ne-Q/2+4,y:O-Q/2+4,width:Q-8,height:Q-8,rx:8,fill:$,fillOpacity:.05,stroke:"none"}),j&&p.jsx("g",{className:"animate-in fade-in zoom-in duration-500",children:L.functionId==="Hub"?p.jsxs(p.Fragment,{children:[p.jsx(ae.g,{animate:{scale:[1,1.15,1],filter:["drop-shadow(0 0 5px #f43f5e)","drop-shadow(0 0 15px #f43f5e)","drop-shadow(0 0 5px #f43f5e)"]},transition:{duration:2,repeat:1/0},children:p.jsx(Il,{x:ne-20,y:O-25,size:40,className:"fill-red-500 text-red-500"})}),p.jsx("text",{x:ne,y:O+25,textAnchor:"middle",className:"fill-slate-900 dark:fill-white font-black",fontSize:"14",style:{pointerEvents:"none",userSelect:"none"},children:""})]}):p.jsxs(p.Fragment,{children:[p.jsx("text",{x:ne,y:O-5,textAnchor:"middle",fill:D?"#2dd4bf":$,fontWeight:"bold",fontSize:"18",style:{pointerEvents:"none",userSelect:"none"},children:L.functionId}),L.characterName&&p.jsx("text",{x:ne,y:O+18,textAnchor:"middle",className:"fill-slate-500 dark:fill-slate-400",fontSize:"12",style:{pointerEvents:"none",userSelect:"none"},children:L.characterName})]})}),h(X,ne,O,t,!0)]},L.index)})},h=(A,M,L,ne,O)=>A.length===0?null:p.jsx("g",{transform:`translate(${M}, ${L})`,children:A.map((j,le)=>{const se=A.length,X=O?35:32,D=2*Math.PI/(se||1),$=Math.PI/2+le*D,te=Math.cos($)*X,Q=Math.sin($)*X,me=O?10:12;return p.jsxs("g",{className:"transition-all duration-500",children:[p.jsx("circle",{cx:te,cy:Q,r:O?25:30,fill:j.color,fillOpacity:"0.2",className:"animate-pulse",style:{filter:"blur(8px)"}}),p.jsx("defs",{children:p.jsx("clipPath",{id:`clip-${j.id}`,children:p.jsx("circle",{cx:te,cy:Q,r:me})})}),p.jsx("circle",{cx:te,cy:Q,r:me+1,fill:j.color,stroke:"white",strokeWidth:"2",className:"shadow-md"}),j.avatar&&j.avatar.startsWith("data:")?p.jsx("image",{x:te-me,y:Q-me,width:me*2,height:me*2,href:j.avatar,clipPath:`url(#clip-${j.id})`,preserveAspectRatio:"xMidYMid slice"}):p.jsx("text",{x:te,y:Q+me/2-1,textAnchor:"middle",fill:"white",fontSize:me-2,fontWeight:"bold",children:j.name[0].toUpperCase()}),j.id===ne&&p.jsx("circle",{cx:te,cy:Q,r:me+6,stroke:j.color,strokeWidth:"3",fill:"none",className:"animate-ping",opacity:"0.8"})]},j.id)})}),[m,g]=Se.useState({x:0,y:0}),[S,T]=Se.useState(!1),w=Se.useRef({x:0,y:0}),v=e.find(A=>A.id===t),y=v?n[v.position]:null;Se.useEffect(()=>{g({x:0,y:0})},[t,v==null?void 0:v.position]);const x=A=>{if(!a)return;T(!0);const M="touches"in A?A.touches[0].clientX:A.clientX,L="touches"in A?A.touches[0].clientY:A.clientY;w.current={x:M,y:L}},E=A=>{if(!S||!a)return;const M="touches"in A?A.touches[0].clientX:A.clientX,L="touches"in A?A.touches[0].clientY:A.clientY,ne=M-w.current.x,O=L-w.current.y,j=500,le=A.currentTarget.getBoundingClientRect(),se=j/le.width,X=j/le.height;g(D=>({x:D.x-ne*se,y:D.y-O*X})),w.current={x:M,y:L}},k=()=>{T(!1)};let C={x:600,y:450};y&&(i===xe.JUNG_8?C=dg(y.q,y.r):C=fg(y.q,y.r));const I=500,_=a?`${C.x-I/2+m.x} ${C.y-I/2+m.y} ${I} ${I}`:"0 0 1200 900";return p.jsxs("div",{className:`w-full h-full bg-stone-100 dark:bg-slate-900/50 rounded-2xl border border-slate-300 dark:border-slate-700 relative shadow-inner flex items-center justify-center transition-colors duration-300 ${a?"overflow-hidden touch-none":"overflow-hidden cursor-move"}`,onMouseDown:x,onMouseMove:E,onMouseUp:k,onMouseLeave:k,onTouchStart:x,onTouchMove:E,onTouchEnd:k,children:[!a&&p.jsx("div",{className:"absolute top-4 left-4 text-slate-500 dark:text-slate-500 text-xs font-mono z-10 bg-slate-100/80 dark:bg-slate-900/80 px-2 py-1 rounded",children:i===xe.MBTI_16?"MBTI  (33) - ":" (Rainbow Ark)"}),p.jsx("svg",{viewBox:_,className:`w-full h-full animate-fade-in select-none ${a?"cursor-grab active:cursor-grabbing":"touch-pan-y"}`,style:{transition:a&&!S?"viewBox 0.3s ease-out":void 0},children:i===xe.JUNG_8?u():d()}),a&&(Math.abs(m.x)>30||Math.abs(m.y)>30)&&p.jsx("button",{onClick:()=>g({x:0,y:0}),className:"absolute bottom-24 right-6 bg-teal-600 dark:bg-teal-500 text-white px-3 py-1.5 rounded-full border border-white dark:border-slate-800 shadow-2xl text-[10px] font-black uppercase tracking-widest animate-in fade-in slide-in-from-bottom-4 transition-all active:scale-95 z-50",children:""})]})};var mD=Object.defineProperty,Ll=Object.getOwnPropertySymbols,v1=Object.prototype.hasOwnProperty,x1=Object.prototype.propertyIsEnumerable,pg=(e,t,n)=>t in e?mD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qc=(e,t)=>{for(var n in t||(t={}))v1.call(t,n)&&pg(e,n,t[n]);if(Ll)for(var n of Ll(t))x1.call(t,n)&&pg(e,n,t[n]);return e},Jc=(e,t)=>{var n={};for(var o in e)v1.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Ll)for(var o of Ll(e))t.indexOf(o)<0&&x1.call(e,o)&&(n[o]=e[o]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Vo;(e=>{const t=class ue{constructor(l,u,d,h){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<ue.MIN_VERSION||l>ue.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let m=[];for(let S=0;S<this.size;S++)m.push(!1);for(let S=0;S<this.size;S++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(d);if(this.drawCodewords(g),h==-1){let S=1e9;for(let T=0;T<8;T++){this.applyMask(T),this.drawFormatBits(T);const w=this.getPenaltyScore();w<S&&(h=T,S=w),this.applyMask(T)}}r(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(l,u){const d=e.QrSegment.makeSegments(l);return ue.encodeSegments(d,u)}static encodeBinary(l,u){const d=e.QrSegment.makeBytes(l);return ue.encodeSegments([d],u)}static encodeSegments(l,u,d=1,h=40,m=-1,g=!0){if(!(ue.MIN_VERSION<=d&&d<=h&&h<=ue.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let S,T;for(S=d;;S++){const x=ue.getNumDataCodewords(S,u)*8,E=s.getTotalBits(l,S);if(E<=x){T=E;break}if(S>=h)throw new RangeError("Data too long")}for(const x of[ue.Ecc.MEDIUM,ue.Ecc.QUARTILE,ue.Ecc.HIGH])g&&T<=ue.getNumDataCodewords(S,x)*8&&(u=x);let w=[];for(const x of l){n(x.mode.modeBits,4,w),n(x.numChars,x.mode.numCharCountBits(S),w);for(const E of x.getData())w.push(E)}r(w.length==T);const v=ue.getNumDataCodewords(S,u)*8;r(w.length<=v),n(0,Math.min(4,v-w.length),w),n(0,(8-w.length%8)%8,w),r(w.length%8==0);for(let x=236;w.length<v;x^=253)n(x,8,w);let y=[];for(;y.length*8<w.length;)y.push(0);return w.forEach((x,E)=>y[E>>>3]|=x<<7-(E&7)),new ue(S,u,y,m)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(l[d],l[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;r(h>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,o(h,m));this.setFunctionModule(8,7,o(h,6)),this.setFunctionModule(8,8,o(h,7)),this.setFunctionModule(7,8,o(h,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,o(h,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,o(h,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,o(h,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;r(u>>>18==0);for(let d=0;d<18;d++){const h=o(u,d),m=this.size-11+d%3,g=Math.floor(d/3);this.setFunctionModule(m,g,h),this.setFunctionModule(g,m,h)}}drawFinderPattern(l,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const m=Math.max(Math.abs(h),Math.abs(d)),g=l+h,S=u+d;0<=g&&g<this.size&&0<=S&&S<this.size&&this.setFunctionModule(g,S,m!=2&&m!=4)}}drawAlignmentPattern(l,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(l+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(l,u,d){this.modules[u][l]=d,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,d=this.errorCorrectionLevel;if(l.length!=ue.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=ue.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=ue.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],g=Math.floor(ue.getNumRawDataModules(u)/8),S=h-g%h,T=Math.floor(g/h);let w=[];const v=ue.reedSolomonComputeDivisor(m);for(let x=0,E=0;x<h;x++){let k=l.slice(E,E+T-m+(x<S?0:1));E+=k.length;const C=ue.reedSolomonComputeRemainder(k,v);x<S&&k.push(0),w.push(k.concat(C))}let y=[];for(let x=0;x<w[0].length;x++)w.forEach((E,k)=>{(x!=T-m||k>=S)&&y.push(E[x])});return r(y.length==g),y}drawCodewords(l){if(l.length!=Math.floor(ue.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let m=0;m<2;m++){const g=d-m,T=(d+1&2)==0?this.size-1-h:h;!this.isFunction[T][g]&&u<l.length*8&&(this.modules[T][g]=o(l[u>>>3],7-(u&7)),u++)}}r(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(l){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let l=0;for(let m=0;m<this.size;m++){let g=!1,S=0,T=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[m][w]==g?(S++,S==5?l+=ue.PENALTY_N1:S>5&&l++):(this.finderPenaltyAddHistory(S,T),g||(l+=this.finderPenaltyCountPatterns(T)*ue.PENALTY_N3),g=this.modules[m][w],S=1);l+=this.finderPenaltyTerminateAndCount(g,S,T)*ue.PENALTY_N3}for(let m=0;m<this.size;m++){let g=!1,S=0,T=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][m]==g?(S++,S==5?l+=ue.PENALTY_N1:S>5&&l++):(this.finderPenaltyAddHistory(S,T),g||(l+=this.finderPenaltyCountPatterns(T)*ue.PENALTY_N3),g=this.modules[w][m],S=1);l+=this.finderPenaltyTerminateAndCount(g,S,T)*ue.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let g=0;g<this.size-1;g++){const S=this.modules[m][g];S==this.modules[m][g+1]&&S==this.modules[m+1][g]&&S==this.modules[m+1][g+1]&&(l+=ue.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((g,S)=>g+(S?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return r(0<=h&&h<=9),l+=h*ue.PENALTY_N4,r(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let h=this.size-7;d.length<l;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(l){if(l<ue.MIN_VERSION||l>ue.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;u-=(25*d-10)*d-55,l>=7&&(u-=36)}return r(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(ue.getNumRawDataModules(l)/8)-ue.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*ue.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<l-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<l;h++){for(let m=0;m<u.length;m++)u[m]=ue.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=ue.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(l,u){let d=u.map(h=>0);for(const h of l){const m=h^d.shift();d.push(0),u.forEach((g,S)=>d[S]^=ue.reedSolomonMultiply(g,m))}return d}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*l;return r(d>>>8==0),d}finderPenaltyCountPatterns(l){const u=l[1];r(u<=this.size*3);const d=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(d&&l[0]>=u*4&&l[6]>=u?1:0)+(d&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,d){return l&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(a,l,u){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)u.push(a>>>d&1)}function o(a,l){return(a>>>l&1)!=0}function r(a){if(!a)throw new Error("Assertion error")}const i=class Me{constructor(l,u,d){if(this.mode=l,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let u=[];for(const d of l)n(d,8,u);return new Me(Me.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!Me.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<l.length;){const h=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+h),10),h*3+1,u),d+=h}return new Me(Me.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!Me.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=l.length;d+=2){let h=Me.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;h+=Me.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(h,11,u)}return d<l.length&&n(Me.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,u),new Me(Me.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:Me.isNumeric(l)?[Me.makeNumeric(l)]:Me.isAlphanumeric(l)?[Me.makeAlphanumeric(l)]:[Me.makeBytes(Me.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new Me(Me.Mode.ECI,0,u)}static isNumeric(l){return Me.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Me.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let d=0;for(const h of l){const m=h.mode.numCharCountBits(u);if(h.numChars>=1<<m)return 1/0;d+=4+m+h.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?u.push(l.charCodeAt(d)):(u.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=i;e.QrSegment=i})(Vo||(Vo={}));(e=>{(t=>{const n=class{constructor(r,i){this.ordinal=r,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Vo||(Vo={}));(e=>{(t=>{const n=class{constructor(r,i){this.modeBits=r,this.numBitsCharCount=i}numCharCountBits(r){return this.numBitsCharCount[Math.floor((r+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Vo||(Vo={}));var pr=Vo;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var gD={L:pr.QrCode.Ecc.LOW,M:pr.QrCode.Ecc.MEDIUM,Q:pr.QrCode.Ecc.QUARTILE,H:pr.QrCode.Ecc.HIGH},S1=128,T1="L",w1="#FFFFFF",E1="#000000",C1=!1,N1=1,yD=4,vD=0,xD=.1;function k1(e,t=0){const n=[];return e.forEach(function(o,r){let i=null;o.forEach(function(s,a){if(!s&&i!==null){n.push(`M${i+t} ${r+t}h${a-i}v1H${i+t}z`),i=null;return}if(a===o.length-1){if(!s)return;i===null?n.push(`M${a+t},${r+t} h1v1H${a+t}z`):n.push(`M${i+t},${r+t} h${a+1-i}v1H${i+t}z`);return}s&&i===null&&(i=a)})}),n.join("")}function I1(e,t){return e.slice().map((n,o)=>o<t.y||o>=t.y+t.h?n:n.map((r,i)=>i<t.x||i>=t.x+t.w?r:!1))}function SD(e,t,n,o){if(o==null)return null;const r=e.length+n*2,i=Math.floor(t*xD),s=r/t,a=(o.width||i)*s,l=(o.height||i)*s,u=o.x==null?e.length/2-a/2:o.x*s,d=o.y==null?e.length/2-l/2:o.y*s,h=o.opacity==null?1:o.opacity;let m=null;if(o.excavate){let S=Math.floor(u),T=Math.floor(d),w=Math.ceil(a+u-S),v=Math.ceil(l+d-T);m={x:S,y:T,w,h:v}}const g=o.crossOrigin;return{x:u,y:d,h:l,w:a,excavation:m,opacity:h,crossOrigin:g}}function TD(e,t){return t!=null?Math.max(Math.floor(t),0):e?yD:vD}function _1({value:e,level:t,minVersion:n,includeMargin:o,marginSize:r,imageSettings:i,size:s,boostLevel:a}){let l=Se.useMemo(()=>{const S=(Array.isArray(e)?e:[e]).reduce((T,w)=>(T.push(...pr.QrSegment.makeSegments(w)),T),[]);return pr.QrCode.encodeSegments(S,gD[t],n,void 0,void 0,a)},[e,t,n,a]);const{cells:u,margin:d,numCells:h,calculatedImageSettings:m}=Se.useMemo(()=>{let g=l.getModules();const S=TD(o,r),T=g.length+S*2,w=SD(g,s,S,i);return{cells:g,margin:S,numCells:T,calculatedImageSettings:w}},[l,s,i,o,r]);return{qrcode:l,margin:d,cells:u,numCells:h,calculatedImageSettings:m}}var wD=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),b1=Se.forwardRef(function(t,n){const o=t,{value:r,size:i=S1,level:s=T1,bgColor:a=w1,fgColor:l=E1,includeMargin:u=C1,minVersion:d=N1,boostLevel:h,marginSize:m,imageSettings:g}=o,T=Jc(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:w}=T,v=Jc(T,["style"]),y=g==null?void 0:g.src,x=Se.useRef(null),E=Se.useRef(null),k=Se.useCallback(j=>{x.current=j,typeof n=="function"?n(j):n&&(n.current=j)},[n]),[C,I]=Se.useState(!1),{margin:_,cells:A,numCells:M,calculatedImageSettings:L}=_1({value:r,level:s,minVersion:d,boostLevel:h,includeMargin:u,marginSize:m,imageSettings:g,size:i});Se.useEffect(()=>{if(x.current!=null){const j=x.current,le=j.getContext("2d");if(!le)return;let se=A;const X=E.current,D=L!=null&&X!==null&&X.complete&&X.naturalHeight!==0&&X.naturalWidth!==0;D&&L.excavation!=null&&(se=I1(A,L.excavation));const G=window.devicePixelRatio||1;j.height=j.width=i*G;const $=i/M*G;le.scale($,$),le.fillStyle=a,le.fillRect(0,0,M,M),le.fillStyle=l,wD?le.fill(new Path2D(k1(se,_))):A.forEach(function(te,Q){te.forEach(function(me,Re){me&&le.fillRect(Re+_,Q+_,1,1)})}),L&&(le.globalAlpha=L.opacity),D&&le.drawImage(X,L.x+_,L.y+_,L.w,L.h)}}),Se.useEffect(()=>{I(!1)},[y]);const ne=qc({height:i,width:i},w);let O=null;return y!=null&&(O=Se.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{I(!0)},ref:E,crossOrigin:L==null?void 0:L.crossOrigin})),Se.createElement(Se.Fragment,null,Se.createElement("canvas",qc({style:ne,height:i,width:i,ref:k,role:"img"},v)),O)});b1.displayName="QRCodeCanvas";var ED=Se.forwardRef(function(t,n){const o=t,{value:r,size:i=S1,level:s=T1,bgColor:a=w1,fgColor:l=E1,includeMargin:u=C1,minVersion:d=N1,boostLevel:h,title:m,marginSize:g,imageSettings:S}=o,T=Jc(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:w,cells:v,numCells:y,calculatedImageSettings:x}=_1({value:r,level:s,minVersion:d,boostLevel:h,includeMargin:u,marginSize:g,imageSettings:S,size:i});let E=v,k=null;S!=null&&x!=null&&(x.excavation!=null&&(E=I1(v,x.excavation)),k=Se.createElement("image",{href:S.src,height:x.h,width:x.w,x:x.x+w,y:x.y+w,preserveAspectRatio:"none",opacity:x.opacity,crossOrigin:x.crossOrigin}));const C=k1(E,w);return Se.createElement("svg",qc({height:i,width:i,viewBox:`0 0 ${y} ${y}`,ref:n,role:"img"},T),!!m&&Se.createElement("title",null,m),Se.createElement("path",{fill:a,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),Se.createElement("path",{fill:l,d:C,shapeRendering:"crispEdges"}),k)});ED.displayName="QRCodeSVG";var A1={exports:{}};(function(e){var t=function(){var n=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function s(l,u){if(!i[l]){i[l]={};for(var d=0;d<l.length;d++)i[l][l.charAt(d)]=d}return i[l][u]}var a={compressToBase64:function(l){if(l==null)return"";var u=a._compress(l,6,function(d){return o.charAt(d)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(u){return s(o,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=a.compress(l),d=new Uint8Array(u.length*2),h=0,m=u.length;h<m;h++){var g=u.charCodeAt(h);d[h*2]=g>>>8,d[h*2+1]=g%256}return d},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var u=new Array(l.length/2),d=0,h=u.length;d<h;d++)u[d]=l[d*2]*256+l[d*2+1];var m=[];return u.forEach(function(g){m.push(n(g))}),a.decompress(m.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(u){return r.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(u){return s(r,l.charAt(u))}))},compress:function(l){return a._compress(l,16,function(u){return n(u)})},_compress:function(l,u,d){if(l==null)return"";var h,m,g={},S={},T="",w="",v="",y=2,x=3,E=2,k=[],C=0,I=0,_;for(_=0;_<l.length;_+=1)if(T=l.charAt(_),Object.prototype.hasOwnProperty.call(g,T)||(g[T]=x++,S[T]=!0),w=v+T,Object.prototype.hasOwnProperty.call(g,w))v=w;else{if(Object.prototype.hasOwnProperty.call(S,v)){if(v.charCodeAt(0)<256){for(h=0;h<E;h++)C=C<<1,I==u-1?(I=0,k.push(d(C)),C=0):I++;for(m=v.charCodeAt(0),h=0;h<8;h++)C=C<<1|m&1,I==u-1?(I=0,k.push(d(C)),C=0):I++,m=m>>1}else{for(m=1,h=0;h<E;h++)C=C<<1|m,I==u-1?(I=0,k.push(d(C)),C=0):I++,m=0;for(m=v.charCodeAt(0),h=0;h<16;h++)C=C<<1|m&1,I==u-1?(I=0,k.push(d(C)),C=0):I++,m=m>>1}y--,y==0&&(y=Math.pow(2,E),E++),delete S[v]}else for(m=g[v],h=0;h<E;h++)C=C<<1|m&1,I==u-1?(I=0,k.push(d(C)),C=0):I++,m=m>>1;y--,y==0&&(y=Math.pow(2,E),E++),g[w]=x++,v=String(T)}if(v!==""){if(Object.prototype.hasOwnProperty.call(S,v)){if(v.charCodeAt(0)<256){for(h=0;h<E;h++)C=C<<1,I==u-1?(I=0,k.push(d(C)),C=0):I++;for(m=v.charCodeAt(0),h=0;h<8;h++)C=C<<1|m&1,I==u-1?(I=0,k.push(d(C)),C=0):I++,m=m>>1}else{for(m=1,h=0;h<E;h++)C=C<<1|m,I==u-1?(I=0,k.push(d(C)),C=0):I++,m=0;for(m=v.charCodeAt(0),h=0;h<16;h++)C=C<<1|m&1,I==u-1?(I=0,k.push(d(C)),C=0):I++,m=m>>1}y--,y==0&&(y=Math.pow(2,E),E++),delete S[v]}else for(m=g[v],h=0;h<E;h++)C=C<<1|m&1,I==u-1?(I=0,k.push(d(C)),C=0):I++,m=m>>1;y--,y==0&&(y=Math.pow(2,E),E++)}for(m=2,h=0;h<E;h++)C=C<<1|m&1,I==u-1?(I=0,k.push(d(C)),C=0):I++,m=m>>1;for(;;)if(C=C<<1,I==u-1){k.push(d(C));break}else I++;return k.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,d){var h=[],m=4,g=4,S=3,T="",w=[],v,y,x,E,k,C,I,_={val:d(0),position:u,index:1};for(v=0;v<3;v+=1)h[v]=v;for(x=0,k=Math.pow(2,2),C=1;C!=k;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;switch(x){case 0:for(x=0,k=Math.pow(2,8),C=1;C!=k;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;I=n(x);break;case 1:for(x=0,k=Math.pow(2,16),C=1;C!=k;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;I=n(x);break;case 2:return""}for(h[3]=I,y=I,w.push(I);;){if(_.index>l)return"";for(x=0,k=Math.pow(2,S),C=1;C!=k;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;switch(I=x){case 0:for(x=0,k=Math.pow(2,8),C=1;C!=k;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;h[g++]=n(x),I=g-1,m--;break;case 1:for(x=0,k=Math.pow(2,16),C=1;C!=k;)E=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),x|=(E>0?1:0)*C,C<<=1;h[g++]=n(x),I=g-1,m--;break;case 2:return w.join("")}if(m==0&&(m=Math.pow(2,S),S++),h[I])T=h[I];else if(I===g)T=y+y.charAt(0);else return null;w.push(T),h[g++]=y+T.charAt(0),m--,y=T,m==0&&(m=Math.pow(2,S),S++)}}};return a}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(A1);var CD=A1.exports;const P1=yg(CD),bs=({title:e,icon:t,player:n,gradientClass:o,borderColorClass:r,glowColor:i,desc:s})=>p.jsxs("div",{className:`relative w-full overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-1 border-t border-white/20 ${o} group`,children:[p.jsx("div",{className:"absolute -top-12 -right-12 w-48 h-48 bg-white opacity-10 rounded-full blur-3xl pointer-events-none"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-full h-3/4 bg-gradient-to-t from-black/60 via-black/20 to-transparent pointer-events-none"}),p.jsxs("div",{className:"relative z-10 flex flex-col items-center p-5 text-center",children:[p.jsxs("div",{className:"w-full flex justify-center items-center relative mb-4",children:[p.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white/80 group-hover:text-white group-hover:scale-110 transition-all duration-500 filter drop-shadow-md",children:t}),p.jsx("h3",{className:"text-2xl font-black text-white tracking-wider drop-shadow-md",children:e})]}),p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full mb-3",children:[p.jsxs("div",{className:"relative mb-3",children:[p.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full blur-md transform scale-110 group-hover:scale-125 transition duration-700"}),p.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white/90 relative z-10 shadow-2xl bg-slate-200 dark:bg-slate-700",children:n.avatar.startsWith("data:")?p.jsx("img",{src:n.avatar,className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-4xl text-slate-500",children:n.name[0]})}),p.jsx("div",{className:"absolute -bottom-3 left-1/2 -translate-x-1/2 bg-white text-slate-900 text-xs font-bold px-3 py-0.5 rounded-full shadow-lg z-20 border border-slate-200 whitespace-nowrap",children:n.mbti})]}),p.jsx("div",{className:"text-3xl font-bold text-white drop-shadow-md mt-2",children:n.name})]}),p.jsx("div",{className:"w-full bg-black/20 backdrop-blur-md border border-white/10 rounded-xl p-2.5 flex items-center justify-center",children:p.jsx("p",{className:"text-xs text-white/90 font-medium leading-snug",children:s})})]})]}),hg=({players:e,report:t,onReturnHome:n,startTime:o,gameMode:r})=>{const[i,s]=b.useState({awards:!0,group:!1,winner:!1}),[a,l]=b.useState({}),[u,d]=b.useState(!1);`${window.location.origin}${window.location.pathname}${P1.compressToEncodedURIComponent(JSON.stringify({players:e,report:t,startTime:o,gameMode:r}))}`;const h=[...e].sort((y,x)=>x.trustScore+x.insightScore+x.expressionScore-(y.trustScore+y.insightScore+y.expressionScore)),m=h[0],g=y=>[...e].sort((x,E)=>E[y]-x[y])[0],S=[...e].sort((y,x)=>x.totalRatingGiven-y.totalRatingGiven)[0],T=y=>{s(x=>({...x,[y]:!x[y]}))},w=y=>{l(x=>({...x,[y]:!x[y]}))},v=()=>{const y=new Date(o).toLocaleString("zh-CN"),x=Math.floor((Date.now()-o)/6e4),E=`
        <!DOCTYPE html>
        <html lang="zh-CN">
        <head>
            <meta charset="UTF-8">
            <title> -  (${y})</title>
            <style>
                body { font-family: sans-serif; background: #0f172a; color: #e2e8f0; padding: 40px; max-width: 800px; margin: 0 auto; }
                h1, h2 { color: #2dd4bf; border-bottom: 1px solid #334155; padding-bottom: 10px; }
                .card { background: #1e293b; padding: 20px; margin-bottom: 20px; border-radius: 12px; border: 1px solid #334155; }
                .highlight { color: #f59e0b; font-weight: bold; }
                .player-row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; padding: 10px; background: #0f172a; border-radius: 8px; }
                .tag { font-size: 0.8em; padding: 2px 8px; border-radius: 12px; background: #334155; }
            </style>
        </head>
        <body>
            <h1>  - </h1>
            <div class="card">
                <p><strong>:</strong> ${y}</p>
                <p><strong>:</strong> ${x} </p>
                <p><strong>:</strong> ${r}</p>
                <p><strong>:</strong> ${e.length} </p>
            </div>

            <h2> </h2>
            <div class="card">
                <p> <strong> ():</strong> ${m.name}</p>
                <p> <strong> ():</strong> ${g("trustScore").name}</p>
                <p> <strong> ():</strong> ${g("insightScore").name}</p>
                <p> <strong> ():</strong> ${g("expressionScore").name}</p>
                <p> <strong> ():</strong> ${S.name}</p>
            </div>

            <h2> </h2>
            <div class="card">
                <p>${t.groupAnalysis}</p>
            </div>

            <h2> </h2>
            ${h.map(_=>`
                <div class="card">
                    <div class="player-row">
                        <strong>${_.name}</strong> <span class="tag">${_.mbti}</span>
                        <span style="margin-left:auto" class="highlight">: ${_.trustScore+_.insightScore+_.expressionScore}</span>
                    </div>
                    <p><em>"${t.playerAnalysis[_.id]||"..."}"</em></p>
                    <p style="font-size: 0.9em; opacity: 0.8">
                        : ${_.trustScore} | : ${_.insightScore} | : ${_.expressionScore}
                    </p>
                </div>
            `).join("")}
            
            <footer style="text-align: center; margin-top: 40px; color: #64748b; font-size: 0.8em;">
                Generated by Rainbow Boat
            </footer>
        </body>
        </html>
      `,k=new Blob([E],{type:"text/html"}),C=URL.createObjectURL(k),I=document.createElement("a");I.href=C,I.download=`__${new Date().toISOString().slice(0,10)}.html`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(C)};return Se.useEffect(()=>{window.nativeSaveResult&&(e.forEach(y=>{const x=t.playerAnalysis[y.id]||"",E=y.trustScore+y.insightScore+y.expressionScore;window.nativeSaveResult(y.name,y.mbti,x,JSON.stringify(t),E)}),console.log("Game results archived to local soul-vault."))},[e,t]),p.jsx("div",{className:"min-h-screen w-full overflow-y-auto p-8 bg-slate-50/80 dark:bg-slate-900/80 text-slate-800 dark:text-white custom-scrollbar transition-colors duration-300 backdrop-blur-sm",children:p.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-20",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx(ae.div,{initial:{scale:0},animate:{scale:1},className:"inline-block p-4 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full shadow-lg mb-4",children:p.jsx(Vi,{size:48,className:"text-white"})}),p.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-[linear-gradient(to_right,#ef4444,#f97316,#eab308,#22c55e,#3b82f6,#a855f7)]",children:"  "}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg font-light tracking-wide",children:"  "})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-2 px-2",children:[p.jsx(o2,{className:"text-teal-600 dark:text-teal-400"}),p.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:""})]}),p.jsx(Yt,{children:i.awards&&p.jsxs(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(bs,{title:"",icon:p.jsx(c2,{size:32}),player:g("trustScore"),gradientClass:"bg-gradient-to-br from-blue-400 to-blue-600",borderColorClass:"border-blue-300",glowColor:"#60a5fa",desc:`: ${g("trustScore").trustScore} - `}),p.jsx(bs,{title:"",icon:p.jsx(h2,{size:32}),player:g("insightScore"),gradientClass:"bg-gradient-to-br from-purple-400 to-purple-600",borderColorClass:"border-purple-300",glowColor:"#a855f7",desc:`: ${g("insightScore").insightScore} - `}),p.jsx(bs,{title:"",icon:p.jsx(Zt,{size:32}),player:g("expressionScore"),gradientClass:"bg-gradient-to-br from-orange-400 to-red-500",borderColorClass:"border-orange-300",glowColor:"#f97316",desc:`: ${g("expressionScore").expressionScore} - `}),p.jsx(bs,{title:"",icon:p.jsx(Il,{size:32}),player:S,gradientClass:"bg-gradient-to-br from-pink-400 to-rose-600",borderColorClass:"border-pink-300",glowColor:"#ec4899",desc:`: ${S.totalRatingGiven} - `})]})}),p.jsx("div",{className:"mt-12 flex justify-center",children:p.jsx("button",{onClick:()=>T("winner"),className:"relative group w-full max-w-3xl",children:p.jsx("div",{className:`w-full p-1 rounded-3xl transition-all duration-500 transform hover:scale-[1.02] ${i.winner?"bg-gradient-to-r from-yellow-300 via-amber-400 to-yellow-300 animate-pulse":"bg-slate-200 dark:bg-slate-700"}`,children:p.jsx("div",{className:`w-full h-full p-8 rounded-[22px] border-2 flex flex-col items-center shadow-2xl relative overflow-hidden ${i.winner?"bg-slate-50 dark:bg-slate-900 border-transparent":"bg-slate-100 dark:bg-slate-800 border-dashed border-slate-300 dark:border-slate-600"}`,children:i.winner?p.jsxs(ae.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 flex flex-col md:flex-row items-center gap-10 w-full justify-center",children:[p.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-yellow-500/20 rounded-full blur-3xl -z-10"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden border-[6px] border-yellow-400 shadow-[0_0_30px_rgba(251,191,36,0.6)]",children:m.avatar.startsWith("data:")?p.jsx("img",{src:m.avatar,className:"w-full h-full object-cover"}):p.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 w-full h-full flex items-center justify-center font-bold text-5xl",children:m.name[0]})}),p.jsx("div",{className:"absolute -top-6 -right-6 text-7xl drop-shadow-lg filter animate-bounce",children:""})]}),p.jsxs("div",{className:"text-center md:text-left",children:[p.jsx("div",{className:"text-amber-500 dark:text-amber-400 font-black text-2xl mb-2 uppercase tracking-[0.2em]",children:""}),p.jsx("div",{className:"text-5xl font-black text-slate-900 dark:text-white mb-4 drop-shadow-sm",children:m.name}),p.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start",children:[p.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700",children:p.jsx("span",{className:"text-lg font-bold text-slate-800 dark:text-white",children:m.mbti})}),p.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 px-4 py-2 rounded-lg border border-yellow-200 dark:border-yellow-700",children:[p.jsx("span",{className:"text-sm text-yellow-600 dark:text-yellow-500 mr-2",children:""}),p.jsx("span",{className:"text-2xl font-black text-yellow-600 dark:text-yellow-400",children:m.trustScore+m.insightScore+m.expressionScore})]})]})]})]}):p.jsxs("div",{className:"py-8 flex flex-col items-center text-slate-500 dark:text-slate-400",children:[p.jsx(Ja,{size:48,className:"mb-4 text-slate-400 dark:text-slate-500"}),p.jsx("span",{className:"font-bold text-xl",children:""})]})})})})})]}),p.jsxs("div",{className:"space-y-4 pt-8 border-t border-slate-200 dark:border-slate-700/50",children:[p.jsxs("button",{onClick:()=>T("group"),className:"w-full flex items-center justify-between p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 hover:border-teal-500 transition group",children:[p.jsxs("span",{className:"font-bold text-xl flex items-center gap-3 text-teal-600 dark:text-teal-400 group-hover:scale-105 transition-transform",children:[p.jsx(t2,{})," "]}),i.group?p.jsx(i2,{}):p.jsx(Ja,{size:18,className:"text-slate-400"})]}),p.jsx(Yt,{children:i.group&&p.jsx(ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:p.jsx("div",{className:"text-slate-700 dark:text-slate-200 leading-relaxed text-lg bg-slate-50 dark:bg-slate-900/80 p-8 rounded-2xl border border-slate-200 dark:border-slate-700/50 shadow-inner whitespace-pre-wrap",children:t.groupAnalysis||"AI ..."})})})]}),p.jsxs("div",{className:"space-y-4 pt-4",children:[p.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-blue-600 dark:text-blue-400 px-2",children:[p.jsx(Sc,{}),"  ()"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map((y,x)=>p.jsxs(ae.div,{className:`bg-white dark:bg-slate-800/60 backdrop-blur rounded-xl border transition-all duration-300 ${a[y.id]?"border-teal-500 shadow-lg ring-1 ring-teal-500/20":"border-slate-200 dark:border-slate-700 hover:border-slate-400"}`,children:[p.jsxs("button",{onClick:()=>w(y.id),className:"w-full p-4 flex items-center gap-4 text-left",children:[p.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-slate-200 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 shrink-0 shadow-sm",children:y.avatar.startsWith("data:")?p.jsx("img",{src:y.avatar,className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-xl",children:y.name[0]})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white",children:y.name}),p.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-900 text-slate-600 dark:text-slate-400 px-2 py-1 rounded-full font-mono border border-slate-200 dark:border-slate-700",children:y.mbti})]}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:a[y.id]?p.jsxs(p.Fragment,{children:[p.jsx(g2,{size:12,className:"text-teal-500"})," "]}):p.jsxs(p.Fragment,{children:[p.jsx(Ja,{size:12})," ..."]})})]})]}),p.jsx(Yt,{children:a[y.id]&&p.jsx(ae.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden px-4 pb-4 border-t border-slate-100 dark:border-slate-700/50",children:p.jsxs("div",{className:"pt-4",children:[p.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-300 italic mb-4 bg-slate-50 dark:bg-slate-900/30 p-4 rounded-lg border-l-4 border-teal-500 whitespace-pre-wrap leading-relaxed",children:['"',t.playerAnalysis[y.id]||"AI ...",'"']}),p.jsxs("div",{className:"flex gap-2 text-xs font-mono opacity-90",children:[p.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:[": ",y.trustScore]}),p.jsxs("span",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-1 rounded",children:[": ",y.insightScore]}),p.jsxs("span",{className:"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 px-2 py-1 rounded",children:[": ",y.expressionScore]})]})]})})})]},y.id))})]}),p.jsxs("div",{className:"flex justify-center pt-8 gap-4",children:[p.jsxs("button",{onClick:v,className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 dark:bg-slate-800 dark:hover:bg-slate-700 text-white px-6 py-3 rounded-full font-bold transition shadow-lg border border-slate-600",children:[p.jsx(Rx,{size:20})," "]}),p.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-full font-bold transition shadow-lg border border-purple-400",children:[p.jsx(Wm,{size:20})," "]}),p.jsxs("button",{onClick:n,className:"flex items-center gap-2 bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-500 hover:to-blue-500 text-white px-8 py-3 rounded-full font-bold transition shadow-lg transform hover:scale-105",children:[p.jsx(d2,{size:20})," "]})]}),u&&p.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-slate-900/90 dark:bg-slate-950/95 backdrop-blur-md p-4 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-5xl h-[85vh] flex flex-col bg-white dark:bg-slate-800 rounded-[2.5rem] overflow-hidden shadow-2xl border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"p-8 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 z-10",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-2xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(Wm,{size:28,className:"text-purple-500"}),"   "]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 font-medium",children:""})]}),p.jsx("button",{onClick:()=>d(!1),className:"w-12 h-12 flex items-center justify-center bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-500 dark:text-white rounded-full transition-all group",children:p.jsx(Yi,{size:24,className:"group-hover:rotate-90 transition-transform"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/50",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(y=>{const x=`  - 


${t.groupAnalysis}

${y.name} 
${t.playerAnalysis[y.id]||""}

[]: ${y.trustScore+y.insightScore+y.expressionScore}
(:${y.trustScore} | :${y.insightScore} | :${y.expressionScore})`;return p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-8 border border-slate-100 dark:border-slate-700 flex flex-col items-center gap-6 hover:border-purple-500 dark:hover:border-purple-500 transition-all shadow-sm hover:shadow-xl group",children:[p.jsxs("div",{className:"flex items-center gap-4 w-full",children:[p.jsx("div",{className:"w-14 h-14 rounded-2xl overflow-hidden bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 shadow-inner",children:y.avatar.startsWith("data:")?p.jsx("img",{src:y.avatar,className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center font-black text-2xl text-slate-400",children:y.name[0]})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"font-black text-slate-800 dark:text-white text-xl",children:y.name}),p.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 font-black tracking-widest uppercase",children:y.mbti})]})]}),p.jsx("div",{className:"p-4 bg-white rounded-2xl shadow-xl ring-8 ring-slate-50 dark:ring-slate-900/50 group-hover:ring-purple-50 dark:group-hover:ring-purple-900/20 transition-all",children:p.jsx(b1,{value:x,size:200,level:"M",includeMargin:!1})}),p.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 text-center font-bold leading-relaxed",children:["",p.jsx("br",{}),p.jsxs("span",{className:"text-purple-600 dark:text-purple-400 text-sm",children:['"',y.name,'"']}),p.jsx("br",{}),""]})]},y.id)})})})]})})]})})};let fn=[];const Wc=()=>{const e=window.speechSynthesis.getVoices();fn=e.filter(t=>t.lang==="zh-CN"||t.lang.includes("zh-SG")),fn.length===0&&(fn=e.filter(t=>t.lang.toLowerCase().includes("zh")&&!t.lang.toLowerCase().includes("hk")&&!t.lang.toLowerCase().includes("mo"))),fn.length===0&&(fn=e.filter(t=>t.lang.toLowerCase().includes("zh")))};typeof window<"u"&&window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged!==void 0&&(window.speechSynthesis.onvoiceschanged=Wc),Wc());const ND=(e,t="system")=>{if(!window.speechSynthesis)return;window.speechSynthesis.cancel(),fn.length===0&&Wc();const n=new SpeechSynthesisUtterance(e);if(n.rate=1.2,n.pitch=1,fn.length>0)if(t==="system")n.voice=fn[0];else{let o=0;for(let i=0;i<t.length;i++)o=t.charCodeAt(i)+((o<<5)-o);const r=Math.abs(o)%fn.length;n.voice=fn[r],n.pitch=.8+Math.abs(o)%5/10}window.speechSynthesis.speak(n)};let Mt=null;const Gf=()=>"webkitSpeechRecognition"in window||"SpeechRecognition"in window,R1=(e,t)=>{if(!Gf())return null;const n=window.SpeechRecognition||window.webkitSpeechRecognition;Mt=new n,Mt.continuous=!0,Mt.interimResults=!0,Mt.lang="zh-CN",Mt.onresult=o=>{let r="";for(let i=o.resultIndex;i<o.results.length;++i)o.results[i].isFinal&&(r+=o.results[i][0].transcript);r&&e(r)},Mt.onerror=o=>{console.warn("Speech recognition error",o.error)},Mt.onend=()=>{t()};try{Mt.start()}catch{console.warn("Speech recognition already started")}return Mt},Kc=()=>{Mt&&(Mt.stop(),Mt=null)},kD=({onSelectMode:e,onOpenConfig:t,isMobile:n})=>{const o=[{id:"test",title:"AI ",desc:" AI ",icon:p.jsx(Zt,{className:"text-teal-400",size:n?28:32}),color:"from-teal-600/20 to-emerald-600/20",borderColor:"border-teal-500/30",tag:"",tagColor:"bg-teal-500"},{id:"tasks",title:"",desc:"",icon:p.jsx(Vi,{className:"text-amber-400",size:n?28:32}),color:"from-amber-600/20 to-orange-600/20",borderColor:"border-amber-500/30",tag:"",tagColor:"bg-amber-500"},{id:"party",title:" Party",desc:"AI",icon:p.jsx(Vx,{className:"text-blue-400",size:n?28:32}),color:"from-blue-600/20 to-indigo-600/20",borderColor:"border-blue-500/30",tag:"",tagColor:"bg-blue-500"}];return p.jsxs("div",{className:"h-screen flex flex-col items-center justify-center px-4 md:px-6 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-500/10 rounded-full blur-[120px] pointer-events-none"}),p.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-500/10 rounded-full blur-[120px] pointer-events-none"}),p.jsx("button",{onClick:t,className:"absolute top-4 right-4 md:top-6 md:right-6 p-2.5 md:p-3 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 backdrop-blur-sm rounded-xl border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-white transition-all z-20 shadow-sm",title:"AI ",children:p.jsx(nf,{size:n?18:20})}),p.jsxs(ae.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center mb-6 md:mb-10 relative z-10",children:[p.jsx("h1",{className:`${n?"text-4xl":"text-5xl md:text-6xl"} font-black mb-2 tracking-tighter`,children:p.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-red-500 via-yellow-500 via-green-500 via-blue-500 to-purple-500",children:"MBTI Hub"})}),p.jsx("p",{className:`text-slate-500 dark:text-slate-400 ${n?"text-sm":"text-lg md:text-xl"} font-medium`,children:""})]}),p.jsx("div",{className:`${n?"flex flex-col gap-3 w-full max-w-sm":"flex flex-row gap-6 w-full max-w-6xl"} h-auto max-h-[70vh] relative z-10`,children:o.map((r,i)=>p.jsxs(ae.button,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:i*.1},whileHover:n?{scale:1.02}:{y:-12,scale:1.05},whileTap:{scale:.98},onClick:()=>e(r.id),className:`group relative flex-1 flex ${n?"flex-row items-center gap-4 p-4 min-h-[100px]":"flex-col text-left p-8 min-h-[320px] justify-between"} rounded-[2rem] border-2 ${r.borderColor} bg-white dark:bg-slate-900/40 shadow-xl hover:shadow-2xl dark:shadow-none backdrop-blur-xl overflow-hidden transition-all cursor-pointer`,children:[p.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r.color} opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none duration-500`}),p.jsx("div",{className:"absolute inset-0 bg-white/40 dark:bg-slate-900/40 group-hover:opacity-0 transition-opacity pointer-events-none duration-500"}),p.jsx("div",{className:`relative z-10 ${n?"p-3":"p-5 mb-4 w-fit"} bg-white dark:bg-slate-800 rounded-2xl group-hover:scale-110 group-hover:rotate-6 transition-all shadow-md group-hover:shadow-lg`,children:r.icon}),p.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-center",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("h3",{className:`${n?"text-xl":"text-2xl"} font-black text-slate-800 dark:text-white group-hover:scale-105 transition-transform origin-left`,children:r.title}),p.jsx("span",{className:`${r.tagColor} text-white text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest shadow-sm`,children:r.tag})]}),p.jsx("p",{className:`text-slate-500 dark:text-slate-400 ${n?"text-xs":"text-base"} leading-relaxed font-bold opacity-80 group-hover:opacity-100 transition-opacity`,children:r.desc})]}),!n&&p.jsxs("div",{className:"relative z-10 flex items-center gap-2 text-slate-400 group-hover:text-white font-black text-sm uppercase tracking-tighter self-end mt-4",children:["Enter ",p.jsx(No,{size:16})]})]},r.id))}),p.jsxs(ae.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:`mt-6 md:mt-10 flex items-center gap-2 text-slate-400 dark:text-slate-500 ${n?"text-[10px]":"text-xs"} bg-slate-100 dark:bg-slate-800/20 px-4 py-2 rounded-full border border-slate-200 dark:border-slate-700/30`,children:[p.jsx(f2,{size:n?12:14}),p.jsx("span",{children:""})]})]})};let Er=null,mg=null,qo=null,xi=null,Yc;const Bf=async e=>{try{xi=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),Er=new(window.AudioContext||window.webkitAudioContext),qo=Er.createAnalyser(),qo.fftSize=256,mg=Er.createMediaStreamSource(xi),mg.connect(qo);const t=new Uint8Array(qo.frequencyBinCount),n=()=>{if(!qo)return;qo.getByteFrequencyData(t);let o=0;for(let s=0;s<t.length;s++)o+=t[s];const i=o/t.length/255;e(i),Yc=requestAnimationFrame(n)};n()}catch(t){console.error("Audio monitoring failed",t)}},Fl=()=>{Yc&&cancelAnimationFrame(Yc),xi&&(xi.getTracks().forEach(e=>e.stop()),xi=null),Er&&(Er.close(),Er=null)},ID=({onBack:e,isMobile:t,isDarkMode:n})=>{const[o,r]=b.useState("INTJ"),[i,s]=b.useState(0),[a,l]=b.useState(null),[u,d]=b.useState(!1),[h,m]=b.useState(null),[g,S]=b.useState({}),[T,w]=b.useState({}),[v,y]=b.useState("SELECTING"),[x,E]=b.useState(0),[k,C]=b.useState(""),[I,_]=b.useState(!1),[A,M]=b.useState(0),[L,ne]=b.useState(new Set),[O,j]=b.useState(0),[le,se]=b.useState(!1),X=b.useRef(null),D=b.useRef(null),[G,$]=b.useState(null),te=Co[o]||[],Q=te[i]||"Te",me=jd.find(W=>W.id===Q),Re={id:"solo-user",name:"",mbti:o,isBot:!1,avatar:"user",trustScore:0,insightScore:0,expressionScore:0,totalRatingGiven:0,position:0,previousPosition:null,stackIndex:i,skipUsedCount:0,color:"teal",behaviorStats:{truth:0,dare:0,deep:0,standard:0,totalMultiplier:0,highEnergyCount:0,interactions:{}}},bt=(W,Z)=>{const de=`${Z}-${W}`,pe=T[de];if(pe){console.log(` Using AI-generated tasks for ${de}`),l(pe),d(!1),y("SELECTING"),m(null),ne(new Set),j(0);return}const we=g[de];if(we){console.log(` Using cached local tasks for ${de}`),l(we),d(!1),y("SELECTING"),m(null),ne(new Set),j(0);return}console.log(` Instantly loading local tasks for ${W}...`);const uo=Ex(W,4),co={},fo=["standard","truth","dare","deep"];uo.forEach((Ze,z)=>{co[fo[z]]=Ze}),S(Ze=>({...Ze,[de]:co})),l(co),d(!1),y("SELECTING"),m(null),ne(new Set),j(0),console.log(" Local tasks displayed instantly (<50ms)!")};b.useEffect(()=>{bt(Q,o)},[Q,o]),b.useEffect(()=>{let W;return v==="EXECUTING"&&x>0?W=setInterval(()=>{E(Z=>Z-1)},1e3):x===0&&v==="EXECUTING"&&wt(),()=>clearInterval(W)},[v,x]),b.useEffect(()=>{v==="EXECUTING"?(Bf(W=>M(W)),Gf()&&(_(!0),R1(W=>C(Z=>Z+" "+W),()=>_(!1)))):(Fl(),Kc(),_(!1))},[v]),b.useEffect(()=>{let W=null;return le&&(v==="SELECTING"||v==="EXECUTING")&&navigator.mediaDevices.getUserMedia({video:!0}).then(Z=>{W=Z,X.current&&(X.current.srcObject=Z)}).catch(Z=>{console.error("Camera error:",Z),se(!1)}),()=>{W&&W.getTracks().forEach(Z=>Z.stop())}},[le,v]);const Ne=W=>{m(W),E(W.durationSeconds),C(""),y("EXECUTING");const Z=`${o}-${Q}`;T[Z]||(console.log(` User started challenge! Now generating AI tasks in background for ${Z}...`),gc(Q,[Re],{...Re,mbti:o}).then(de=>{w(pe=>({...pe,[Z]:de})),console.log(` AI tasks generated for future use: ${Z}`)}).catch(de=>console.warn("AI generation failed (not critical):",de)))},wt=async()=>{y("FEEDBACK"),d(!0),h&&ne(de=>new Set([...de,h.category]));let W="";if(le&&X.current&&D.current&&h){const de=D.current.getContext("2d");de&&(de.drawImage(X.current,0,0,300,300),W=D.current.toDataURL("image/jpeg"))}const Z=await KA(Re,h,k,W);$(Z),d(!1)},ao=()=>{$(null),m(null),y("SELECTING"),j(0)},$o=()=>{const W=(i+1)%te.length;s(W),$(null),m(null),ne(new Set),y("SELECTING"),j(0)},At=a?Object.entries(a):[],ln=At.filter(([W])=>!L.has(W));return p.jsxs("div",{className:"h-screen bg-stone-50 dark:bg-slate-950 text-slate-800 dark:text-white flex flex-col overflow-hidden transition-colors duration-300",children:[p.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-blue-500/5 dark:bg-blue-500/10 rounded-full blur-[120px] pointer-events-none"}),p.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-500/5 dark:bg-purple-500/10 rounded-full blur-[120px] pointer-events-none"}),p.jsxs("header",{className:"shrink-0 flex items-center justify-between p-4 md:p-6 relative z-10",children:[p.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-white transition group font-medium",children:[p.jsx(n2,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),p.jsx("span",{className:t?"hidden":"",children:" Hub"})]}),p.jsxs("div",{className:"flex items-center gap-2 md:gap-4 bg-white dark:bg-slate-900/50 p-1.5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 px-2 md:px-3",children:[p.jsx(Dx,{size:14,className:"text-teal-500 dark:text-teal-400"}),p.jsx("select",{value:o,onChange:W=>{r(W.target.value),s(0)},className:"bg-transparent text-sm font-black outline-none cursor-pointer text-slate-700 dark:text-slate-200",children:Sl.map(W=>p.jsx("option",{value:W,className:"bg-white dark:bg-slate-900 text-slate-800 dark:text-white",children:W},W))})]}),!t&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"h-5 w-px bg-slate-200 dark:bg-slate-800"}),p.jsx("button",{onClick:()=>se(!le),className:`p-1.5 rounded-lg transition-all ${le?"bg-teal-500/10 dark:bg-teal-500/20 text-teal-600 dark:text-teal-400":"bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:le?p.jsx(P2,{size:16}):p.jsx(A2,{size:16})})]}),p.jsx("button",{onClick:()=>bt(Q,o),className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition text-slate-400 dark:text-slate-500",children:p.jsx(Fx,{size:16,className:u&&v==="SELECTING"?"animate-spin":""})})]})]}),p.jsx("div",{className:"shrink-0 flex items-center justify-center gap-1 md:gap-2 px-4 pb-4 overflow-x-auto no-scrollbar relative z-10 transition-all",children:te.map((W,Z)=>{const de=Z===i,pe=Z<i;return p.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[p.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-[10px] md:text-xs font-black transition-all ${de?"bg-teal-500 text-white scale-110 shadow-lg shadow-teal-500/30":pe?"bg-teal-50 dark:bg-slate-800 text-teal-600 dark:text-teal-400 border border-teal-200 dark:border-teal-500/30":"bg-white dark:bg-slate-900 text-slate-300 dark:text-slate-700 border border-slate-200 dark:border-slate-800"}`,children:W}),Z<te.length-1&&p.jsx("div",{className:`w-4 md:w-6 h-px ${Z<i?"bg-teal-500/50":"bg-slate-200 dark:bg-slate-800"}`})]},W)})}),p.jsx("main",{className:"flex-1 flex flex-col items-center justify-center px-4 overflow-hidden relative z-10",children:p.jsxs(Yt,{mode:"wait",children:[v==="SELECTING"&&p.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"w-full max-w-4xl flex flex-col items-center",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsxs("span",{className:"px-3 py-1 bg-teal-500/10 dark:bg-teal-500/10 border border-teal-200 dark:border-teal-500/20 rounded-full text-teal-600 dark:text-teal-400 text-[10px] md:text-xs font-black tracking-widest uppercase mb-2 inline-block",children:["LEVEL ",i+1,": ",me==null?void 0:me.name]}),p.jsx("h2",{className:`${t?"text-xl":"text-2xl"} font-black text-slate-800 dark:text-white`,children:""})]}),u?p.jsx("div",{className:`${t?"flex flex-col":"grid grid-cols-2"} gap-4 w-full h-[60vh]`,children:Array.from({length:4}).map((W,Z)=>p.jsx("div",{className:"flex-1 bg-white dark:bg-slate-900/50 rounded-3xl border border-slate-100 dark:border-slate-800 animate-pulse"},Z))}):p.jsx("div",{className:"w-full flex-1 flex flex-col justify-center",children:t?p.jsxs("div",{className:"w-full relative px-10",children:[p.jsx("div",{className:"overflow-hidden py-10",children:p.jsx(ae.div,{className:"flex",animate:{x:`-${O*100}%`},transition:{type:"spring",stiffness:200,damping:25},children:At.map(([W,Z])=>{const de=Ao[W],pe=L.has(W);return p.jsx("div",{className:"w-full shrink-0 px-4",children:p.jsxs("button",{onClick:()=>!pe&&Ne(Z),disabled:pe,className:`w-full aspect-[4/5] p-8 rounded-[3rem] border-4 ${pe?"border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/40":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900/50 shadow-2xl"} text-left transition-all relative overflow-hidden flex flex-col justify-between`,children:[p.jsxs("div",{className:`absolute inset-0 bg-white/60 dark:bg-slate-950/80 backdrop-blur-sm flex flex-col items-center justify-center z-10 transition-opacity duration-500 ${pe?"opacity-100":"opacity-0 pointer-events-none"}`,children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-teal-500 text-white flex items-center justify-center mb-4 shadow-lg shadow-teal-500/20",children:p.jsx(qa,{size:32})}),p.jsx("span",{className:"text-teal-600 dark:text-teal-400 font-black tracking-widest text-[10px]",children:""})]}),Z.source==="ai"&&p.jsxs("div",{className:"absolute top-6 right-6 flex items-center gap-1.5 px-3 py-1 bg-teal-500/10 rounded-full text-[10px] font-black text-teal-600 dark:text-teal-400 border border-teal-500/20 animate-pulse z-10",children:[p.jsx(Zt,{size:12,fill:"currentColor"})," AI "]}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"text-5xl mb-6",children:de.icon}),p.jsx("div",{className:"px-3 py-1 bg-slate-100 dark:bg-white/10 rounded-full text-[10px] font-black uppercase text-slate-500 dark:text-slate-300 tracking-[0.2em] mb-4 inline-block",children:de.name}),p.jsx("h3",{className:"text-2xl font-black mb-3 text-slate-800 dark:text-white leading-tight",children:Z.title}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed font-bold opacity-80",children:Z.description})]}),p.jsxs("div",{className:"relative z-10 flex items-center gap-2 text-teal-500 font-black text-xs",children:["START CHALLENGE ",p.jsx(No,{size:14})]})]})},W)})})}),p.jsx("button",{onClick:()=>j(Math.max(0,O-1)),className:`absolute left-0 top-1/2 -translate-y-1/2 p-3 z-20 bg-white dark:bg-slate-800 rounded-full shadow-xl border border-slate-100 dark:border-slate-700 transition-all ${O===0?"opacity-0 scale-50":"opacity-100 scale-100"}`,children:p.jsx(s2,{size:24})}),p.jsx("button",{onClick:()=>j(Math.min(At.length-1,O+1)),className:`absolute right-0 top-1/2 -translate-y-1/2 p-3 z-20 bg-white dark:bg-slate-800 rounded-full shadow-xl border border-slate-100 dark:border-slate-700 transition-all ${O===At.length-1?"opacity-0 scale-50":"opacity-100 scale-100"}`,children:p.jsx(Px,{size:24})}),p.jsx("div",{className:"flex justify-center gap-2 mt-2",children:At.map((W,Z)=>p.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${Z===O?"w-8 bg-teal-500":"w-1.5 bg-slate-200 dark:bg-slate-800"}`},Z))})]}):p.jsx("div",{className:"grid grid-cols-2 gap-8 w-full max-w-5xl mx-auto h-[60vh]",children:At.map(([W,Z])=>{const de=Ao[W],pe=L.has(W);return p.jsxs(ae.button,{whileHover:pe?{}:{scale:1.02,y:-8,boxShadow:"0 25px 50px -12px rgb(0 0 0 / 0.15)"},onClick:()=>!pe&&Ne(Z),disabled:pe,className:`p-10 rounded-[3.5rem] border-2 bg-white dark:bg-slate-900/50 text-left transition-all group relative overflow-hidden flex flex-col justify-between ${pe?"border-slate-100 dark:border-slate-800 opacity-40 grayscale":"border-slate-200 dark:border-slate-800 hover:border-teal-500/50 shadow-lg hover:shadow-2xl active:scale-95"}`,children:[pe&&p.jsxs("div",{className:"absolute inset-0 bg-white/40 dark:bg-slate-950/60 backdrop-blur-sm flex flex-col items-center justify-center z-20",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-teal-500 text-white flex items-center justify-center mb-2",children:p.jsx(qa,{size:32})}),p.jsx("span",{className:"text-teal-600 dark:text-teal-400 font-black tracking-widest text-xs",children:""})]}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("div",{className:"text-5xl group-hover:scale-125 transition-transform duration-500",children:de.icon}),p.jsx("div",{className:"px-3.5 py-1.5 bg-slate-100 dark:bg-white/5 rounded-full text-[10px] font-black uppercase tracking-[0.25em] text-slate-500 dark:text-slate-400 font-mono shadow-inner",children:de.name})]}),p.jsx("h3",{className:"text-3xl font-black mb-4 text-slate-800 dark:text-white group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors leading-tight",children:Z.title}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg leading-relaxed font-bold opacity-80 group-hover:opacity-100 transition-opacity line-clamp-3",children:Z.description})]}),p.jsxs("div",{className:"relative z-10 flex items-center gap-2 text-teal-500 font-black text-xs opacity-0 group-hover:opacity-100 transition-all translate-y-4 group-hover:translate-y-0",children:["START CHALLENGE ",p.jsx(No,{size:18})]}),p.jsx("div",{className:`absolute -bottom-12 -right-12 w-48 h-48 rounded-full bg-gradient-to-br ${pe?"from-slate-100 to-slate-200":"from-teal-500/5 to-blue-500/5"} blur-2xl group-hover:scale-150 transition-transform duration-700 pointer-events-none`})]},W)})})})]},"selecting"),v==="EXECUTING"&&h&&p.jsxs(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-2xl bg-white dark:bg-slate-900 rounded-[2.5rem] border border-slate-200 dark:border-slate-800 shadow-2xl overflow-hidden p-6 md:p-10",children:[p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4 md:mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:`${t?"text-xl":"text-2xl"} font-black mb-2 text-transparent bg-clip-text bg-gradient-to-r from-teal-500 to-blue-600`,children:h.title}),p.jsxs("div",{className:"flex gap-2 flex-wrap",children:[p.jsxs("span",{className:"px-3 py-1 bg-teal-50 dark:bg-teal-900/20 rounded-full text-[10px] font-black text-teal-600 dark:text-teal-400 flex items-center gap-1.5 border border-teal-100 dark:border-teal-500/20",children:[p.jsx(I2,{size:12})," ",me==null?void 0:me.name]}),p.jsxs("span",{className:"px-3 py-1 bg-amber-50 dark:bg-amber-900/20 rounded-full text-[10px] font-black text-amber-600 dark:text-amber-400 flex items-center gap-1.5 border border-amber-100 dark:border-amber-500/20",children:[p.jsx(Zt,{size:12})," ",h.scoreType]})]})]}),p.jsxs("div",{className:"w-14 h-14 md:w-16 md:h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center shadow-inner",children:[p.jsx("span",{className:"text-[8px] font-black text-slate-400 dark:text-slate-500 uppercase",children:""}),p.jsxs("span",{className:"text-xl md:text-2xl font-black text-slate-700 dark:text-slate-200",children:[x,"s"]})]})]}),p.jsxs("p",{className:`${t?"text-base":"text-lg"} text-slate-600 dark:text-slate-300 leading-relaxed italic mb-6 font-medium`,children:['"',h.description,'"']}),p.jsxs("div",{className:"flex-1 flex flex-col gap-4 min-h-0",children:[p.jsxs("div",{className:"relative flex-1 bg-slate-50 dark:bg-black/40 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 min-h-[120px] md:min-h-[150px] shadow-inner",children:[I&&p.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1.5 text-red-500 animate-pulse text-[10px] font-black uppercase",children:[p.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full shadow-[0_0_8px_rgba(239,68,68,0.5)]"})," "]}),p.jsx("textarea",{className:"w-full h-full bg-transparent resize-none outline-none text-base md:text-lg leading-relaxed placeholder:text-slate-300 dark:placeholder:text-slate-800 font-bold text-slate-700 dark:text-slate-200",placeholder:"...",value:k,onChange:W=>C(W.target.value)}),p.jsx("div",{className:"absolute bottom-4 left-4 right-4 h-8 flex items-end gap-1 pointer-events-none",children:Array.from({length:40}).map((W,Z)=>p.jsx("div",{className:"flex-1 bg-teal-500/30 dark:bg-teal-500/20 rounded-t-full transition-all duration-150",style:{height:`${Math.random()*A*100}%`}},Z))})]}),p.jsxs("button",{onClick:wt,className:"w-full py-4 md:py-5 bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 rounded-2xl font-black text-white shadow-xl shadow-teal-500/20 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-3 text-lg",children:[" ",p.jsx(No,{size:22,className:"group-hover:translate-x-1 transition-transform"})]})]})]}),le&&!t&&p.jsxs("div",{className:"absolute top-10 right-10 w-48 h-36 rounded-2xl border-2 border-white dark:border-slate-800 shadow-2xl overflow-hidden group",children:[p.jsx("video",{ref:X,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700"}),p.jsx("div",{className:"absolute inset-0 bg-teal-500/10 pointer-events-none"}),p.jsxs("div",{className:"absolute bottom-2 left-2 flex items-center gap-1.5 text-white font-black text-[8px] uppercase tracking-widest drop-shadow-md",children:[p.jsx(js,{size:10})," AI "]})]})]},"executing"),v==="FEEDBACK"&&p.jsx(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-2xl overflow-hidden rounded-[3rem] bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-2xl",children:u?p.jsxs("div",{className:"p-16 flex flex-col items-center justify-center text-center",children:[p.jsxs("div",{className:"w-16 h-16 mb-8 relative",children:[p.jsx("div",{className:"absolute inset-0 border-4 border-teal-500/10 rounded-full"}),p.jsx("div",{className:"absolute inset-0 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})]}),p.jsx("h2",{className:"text-2xl font-black mb-2 text-slate-800 dark:text-white",children:"..."}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:""})]}):G&&p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:`${t?"p-8":"p-12"} bg-gradient-to-br from-teal-500/5 to-blue-500/5 dark:from-teal-500/10 dark:to-blue-500/10 border-b border-slate-100 dark:border-slate-800 text-center relative overflow-hidden`,children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("div",{className:"w-16 h-16 bg-white dark:bg-slate-800 rounded-3xl rotate-12 flex items-center justify-center shadow-xl border border-slate-100 dark:border-slate-700 scale-110",children:p.jsx("div",{className:"-rotate-12 bg-teal-500 rounded-xl p-2.5",children:p.jsx(qa,{size:24,className:"text-white"})})})}),p.jsx("h2",{className:`${t?"text-2xl":"text-3xl"} font-black mb-2 text-slate-800 dark:text-white tracking-tight`,children:""}),p.jsx("p",{className:"text-teal-600 dark:text-teal-400 font-black uppercase tracking-[0.3em] text-[10px]",children:"Cognitive Evolution Achieved"})]}),p.jsxs("div",{className:`${t?"p-6":"p-10"}`,children:[p.jsx("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[{label:"",score:G.scores.trust,color:"text-teal-500",fill:"#14b8a6"},{label:"",score:G.scores.insight,color:"text-purple-500",fill:"#a855f7"},{label:"",score:G.scores.expression,color:"text-amber-500",fill:"#f59e0b"}].map((W,Z)=>p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/40 border border-slate-100 dark:border-slate-800/60 p-4 rounded-2xl text-center shadow-sm",children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 mb-2 uppercase tracking-widest",children:W.label}),p.jsx("div",{className:"flex justify-center gap-1",children:Array.from({length:5}).map((de,pe)=>p.jsx(of,{size:14,fill:pe<W.score?W.fill:"none",stroke:pe<W.score?W.fill:"#cbd5e1",strokeWidth:pe<W.score?1:2},pe))})]},Z))}),p.jsxs("div",{className:"p-6 md:p-8 bg-slate-50/80 dark:bg-slate-800/30 border border-slate-200/50 dark:border-slate-700/50 rounded-2xl mb-8 relative",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 dark:opacity-10 pointer-events-none",children:p.jsx(js,{size:64})}),p.jsxs("h4",{className:"text-slate-400 dark:text-teal-400/80 font-black mb-4 flex items-center gap-2 text-xs uppercase tracking-widest",children:[p.jsx(js,{size:16})," "]}),p.jsxs("p",{className:`${t?"text-sm":"text-base"} text-slate-700 dark:text-slate-200 leading-relaxed font-bold italic`,children:['"',G.feedback,'"']})]}),p.jsxs("div",{className:"flex flex-col gap-4",children:[ln.length>0&&p.jsxs("button",{onClick:ao,className:"w-full py-4 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-white rounded-2xl font-black transition-all flex items-center justify-center gap-3 border-2 border-slate-100 dark:border-slate-700 shadow-sm",children:[p.jsx(Ux,{size:18}),"  ",Q," (",ln.length,")"]}),p.jsxs("button",{onClick:$o,className:"w-full py-5 bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white rounded-2xl font-black shadow-xl shadow-teal-500/20 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-3 text-lg",children:["",te[(i+1)%te.length]," ",p.jsx(No,{size:22})]})]})]})]})},"feedback")]})}),p.jsx("canvas",{ref:D,width:"300",height:"300",className:"hidden"})]})},As=["#ef4444","#f97316","#eab308","#84cc16","#06b6d4","#8b5cf6","#d946ef","#f43f5e","#be123c","#0f766e","#1d4ed8","#4338ca","#a21caf","#be185d","#881337","#7c2d12"],_D=()=>Sl[Math.floor(Math.random()*Sl.length)],bD=({value:e,rolling:t})=>p.jsxs("div",{className:"relative w-24 h-24 perspective-[800px] flex items-center justify-center pointer-events-none z-20",children:[p.jsx("style",{children:`
                .dice-wrap { width: 60px; height: 60px; position: relative; transform-style: preserve-3d; }
                .dice-wrap.spinning { animation: spin3d 0.5s infinite linear; }
                @keyframes spin3d {
                    0% { transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg); }
                    100% { transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); }
                }
                .face { position: absolute; width: 60px; height: 60px; background: rgba(20, 184, 166, 0.9); border: 2px solid #fff; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size: 24px; color: #fff; box-shadow: 0 0 15px rgba(45,212,191,0.5); border-radius: 8px; }
                .face:nth-child(1) { transform: rotateY(0deg) translateZ(30px); }
                .face:nth-child(2) { transform: rotateY(90deg) translateZ(30px); }
                .face:nth-child(3) { transform: rotateY(180deg) translateZ(30px); }
                .face:nth-child(4) { transform: rotateY(-90deg) translateZ(30px); }
                .face:nth-child(5) { transform: rotateX(90deg) translateZ(30px); }
                .face:nth-child(6) { transform: rotateX(-90deg) translateZ(30px); }
            `}),p.jsx("div",{className:`dice-wrap ${t?"spinning":""} transition-all duration-500`,children:[1,2,3,4,8,6].map((n,o)=>p.jsx("div",{className:"face",children:t?"?":o===0?e:n},o))})]}),AD=()=>{const[e,t]=b.useState(0),[n,o]=b.useState(!1);return b.useEffect(()=>((()=>{o(!0),Bf(i=>t(i))})(),()=>{Fl(),o(!1)}),[]),p.jsx("div",{className:"absolute top-0 left-0 right-0 h-40 pointer-events-none flex items-center justify-center overflow-hidden opacity-40 z-0",children:p.jsx("div",{className:"relative w-full h-full flex items-center justify-center gap-1.5 px-4",children:Array.from({length:96}).map((r,i)=>{const s=i/96,a=Math.sin(s*Math.PI);return p.jsx("div",{className:`w-1 rounded-full transition-all duration-75 ${e>.05?"bg-teal-400 shadow-[0_0_10px_#2dd4bf]":"bg-slate-500/20"}`,style:{height:`${Math.max(4,e*200*a+Math.random()*10*a)}px`}},i)})})})},PD=({reviewer:e,actor:t,onSubmit:n,hasHighEnergyBonus:o})=>{const[r,i]=b.useState(0);return p.jsx(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md",children:p.jsxs("div",{className:"bg-slate-800 p-8 rounded-3xl border border-slate-700 shadow-2xl max-w-md w-full text-center",children:[p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-slate-500 relative",children:e.avatar.startsWith("data:")?p.jsx("img",{src:e.avatar,className:"w-full h-full object-cover"}):p.jsx("div",{className:"bg-slate-700 w-full h-full flex items-center justify-center font-bold text-2xl",children:e.name[0]})})}),p.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:""}),p.jsxs("p",{className:"text-slate-400 mb-6",children:[p.jsx("strong",{children:e.name})," ",p.jsx("strong",{children:t.name})," "]}),o&&p.jsx("div",{className:"mb-6 p-3 bg-red-500/20 border border-red-500/50 rounded-xl animate-pulse",children:p.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 font-bold",children:[p.jsx(rf,{fill:"currentColor",size:20})," "]})}),p.jsx("div",{className:"flex justify-center gap-2 mb-8",children:[1,2,3,4,5].map(s=>p.jsx("button",{onClick:()=>i(s),className:"transition transform hover:scale-110",children:p.jsx(of,{size:40,fill:s<=r?"#fbbf24":"none",stroke:s<=r?"#fbbf24":"#475569"})},s))}),p.jsxs("div",{className:"text-xl font-bold text-yellow-500 mb-8",children:[r,"  - ",r===5?"":r>=3?"":r>0?"":""]}),p.jsx("button",{onClick:()=>n(r),className:"w-full py-4 bg-gradient-to-r from-teal-500 to-blue-600 rounded-xl font-bold text-white text-lg shadow-lg",children:""})]})})},gg=({data:e,onNext:t})=>p.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:p.jsxs(ae.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-slate-700 p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-32 bg-gradient-to-b from-teal-500/20 to-transparent pointer-events-none"}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"w-20 h-20 mx-auto rounded-full border-4 border-slate-700 shadow-xl overflow-hidden mb-4 bg-slate-800",children:e.player.avatar.startsWith("data:")?p.jsx("img",{src:e.player.avatar,className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-3xl text-white",children:e.player.name[0]})}),p.jsxs("h3",{className:"text-xl font-bold text-slate-400 mb-1",children:[e.player.name," "]}),p.jsxs("div",{className:"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-blue-500 mb-6 drop-shadow-sm",children:["+",e.score]}),p.jsx("div",{className:"space-y-2 mb-8 bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:e.breakdown.map((n,o)=>p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsx("span",{className:"text-slate-400",children:n.label}),p.jsx("span",{className:`font-bold ${n.color||"text-white"}`,children:n.value})]},o))}),p.jsx("button",{onClick:t,className:"w-full py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-bold transition-all border border-slate-600 hover:border-slate-500",children:""})]})]})}),RD=e=>{let t=[],n=0;const o=()=>{const r=Math.random();return r<.5?"NORMAL":r<.7?"DOUBLE":r<.8?"HALF":r<.9?"CLONE":"TRANSFER"};if(e===xe.JUNG_8){const r=["Te","Ti","Fe","Fi","Se","Si","Ne","Ni"];let s=[];r.forEach(l=>{for(let u=0;u<7;u++)s.push(l)});for(let l=0;l<4;l++)s.push("?");for(let l=s.length-1;l>0;l--){const u=Math.floor(Math.random()*(l+1));[s[l],s[u]]=[s[u],s[l]]}const a=["FREEDOM","SUBSTITUTE","COMPANION","FREEDOM"];for(let l=-4;l<=4;l++){const u=Math.max(-4,-l-4),d=Math.min(4,-l+4);for(let h=u;h<=d;h++){const m=l===0&&h===0;let g=m?"Hub":s.pop()||"Te",S="NORMAL",T="NONE";g==="?"?m?T="FREEDOM":T=a.pop()||"FREEDOM":S=o(),t.push({index:n++,functionId:g,modifier:S,specialAbility:T,q:l,r:h})}}}else{const r=[{id:"NF",types:Qt[" (NF)"].types,coords:[{q:0,r:0},{q:1,r:0},{q:2,r:0},{q:0,r:1},{q:0,r:2},{q:0,r:3},{q:1,r:3},{q:2,r:3}]},{id:"NT",types:Qt[" (NT)"].types,coords:[{q:6,r:0},{q:5,r:0},{q:4,r:0},{q:6,r:1},{q:6,r:2},{q:3,r:0},{q:3,r:1},{q:3,r:2}]},{id:"SP",types:Qt[" (SP)"].types,coords:[{q:6,r:6},{q:5,r:6},{q:4,r:6},{q:6,r:5},{q:6,r:4},{q:6,r:3},{q:5,r:3},{q:4,r:3}]},{id:"SJ",types:Qt[" (SJ)"].types,coords:[{q:0,r:6},{q:1,r:6},{q:2,r:6},{q:0,r:5},{q:0,r:4},{q:3,r:6},{q:3,r:5},{q:3,r:4}]}];t.push({index:n++,functionId:"Hub",characterName:Ui.Hub,q:3,r:3,zone:"Hub",modifier:"NORMAL",specialAbility:"FREEDOM"}),r.forEach(i=>{let s=[];i.types.forEach(a=>{s.push(a),s.push(a)});for(let a=s.length-1;a>0;a--){const l=Math.floor(Math.random()*(a+1));[s[a],s[l]]=[s[l],s[a]]}i.coords.forEach((a,l)=>{const u=s[l]||"INTJ",d=Ui[u];t.push({index:n++,functionId:u,characterName:d,q:a.q,r:a.r,zone:i.id,modifier:o(),specialAbility:"NONE"})})})}return t},MD=(e,t,n)=>{if(n===xe.JUNG_8){const o=Co[e.mbti];if(!o)return 1;const r=o.indexOf(t);return r===-1||r<=1?1:r===2?1.2:r===3?1.5:1.3}if(n===xe.MBTI_16){if(t==="Hub")return 1;let o=0;if(e.mbti&&t&&t.length===4)for(let r=0;r<4;r++)e.mbti[r]!==t[r]&&o++;return o<=1?1:o<=3?1.2:1.5}return 1};function DD(){var Xf;const[e,t]=b.useState([]),[n,o]=b.useState([]),[r,i]=b.useState(!1),[s,a]=b.useState(!0),[l,u]=b.useState({players:[],currentPlayerIndex:0,gameMode:xe.JUNG_8,turn:1,targetScore:40,logs:[],phase:"HUB",subPhase:"IDLE",currentTile:null,selectedTask:null,activeModifier:"NORMAL",activeSpecialAbility:"NONE",remainingSteps:0,sightRange:1,helperId:null,scoreTargetPlayerId:null,sharedHelpUsedCount:0,hasReselected:!1,pregeneratedTasks:null,movementState:"IDLE",diceValue:null,highestScore:0,snapshots:[],startTime:Date.now(),peerReviewQueue:[],currentReviewerId:null,accumulatedRating:0,validReviewCount:0}),[d,h]=b.useState(!1),[m,g]=b.useState(!1),[S,T]=b.useState(0),[w,v]=b.useState(null),[y,x]=b.useState(0),[E,k]=b.useState(!1),[C,I]=b.useState(!1),[_,A]=b.useState(""),[M,L]=b.useState(!1),[ne,O]=b.useState(null),[j,le]=b.useState(0),[se,X]=b.useState(!1),[D,G]=b.useState(!1),[$,te]=b.useState(!1),[Q,me]=b.useState(null),Re=b.useRef(null),bt=b.useRef(null),[Ne,wt]=b.useState(null),[ao,$o]=b.useState([]),[At,ln]=b.useState(!1),[W,Z]=b.useState([]),[de,pe]=b.useState("");b.useEffect(()=>{const N=()=>{const R=window.innerWidth<1024;h(R),R&&i(!0)};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),b.useEffect(()=>{if(!d||l.phase!=="PLAYING"||l.movementState!=="IDLE"||l.remainingSteps===0)return;const N=l.players[l.currentPlayerIndex];if(N&&!N.isBot&&n.length===1){const R=setTimeout(()=>{vn(n[0])},800);return()=>clearTimeout(R)}},[d,n,l.phase,l.movementState,l.remainingSteps]),b.useEffect(()=>{const R=new URLSearchParams(window.location.search).get("share_data");if(R)try{const P=P1.decompressFromEncodedURIComponent(R);if(P){const U=JSON.parse(P);O(U)}}catch(P){console.error("Failed to parse shared data",P)}},[]);const we=b.useRef(null);b.useEffect(()=>{we.current=new Audio("https://raw.githubusercontent.com/muhammederdem/mini-player/master/mp3/5.mp3"),we.current.loop=!0,we.current.volume=.15},[]),b.useEffect(()=>{we.current&&(m?we.current.volume=M?.02:.2:we.current.pause())},[M,m]),b.useEffect(()=>{we.current&&(m?we.current.play().catch(N=>console.log("Audio autoplay blocked until interaction")):we.current.pause())},[m]),b.useEffect(()=>{const N=document.documentElement;s?N.classList.add("dark"):N.classList.remove("dark")},[s]);const uo=()=>a(!s);b.useEffect(()=>{if(l.phase!=="PLAYING")return;const N=l.players[l.currentPlayerIndex];if(!N||!N.isBot)return;let R;return l.subPhase==="IDLE"&&l.movementState==="IDLE"&&l.remainingSteps===0&&N.isBot&&(R=setTimeout(()=>yn(),1500)),l.movementState==="IDLE"&&l.remainingSteps>0&&n.length>0&&N.isBot&&(R=setTimeout(()=>{const P=n[Math.floor(Math.random()*n.length)];vn(P)},1500)),l.subPhase==="SELECTING_CARD"&&(R=setTimeout(()=>{const P=["standard","truth","dare","deep"],U=P[Math.floor(Math.random()*P.length)];Hf(U)},2e3)),l.subPhase==="VIEWING_TASK"&&(R=setTimeout(()=>{qf(),setTimeout(()=>{Jf()},3e3)},2e3)),["SELECTING_SCORE_TARGET","SELECTING_SUBSTITUTE","SELECTING_COMPANION","CHOOSING_HELPER"].includes(l.subPhase)&&(R=setTimeout(()=>{const P=l.players.filter(J=>J.id!==N.id),U=P[Math.floor(Math.random()*P.length)];U&&(l.subPhase==="SELECTING_SCORE_TARGET"?Wf(U.id):l.subPhase==="SELECTING_SUBSTITUTE"?Of(U.id):l.subPhase==="SELECTING_COMPANION"?$f(U.id):l.subPhase==="CHOOSING_HELPER"&&jf(U.id))},2e3)),()=>clearTimeout(R)},[l.phase,l.subPhase,l.movementState,l.remainingSteps,l.currentPlayerIndex,n,D]),b.useEffect(()=>{if(l.subPhase==="PEER_REVIEW"&&l.currentReviewerId){const N=l.players.find(R=>R.id===l.currentReviewerId);if(N&&N.isBot){const R=setTimeout(()=>{da(Math.random()>.3?5:4)},1500);return()=>clearTimeout(R)}}},[l.subPhase,l.currentReviewerId]);const co=(N,R)=>{if(R<=0)return[N.position];let P=[N.position],U={[N.position]:N.previousPosition};for(let J=0;J<R;J++){let K=new Set;for(const H of P){const ee={...N,position:H,previousPosition:U[H]??null};fo(ee,e).forEach(B=>{K.add(B),U[B]===void 0&&(U[B]=H)})}if(P=Array.from(K),P.length===0)break}return P},fo=(N,R)=>{const P=R.find(B=>B.index===N.position);if(!P)return[];let U=[];l.gameMode===xe.JUNG_8?U=yE(P,R):U=gE(P,R);const J=U.filter(B=>B.index!==N.previousPosition);if(l.movementState==="TELEPORTING")return R.filter(B=>B.functionId!=="Hub").map(B=>B.index);if(l.gameMode===xe.MBTI_16)return J.map(B=>B.index);const K=Co[N.mbti]||[];let H="?",ee=N.stackIndex+1;for(let B=0;B<K.length;B++){const Fe=(ee+B)%K.length,mt=K[Fe];if(J.some(st=>st.functionId===mt)){H=mt;break}}return J.filter(B=>B.functionId===H||B.functionId==="?").map(B=>B.index)};b.useEffect(()=>{if(l.phase!=="PLAYING")return;const N=l.players[l.currentPlayerIndex];if(N)if(l.movementState==="IDLE"&&l.remainingSteps>0){const R=fo(N,e);o(R)}else if(l.movementState==="TELEPORTING"){const R=e.filter(P=>P.index!==N.position).map(P=>P.index);o(R)}else l.remainingSteps===0&&l.movementState==="IDLE"&&o([])},[l.remainingSteps,l.movementState,l.currentPlayerIndex,l.players]);const Ze=(N,R="system",P,U)=>{const J={id:Date.now().toString()+Math.random(),text:N,type:R,author:P,timestamp:Date.now(),taskDetails:U};if(u(K=>({...K,logs:[...K.logs,J]})),P&&P!=="system"){const K=l.players.find(H=>H.name===P);K&&K.isBot&&ND(N,P)}},z=N=>{u(R=>({...R,snapshots:[...R.snapshots,N]}))},re=(N,R,P,U)=>{u(H=>({...H,phase:"LOADING"}));let J=0;const K=setInterval(()=>{J+=1,x(J),J>=100&&(clearInterval(K),k(!0))},50);window.pendingGameConfig={humanPlayers:N,mode:R,botCount:P,targetScore:U}},ge=()=>{const N=window.pendingGameConfig;an(N.humanPlayers,N.mode,N.botCount,N.targetScore)},an=(N,R,P,U)=>{we.current&&we.current.play().catch(B=>console.log("Audio play blocked:",B));const J=RD(R);t(J);const K=R===xe.MBTI_16?3:0,H=R===xe.MBTI_16?3:0,ee=J.find(B=>B.q===K&&B.r===H),ve=N.map((B,Fe)=>{let mt=(ee==null?void 0:ee.index)||0;if(R===xe.MBTI_16){const st=J.filter(Ht=>Ht.functionId===B.mbti);st.length>0&&(mt=st[Math.floor(Math.random()*st.length)].index)}else if(R===xe.JUNG_8){const st=Co[B.mbti];if(st&&st.length>0){const Ht=st[0],Oe=J.filter(po=>po.functionId===Ht);Oe.length>0&&(mt=Oe[Math.floor(Math.random()*Oe.length)].index)}}return{id:`user-${Fe}`,name:B.name||`P${Fe+1}`,mbti:B.mbti,isBot:!1,avatar:B.avatarImage||"user",color:As[Fe%As.length],trustScore:0,insightScore:0,expressionScore:0,totalRatingGiven:0,position:mt,previousPosition:null,stackIndex:0,skipUsedCount:0,behaviorStats:{truth:0,dare:0,deep:0,standard:0,totalMultiplier:0,highEnergyCount:0,interactions:{}}}});for(let B=0;B<P;B++){const Fe=_D(),mt=mE[Fe]||[`Bot ${B}`];let st=(ee==null?void 0:ee.index)||0;if(R===xe.MBTI_16){const Ht=J.filter(Oe=>Oe.functionId===Fe);Ht.length>0&&(st=Ht[Math.floor(Math.random()*Ht.length)].index)}ve.push({id:`bot-${B}`,name:mt[0],mbti:Fe,isBot:!0,avatar:"bot",color:As[ve.length%As.length],trustScore:0,insightScore:0,expressionScore:0,totalRatingGiven:0,position:st,previousPosition:null,stackIndex:0,skipUsedCount:0,behaviorStats:{truth:0,dare:0,deep:0,standard:0,totalMultiplier:0,highEnergyCount:0,interactions:{}}})}u(B=>({...B,players:ve,gameMode:R,targetScore:U,phase:"PLAYING",subPhase:"IDLE",logs:[{id:"0",text:"",type:"system",timestamp:Date.now()}],sightRange:1})),g(!0),we.current&&(we.current.volume=.2,we.current.play().catch(B=>console.warn("Autoplay prevented:",B)))},Pt=N=>{N==="test"?(te(!0),u(R=>({...R,phase:"ONBOARDING"}))):N==="tasks"?(te(!1),u(R=>({...R,phase:"SOLO_TASKS"}))):(te(!1),u(R=>({...R,phase:"ONBOARDING"})))},yn=N=>{const R=l.players[l.currentPlayerIndex];u(P=>({...P,movementState:"ROLLING"})),setTimeout(()=>{const P=N||Math.floor(Math.random()*8)+1,U=Math.random()>.5?2:1;u(J=>{const K={...J,diceValue:P,remainingSteps:P,sightRange:U,movementState:"IDLE",activeModifier:"NORMAL",activeSpecialAbility:"NONE",helperId:null,scoreTargetPlayerId:null,pregeneratedTasks:{}},H=co(R,P);return D1(H,J.players,J.logs),K}),X(!1),Ze(`${R.name}  ${P}  (: ${U})`,"action")},1e3)},vn=N=>{if(!n.includes(N))return;const R=l.players[l.currentPlayerIndex],P=e.find(H=>H.index===N);if(!P)return;const U=Co[R.mbti]||[];let J=R.stackIndex;if(l.gameMode===xe.JUNG_8&&P.functionId!=="?")for(let H=1;H<U.length;H++){const ee=(R.stackIndex+H)%U.length;if(U[ee]===P.functionId){J=ee;break}}const K=l.movementState==="TELEPORTING";u(H=>{const ee=[...H.players],ve=ee[H.currentPlayerIndex];ve.previousPosition=ve.position,ve.position=N,ve.stackIndex=J;const B=K?0:H.remainingSteps-1;return{...H,players:ee,currentTile:P,remainingSteps:B,movementState:"MOVING_STEP",activeModifier:P.modifier,activeSpecialAbility:P.specialAbility}}),o([]),setTimeout(()=>{K||l.remainingSteps===1?L1(P,K):u(H=>({...H,movementState:"IDLE"}))},600)},D1=async(N,R,P)=>{const U=R[l.currentPlayerIndex];if(!U)return;const J=Array.from(new Set(N.map(K=>{var H;return(H=e.find(ee=>ee.index===K))==null?void 0:H.functionId}).filter(Boolean)));if(J.length!==0)try{const K=await _x(J,R,U,P);u(H=>{const ee={...H.pregeneratedTasks||{}};return N.forEach(ve=>{var Fe;const B=(Fe=e.find(mt=>mt.index===ve))==null?void 0:Fe.functionId;B&&K[B]&&(ee[ve.toString()]=K[B])}),{...H,pregeneratedTasks:ee}})}catch(K){console.warn("Batch prefetch failed:",K)}},L1=(N,R)=>{var J;const P=l.players[l.currentPlayerIndex],U=N.index.toString();if(u(K=>({...K,movementState:"IDLE"})),!R&&N.specialAbility!=="NONE"&&N.functionId==="?"){zf(N.specialAbility);return}if(l.gameMode===xe.MBTI_16&&N.functionId==="Hub"&&!R){zf("FREEDOM");return}(J=l.pregeneratedTasks)!=null&&J[U]?u(K=>({...K,subPhase:"SELECTING_CARD",selectedTask:null,hasReselected:!1})):(gc(N.functionId,l.players,P,l.logs).then(K=>{u(H=>({...H,pregeneratedTasks:{...H.pregeneratedTasks||{},[U]:K}}))}),u(K=>({...K,subPhase:"SELECTING_CARD",selectedTask:null,hasReselected:!1}))),Ze(` ${N.characterName||N.functionId}...`,"system")},zf=N=>{const R=l.players[l.currentPlayerIndex];if(N==="FREEDOM"){u(P=>({...P,movementState:"TELEPORTING"})),Ze(`${R.name} `,"action");return}if(N==="SUBSTITUTE"){u(P=>({...P,subPhase:"SELECTING_SUBSTITUTE"})),Ze(`${R.name} ...`,"action");return}if(N==="COMPANION"){u(P=>({...P,subPhase:"SELECTING_COMPANION"})),Ze(`${R.name} ...`,"action");return}u(P=>({...P,subPhase:"SELECTING_CARD"}))},Of=N=>{u(R=>({...R,helperId:N,subPhase:"IDLE",movementState:"TELEPORTING"})),Ze("","system")},$f=N=>{u(R=>({...R,helperId:N,subPhase:"IDLE",movementState:"TELEPORTING"})),Ze("","system")},ca=async N=>{if(!l.players[l.currentPlayerIndex].isBot){Ne&&Ne.getTracks().forEach(P=>P.stop());try{const P={video:{width:480,height:360,deviceId:N?{exact:N}:void 0}},U=await navigator.mediaDevices.getUserMedia(P);wt(U),ln(!0);const K=(await navigator.mediaDevices.enumerateDevices()).filter(H=>H.kind==="videoinput");if(Z(K),!N&&K.length>0){const ee=U.getVideoTracks()[0].getSettings();ee.deviceId&&pe(ee.deviceId)}}catch(P){console.warn("Camera access denied or unavailable",P),ln(!1)}}},F1=async()=>{if(W.length<=1)return;const R=(W.findIndex(U=>U.deviceId===de)+1)%W.length,P=W[R];pe(P.deviceId),await ca(P.deviceId)},Hf=N=>{var J,K;const R=((J=l.currentTile)==null?void 0:J.index.toString())||"",P=(K=l.pregeneratedTasks)==null?void 0:K[R],U=P?P[N]:null;if(U)u(H=>({...H,subPhase:"VIEWING_TASK",selectedTask:U})),ca();else{u(ee=>({...ee,subPhase:"VIEWING_TASK",selectedTask:null}));const H=l.currentTile;H&&gc(H.functionId,l.players,l.players[l.currentPlayerIndex],l.logs).then(ee=>{u(ve=>({...ve,selectedTask:ee[N],pregeneratedTasks:{...ve.pregeneratedTasks||{},[H.index.toString()]:ee}})),ca()})}},U1=()=>{var H,ee,ve;const N=((H=l.currentTile)==null?void 0:H.index.toString())||"",R=(ee=l.pregeneratedTasks)==null?void 0:ee[N];if(l.hasReselected||!R)return;const P=["standard","truth","dare","deep"],U=(ve=l.selectedTask)==null?void 0:ve.category,J=P.filter(B=>B!==U),K=J[Math.floor(Math.random()*J.length)];u(B=>({...B,hasReselected:!0,selectedTask:R[K]}))},V1=()=>{l.players[l.currentPlayerIndex],u(N=>{const R=[...N.players];return R[N.currentPlayerIndex].skipUsedCount+=1,{...N,players:R,subPhase:"IDLE"}}),fa()},G1=()=>{if(l.sharedHelpUsedCount>=3){alert("");return}u(N=>({...N,subPhase:"CHOOSING_HELPER"}))},jf=N=>{u(R=>{const P=[...R.players],U=P[R.currentPlayerIndex],J=U.behaviorStats.interactions[N]||0;return U.behaviorStats.interactions={...U.behaviorStats.interactions,[N]:J+1},{...R,players:P,helperId:N,sharedHelpUsedCount:R.sharedHelpUsedCount+1,subPhase:"VIEWING_TASK"}})},qf=async()=>{if(!l.selectedTask)return;const N=l.players[l.currentPlayerIndex];A(""),X(!1),$o([]),N.isBot||Gf()&&(R1(P=>A(U=>U+" "+P),()=>L(!1)),L(!0),Bf(P=>{le(P),P>.4&&X(!0)})),u(P=>({...P,subPhase:"TASK_EXECUTION"})),T(l.selectedTask.durationSeconds);const R=setInterval(()=>{T(P=>P<=1?(clearInterval(R),0):P-1)},1e3)};b.useEffect(()=>{if(l.subPhase!=="TASK_EXECUTION"||!At||!Ne||!l.selectedTask)return;const N=l.selectedTask;if(!(N.category==="dare"||/|||||/.test(N.description+N.title)))return;const P=N.durationSeconds,U=[Math.floor(P*.5),Math.floor(P*.1)],J=setInterval(async()=>{if(U.includes(S)&&Re.current&&bt.current){const K=Re.current,H=bt.current,ee=H.getContext("2d");if(ee){H.width=K.videoWidth,H.height=K.videoHeight,ee.drawImage(K,0,0,H.width,H.height);const ve=H.toDataURL("image/jpeg",.6);Ix(ve,N.title).then(B=>{$o(Fe=>[...Fe,B]),Ze(`[AI ]: ${B}`,"system")})}}},1e3);return()=>clearInterval(J)},[l.subPhase,S,At,Ne,l.selectedTask]),b.useEffect(()=>{Ne&&Re.current&&(Re.current.srcObject=Ne)},[Ne,l.subPhase]),b.useEffect(()=>{(l.subPhase==="IDLE"||l.subPhase==="SELECTING_CARD")&&(Ne&&(Ne.getTracks().forEach(N=>N.stop()),wt(null),ln(!1)),M&&(Kc(),Fl(),L(!1)))},[l.subPhase]);const Jf=()=>{var K,H;M&&(Kc(),Fl(),L(!1)),Ne&&(Ne.getTracks().forEach(ee=>ee.stop()),wt(null),ln(!1));const N=l.players[l.currentPlayerIndex],R=`: ${((K=l.selectedTask)==null?void 0:K.title)||""}`,P=_.trim()?`: "${_.trim()}"`:N.isBot?"Bot ":"",U=ao.length>0?`| : ${ao.join("; ")}`:"";Ze(`${N.name} `,"action",N.name,`${R}${P} ${U}`),z(`${N.name}[${(H=l.selectedTask)==null?void 0:H.category}]${P} ${U}`);const J=l.players.filter(ee=>ee.id!==l.players[l.currentPlayerIndex].id);if(J.length===0){da(5);return}u(ee=>({...ee,subPhase:"PEER_REVIEW",peerReviewQueue:J.map(ve=>ve.id),currentReviewerId:J[0].id,accumulatedRating:0,validReviewCount:0}))},da=N=>{const R=l.currentReviewerId;if(R&&u(P=>{const U=[...P.players],J=U.findIndex(K=>K.id===R);return J!==-1&&N>0&&(U[J]={...U[J],totalRatingGiven:(U[J].totalRatingGiven||0)+N}),{...P,players:U}}),!(R&&l.peerReviewQueue.length>0&&(u(P=>{const U=P.peerReviewQueue.filter(ee=>ee!==R),J=U.length>0?U[0]:null,K=N>0?P.accumulatedRating+N:P.accumulatedRating,H=N>0?(P.validReviewCount||0)+1:P.validReviewCount||0;return J?{...P,accumulatedRating:K,validReviewCount:H,peerReviewQueue:U,currentReviewerId:J}:{...P,accumulatedRating:K,validReviewCount:H,peerReviewQueue:[],currentReviewerId:null}}),l.peerReviewQueue.length>1))){if(l.activeModifier==="CLONE"||l.activeModifier==="TRANSFER"){u(P=>({...P,subPhase:"SELECTING_SCORE_TARGET"}));return}Kf(N)}},Wf=N=>{u(R=>({...R,scoreTargetPlayerId:N})),Kf(-1,N)},Kf=(N,R)=>{var Ht;const P=l.players[l.currentPlayerIndex],U=l.selectedTask;if(!U)return;Math.max(1,l.players.length-1);const J=N>0,K=J?l.accumulatedRating+N:l.accumulatedRating,H=J?(l.validReviewCount||0)+1:l.validReviewCount||0,ve=H===0?0:K/(H===0?1:H);let B=Math.ceil(ve*U.multiplier*2);const Fe=[];Fe.push({label:"",value:`${B} (Rating ${ve.toFixed(1)})`});const mt=MD(P,((Ht=l.currentTile)==null?void 0:Ht.functionId)||"",l.gameMode);mt>1&&(B=Math.ceil(B*mt),Fe.push({label:"",value:`x${mt}`,color:"text-yellow-400"}));const st=l.activeModifier;l.activeSpecialAbility,st==="DOUBLE"&&(B*=2,Fe.push({label:"",value:"x2",color:"text-purple-400"})),st==="HALF"&&(B=Math.floor(B/2),Fe.push({label:"",value:"/2",color:"text-red-400"})),se&&(B+=5,Fe.push({label:"",value:"+5",color:"text-red-500"}),P.behaviorStats.highEnergyCount++),u(Oe=>{let po=Oe.players.map(Ln=>({...Ln}));const Ho=po[Oe.currentPlayerIndex],ma=Oe.activeModifier,ga=Oe.activeSpecialAbility,Dn=(Ln,ho)=>{const Qf=po.findIndex(Or=>Or.id===Ln);if(Qf!==-1){const Or=po[Qf];U.scoreType==="trust"?Or.trustScore+=ho:U.scoreType==="insight"?Or.insightScore+=ho:Or.expressionScore+=ho}},ts=R||Oe.scoreTargetPlayerId;if(ga==="SUBSTITUTE"&&Oe.helperId)Dn(Oe.helperId,B);else if(ga==="COMPANION"&&Oe.helperId)Dn(Ho.id,B),Dn(Oe.helperId,B);else if(Oe.helperId&&ga==="NONE"&&ma==="NORMAL"){const Ln=Math.ceil(B/2),ho=Math.floor(B/2);Dn(Ho.id,ho),Dn(Oe.helperId,Ln)}else ma==="TRANSFER"&&ts?Dn(ts,B):(Dn(Ho.id,B),ma==="CLONE"&&ts&&Dn(ts,B));if(U.category){const Ln=U.category,ho=Ho.behaviorStats[Ln]||0;Ho.behaviorStats[Ln]=ho+1,Ho.behaviorStats.totalMultiplier+=U.multiplier}return{...Oe,players:po}}),me({score:B,breakdown:Fe,player:P})},fa=()=>{u(N=>{const R=N.players[N.currentPlayerIndex];if(R.trustScore+R.insightScore+R.expressionScore>=N.targetScore)return Yf(N.players),N;const U=(N.currentPlayerIndex+1)%N.players.length;return{...N,currentPlayerIndex:U,subPhase:"IDLE",selectedTask:null,helperId:null,scoreTargetPlayerId:null,activeModifier:"NORMAL",activeSpecialAbility:"NONE",remainingSteps:0,turn:U===0?N.turn+1:N.turn,currentReviewerId:null,peerReviewQueue:[],accumulatedRating:0,validReviewCount:0}})},Yf=async N=>{u(P=>({...P,players:N,phase:"ANALYSIS"}));const R=await YA(N,l.snapshots,l.logs);v(R),we.current&&(we.current.pause(),we.current.currentTime=0),g(!1)},B1=async(N,R)=>{const P={id:"solo-player",name:N.name,mbti:N.mbti,isBot:!1,avatar:"user",trustScore:0,insightScore:0,expressionScore:0,totalRatingGiven:0,position:0,previousPosition:null,stackIndex:0,skipUsedCount:0,color:"teal",behaviorStats:{truth:0,dare:0,deep:0,standard:0,totalMultiplier:0,highEnergyCount:0,interactions:{}}};u(J=>({...J,players:[P],phase:"ANALYSIS",currentPlayerIndex:0,startTime:Date.now()}));const U=await XA(N,R);v(U)},z1=()=>{we.current&&(we.current.pause(),we.current.currentTime=0),g(!1)},pa=()=>{u(R=>({players:[],currentPlayerIndex:0,gameMode:xe.JUNG_8,turn:1,targetScore:40,logs:[],phase:"HUB",subPhase:"IDLE",currentTile:null,selectedTask:null,activeModifier:"NORMAL",activeSpecialAbility:"NONE",remainingSteps:0,sightRange:1,helperId:null,scoreTargetPlayerId:null,sharedHelpUsedCount:0,hasReselected:!1,pregeneratedTasks:null,movementState:"IDLE",diceValue:null,highestScore:0,snapshots:[],startTime:Date.now(),peerReviewQueue:[],currentReviewerId:null,accumulatedRating:0,validReviewCount:0})),x(0);const N=setInterval(()=>{x(R=>R>=100?(clearInterval(N),k(!0),100):R+2)},60);k(!1),t([]),o([]),v(null),O(null),te(!1),z1()};if(ne)return p.jsx(hg,{players:ne.players,report:ne.report,startTime:ne.startTime,gameMode:ne.gameMode,onReturnHome:()=>{window.history.pushState({},"",window.location.pathname),O(null)}});if(l.phase==="HUB")return p.jsxs("div",{className:`h-screen flex flex-col transition-colors duration-300 font-sans ${s?"dark bg-slate-900 text-white":"bg-stone-50 text-slate-800"} overflow-hidden`,children:[p.jsxs("header",{className:"h-16 flex items-center justify-between px-6 border-b border-slate-200 dark:border-white/5 shrink-0",children:[p.jsxs("div",{className:"flex items-center gap-2 font-black text-xl tracking-tighter italic",children:[p.jsx(Vx,{className:"text-blue-500"})," RAINBOW BOAT"]}),p.jsx("div",{className:"flex items-center gap-3",children:p.jsx("button",{onClick:uo,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition",children:s?p.jsx(xc,{size:18}):p.jsx(vc,{size:18})})})]}),p.jsx("main",{className:"flex-1 relative overflow-hidden",children:p.jsx(kD,{onSelectMode:Pt,onOpenConfig:()=>I(!0),isMobile:d})}),C&&p.jsx(Hc,{onClose:()=>I(!1)}),Q&&p.jsx(gg,{data:Q,onNext:()=>{me(null),fa()}})]});if(l.phase==="SOLO_TASKS")return p.jsx(ID,{onBack:()=>u(N=>({...N,phase:"HUB"})),isMobile:d,isDarkMode:s});if(l.phase==="ONBOARDING")return p.jsx(pD,{onComplete:re,isDarkMode:s,toggleTheme:uo,initialStep:$?"quiz":"setup",isSoloTest:$,onBackToHub:pa,onShowQuickReport:B1});if(l.phase==="LOADING"){const N=["...","...","...","...","..."],R=N[Math.floor(y/100*(N.length-1))];return p.jsx("div",{className:"min-h-screen w-full flex flex-col items-center justify-center text-slate-800 dark:text-white relative font-sans transition-colors duration-300",children:p.jsxs("div",{className:"z-10 flex flex-col items-center w-full max-w-4xl px-8 text-center bg-white/10 dark:bg-black/20 backdrop-blur-md rounded-3xl p-16 shadow-2xl border border-white/10",children:[p.jsx(ae.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-8xl font-bold tracking-tight mb-2 text-transparent bg-clip-text bg-[linear-gradient(to_right,#ef4444,#f97316,#eab308,#22c55e,#3b82f6,#a855f7)] drop-shadow-lg",children:""}),p.jsx(ae.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-xl font-bold text-teal-500/80 dark:text-teal-400/80 tracking-[0.3em] mb-12",children:""}),p.jsx(AD,{}),p.jsx("div",{className:"w-full h-4 bg-slate-700/50 rounded-full overflow-hidden mb-4 mt-8 relative z-20",children:p.jsx(ae.div,{className:"h-full bg-gradient-to-r from-teal-400 via-blue-500 to-purple-600",initial:{width:0},animate:{width:`${y}%`}})}),p.jsx("p",{className:"text-xs font-bold text-slate-500 animate-pulse tracking-widest uppercase",children:R}),E&&p.jsxs(ae.button,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},onClick:ge,style:{pointerEvents:y<100?"none":"auto"},className:`mt-12 px-16 py-6 rounded-full font-bold text-3xl shadow-2xl flex items-center gap-3 transition-all ${y<100?"bg-slate-700 text-slate-500 grayscale cursor-not-allowed":"bg-white text-slate-900 hover:scale-105 active:scale-95"}`,children:[p.jsx(T2,{size:32,fill:"currentColor"})," ",y<100?"":" "]})]})})}if(l.phase==="ANALYSIS"&&w)return p.jsx(hg,{players:l.players,report:w||{groupAnalysis:"",playerAnalysis:{}},onReturnHome:pa,startTime:l.startTime,gameMode:l.gameMode});const Ve=l.players[l.currentPlayerIndex];if(!Ve)return p.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:"Loading Game State..."});const ha=l.currentReviewerId?l.players.find(N=>N.id===l.currentReviewerId):null,O1=Co[Ve.mbti]||[];return p.jsxs("div",{className:`h-screen w-full text-slate-800 dark:text-slate-200 font-sans flex flex-col overflow-hidden relative selection:bg-teal-500/30 transition-colors duration-300 ${s?"dark bg-slate-900":"bg-stone-50"} ${d&&l.phase==="SETUP"?"overflow-y-auto":"overflow-hidden"}`,children:[p.jsxs("header",{className:`${d?"h-14 px-3":"h-16 px-6"} bg-white/80 dark:bg-slate-900/60 backdrop-blur border-b border-slate-200 dark:border-white/5 flex items-center justify-between shrink-0 z-30 transition-colors duration-300`,children:[p.jsxs("div",{className:`flex items-center gap-3 ${d?"w-auto":"w-1/3"}`,children:[p.jsx("button",{onClick:pa,className:"flex items-center gap-1 text-slate-500 hover:text-teal-600 dark:text-slate-400 dark:hover:text-white transition group",title:"Return to Home",children:p.jsx(y2,{size:d?14:16,className:"group-hover:-translate-x-1 transition"})}),p.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-800/50 pr-3 rounded-full border border-slate-200 dark:border-slate-700/50 overflow-hidden",children:[p.jsx("div",{className:`${d?"w-7 h-7":"w-10 h-10"} rounded-full border-2 border-teal-500/50 overflow-hidden shrink-0`,children:Ve.avatar.startsWith("data:")?p.jsx("img",{src:Ve.avatar,className:"w-full h-full object-cover"}):p.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 w-full h-full flex items-center justify-center font-bold text-xs",children:Ve.name[0]})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("div",{className:`font-black text-slate-700 dark:text-white ${d?"text-[10px]":"text-sm"} truncate`,children:Ve.name}),p.jsx("div",{className:"text-[8px] font-bold text-teal-600 dark:text-teal-400 truncate",children:Ve.mbti})]})]})]}),!d&&p.jsxs("div",{className:"flex-1 flex justify-center px-4 overflow-hidden",children:[l.gameMode===xe.JUNG_8&&p.jsx("div",{className:"flex items-center px-6 py-2 rounded-full bg-white/40 dark:bg-black/40 border border-slate-200 dark:border-white/5 backdrop-blur-md shadow-inner overflow-x-auto no-scrollbar max-w-xl",children:O1.map((N,R)=>{const P=R===Ve.stackIndex;return p.jsxs("div",{className:`flex flex-col items-center relative transition-all duration-500 ${P?"mx-3":"mx-1"}`,children:[P&&p.jsx("div",{className:"text-[9px] text-teal-600 dark:text-teal-400 font-bold mb-1 absolute -top-4",children:""}),p.jsx("div",{className:`w-8 h-8 flex items-center justify-center text-[10px] font-bold rounded-full transition-all duration-500 ${P?"bg-teal-500 text-white scale-125 shadow-[0_0_15px_#14b8a6]":"bg-slate-200 dark:bg-slate-800 text-slate-500"}`,children:N})]},R)})}),l.gameMode===xe.MBTI_16&&p.jsx("div",{className:"flex items-center px-6 py-2 rounded-full bg-white/40 dark:bg-black/40 border border-slate-200 dark:border-white/5 backdrop-blur-md shadow-inner overflow-x-auto no-scrollbar max-w-2xl",children:Sl.map((N,R)=>{var K;const P=((K=l.currentTile)==null?void 0:K.functionId)===N;let U="bg-slate-200 dark:bg-slate-800 text-slate-500";const J=Object.entries(Qt).find(([H,ee])=>ee.types.includes(N));if(J){const[H,ee]=J;P&&(ee.hexColor==="#a855f7"?U="bg-purple-500 text-white shadow-[0_0_15px_#a855f7] scale-110":ee.hexColor==="#22c55e"?U="bg-green-500 text-white shadow-[0_0_15px_#22c55e] scale-110":ee.hexColor==="#3b82f6"?U="bg-blue-500 text-white shadow-[0_0_15px_#3b82f6] scale-110":ee.hexColor==="#eab308"&&(U="bg-yellow-500 text-white shadow-[0_0_15px_#eab308] scale-110"))}return p.jsxs("div",{className:"flex flex-col items-center relative transition-all duration-500 mx-1 shrink-0",children:[P&&p.jsx("div",{className:"text-[9px] text-teal-600 dark:text-teal-400 font-bold mb-1 absolute -top-4",children:""}),p.jsx("div",{className:`px-2 py-1 flex items-center justify-center text-[10px] font-bold rounded-md transition-all duration-500 ${P?U:"bg-slate-200 dark:bg-slate-800 text-slate-500"}`,children:N})]},N)})})]}),p.jsxs("div",{className:`${d?"w-auto":"w-1/3"} flex items-center justify-end gap-1.5 md:gap-3`,children:[!d&&p.jsx("button",{onClick:()=>G(!D),className:`px-3 py-1 rounded-full text-xs font-bold border transition ${D?"bg-amber-500 text-white border-amber-600":"bg-slate-100 dark:bg-slate-800 text-slate-400 border-slate-300 dark:border-slate-700"}`,children:D?"":""}),p.jsxs("button",{onClick:()=>Yf(l.players),className:`${d?"p-2":"px-3 py-1.5"} rounded-lg bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/50 border border-red-200 dark:border-red-800/50 text-red-600 dark:text-red-300 transition flex items-center gap-1.5 text-xs font-bold`,children:[p.jsx(Mx,{size:14})," ",!d&&""]}),p.jsx("button",{onClick:uo,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 transition transform active:scale-90",children:s?p.jsx(xc,{size:d?16:18}):p.jsx(vc,{size:d?16:18})}),!d&&p.jsx("button",{onClick:()=>I(!0),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 hover:text-teal-600 dark:hover:text-teal-400 transition",children:p.jsx(nf,{size:18})}),p.jsx("button",{onClick:()=>g(!m),className:`p-2 rounded-full transition ${m?"text-teal-500":"text-slate-600 dark:text-slate-400"}`,children:p.jsx(S2,{size:d?16:18})})]})]}),p.jsxs("main",{className:"flex-1 flex relative overflow-hidden",children:[(l.phase==="PLAYING"||l.phase==="SETUP")&&p.jsxs("div",{className:"flex-1 flex relative overflow-hidden",children:[p.jsxs("div",{className:"flex-1 relative bg-transparent flex flex-col overflow-hidden",children:[p.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing",children:p.jsx(hD,{players:l.players,currentPlayerId:Ve.id,boardLayout:e,validMoves:n,onTileClick:vn,gameMode:l.gameMode,visibilityRadius:l.sightRange,isMobile:d,isDarkMode:s})}),p.jsx(Yt,{children:l.remainingSteps>0&&l.movementState!=="ROLLING"&&p.jsx(ae.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},className:"absolute inset-0 pointer-events-none flex items-center justify-center z-10",children:p.jsx("div",{className:"text-[10rem] font-bold text-slate-900/10 dark:text-white/20 drop-shadow-lg select-none",children:l.remainingSteps})})}),p.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center z-20",children:p.jsxs("div",{className:"relative w-full h-full max-w-4xl max-h-[800px]",children:[p.jsxs("div",{className:`absolute bottom-20 right-8 pointer-events-auto transition-all duration-300 ${l.gameMode===xe.MBTI_16?"translate-x-24":""}`,children:[D&&l.subPhase==="IDLE"&&l.remainingSteps===0&&p.jsxs("div",{className:"mb-6 p-4 bg-slate-800/80 rounded-2xl border border-amber-500/30 backdrop-blur shadow-xl",children:[p.jsx("h3",{className:"text-amber-400 font-bold mb-3 text-sm uppercase tracking-wider",children:""}),p.jsx("div",{className:"flex gap-2 justify-center",children:[1,2,3,4,5,6,7,8].map(N=>p.jsx("button",{onClick:()=>yn(N),className:"w-12 h-12 rounded-xl bg-slate-700 hover:bg-amber-500 text-white font-bold text-xl transition shadow-lg border border-slate-600",children:N},N))})]}),l.subPhase==="IDLE"&&!Ve.isBot&&l.remainingSteps===0&&p.jsxs("button",{onClick:()=>yn(),disabled:D||l.movementState!=="IDLE",className:`group relative w-24 h-24 rounded-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 flex items-center justify-center shadow-2xl transition hover:scale-105 active:scale-95 ${D?"opacity-50 cursor-not-allowed":""}`,children:[p.jsx("div",{className:"absolute inset-0 rounded-full border border-teal-500/30 animate-ping opacity-20"}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(a2,{className:"text-teal-500 group-hover:text-teal-600 dark:group-hover:text-white transition mb-1",size:28}),p.jsx("span",{className:"text-[10px] text-teal-600/80 dark:text-teal-500/80 font-bold uppercase tracking-widest",children:""})]})]}),l.movementState==="ROLLING"&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center -translate-y-12",children:p.jsx(bD,{value:l.diceValue,rolling:!0})})]}),p.jsx(Yt,{children:l.movementState==="IDLE"&&(l.activeModifier!=="NORMAL"||l.activeSpecialAbility!=="NONE")&&l.subPhase==="SELECTING_CARD"&&p.jsx(ae.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:2,opacity:0},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:p.jsxs("div",{className:"bg-white/90 dark:bg-black/80 backdrop-blur-md p-6 rounded-3xl border-2 border-amber-500 text-center shadow-[0_0_50px_rgba(245,158,11,0.5)] text-slate-800 dark:text-white",children:[p.jsxs("div",{className:"text-6xl mb-2",children:[l.activeModifier==="DOUBLE"&&" x2"," ",l.activeModifier==="HALF"&&" 2"," ",l.activeModifier==="CLONE"&&""," ",l.activeModifier==="TRANSFER"&&"",l.activeSpecialAbility==="FREEDOM"&&""," ",l.activeSpecialAbility==="SUBSTITUTE"&&""," ",l.activeSpecialAbility==="COMPANION"&&""]}),p.jsxs("div",{className:"text-2xl font-bold text-amber-500 dark:text-amber-400",children:[l.activeModifier==="DOUBLE"&&""," ",l.activeModifier==="HALF"&&""," ",l.activeModifier==="CLONE"&&""," ",l.activeModifier==="TRANSFER"&&"",l.activeSpecialAbility==="FREEDOM"&&""," ",l.activeSpecialAbility==="SUBSTITUTE"&&""," ",l.activeSpecialAbility==="COMPANION"&&""]})]})})}),p.jsx(Yt,{children:l.subPhase==="SELECTING_CARD"&&p.jsx(ae.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"absolute inset-0 flex items-center justify-center pointer-events-auto",children:p.jsx("div",{className:"grid grid-cols-2 gap-6 p-8 bg-white/90 dark:bg-slate-900/80 backdrop-blur-xl rounded-3xl border border-slate-200 dark:border-slate-700 shadow-2xl",children:["standard","truth","dare","deep"].map(N=>{var P,U;const R=Ao[N];return p.jsxs("button",{onClick:()=>Hf(N),className:`w-40 h-48 rounded-2xl flex flex-col items-center justify-center gap-4 transition-all hover:-translate-y-2 hover:shadow-xl border ${R.color} bg-opacity-20 hover:bg-opacity-30 group relative overflow-hidden`,children:[l.pregeneratedTasks&&((U=(P=l.pregeneratedTasks[Ve.position.toString()])==null?void 0:P[N])==null?void 0:U.source)==="ai"&&p.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-1 px-1.5 py-0.5 bg-teal-500/10 rounded-full text-[8px] font-black text-teal-600 dark:text-teal-400 border border-teal-500/20 animate-pulse",children:[p.jsx(Zt,{size:8,fill:"currentColor"})," AI"]}),p.jsx("div",{className:"text-5xl group-hover:scale-110 transition",children:R.icon}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:R.name}),p.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-white/60",children:["x",R.multiplier," "]})]})]},N)})})})})]})}),p.jsx(Yt,{children:(l.subPhase==="VIEWING_TASK"||l.subPhase==="TASK_EXECUTION")&&p.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md p-4 overflow-y-auto",children:p.jsxs("div",{className:`flex ${d?"flex-col":"flex-row"} gap-6 items-center w-full max-w-6xl justify-center`,children:[p.jsx("div",{className:"w-full max-w-lg bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-2xl overflow-hidden flex flex-col transition-all duration-300",children:l.selectedTask?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:`p-8 ${Ao[l.selectedTask.category].color} bg-opacity-20 text-center relative`,children:[p.jsx("div",{className:"text-5xl mb-3",children:Ao[l.selectedTask.category].icon}),p.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2 flex items-center justify-center gap-2",children:[l.selectedTask.title,l.selectedTask.source==="ai"&&p.jsx(Zt,{size:16,className:"text-teal-500 animate-pulse",fill:"currentColor"})]}),p.jsxs("div",{className:"flex justify-center gap-2",children:[p.jsxs("span",{className:"px-2 py-0.5 bg-black/10 dark:bg-black/20 rounded-full text-[10px] text-slate-600 dark:text-white/90",children:[" ",l.selectedTask.durationSeconds,"s"]}),p.jsxs("span",{className:"px-2 py-0.5 bg-black/10 dark:bg-black/20 rounded-full text-[10px] text-slate-600 dark:text-white/90",children:[" ",l.selectedTask.scoreType]}),l.selectedTask.source==="ai"&&p.jsx("span",{className:"px-2 py-0.5 bg-teal-500/20 rounded-full text-[10px] font-bold text-teal-600 dark:text-teal-400 border border-teal-500/30",children:"AI "})]}),p.jsx("button",{onClick:()=>u(N=>({...N,subPhase:"SELECTING_CARD"})),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-white/50 dark:hover:text-white",children:p.jsx(Yi,{size:18})})]}),p.jsxs("div",{className:"p-6 flex-1 flex flex-col min-h-0",children:[p.jsxs("p",{className:"text-md text-slate-600 dark:text-slate-300 leading-relaxed text-center mb-6 flex-shrink-0 italic",children:['"',l.selectedTask.description,'"']}),l.helperId&&p.jsxs("div",{className:"mb-4 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-500/30 p-2 rounded-lg flex items-center gap-3 justify-center text-indigo-700 dark:text-indigo-200 text-xs",children:[p.jsx(Tc,{size:14})," ",p.jsxs("span",{children:[": ",p.jsx("strong",{children:(Xf=l.players.find(N=>N.id===l.helperId))==null?void 0:Xf.name})]})]}),l.subPhase==="VIEWING_TASK"?p.jsxs("div",{className:"space-y-4 pt-2",children:[p.jsxs("button",{onClick:qf,className:"w-full py-4 bg-gradient-to-r from-teal-600 to-blue-600 hover:brightness-110 rounded-2xl font-bold text-white shadow-lg transition-all text-lg flex items-center justify-center gap-2 group",children:[" ",p.jsx(No,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsxs("button",{onClick:U1,disabled:l.hasReselected,className:"py-2.5 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 disabled:opacity-50 rounded-xl text-slate-500 dark:text-slate-300 text-[10px] font-bold flex flex-col items-center justify-center gap-1 transition-all",children:[p.jsx(Fx,{size:14})," "]}),p.jsxs("button",{onClick:G1,className:"py-2.5 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/50 dark:hover:bg-indigo-900 rounded-xl text-indigo-600 dark:text-indigo-300 text-[10px] font-bold flex flex-col items-center justify-center gap-1 border border-indigo-200 dark:border-indigo-500/30 transition-all",children:[p.jsx(Tc,{size:14}),"  (",3-l.sharedHelpUsedCount,")"]}),p.jsxs("button",{onClick:V1,className:"py-2.5 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 rounded-xl text-slate-500 dark:text-slate-400 text-[10px] font-bold flex flex-col items-center justify-center gap-1 transition-all",children:[p.jsx(k2,{size:14}),"  (-",Ve.skipUsedCount,")"]})]})]}):p.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[p.jsxs("div",{className:"flex-1 w-full bg-slate-50 dark:bg-black/20 rounded-2xl p-5 mb-4 border border-slate-200 dark:border-white/10 overflow-y-auto relative min-h-[200px]",children:[M&&p.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1.5 text-red-500 animate-pulse font-bold text-[10px] z-20",children:[p.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"})," "]}),p.jsx("textarea",{className:"w-full h-full bg-transparent resize-none outline-none text-slate-700 dark:text-slate-200 text-lg leading-relaxed placeholder:text-slate-400 font-medium",placeholder:M?"...":"...",value:_,onChange:N=>A(N.target.value)})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-slate-800 rounded-xl flex items-center justify-center overflow-hidden border-2 border-slate-200 dark:border-slate-700 h-16",children:[p.jsx("canvas",{ref:bt,className:"hidden"}),p.jsxs("span",{className:"text-3xl font-mono font-black text-slate-800 dark:text-white",children:[S,"s"]})]}),p.jsx("button",{onClick:()=>Jf(),className:"flex-[2] px-6 bg-teal-600 hover:bg-teal-500 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 text-md",children:""})]})]})]})]}):p.jsx("div",{className:"p-12 flex flex-col items-center justify-center space-y-4",children:p.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-teal-500 border-t-transparent animate-spin"})})}),At&&!d&&p.jsxs(ae.div,{initial:{x:30,opacity:0},animate:{x:0,opacity:1},className:"w-72 bg-slate-900 rounded-3xl border border-slate-700 shadow-2xl overflow-hidden flex flex-col h-[520px] relative",children:[p.jsxs("div",{className:"p-3 bg-slate-800 border-b border-slate-700 flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),p.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase tracking-widest",children:"AI Observation"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[W.length>1&&p.jsx("button",{onClick:F1,className:"p-1.5 hover:bg-slate-700 rounded-lg text-slate-400 hover:text-teal-400 transition",title:"",children:p.jsx(E2,{size:14})}),p.jsx(u2,{size:12,className:"text-teal-400"})]})]}),p.jsxs("div",{className:"flex-1 bg-black relative flex items-center justify-center overflow-hidden",children:[p.jsx("video",{ref:Re,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover",onLoadedMetadata:N=>N.currentTarget.play()}),p.jsxs("div",{className:"absolute inset-0 pointer-events-none border-[15px] border-transparent",children:[p.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t border-l border-teal-500/40"}),p.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t border-r border-teal-500/40"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b border-l border-teal-500/40"}),p.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b border-r border-teal-500/40"}),p.jsx(ae.div,{animate:{top:["5%","95%","5%"]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute left-2 right-2 h-px bg-teal-500/20 blur-[1px] z-10"})]})]}),p.jsxs("div",{className:"p-4 bg-slate-800/90 backdrop-blur-md",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(js,{size:16,className:"text-teal-400"}),p.jsx("h4",{className:"text-[10px] font-bold text-white uppercase tracking-wider",children:""})]}),p.jsx("p",{className:"text-[9px] text-slate-400 leading-relaxed italic",children:" AI "})]})]})]})})}),p.jsxs(Yt,{children:[l.subPhase==="PEER_REVIEW"&&ha&&p.jsx(PD,{reviewer:ha,actor:Ve,hasHighEnergyBonus:se,onSubmit:da},ha.id),l.subPhase==="TASK_EXECUTION"&&M&&p.jsxs("div",{className:"absolute top-24 right-6 flex flex-col items-center gap-2",children:[p.jsxs("div",{className:"w-4 h-32 bg-slate-800 rounded-full overflow-hidden border border-slate-600 relative",children:[p.jsx("div",{className:"absolute bottom-0 w-full transition-all duration-100 bg-gradient-to-t from-green-500 via-yellow-400 to-red-500",style:{height:`${Math.min(100,j*200)}%`}}),p.jsx("div",{className:"absolute bottom-[40%] w-full h-[2px] bg-white opacity-50"})]}),p.jsx(R2,{size:16,className:j>.4?"text-red-500 animate-bounce":"text-slate-500"}),se&&p.jsx(rf,{size:16,className:"text-yellow-400 fill-yellow-400 animate-pulse"})]})]}),p.jsx(Yt,{children:(l.subPhase==="SELECTING_SCORE_TARGET"||l.subPhase==="SELECTING_SUBSTITUTE"||l.subPhase==="SELECTING_COMPANION")&&p.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:p.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-6 rounded-2xl text-center border-2 border-amber-500/50 shadow-2xl",children:[p.jsxs("h3",{className:"font-bold text-amber-500 dark:text-amber-400 mb-2 text-xl",children:[l.subPhase==="SELECTING_SCORE_TARGET"&&(l.activeModifier==="CLONE"?" ":" "),l.subPhase==="SELECTING_SUBSTITUTE"&&" ",l.subPhase==="SELECTING_COMPANION"&&" "]}),p.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-60 overflow-y-auto mt-4",children:l.players.filter(N=>N.id!==Ve.id).map(N=>p.jsxs("button",{onClick:()=>{l.subPhase==="SELECTING_SCORE_TARGET"&&Wf(N.id),l.subPhase==="SELECTING_SUBSTITUTE"&&Of(N.id),l.subPhase==="SELECTING_COMPANION"&&$f(N.id)},className:"p-3 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-xl flex flex-col items-center gap-2 border border-transparent hover:border-amber-500 transition",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-300 dark:bg-slate-600 overflow-hidden",children:N.avatar.startsWith("data:")?p.jsx("img",{src:N.avatar,className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-slate-700 dark:text-white",children:N.name[0]})}),p.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:N.name})]},N.id))})]})})}),p.jsx(Yt,{children:l.subPhase==="CHOOSING_HELPER"&&p.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:p.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-slate-800 p-6 rounded-2xl text-center",children:[p.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-4",children:""}),p.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-60 overflow-y-auto",children:l.players.filter(N=>N.id!==Ve.id).map(N=>p.jsxs("button",{onClick:()=>jf(N.id),className:"p-3 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-xl flex flex-col items-center gap-2",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-300 dark:bg-slate-600 overflow-hidden",children:N.avatar.startsWith("data:")?p.jsx("img",{src:N.avatar,className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-slate-700 dark:text-white",children:N.name[0]})}),p.jsx("span",{className:"text-xs text-slate-800 dark:text-white",children:N.name})]},N.id))})]})})}),p.jsx("div",{className:`absolute ${d?"bottom-4 left-4 scale-75":"bottom-6 left-6"} z-40`,children:p.jsx("div",{className:`relative group ${d?"w-24 h-24":"w-32 h-32"}`,children:p.jsx("div",{className:"w-full h-full rounded-full overflow-hidden border-2 border-white dark:border-slate-700 shadow-xl bg-white dark:bg-black flex items-center justify-center",children:Ve.avatar.startsWith("data:")?p.jsx("img",{src:Ve.avatar,className:"w-full h-full object-cover"}):p.jsx("div",{className:"text-4xl font-bold text-slate-400 dark:text-slate-500",children:Ve.name[0]})})})}),d&&r&&p.jsxs("button",{onClick:()=>i(!1),className:"absolute bottom-6 right-6 z-[60] w-14 h-14 bg-teal-600 dark:bg-teal-500 text-white rounded-full flex items-center justify-center shadow-[0_8px_20px_rgba(20,184,166,0.3)] border-2 border-white dark:border-slate-800 transition-all active:scale-95 animate-in zoom-in-50 duration-300",children:[p.jsx(Dx,{size:24}),p.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white dark:border-slate-800"})]})]}),p.jsxs("div",{className:`bg-white/95 dark:bg-slate-900/90 backdrop-blur-xl border-slate-200 dark:border-white/5 flex flex-col transition-all duration-500 z-50 shadow-2xl ${d?`fixed bottom-0 left-0 right-0 border-t rounded-t-[3rem] h-[60vh] transform ${r?"translate-y-full":"translate-y-0"}`:r?"w-16 border-l shrink-0":"w-64 border-l shrink-0"}`,children:[p.jsxs("div",{className:`${d?"h-14":"h-16"} flex items-center justify-between px-8 border-b border-slate-100 dark:border-white/5 shrink-0`,children:[p.jsx("span",{className:`font-black text-slate-800 dark:text-white ${d?"text-sm":"text-xs"} uppercase tracking-[0.2em]`,children:""}),p.jsx("button",{onClick:()=>i(!0),className:"p-2 text-slate-400 hover:text-teal-600 dark:text-slate-500 dark:hover:text-teal-400 transition-colors",children:p.jsx(Px,{size:24,className:d?"rotate-90":""})})]}),r?p.jsx("div",{className:"flex flex-col items-center gap-4 py-4",children:l.players.map(N=>p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-[10px] border ${N.id===Ve.id?"border-teal-500 text-teal-500":"border-slate-300 dark:border-slate-700 text-slate-400"}`,children:N.name[0]},N.id))}):p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[p.jsx("div",{className:`overflow-y-auto custom-scrollbar p-3 transition-all duration-300 ${l.players.length>6?"space-y-1.5":"space-y-3"}`,style:{maxHeight:"55%"},children:[...l.players].sort((N,R)=>R.trustScore+R.insightScore+R.expressionScore-(N.trustScore+N.insightScore+N.expressionScore)).map(N=>{const R=N.trustScore+N.insightScore+N.expressionScore,P=l.players.length>6;return p.jsxs("div",{className:`rounded-xl border transition-all ${P?"p-2":"p-3"} ${N.id===Ve.id?"bg-slate-50 dark:bg-slate-800 border-teal-500/30 shadow-lg":"bg-transparent border-slate-100 dark:border-slate-800/50"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center font-bold text-slate-700 dark:text-white overflow-hidden ring-1 ring-slate-300 dark:ring-slate-600 ${P?"w-6 h-6 text-[9px]":"w-8 h-8 text-[10px]"}`,children:N.avatar.startsWith("data:")?p.jsx("img",{src:N.avatar,className:"w-full h-full object-cover"}):N.name[0]}),p.jsxs("div",{className:"leading-tight",children:[p.jsx("div",{className:`font-bold text-slate-700 dark:text-slate-200 ${P?"text-[10px]":"text-xs"}`,children:N.name}),p.jsx("div",{className:"text-[9px] text-slate-400 dark:text-slate-500",children:N.mbti})]})]}),p.jsx("div",{className:`font-bold text-amber-500 ${P?"text-xs":"text-sm"}`,children:R})]}),p.jsxs("div",{className:"flex gap-1 text-[9px] text-slate-500",children:[p.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-slate-900/40 rounded px-1.5 py-0.5 flex justify-between",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"text-blue-500 dark:text-blue-400",children:N.trustScore})]}),p.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-slate-900/40 rounded px-1.5 py-0.5 flex justify-between",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"text-purple-500 dark:text-purple-400",children:N.insightScore})]}),p.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-slate-900/40 rounded px-1.5 py-0.5 flex justify-between",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"text-orange-500 dark:text-orange-400",children:N.expressionScore})]})]})]},N.id)})}),p.jsx("div",{className:"flex-1 bg-slate-50/50 dark:bg-slate-950/50 border-t border-slate-200 dark:border-slate-800 p-3 overflow-y-auto custom-scrollbar text-[10px] space-y-1.5 min-h-[150px]",children:l.logs.slice(-30).map(N=>p.jsxs("div",{className:"text-slate-500 dark:text-slate-400 leading-snug mb-1.5 border-b border-slate-200 dark:border-slate-900/50 pb-1",children:[p.jsx("span",{className:"text-teal-600 dark:text-teal-500 font-bold mr-1",children:N.author||""}),N.text,N.taskDetails&&p.jsx("div",{className:"text-[9px] text-slate-400 dark:text-slate-600 mt-0.5 italic line-clamp-2",children:N.taskDetails})]},N.id))})]})]})]}),C&&p.jsx(Hc,{onClose:()=>I(!1)}),Q&&p.jsx(gg,{data:Q,onNext:()=>{me(null),fa()}})]})]})}const M1=document.getElementById("root");if(!M1)throw new Error("Could not find root element to mount to");const LD=uu.createRoot(M1);LD.render(p.jsx(Se.StrictMode,{children:p.jsx(DD,{})}));
